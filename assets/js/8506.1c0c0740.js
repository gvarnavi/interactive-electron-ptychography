/*! For license information please see 8506.1c0c0740.js.LICENSE.txt */
(self.webpackChunkinteractive_ptycho=self.webpackChunkinteractive_ptycho||[]).push([[8506],{32744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Cell:()=>sU,default:()=>iU});var s={};n.r(s),n.d(s,{BROKEN_FILE_SVG_ICON:()=>OM,DOMWidgetModel:()=>sT,DOMWidgetView:()=>lT,ErrorWidgetView:()=>vT,IJupyterWidgetRegistry:()=>mT,JUPYTER_WIDGETS_VERSION:()=>XM,JupyterLuminoPanelWidget:()=>aT,JupyterLuminoWidget:()=>rT,JupyterPhosphorWidget:()=>oT,LayoutModel:()=>uT,LayoutView:()=>hT,PROTOCOL_VERSION:()=>ZM,StyleModel:()=>dT,StyleView:()=>pT,ViewList:()=>gT,WidgetModel:()=>nT,WidgetView:()=>iT,assign:()=>bM,createErrorWidgetModel:()=>_T,createErrorWidgetView:()=>bT,difference:()=>_M,isEqual:()=>vM,isObject:()=>kM,isSerializable:()=>CM,pack_models:()=>tT,put_buffers:()=>SM,reject:()=>xM,remove_buffers:()=>EM,resolvePromisesDict:()=>wM,shims:()=>fT,unpack_models:()=>eT,uuid:()=>yM});var i={};n.r(i),n.d(i,{AccordionModel:()=>_A,AccordionView:()=>bA,AudioModel:()=>yD,AudioView:()=>wD,BaseIntSliderView:()=>mP,BoolModel:()=>NT,BoundedFloatModel:()=>MP,BoundedFloatTextModel:()=>NP,BoundedIntModel:()=>dP,BoundedIntTextModel:()=>yP,BoxModel:()=>lD,BoxView:()=>hD,ButtonModel:()=>qT,ButtonStyleModel:()=>VT,ButtonView:()=>HT,CheckboxModel:()=>LT,CheckboxStyleModel:()=>jT,CheckboxView:()=>BT,ColorPickerModel:()=>SD,ColorPickerView:()=>CD,ColorsInputModel:()=>uR,ColorsInputView:()=>hR,ComboboxModel:()=>LR,ComboboxView:()=>BR,ControllerAxisModel:()=>UP,ControllerAxisView:()=>zP,ControllerButtonModel:()=>$P,ControllerButtonView:()=>FP,ControllerModel:()=>VP,ControllerView:()=>qP,DatePickerModel:()=>OD,DatePickerView:()=>MD,DatetimeModel:()=>BD,DatetimeView:()=>$D,DescriptionModel:()=>kT,DescriptionStyleModel:()=>CT,DescriptionView:()=>ET,DirectionalLinkModel:()=>AT,DropdownModel:()=>KP,DropdownView:()=>GP,FileUploadModel:()=>$R,FileUploadView:()=>FR,FloatLogSliderModel:()=>DP,FloatLogSliderView:()=>RP,FloatModel:()=>OP,FloatProgressModel:()=>BP,FloatRangeSliderModel:()=>PP,FloatRangeSliderView:()=>jP,FloatSliderModel:()=>TP,FloatSliderView:()=>AP,FloatTextModel:()=>IP,FloatTextView:()=>LP,FloatsInputModel:()=>fR,FloatsInputView:()=>gR,GridBoxModel:()=>gD,GridBoxView:()=>fD,HBoxModel:()=>cD,HBoxView:()=>dD,HTMLMathModel:()=>OR,HTMLMathStyleModel:()=>yR,HTMLMathView:()=>MR,HTMLModel:()=>kR,HTMLStyleModel:()=>bR,HTMLView:()=>ER,ImageModel:()=>mD,ImageView:()=>_D,IntModel:()=>hP,IntProgressModel:()=>SP,IntRangeSliderModel:()=>gP,IntRangeSliderView:()=>_P,IntSliderModel:()=>fP,IntSliderView:()=>vP,IntTextModel:()=>bP,IntTextView:()=>wP,IntsInputModel:()=>mR,IntsInputView:()=>_R,JUPYTER_CONTROLS_VERSION:()=>ST,JupyterLuminoAccordionWidget:()=>vA,JupyterLuminoTabPanelWidget:()=>wA,LabelModel:()=>TR,LabelStyleModel:()=>wR,LabelView:()=>DR,LabeledDOMWidgetModel:()=>OT,LabeledDOMWidgetView:()=>MT,LinkModel:()=>RT,MultipleSelectionModel:()=>iA,NaiveDatetimeModel:()=>qD,PasswordModel:()=>IR,PasswordView:()=>NR,PlayModel:()=>kP,PlayView:()=>EP,ProgressStyleModel:()=>xP,ProgressView:()=>CP,RadioButtonsModel:()=>XP,RadioButtonsView:()=>ZP,SelectModel:()=>JP,SelectMultipleModel:()=>rA,SelectMultipleView:()=>oA,SelectView:()=>YP,SelectionContainerModel:()=>mA,SelectionModel:()=>HP,SelectionRangeSliderModel:()=>aA,SelectionRangeSliderView:()=>lA,SelectionSliderModel:()=>nA,SelectionSliderView:()=>sA,SelectionView:()=>WP,SliderStyleModel:()=>pP,StackModel:()=>SA,StackView:()=>CA,StringModel:()=>SR,StringView:()=>CR,TabModel:()=>yA,TabView:()=>xA,TagsInputModel:()=>lR,TagsInputView:()=>cR,TextModel:()=>RR,TextStyleModel:()=>xR,TextView:()=>jR,TextareaModel:()=>PR,TextareaView:()=>AR,TimeModel:()=>RD,TimeView:()=>jD,ToggleButtonModel:()=>$T,ToggleButtonStyleModel:()=>IT,ToggleButtonView:()=>FT,ToggleButtonsModel:()=>eA,ToggleButtonsStyleModel:()=>QP,ToggleButtonsView:()=>tA,VBoxModel:()=>uD,VBoxView:()=>pD,ValidModel:()=>UT,ValidView:()=>zT,VideoModel:()=>vD,VideoView:()=>bD,datetime_serializers:()=>LD,deserialize_date:()=>ED,deserialize_datetime:()=>ND,deserialize_naive:()=>zD,deserialize_time:()=>PD,escape_html:()=>wT,naive_serializers:()=>VD,reject:()=>xT,resolvePromisesDict:()=>wM,serialize_date:()=>kD,serialize_datetime:()=>ID,serialize_naive:()=>UD,serialize_time:()=>DD,time_serializers:()=>AD,typeset:()=>yT,uuid:()=>yM,version:()=>UR});var r={};n.r(r),n.d(r,{OutputModel:()=>mj,OutputView:()=>_j});var o={};n.r(o),n.d(o,{OUTPUT_WIDGET_VERSION:()=>HI,OutputModel:()=>WI,OutputView:()=>KI});var a={};n.r(a),n.d(a,{BROKEN_FILE_SVG_ICON:()=>iN,DOMWidgetModel:()=>FN,DOMWidgetView:()=>HN,ErrorWidgetView:()=>eL,IJupyterWidgetRegistry:()=>ZN,JUPYTER_WIDGETS_VERSION:()=>AN,JupyterLuminoPanelWidget:()=>qN,JupyterLuminoWidget:()=>zN,JupyterPhosphorWidget:()=>VN,LayoutModel:()=>KN,LayoutView:()=>GN,PROTOCOL_VERSION:()=>RN,StyleModel:()=>JN,StyleView:()=>YN,ViewList:()=>XN,WidgetModel:()=>$N,WidgetView:()=>UN,assign:()=>YI,createErrorWidgetModel:()=>QN,createErrorWidgetView:()=>tL,difference:()=>GI,isEqual:()=>JI,isObject:()=>nN,isSerializable:()=>tN,pack_models:()=>BN,put_buffers:()=>eN,reject:()=>QI,remove_buffers:()=>sN,resolvePromisesDict:()=>ZI,shims:()=>$I,unpack_models:()=>LN,uuid:()=>XI});var l={};n.r(l),n.d(l,{AccordionModel:()=>nF,AccordionView:()=>iF,AudioModel:()=>yB,AudioView:()=>wB,BaseIntSliderView:()=>YB,BoolModel:()=>ZL,BoundedFloatModel:()=>l$,BoundedFloatTextModel:()=>m$,BoundedIntModel:()=>WB,BoundedIntTextModel:()=>e$,BoxModel:()=>lB,BoxView:()=>hB,ButtonModel:()=>oB,ButtonStyleModel:()=>rB,ButtonView:()=>aB,CheckboxModel:()=>QL,CheckboxStyleModel:()=>YL,CheckboxView:()=>eB,ColorPickerModel:()=>SB,ColorPickerView:()=>CB,ColorsInputModel:()=>mF,ColorsInputView:()=>_F,ComboboxModel:()=>VF,ComboboxView:()=>qF,ControllerAxisModel:()=>w$,ControllerAxisView:()=>x$,ControllerButtonModel:()=>b$,ControllerButtonView:()=>y$,ControllerModel:()=>S$,ControllerView:()=>C$,DatePickerModel:()=>OB,DatePickerView:()=>MB,DatetimeModel:()=>BB,DatetimeView:()=>$B,DescriptionModel:()=>UL,DescriptionStyleModel:()=>FL,DescriptionView:()=>zL,DirectionalLinkModel:()=>GL,DropdownModel:()=>O$,DropdownView:()=>M$,FileUploadModel:()=>HF,FileUploadView:()=>WF,FloatLogSliderModel:()=>u$,FloatLogSliderView:()=>p$,FloatModel:()=>a$,FloatProgressModel:()=>v$,FloatRangeSliderModel:()=>h$,FloatRangeSliderView:()=>f$,FloatSliderModel:()=>c$,FloatSliderView:()=>d$,FloatTextModel:()=>g$,FloatTextView:()=>_$,FloatsInputModel:()=>yF,FloatsInputView:()=>wF,GridBoxModel:()=>gB,GridBoxView:()=>fB,HBoxModel:()=>cB,HBoxView:()=>dB,HTMLMathModel:()=>RF,HTMLMathStyleModel:()=>EF,HTMLMathView:()=>jF,HTMLModel:()=>PF,HTMLStyleModel:()=>kF,HTMLView:()=>AF,ImageModel:()=>mB,ImageView:()=>_B,IntModel:()=>HB,IntProgressModel:()=>s$,IntRangeSliderModel:()=>JB,IntRangeSliderView:()=>XB,IntSliderModel:()=>GB,IntSliderView:()=>ZB,IntTextModel:()=>QB,IntTextView:()=>t$,IntsInputModel:()=>xF,IntsInputView:()=>SF,JUPYTER_CONTROLS_VERSION:()=>$L,JupyterLuminoAccordionWidget:()=>sF,JupyterLuminoTabPanelWidget:()=>oF,LabelModel:()=>IF,LabelStyleModel:()=>OF,LabelView:()=>NF,LabeledDOMWidgetModel:()=>VL,LabeledDOMWidgetView:()=>qL,LinkModel:()=>JL,MultipleSelectionModel:()=>B$,NaiveDatetimeModel:()=>qB,PasswordModel:()=>UF,PasswordView:()=>zF,PlayModel:()=>r$,PlayView:()=>o$,ProgressStyleModel:()=>n$,ProgressView:()=>i$,RadioButtonsModel:()=>P$,RadioButtonsView:()=>A$,SelectModel:()=>T$,SelectMultipleModel:()=>$$,SelectMultipleView:()=>F$,SelectView:()=>D$,SelectionContainerModel:()=>tF,SelectionModel:()=>k$,SelectionRangeSliderModel:()=>U$,SelectionRangeSliderView:()=>z$,SelectionSliderModel:()=>N$,SelectionSliderView:()=>L$,SelectionView:()=>E$,SliderStyleModel:()=>KB,StackModel:()=>lF,StackView:()=>cF,StringModel:()=>TF,StringView:()=>DF,TabModel:()=>rF,TabView:()=>aF,TagsInputModel:()=>fF,TagsInputView:()=>gF,TextModel:()=>$F,TextStyleModel:()=>MF,TextView:()=>FF,TextareaModel:()=>LF,TextareaView:()=>BF,TimeModel:()=>RB,TimeView:()=>jB,ToggleButtonModel:()=>tB,ToggleButtonStyleModel:()=>XL,ToggleButtonView:()=>nB,ToggleButtonsModel:()=>j$,ToggleButtonsStyleModel:()=>R$,ToggleButtonsView:()=>I$,VBoxModel:()=>uB,VBoxView:()=>pB,ValidModel:()=>sB,ValidView:()=>iB,VideoModel:()=>vB,VideoView:()=>bB,datetime_serializers:()=>LB,deserialize_date:()=>EB,deserialize_datetime:()=>NB,deserialize_naive:()=>zB,deserialize_time:()=>PB,escape_html:()=>LL,naive_serializers:()=>VB,reject:()=>BL,resolvePromisesDict:()=>oL,serialize_date:()=>kB,serialize_datetime:()=>IB,serialize_naive:()=>UB,serialize_time:()=>DB,time_serializers:()=>AB,typeset:()=>NL,uuid:()=>rL,version:()=>KF});var c,u=n(85893),h=n(67294),d=n(2664),p=n(75533),f=n(4016);class g{constructor(e={}){if(this._map=new Map,this._changed=new f.Signal(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||c.itemCmp,e.values)for(const t in e.values)this._map.set(t,e.values[t])}get type(){return"Map"}get changed(){return this._changed}get isDisposed(){return this._isDisposed}get size(){return this._map.size}set(e,t){const n=this._map.get(e);if(void 0===t)throw Error("Cannot set an undefined value, use remove");const s=this._itemCmp;return void 0!==n&&s(n,t)||(this._map.set(e,t),this._changed.emit({type:n?"change":"add",key:e,oldValue:n,newValue:t})),n}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){const e=[];return this._map.forEach(((t,n)=>{e.push(n)})),e}values(){const e=[];return this._map.forEach(((t,n)=>{e.push(t)})),e}delete(e){const t=this._map.get(e);return this._map.delete(e)&&this._changed.emit({type:"remove",key:e,oldValue:t,newValue:void 0}),t}clear(){const e=this.keys();for(let t=0;t<e.length;t++)this.delete(e[t])}dispose(){this.isDisposed||(this._isDisposed=!0,f.Signal.clearData(this),this._map.clear())}}!function(e){e.itemCmp=function(e,t){return e===t}}(c||(c={}));var m,_=n(95082),v=n(59523);class b extends g{constructor(e={}){super({itemCmp:_.JSONExt.deepEqual,values:e.values})}toJSON(){const e=Object.create(null),t=this.keys();for(const n of t){const t=this.get(n);void 0!==t&&(e[n]=_.JSONExt.deepCopy(t))}return e}}!function(e){class t extends v.Message{constructor(e,t){super(e),this.args=t}}e.ChangeMessage=t}(b||(b={}));class y{constructor(e){this.trusted=!1,this._changed=new f.Signal(this),this._raw={};const t=m.getData(e.value);this._data=new b({values:t}),this._rawData=t;const n=e.value;for(const s in n)if("data"===s);else this._raw[s]=m.extract(n,s)}get changed(){return this._changed}dispose(){this._data.dispose(),f.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return{}}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),this._changed.emit(void 0)}toJSON(){const e={};for(const t in this._raw)e[t]=m.extract(this._raw,t);return e}_updateObservable(e,t){const n=e.keys(),s=Object.keys(t);for(const i of n)-1===s.indexOf(i)&&e.delete(i);for(const i of s){const n=e.get(i),s=t[i];n!==s&&e.set(i,s)}}}function w(e){return e.replace("-","_")}!function(e){e.getData=function(e){return m.getData(e)}}(y||(y={})),function(e){function t(e){return function(e){const t=Object.create(null);for(const s in e)t[s]=n(e,s);return t}(e)}function n(e,t){const n=e[t];return void 0===n||_.JSONExt.isPrimitive(n)?n:_.JSONExt.deepCopy(n)}e.getData=t,e.getBundleOptions=function(e){return{data:t(e.value)}},e.extract=n}(m||(m={}));class x{constructor(e){e=e||{},this._defaults={domain:"messages",locale:document.documentElement.getAttribute("lang")||"en",pluralFunc:function(e){return{nplurals:2,plural:1!=e?1:0}},contextDelimiter:String.fromCharCode(4),stringsPrefix:""},this._locale=(e.locale||this._defaults.locale).replace("_","-"),this._domain=w(e.domain||this._defaults.domain),this._contextDelimiter=e.contextDelimiter||this._defaults.contextDelimiter,this._stringsPrefix=e.stringsPrefix||this._defaults.stringsPrefix,this._pluralFuncs={},this._dictionary={},this._pluralForms={},e.messages&&(this._dictionary[this._domain]={},this._dictionary[this._domain][this._locale]=e.messages),e.pluralForms&&(this._pluralForms[this._locale]=e.pluralForms)}setContextDelimiter(e){this._contextDelimiter=e}getContextDelimiter(){return this._contextDelimiter}setLocale(e){this._locale=e.replace("_","-")}getLocale(){return this._locale}setDomain(e){this._domain=w(e)}getDomain(){return this._domain}setStringsPrefix(e){this._stringsPrefix=e}getStringsPrefix(){return this._stringsPrefix}static strfmt(e,...t){return e.replace(/%%/g,"%% ").replace(/%(\d+)/g,(function(e,n){return t[n-1]})).replace(/%% /g,"%")}loadJSON(e,t){if(!e[""]||!e[""].language||!e[""].pluralForms)throw new Error(`Wrong jsonData, it must have an empty key ("") with "language" and "pluralForms" information: ${e}`);t=w(t);let n=e[""],s=JSON.parse(JSON.stringify(e));delete s[""],this.setMessages(t||this._defaults.domain,n.language,s,n.pluralForms)}__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return this.dcnpgettext("","",e,"",0,...t)}ngettext(e,t,n,...s){return this.dcnpgettext("","",e,t,n,...s)}pgettext(e,t,...n){return this.dcnpgettext("",e,t,"",0,...n)}npgettext(e,t,n,s,...i){return this.dcnpgettext("",e,t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){let o;e=w(e)||this._domain;let a=t?t+this._contextDelimiter+n:n,l={pluralForm:!1},c=!1,u=this._locale,h=this.expandLocale(this._locale);for(let p in h)if(u=h[p],c=this._dictionary[e]&&this._dictionary[e][u]&&this._dictionary[e][u][a],c=s?c&&this._dictionary[e][u][a].length>1:c&&1==this._dictionary[e][u][a].length,c){l.locale=u;break}if(c?o=this._dictionary[e][u][a]:(o=[n],l.pluralFunc=this._defaults.pluralFunc),!s)return this.t(o,i,l,...r);l.pluralForm=!0;let d=c?o:[n,s];return this.t(d,i,l,...r)}expandLocale(e){let t=[e],n=e.lastIndexOf("-");for(;n>0;)e=e.slice(0,n),t.push(e),n=e.lastIndexOf("-");return t}getPluralFunc(e){if(!new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+").test(e))throw new Error(x.strfmt('The plural form "%1" is not valid',e));return new Function("n","let plural, nplurals; "+e+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}removeContext(e){if(-1!==e.indexOf(this._contextDelimiter)){return e.split(this._contextDelimiter)[1]}return e}t(e,t,n,...s){if(!n.pluralForm)return this._stringsPrefix+x.strfmt(this.removeContext(e[0]),...s);let i;return n.pluralFunc?i=n.pluralFunc(t):(this._pluralFuncs[n.locale||""]||(this._pluralFuncs[n.locale||""]=this.getPluralFunc(this._pluralForms[n.locale||""])),i=this._pluralFuncs[n.locale||""](t)),(void 0===!i.plural||i.plural>i.nplurals||e.length<=i.plural)&&(i.plural=0),this._stringsPrefix+x.strfmt(this.removeContext(e[i.plural]),...[t].concat(s))}setMessages(e,t,n,s){e=w(e),s&&(this._pluralForms[t]=s),this._dictionary[e]||(this._dictionary[e]={}),this._dictionary[e][t]=n}}const S=new class{constructor(e){this.languageCode="en",this._languageBundle=e}load(e){return this._languageBundle}}(new class{__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return x.strfmt(e,...t)}ngettext(e,t,n,...s){return x.strfmt(1==n?e:t,...[n].concat(s))}pgettext(e,t,...n){return x.strfmt(t,...n)}npgettext(e,t,n,s,...i){return this.ngettext(t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){return this.ngettext(n,s,i,...r)}});var C=n(17266),k=n(79622);n(76240);new _.Token("@jupyterlab/translation:ITranslatorConnector","A service to connect to the server translation endpoint.");C.DataConnector;new _.Token("@jupyterlab/translation:ITranslator","A service to translate strings.");var E=n(90106),O=n(98686),M=n.n(O);const T="$",D=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function P(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}function A(e){let{host:t,source:n,trusted:s,sanitizer:i,resolver:r,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=e;c=c||S;const u=null==c?void 0:c.load("jupyterlab");let h,d=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(d=`${n}`,n=i.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)I.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=d,I.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return I.handleDefaults(t,r),h=r?I.handleUrls(t,r,o):Promise.resolve(void 0),h.then((()=>{a&&l&&l.typeset(t)}))}async function R(e){const{host:t,source:n,markdownParser:s,...i}=e;if(!n)return void(t.textContent="");let r="";if(s){const e=function(e){const t=[];let n,s=null,i=null,r=null,o=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":T))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(D);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=P(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=P(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:e===T||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=P(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(n);r=await s.render(e.text),o=r,a=e.math,r=o.replace(/@@(\d+)@@/g,((e,t)=>{let n=a[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}else r=`<pre>${n}</pre>`;var o,a;await A({host:t,source:r,...i}),I.headerAnchors(t)}var j,I;!function(e){e.createHeaderId=function(e){var t;return(null!==(t=e.textContent)&&void 0!==t?t:"").replace(/ /g,"-")}}(R||(R={})),function(e){const t="\\u0000-\\u0020\\u007f-\\u009f";e.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?])","ug");const n=new RegExp(`(${/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/.source}|${/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/.source})`),s=navigator.userAgent.indexOf("Windows")>=0;e.pathLinkRegex=new RegExp(`(?<path>${s?n.source:/((?:\~|\.)?(?:\/[\w\.-]*)+)/.source})${/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/.source}`,"g")}(j||(j={}));!function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",i=n.isLocal?n.isLocal(s):k.URLExt.isLocal(s);if(s&&i)try{const i=await n.resolveUrl(s);let r=await n.getDownloadUrl(i);"data:"!==k.URLExt.parse(r).protocol&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime()),e.setAttribute(t,r)}catch(r){throw e.setAttribute(t,""),r}}function n(e,t,n){let s=e.getAttribute("href")||"";const i=t.isLocal?t.isLocal(s):k.URLExt.isLocal(s);if(!s||!i)return Promise.resolve(void 0);const r=e.hash;if(r){if(r===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(r,"")}return t.resolveUrl(s).then((s=>{const i=decodeURIComponent(s);return n&&n.handleLink(e,i,r),t.getDownloadUrl(s)})).then((t=>{e.href=t+r})).catch((t=>{e.href=""}))}async function s(e,t,n){let s=e.dataset.path||"",i=e.dataset.locator?"#"+e.dataset.locator:"";delete e.dataset.path,delete e.dataset.locator;const r=t.isLocal?t.isLocal(s,true):k.URLExt.isLocal(s,true);if(!(s&&r&&t.resolvePath&&n&&n.handlePath))return e.replaceWith(...e.childNodes),Promise.resolve(void 0);try{const r=await t.resolvePath(s);if(!r)return console.log("Path resolution bailing: does not exist"),Promise.resolve(void 0);n.handlePath(e,r.path,r.scope,i),e.href=r.path+i}catch(o){console.warn("Path anchor error:",o),e.href="#linking-failed-see-console"}}e.evalInnerHTMLScriptTags=function(e){const t=Array.from(e.getElementsByTagName("script"));for(const n of t){if(!n.parentNode)continue;const e=document.createElement("script"),t=n.attributes;for(let n=0,s=t.length;n<s;++n){const{name:s,value:i}=t[n];e.setAttribute(s,i)}e.textContent=n.textContent,n.parentNode.replaceChild(e,n)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let i=0;i<n.length;i++){const e=n[i];if(!(e instanceof HTMLAnchorElement))continue;const s=e.href,r=t&&t.isLocal?t.isLocal(s):k.URLExt.isLocal(s);e.target||(e.target=r?"_self":"_blank"),r||(e.rel="noopener")}const s=e.getElementsByTagName("img");for(let i=0;i<s.length;i++)s[i].alt||(s[i].alt="Image")},e.handleUrls=function(e,s,i){const r=[],o=e.querySelectorAll("*[src]");for(let n=0;n<o.length;n++)r.push(t(o[n],"src",s));const a=e.getElementsByTagName("a");for(let t=0;t<a.length;t++)r.push(n(a[t],s,i));const l=e.getElementsByTagName("link");for(let n=0;n<l.length;n++)r.push(t(l[n],"href",s));return Promise.all(r).then((()=>{}))},e.handlePaths=async function(e,t,n){const i=e.getElementsByTagName("a");for(let r=0;r<i.length;r++)await s(i[r],t,n)},e.headerAnchors=function(e){const t=["h1","h2","h3","h4","h5","h6"];for(const n of t){const t=e.getElementsByTagName(n);for(let e=0;e<t.length;e++){const n=t[e];n.id=R.createHeaderId(n);const s=document.createElement("a");s.target="_self",s.textContent="\xb6",s.href="#"+n.id,s.classList.add("jp-InternalAnchorLink"),n.appendChild(s)}}};const i=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function r(e,t,n,s,r,o,a){if(e){const l=[],c=[];s&&"number"==typeof t&&0<=t&&t<8&&(t+=8),o&&([t,n]=[n,t]),"number"==typeof t?l.push(i[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):o&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(i[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):o&&l.push("ansi-default-inverse-bg"),s&&l.push("ansi-bold"),r&&l.push("ansi-underline"),l.length||c.length?(a.push("<span"),l.length&&a.push(` class="${l.join(" ")}"`),c.length&&a.push(` style="${c.join("; ")}"`),a.push(">"),a.push(e),a.push("</span>")):a.push(e)}}function o(e){let t,n,s;const i=e.shift();if(2===i&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===i&&e.length>=1))throw new RangeError("Invalid extended color specification");{const i=e.shift();if(i<0)throw new RangeError("Color index must be >= 0");if(i<16)return i;if(i<232)t=Math.floor((i-16)/36),t=t>0?55+40*t:0,n=Math.floor((i-16)%36/6),n=n>0?55+40*n:0,s=(i-16)%6,s=s>0?55+40*s:0;else{if(!(i<256))throw new RangeError("Color index must be < 256");t=n=s=10*(i-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],i=[],a=!1,l=!1,c=!1;const u=[],h=[];let d=0;for(e=M()(e),e+="\x1b[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)h.push(0);else{if(-1===n.search(/^\d+$/)){h.length=0;break}h.push(parseInt(n,10))}}}for(r(e.substring(d,n.index),s,i,a,l,c,u),d=t.lastIndex;h.length;){const e=h.shift();switch(e){case 0:s=i=[],a=!1,l=!1,c=!1;break;case 1:case 5:a=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:a=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=o(h)}catch(p){h.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:i=e-40;break;case 48:try{i=o(h)}catch(p){h.length=0}break;case 49:i=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:i=e-100+8}}}return u.join("")}}(I||(I={}));class N extends E.Widget{constructor(e){var t,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=null!==(t=e.translator)&&void 0!==t?t:S,this.latexTypesetter=e.latexTypesetter,this.markdownParser=null!==(n=e.markdownParser)&&void 0!==n?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}}class L extends N{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return function(e){const{host:t,mimeType:n,source:s,width:i,height:r,needsBackground:o,unconfined:a}=e;t.textContent="";const l=document.createElement("img");return l.src=`data:${n};base64,${s}`,"number"==typeof r&&(l.height=r),"number"==typeof i&&(l.width=i),"light"===o?l.classList.add("jp-needs-light-background"):"dark"===o&&l.classList.add("jp-needs-dark-background"),!0===a&&l.classList.add("jp-mod-unconfined"),t.appendChild(l),Promise.resolve(void 0)}({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}const B={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new L(e)};class ${constructor(e){var t;if(this._map=new g,this._isDisposed=!1,this._stateChanged=new f.Signal(this),this._changed=new f.Signal(this),this._serialized=null,this._changeGuard=!1,this.contentFactory=null!==(t=e.contentFactory)&&void 0!==t?t:$.defaultContentFactory,e.values)for(const n of Object.keys(e.values))void 0!==e.values[n]&&this.set(n,e.values[n]);this._map.changed.connect(this._onMapChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get keys(){return this._map.keys()}get length(){return this._map.keys().length}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._map.dispose(),f.Signal.clearData(this))}has(e){return this._map.has(e)}get(e){return this._map.get(e)}set(e,t){const n=this._createItem({value:t});this._map.set(e,n)}remove(e){this._map.delete(e)}clear(){this._map.values().forEach((e=>{e.dispose()})),this._map.clear()}fromJSON(e){this.clear(),Object.keys(e).forEach((t=>{void 0!==e[t]&&this.set(t,e[t])}))}toJSON(){const e={};for(const t of this._map.keys())e[t]=this._map.get(t).toJSON();return e}_createItem(e){const t=this.contentFactory.createAttachmentModel(e);return t.changed.connect(this._onGenericChange,this),t}_onMapChanged(e,t){this._serialized&&!this._changeGuard&&(this._changeGuard=!0,this._serialized.set(this.toJSON()),this._changeGuard=!1),this._changed.emit(t),this._stateChanged.emit(void 0)}_onGenericChange(){this._stateChanged.emit(void 0)}}!function(e){class t{createAttachmentModel(e){return new y(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}($||($={}));class F{constructor(e){this._parent=e.parent||null,this._model=e.model}async resolveUrl(e){return this._parent&&!e.startsWith("attachment:")?this._parent.resolveUrl(e):e}async getDownloadUrl(e){if(this._parent&&!e.startsWith("attachment:"))return this._parent.getDownloadUrl(e);const t=e.slice(11),n=this._model.get(t);if(void 0===n)return e;const{data:s}=n,i=Object.keys(s)[0];if(void 0===i||-1===B.mimeTypes.indexOf(i))throw new Error(`Cannot render unknown image mime type "${i}".`);return`data:${i};base64,${s[i]}`}isLocal(e){var t,n,s;return!(this._parent&&!e.startsWith("attachment:"))||(null===(s=null===(n=(t=this._parent).isLocal)||void 0===n?void 0:n.call(t,e))||void 0===s||s)}}var U=n(58786);class z{constructor(e){this._currentChanged=new f.Signal(this),this._deferred=null,this._isDisposed=!1,this._widgetAdded=new f.Signal(this),this._widgetUpdated=new f.Signal(this);const t=this._focusTracker=new E.FocusTracker,n=this._pool=new C.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._deferred?Promise.resolve():this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),f.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){const t=this._deferred;return t?(this._deferred=null,this._pool.restore(t)):e?this._pool.restore(e):void console.warn("No options provided to restore the tracker.")}defer(e){this._deferred=e}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}var V=n(69153),q=n(39770);const H="jp-OutputArea-child",W="jp-OutputArea-output",K="jp-OutputArea-prompt";class G extends E.Widget{constructor(e){var t,n,s,i;super(),this.outputLengthChanged=new f.Signal(this),this._onIOPub=e=>{const t=this.model,n=e.header.msg_type;let s;const i=(e.content.transient||{}).display_id;let r;switch(n){case"execute_result":case"display_data":case"stream":case"error":s={...e.content,output_type:n},t.add(s);break;case"clear_output":{const n=e.content.wait;t.clear(n);break}case"update_display_data":if(s={...e.content,output_type:"display_data"},r=this._displayIdMap.get(i),r)for(const e of r)t.set(e,s)}i&&"display_data"===n&&(r=this._displayIdMap.get(i)||[],r.push(t.length-1),this._displayIdMap.set(i,r))},this._onExecuteReply=e=>{const t=this.model,n=e.content;if("ok"!==n.status)return;const s=n&&n.payload;if(!s||!s.length)return;const i=s.filter((e=>"page"===e.source));if(!i.length)return;const r={output_type:"display_data",data:JSON.parse(JSON.stringify(i[0])).data,metadata:{}};t.add(r)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new f.Signal(this),this._toggleScrolling=new f.Signal(this),this._initialize=new f.Signal(this),this._outputTracker=new z({namespace:_.UUID.uuid4()}),this._inputHistoryScope="global",super.layout=new E.PanelLayout,this.addClass("jp-OutputArea"),this.contentFactory=null!==(t=e.contentFactory)&&void 0!==t?t:G.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=null!==(n=e.maxNumberOutputs)&&void 0!==n?n:1/0,this._translator=null!==(s=e.translator)&&void 0!==s?s:S,this._inputHistoryScope=null!==(i=e.inputHistoryScope)&&void 0!==i?i:"global";const r=this.model=e.model;for(let o=0;o<Math.min(r.length,this._maxNumberOutputs+1);o++){const e=r.get(o);this._insertOutput(o,e)}r.changed.connect(this.onModelChanged,this),r.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=t=>{V.KernelMessage.isInputRequestMsg(t)&&this.onInputRequest(t,e)})}get inputRequested(){return this._inputRequested}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0)return void console.warn("OutputArea.maxNumberOutputs must be strictly positive.");const t=this._maxNumberOutputs;this._maxNumberOutputs=e,t<e&&this._showTrimmedOutputs(t)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,t){switch(t.type){case"add":this._insertOutput(t.newIndex,t.newValues[0]);break;case"remove":if(this.widgets.length)if(0===this.model.length)this._clear();else{const e=t.oldIndex;for(let n=0;n<t.oldValues.length&&e<this.widgets.length;++n){const t=this.widgets[e];t.parent=null,t.dispose()}this._moveDisplayIdIndices(e,t.oldValues.length),this._preventHeightChangeJitter()}break;case"set":this._setOutput(t.newIndex,t.newValues[0])}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}get initialize(){return this._initialize}_addPromptOverlay(){const e=document.createElement("div");e.className="jp-OutputArea-promptOverlay",e.addEventListener("click",(()=>{this._toggleScrolling.emit()})),this.node.appendChild(e),requestAnimationFrame((()=>{this._initialize.emit()}))}_moveDisplayIdIndices(e,t){this._displayIdMap.forEach((n=>{const s=e+t;for(let i=n.length-1;i>=0;--i){const r=n[i];r>=e&&r<s?n.splice(i,1):r>=s&&(n[i]-=t)}}))}onStateChanged(e,t){const n=Math.min(this.model.length,this._maxNumberOutputs);if(t){if(t>=this._maxNumberOutputs)return;this._setOutput(t,this.model.get(t))}else for(let s=0;s<n;s++)this._setOutput(s,this.model.get(s));this.outputLengthChanged.emit(n)}_clear(){if(!this.widgets.length)return;const e=this.widgets.length;for(let t=0;t<e;t++){const e=this.widgets[0];e.parent=null,e.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){const e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout((()=>{this.isDisposed||(this.node.style.minHeight="")}),50)}onInputRequest(e,t){const n=this.contentFactory,s=e.content.prompt,i=e.content.password,r=new E.Panel;r.addClass(H),r.addClass("jp-OutputArea-stdin-item");const o=n.createOutputPrompt();o.addClass(K),r.addWidget(o);const a=n.createStdin({parent_header:e.header,prompt:s,password:i,future:t,translator:this._translator,inputHistoryScope:this._inputHistoryScope});a.addClass(W),r.addWidget(a),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit(a);const l=a.node.getElementsByTagName("input")[0];a.value.then((e=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),r.addClass("jp-OutputArea-stdin-hiding"),this.model.add({output_type:"stream",name:"stdin",text:e+"\n"}),l.focus(),window.setTimeout((()=>{const e=document.activeElement;r.dispose(),e&&e instanceof HTMLElement&&e.focus()}),500)})),this.layout.addWidget(r)}_setOutput(e,t){if(e>=this._maxNumberOutputs)return;const n=this.layout.widgets[e],s=n.widgets?n.widgets.filter((e=>"renderModel"in e)).pop():n,i=this.rendermime.preferredMimeType(t.data,t.trusted?"any":"ensure");Z.currentPreferredMimetype.get(s)===i&&G.isIsolated(i,t.metadata)===s instanceof Z.IsolatedRenderer?s.renderModel(t):(this.layout.widgets[e].dispose(),this._insertOutput(e,t))}_insertOutput(e,t){if(e>this._maxNumberOutputs)return;const n=this.layout;if(e===this._maxNumberOutputs){const t=new Z.TrimmedOutputs(this._maxNumberOutputs,(()=>{const e=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(e)}));n.insertWidget(e,this._wrappedOutput(t))}else{let s=this.createOutputItem(t);s?s.toggleClass("jp-OutputArea-executeResult",null!==t.executionCount):s=new E.Widget,this._outputTracker.has(s)||this._outputTracker.add(s),n.insertWidget(e,s)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let t=e;t<this.model.length;t++)this._insertOutput(t,this.model.get(t));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){const t=this.createRenderedMimetype(e);return t?this._wrappedOutput(t,e.executionCount):null}createRenderedMimetype(e){const t=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!t)return null;let n=this.rendermime.createRenderer(t);return!0===G.isIsolated(t,e.metadata)&&(n=new Z.IsolatedRenderer(n)),Z.currentPreferredMimetype.set(n,t),n.renderModel(e).catch((e=>{const t=document.createElement("pre"),s=this._translator.load("jupyterlab");t.textContent=s.__("Javascript Error: %1",e.message),n.node.appendChild(t),n.node.className="lm-Widget jp-RenderedText",n.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")})),n}_wrappedOutput(e,t=null){const n=new Z.OutputPanel;n.addClass(H);const s=this.contentFactory.createOutputPrompt();return s.executionCount=t,s.addClass(K),n.addWidget(s),e.addClass(W),n.addWidget(e),n}}class J extends G{onInputRequest(e,t){}createOutputItem(e){const t=this.createRenderedMimetype(e);if(!t)return null;const n=new Z.OutputPanel;return n.addClass(H),t.addClass(W),n.addWidget(t),n}}!function(e){e.execute=async function(e,t,n,s){var i;let r=!0;s&&Array.isArray(s.tags)&&-1!==s.tags.indexOf("raises-exception")&&(r=!1);const o={code:e,stop_on_error:r},a=null===(i=n.session)||void 0===i?void 0:i.kernel;if(!a)throw new Error("Session has no kernel.");const l=a.requestExecute(o,!1,s);return t.future=l,l.done},e.isIsolated=function(e,t){const n=t[e];return n&&void 0!==n.isolated?!!n.isolated:!!t.isolated};class t{createOutputPrompt(){return new Y}createStdin(e){return new X(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(G||(G={}));class Y extends E.Widget{constructor(){super(),this._executionCount=null,this.addClass("jp-OutputPrompt")}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,this.node.textContent=null===e?"":`[${e}]:`}}class X extends E.Widget{static _historyIx(e,t){const n=X._history.get(e);if(!n)return;const s=n.length;return t<=0?s+t:void 0}static _historyAt(e,t){const n=X._history.get(e);if(!n)return;const s=n.length,i=X._historyIx(e,t);return void 0!==i&&i<s?n[i]:void 0}static _historyPush(e,t){const n=X._history.get(e);n.push(t),n.length>1e3&&n.shift()}static _historySearch(e,t,n,s=!0){const i=X._history.get(e),r=i.length,o=X._historyIx(e,n),a=e=>-1!==e.search(t);if(void 0!==o)if(s){if(0===o)return;const e=i.slice(0,o).findLastIndex(a);if(-1!==e)return e-r}else{if(o>=r-1)return;const e=i.slice(o+1).findIndex(a);if(-1!==e)return e-r+o+1}}constructor(e){var t;super({node:Z.createInputWidgetNode(e.prompt,e.password)}),this._promise=new _.PromiseDelegate,this._resolved=!1,this.addClass("jp-Stdin"),this._future=e.future,this._historyIndex=0,this._historyKey="session"===e.inputHistoryScope?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=(null!==(t=e.translator)&&void 0!==t?t:S).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],this._input.placeholder=this._trans.__("\u2191\u2193 for history. Search history with c-\u2191/c-\u2193"),X._history.has(this._historyKey)||X._history.set(this._historyKey,[])}get value(){return this._promise.promise.then((()=>this._value))}handleEvent(e){if(this._resolved)return void e.preventDefault();const t=this._input;if("keydown"===e.type)if("Enter"===e.key)this.resetSearch(),this._future.sendInputReply({status:"ok",value:t.value},this._parentHeader),this._password?this._value+="\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7":(this._value+=t.value,X._historyPush(this._historyKey,t.value)),this._resolved=!0,this._promise.resolve(void 0);else if("Escape"===e.key)this.resetSearch(),t.blur();else if(!e.ctrlKey||"ArrowUp"!==e.key&&"ArrowDown"!==e.key){if("ArrowUp"===e.key){this.resetSearch();const n=X._historyAt(this._historyKey,this._historyIndex-1);n&&(0===this._historyIndex&&(this._valueCache=t.value),this._setInputValue(n),--this._historyIndex,e.preventDefault())}else if("ArrowDown"===e.key)if(this.resetSearch(),0===this._historyIndex);else if(-1===this._historyIndex)this._setInputValue(this._valueCache),++this._historyIndex;else{const e=X._historyAt(this._historyKey,this._historyIndex+1);e&&(this._setInputValue(e),++this._historyIndex)}}else{""===this._historyPat&&(this._historyPat=t.value);const n="ArrowUp"===e.key,s=X._historySearch(this._historyKey,this._historyPat,this._historyIndex,n);if(void 0!==s){const n=X._historyAt(this._historyKey,s);void 0!==n&&(0===this._historyIndex&&(this._valueCache=t.value),this._setInputValue(n),this._historyIndex=s,e.preventDefault())}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}}var Z;X._history=new Map,function(e){e.createInputWidgetNode=function(e,t){const n=document.createElement("div"),s=document.createElement("pre");s.className="jp-Stdin-prompt",s.textContent=e;const i=document.createElement("input");return i.className="jp-Stdin-input",t&&(i.type="password"),n.appendChild(s),s.appendChild(i),n};class t extends E.Widget{constructor(e){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=e;const t=this.node;t.frameBorder="0",t.scrolling="auto",t.addEventListener("load",(()=>{t.contentDocument.open(),t.contentDocument.write(this._wrapped.node.innerHTML),t.contentDocument.close();const e=t.contentDocument.body;t.style.height=`${e.scrollHeight}px`,t.heightChangeObserver=new ResizeObserver((()=>{t.style.height=`${e.scrollHeight}px`})),t.heightChangeObserver.observe(e)}))}renderModel(e){return this._wrapped.renderModel(e)}}e.IsolatedRenderer=t,e.currentPreferredMimetype=new q.AttachedProperty({name:"preferredMimetype",create:e=>""});class n extends E.Panel{constructor(e){super(e)}_onContext(e){this.node.focus()}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(e){super.onAfterDetach(e),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}e.OutputPanel=n;class s extends E.Widget{constructor(e,t){const n=document.createElement("div"),s=`The first ${e} are displayed`;n.insertAdjacentHTML("afterbegin",`<a title=${s}>\n          <pre>Show more outputs</pre>\n        </a>`),super({node:n}),this._onClick=t,this.addClass("jp-TrimmedOutputs"),this.addClass("jp-RenderedHTMLCommon")}handleEvent(e){"click"===e.type&&this._onClick(e)}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("click",this)}onBeforeDetach(e){super.onBeforeDetach(e),this.node.removeEventListener("click",this)}}e.TrimmedOutputs=s}(Z||(Z={}));const Q="$",ee=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function te(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}function ne(e){let{host:t,source:n,trusted:s,sanitizer:i,resolver:r,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=e;c=c||S;const u=null==c?void 0:c.load("jupyterlab");let h,d=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(d=`${n}`,n=i.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)re.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=d,re.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return re.handleDefaults(t,r),h=r?re.handleUrls(t,r,o):Promise.resolve(void 0),h.then((()=>{a&&l&&l.typeset(t)}))}async function se(e){const{host:t,source:n,markdownParser:s,...i}=e;if(!n)return void(t.textContent="");let r="";if(s){const e=function(e){const t=[];let n,s=null,i=null,r=null,o=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":Q))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(ee);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=te(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=te(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:e===Q||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=te(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(n);r=await s.render(e.text),o=r,a=e.math,r=o.replace(/@@(\d+)@@/g,((e,t)=>{let n=a[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}else r=`<pre>${n}</pre>`;var o,a;await ne({host:t,source:r,...i}),re.headerAnchors(t)}var ie,re;!function(e){e.createHeaderId=function(e){var t;return(null!==(t=e.textContent)&&void 0!==t?t:"").replace(/ /g,"-")}}(se||(se={})),function(e){const t="\\u0000-\\u0020\\u007f-\\u009f";e.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?])","ug");const n=new RegExp(`(${/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/.source}|${/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/.source})`),s=navigator.userAgent.indexOf("Windows")>=0;e.pathLinkRegex=new RegExp(`(?<path>${s?n.source:/((?:\~|\.)?(?:\/[\w\.-]*)+)/.source})${/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/.source}`,"g")}(ie||(ie={}));!function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",i=n.isLocal?n.isLocal(s):U.URLExt.isLocal(s);if(s&&i)try{const i=await n.resolveUrl(s);let r=await n.getDownloadUrl(i);"data:"!==U.URLExt.parse(r).protocol&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime()),e.setAttribute(t,r)}catch(r){throw e.setAttribute(t,""),r}}function n(e,t,n){let s=e.getAttribute("href")||"";const i=t.isLocal?t.isLocal(s):U.URLExt.isLocal(s);if(!s||!i)return Promise.resolve(void 0);const r=e.hash;if(r){if(r===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(r,"")}return t.resolveUrl(s).then((s=>{const i=decodeURIComponent(s);return n&&n.handleLink(e,i,r),t.getDownloadUrl(s)})).then((t=>{e.href=t+r})).catch((t=>{e.href=""}))}async function s(e,t,n){let s=e.dataset.path||"",i=e.dataset.locator?"#"+e.dataset.locator:"";delete e.dataset.path,delete e.dataset.locator;const r=t.isLocal?t.isLocal(s,true):U.URLExt.isLocal(s,true);if(!(s&&r&&t.resolvePath&&n&&n.handlePath))return e.replaceWith(...e.childNodes),Promise.resolve(void 0);try{const r=await t.resolvePath(s);if(!r)return console.log("Path resolution bailing: does not exist"),Promise.resolve(void 0);n.handlePath(e,r.path,r.scope,i),e.href=r.path+i}catch(o){console.warn("Path anchor error:",o),e.href="#linking-failed-see-console"}}e.evalInnerHTMLScriptTags=function(e){const t=Array.from(e.getElementsByTagName("script"));for(const n of t){if(!n.parentNode)continue;const e=document.createElement("script"),t=n.attributes;for(let n=0,s=t.length;n<s;++n){const{name:s,value:i}=t[n];e.setAttribute(s,i)}e.textContent=n.textContent,n.parentNode.replaceChild(e,n)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let i=0;i<n.length;i++){const e=n[i];if(!(e instanceof HTMLAnchorElement))continue;const s=e.href,r=t&&t.isLocal?t.isLocal(s):U.URLExt.isLocal(s);e.target||(e.target=r?"_self":"_blank"),r||(e.rel="noopener")}const s=e.getElementsByTagName("img");for(let i=0;i<s.length;i++)s[i].alt||(s[i].alt="Image")},e.handleUrls=function(e,s,i){const r=[],o=e.querySelectorAll("*[src]");for(let n=0;n<o.length;n++)r.push(t(o[n],"src",s));const a=e.getElementsByTagName("a");for(let t=0;t<a.length;t++)r.push(n(a[t],s,i));const l=e.getElementsByTagName("link");for(let n=0;n<l.length;n++)r.push(t(l[n],"href",s));return Promise.all(r).then((()=>{}))},e.handlePaths=async function(e,t,n){const i=e.getElementsByTagName("a");for(let r=0;r<i.length;r++)await s(i[r],t,n)},e.headerAnchors=function(e){const t=["h1","h2","h3","h4","h5","h6"];for(const n of t){const t=e.getElementsByTagName(n);for(let e=0;e<t.length;e++){const n=t[e];n.id=se.createHeaderId(n);const s=document.createElement("a");s.target="_self",s.textContent="\xb6",s.href="#"+n.id,s.classList.add("jp-InternalAnchorLink"),n.appendChild(s)}}};const i=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function r(e,t,n,s,r,o,a){if(e){const l=[],c=[];s&&"number"==typeof t&&0<=t&&t<8&&(t+=8),o&&([t,n]=[n,t]),"number"==typeof t?l.push(i[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):o&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(i[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):o&&l.push("ansi-default-inverse-bg"),s&&l.push("ansi-bold"),r&&l.push("ansi-underline"),l.length||c.length?(a.push("<span"),l.length&&a.push(` class="${l.join(" ")}"`),c.length&&a.push(` style="${c.join("; ")}"`),a.push(">"),a.push(e),a.push("</span>")):a.push(e)}}function o(e){let t,n,s;const i=e.shift();if(2===i&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===i&&e.length>=1))throw new RangeError("Invalid extended color specification");{const i=e.shift();if(i<0)throw new RangeError("Color index must be >= 0");if(i<16)return i;if(i<232)t=Math.floor((i-16)/36),t=t>0?55+40*t:0,n=Math.floor((i-16)%36/6),n=n>0?55+40*n:0,s=(i-16)%6,s=s>0?55+40*s:0;else{if(!(i<256))throw new RangeError("Color index must be < 256");t=n=s=10*(i-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],i=[],a=!1,l=!1,c=!1;const u=[],h=[];let d=0;for(e=M()(e),e+="\x1b[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)h.push(0);else{if(-1===n.search(/^\d+$/)){h.length=0;break}h.push(parseInt(n,10))}}}for(r(e.substring(d,n.index),s,i,a,l,c,u),d=t.lastIndex;h.length;){const e=h.shift();switch(e){case 0:s=i=[],a=!1,l=!1,c=!1;break;case 1:case 5:a=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:a=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=o(h)}catch(p){h.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:i=e-40;break;case 48:try{i=o(h)}catch(p){h.length=0}break;case 49:i=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:i=e-100+8}}}return u.join("")}}(re||(re={}));class oe extends E.Widget{constructor(e){var t,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=null!==(t=e.translator)&&void 0!==t?t:S,this.latexTypesetter=e.latexTypesetter,this.markdownParser=null!==(n=e.markdownParser)&&void 0!==n?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}}class ae extends oe{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return function(e){const{host:t,mimeType:n,source:s,width:i,height:r,needsBackground:o,unconfined:a}=e;t.textContent="";const l=document.createElement("img");return l.src=`data:${n};base64,${s}`,"number"==typeof r&&(l.height=r),"number"==typeof i&&(l.width=i),"light"===o?l.classList.add("jp-needs-light-background"):"dark"===o&&l.classList.add("jp-needs-dark-background"),!0===a&&l.classList.add("jp-mod-unconfined"),t.appendChild(l),Promise.resolve(void 0)}({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}const le={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new ae(e)};class ce{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||ue.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}}var ue;!function(e){e.noOp=function(){}}(ue||(ue={}));var he=n(91036),de=n.n(he);class pe{static reg(e){return new RegExp("^"+e+"$","i")}}pe.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},pe.B={angle:`(${pe.N.number}(deg|rad|grad|turn)|0)`,frequency:`${pe.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${pe.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${pe.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${pe.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${pe.N.number}%`,percentage_pos:`${pe.N.number_pos}%`,percentage_zero_hundred:`${pe.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${pe.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},pe.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},pe._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${pe.N.integer_zero_ff}|${pe.N.number_zero_one}|${pe.B.percentage_zero_hundred})\s*\)`},pe._C={alpha:`${pe.N.integer_zero_ff}|${pe.N.number_zero_one}|${pe.B.percentage_zero_hundred}`,alphavalue:pe.N.number_zero_one,bg_position:`((${pe.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${pe.B.length_pos}|${pe.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${pe.B.length}`,bottom:`${pe.B.length}|auto`,color:`${pe._COLOR.hex}|${pe._COLOR.rgb}|${pe._COLOR.rgba}|${pe._COLOR.name}`,color_stop_length:`(${pe.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${pe.B.len_or_perc}`,family_name:`${pe.B.string}|(${pe.B.ident}\\s*)+`,image_decl:pe.B.url,left:`${pe.B.length}|auto`,loose_quotable_words:`(${pe.B.ident})+`,margin_width:`${pe.B.len_or_perc}|auto`,padding_width:`${pe.B.length_pos}|${pe.B.percentage_pos}`,page_url:pe.B.url,position:`((${pe.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${pe.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${pe.B.length}|(${pe.B.len_or_perc})\\s+(${pe.B.len_or_perc})`,top:`${pe.B.length}|auto`},pe._C1={image_list:`image\\(\\s*(${pe.B.url})*\\s*(${pe.B.url}|${pe._C.color})\\s*\\)`,linear_color_stop:`(${pe._C.color})(\\s*${pe._C.color_stop_length})?`,shadow:`((${pe._C.color})\\s+((${pe.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${pe.B.length})\\s*){2,4}\\s*(${pe._C.color})?)`},pe._C2={color_stop_list:`((${pe._C1.linear_color_stop})(\\s*(${pe._C.linear_color_hint}))?\\s*,\\s*)+(${pe._C1.linear_color_stop})`,shape:`rect\\(\\s*(${pe._C.top})\\s*,\\s*(${pe._C.right})\\s*,\\s*(${pe._C.bottom})\\s*,\\s*(${pe._C.left})\\s*\\)`},pe._C3={linear_gradient:`linear-gradient\\((((${pe.B.angle})|to\\s+(${pe.A.side_or_corner}))\\s*,\\s*)?\\s*(${pe._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${pe.A.ending_shape})|(${pe._C.size}))\\s*)*\\s*(at\\s+${pe._C.position})?\\s*,\\s*)?\\s*(${pe._C2.color_stop_list})\\s*\\)`},pe._C4={image:`${pe.B.url}|${pe._C3.linear_gradient}|${pe._C3.radial_gradient}|${pe._C1.image_list}`,bg_image:`(${pe.B.url}|${pe._C3.linear_gradient}|${pe._C3.radial_gradient}|${pe._C1.image_list})|none`},pe.C={...pe._C,...pe._C1,...pe._C2,...pe._C3,...pe._C4},pe.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},pe._CP={background_attachment:`${pe.A.attachment}(,\\s*${pe.A.attachment})*`,background_color:pe.C.color,background_origin:`${pe.A.box}(,\\s*${pe.A.box})*`,background_repeat:`${pe.A.repeat_style}(,\\s*${pe.A.repeat_style})*`,border:`((${pe.C.border_width}|${pe.A.border_style}|${pe.C.color})\\s*){1,3}`,border_radius:`((${pe.B.len_or_perc})\\s*){1,4}(\\/\\s*((${pe.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${pe.B.length}\\s*(${pe.B.length})?`,border_top_color:pe.C.color,border_top_style:pe.A.border_style,border_width:`((${pe.C.border_width})\\s*){1,4}`,color:pe.C.color,cursor:`(${pe.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${pe.A.display_inside}|${pe.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:pe.A.display_outside,elevation:`${pe.B.angle}|below|level|above|higher|lower`,font_family:`(${pe.C.family_name}|${pe.A.generic_family})(,\\s*(${pe.C.family_name}|${pe.A.generic_family}))*`,height:`${pe.B.length}|${pe.B.percentage}|auto`,letter_spacing:`normal|${pe.B.length}`,list_style_image:`${pe.C.image}|none`,margin_right:pe.C.margin_width,max_height:`${pe.B.length_pos}|${pe.B.percentage_pos}|none|auto`,min_height:`${pe.B.length_pos}|${pe.B.percentage_pos}|auto`,opacity:pe.C.alphavalue,outline_color:`${pe.C.color}|invert`,outline_width:pe.C.border_width,padding:`((${pe.C.padding_width})\\s*){1,4}`,padding_top:pe.C.padding_width,pitch_range:pe.N.number,right:`${pe.B.length}|${pe.B.percentage}|auto`,stress:pe.N.number,text_indent:`${pe.B.length}|${pe.B.percentage}`,text_shadow:`none|${pe.C.shadow}(,\\s*(${pe.C.shadow}))*`,volume:`${pe.N.number_pos}|${pe.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:pe.AP.overflow_wrap,zoom:`normal|${pe.N.number_pos}|${pe.B.percentage_pos}`,backface_visibility:pe.AP.visibility,background_clip:`${pe.A.box}(,\\s*(${pe.A.box}))*`,background_position:`${pe.C.bg_position}(,\\s*(${pe.C.bg_position}))*`,border_bottom_color:pe.C.color,border_bottom_style:pe.A.border_style,border_color:`((${pe.C.color})\\s*){1,4}`,border_left_color:pe.C.color,border_right_color:pe.C.color,border_style:`((${pe.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${pe.B.length}|${pe.B.percentage})(\\s*(${pe.B.length}|${pe.B.percentage}))?`,border_top_width:pe.C.border_width,box_shadow:`none|${pe.C.shadow}(,\\s*(${pe.C.shadow}))*`,clip:`${pe.C.shape}|auto`,display_inside:pe.A.display_inside,font_size:`${pe.A.absolute_size}|${pe.A.relative_size}|${pe.B.length_pos}|${pe.B.percentage_pos}`,line_height:`normal|${pe.N.number_pos}|${pe.B.length_pos}|${pe.B.percentage_pos}`,margin_left:pe.C.margin_width,max_width:`${pe.B.length_pos}|${pe.B.percentage_pos}|none|auto`,outline_style:pe.A.border_style,padding_bottom:pe.C.padding_width,padding_right:pe.C.padding_width,perspective:`none|${pe.B.length}`,richness:pe.N.number,text_overflow:`((clip|ellipsis|${pe.B.string})\\s*){1,2}`,top:`${pe.B.length}|${pe.B.percentage}|auto`,width:`${pe.B.length_pos}|${pe.B.percentage_pos}|auto`,z_index:`auto|${pe.B.z_index}`,background:`(((${pe.C.bg_position}\\s*(\\/\\s*${pe.C.bg_size})?)|(${pe.A.repeat_style})|(${pe.A.attachment})|(${pe.A.bg_origin})|(${pe.C.bg_image})|(${pe.C.color}))\\s*)+`,background_size:`${pe.C.bg_size}(,\\s*${pe.C.bg_size})*`,border_bottom_left_radius:`(${pe.B.length}|${pe.B.percentage})(\\s*(${pe.B.length}|${pe.B.percentage}))?`,border_bottom_width:pe.C.border_width,border_left_style:pe.A.border_style,border_right_style:pe.A.border_style,border_top:`((${pe.C.border_width}|${pe.A.border_style}|${pe.C.color})\\s*){1,3}`,bottom:`${pe.B.len_or_perc}|auto`,list_style:`((${pe.AP.list_style_type}|${pe.AP.list_style_position}|${pe.C.image}|none})\\s*){1,3}`,margin_top:pe.C.margin_width,outline:`((${pe.C.color}|invert|${pe.A.border_style}|${pe.C.border_width})\\s*){1,3}`,overflow_y:pe.AP.overflow_x,pitch:`${pe.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${pe.B.len_or_perc}`,word_spacing:`normal|${pe.B.length}`,background_image:`${pe.C.bg_image}(,\\s*${pe.C.bg_image})*`,border_bottom_right_radius:`(${pe.B.length}|${pe.B.percentage})(\\s*(${pe.B.length}|${pe.B.percentage}))?`,border_left_width:pe.C.border_width,border_right_width:pe.C.border_width,left:`${pe.B.len_or_perc}|auto`,margin_bottom:pe.C.margin_width,pause_after:`${pe.B.time}|${pe.B.percentage}`,speech_rate:`${pe.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${pe.B.time}(,\\s*${pe.B.time})*`,border_bottom:`((${pe.C.border_width}|${pe.A.border_style}|${pe.C.color})\\s*){1,3}`,border_right:`((${pe.C.border_width}|${pe.A.border_style}|${pe.C.color})\\s*){1,3}`,margin:`((${pe.C.margin_width})\\s*){1,4}`,padding_left:pe.C.padding_width,border_left:`((${pe.C.border_width}|${pe.A.border_style}|${pe.C.color})\\s*){1,3}`,quotes:`(${pe.B.string}\\s*${pe.B.string})+|none`,border_top_right_radius:`(${pe.B.length}|${pe.B.percentage})(\\s*(${pe.B.length}|${pe.B.percentage}))?`,min_width:`${pe.B.length_pos}|${pe.B.percentage_pos}|auto`},pe._CP1={font:`(((((${pe.AP.font_style}|${pe.AP.font_variant}|${pe.AP.font_weight})\\s*){1,3})?\\s*(${pe._CP.font_size})\\s*(\\/\\s*(${pe._CP.line_height}))?\\s+(${pe._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},pe.CP={...pe._CP,...pe._CP1},pe.BORDER_COLLAPSE=pe.reg(pe.AP.border_collapse),pe.BOX=pe.reg(pe.AP.box),pe.BOX_SIZING=pe.reg(pe.AP.box_sizing),pe.CAPTION_SIDE=pe.reg(pe.AP.caption_side),pe.CLEAR=pe.reg(pe.AP.clear),pe.DIRECTION=pe.reg(pe.AP.direction),pe.EMPTY_CELLS=pe.reg(pe.AP.empty_cells),pe.FLOAT=pe.reg(pe.AP.float),pe.FONT_STRETCH=pe.reg(pe.AP.font_stretch),pe.FONT_STYLE=pe.reg(pe.AP.font_style),pe.FONT_VARIANT=pe.reg(pe.AP.font_variant),pe.FONT_WEIGHT=pe.reg(pe.AP.font_weight),pe.LIST_STYLE_POSITION=pe.reg(pe.AP.list_style_position),pe.LIST_STYLE_TYPE=pe.reg(pe.AP.list_style_type),pe.OVERFLOW=pe.reg(pe.AP.overflow),pe.OVERFLOW_WRAP=pe.reg(pe.AP.overflow_wrap),pe.OVERFLOW_X=pe.reg(pe.AP.overflow_x),pe.PAGE_BREAK_AFTER=pe.reg(pe.AP.page_break_after),pe.PAGE_BREAK_BEFORE=pe.reg(pe.AP.page_break_before),pe.PAGE_BREAK_INSIDE=pe.reg(pe.AP.page_break_inside),pe.POSITION=pe.reg(pe.AP.position),pe.RESIZE=pe.reg(pe.AP.resize),pe.SPEAK=pe.reg(pe.AP.speak),pe.SPEAK_HEADER=pe.reg(pe.AP.speak_header),pe.SPEAK_NUMERAL=pe.reg(pe.AP.speak_numeral),pe.SPEAK_PUNCTUATION=pe.reg(pe.AP.speak_punctuation),pe.TABLE_LAYOUT=pe.reg(pe.AP.table_layout),pe.TEXT_ALIGN=pe.reg(pe.AP.text_align),pe.TEXT_DECORATION=pe.reg(pe.AP.text_decoration),pe.TEXT_TRANSFORM=pe.reg(pe.AP.text_transform),pe.TEXT_WRAP=pe.reg(pe.AP.text_wrap),pe.UNICODE_BIDI=pe.reg(pe.AP.unicode_bidi),pe.VISIBILITY=pe.reg(pe.AP.visibility),pe.WHITE_SPACE=pe.reg(pe.AP.white_space),pe.WORD_BREAK=pe.reg(pe.AP.word_break),pe.BACKGROUND_ATTACHMENT=pe.reg(pe.CP.background_attachment),pe.BACKGROUND_COLOR=pe.reg(pe.CP.background_color),pe.BACKGROUND_ORIGIN=pe.reg(pe.CP.background_origin),pe.BACKGROUND_REPEAT=pe.reg(pe.CP.background_repeat),pe.BORDER=pe.reg(pe.CP.border),pe.BORDER_RADIUS=pe.reg(pe.CP.border_radius),pe.BORDER_SPACING=pe.reg(pe.CP.border_spacing),pe.BORDER_TOP_COLOR=pe.reg(pe.CP.border_top_color),pe.BORDER_TOP_STYLE=pe.reg(pe.CP.border_top_style),pe.BORDER_WIDTH=pe.reg(pe.CP.border_width),pe.COLOR=pe.reg(pe.CP.color),pe.CURSOR=pe.reg(pe.CP.cursor),pe.DISPLAY=pe.reg(pe.CP.display),pe.DISPLAY_OUTSIDE=pe.reg(pe.CP.display_outside),pe.ELEVATION=pe.reg(pe.CP.elevation),pe.FONT_FAMILY=pe.reg(pe.CP.font_family),pe.HEIGHT=pe.reg(pe.CP.height),pe.LETTER_SPACING=pe.reg(pe.CP.letter_spacing),pe.LIST_STYLE_IMAGE=pe.reg(pe.CP.list_style_image),pe.MARGIN_RIGHT=pe.reg(pe.CP.margin_right),pe.MAX_HEIGHT=pe.reg(pe.CP.max_height),pe.MIN_HEIGHT=pe.reg(pe.CP.min_height),pe.OPACITY=pe.reg(pe.CP.opacity),pe.OUTLINE_COLOR=pe.reg(pe.CP.outline_color),pe.OUTLINE_WIDTH=pe.reg(pe.CP.outline_width),pe.PADDING=pe.reg(pe.CP.padding),pe.PADDING_TOP=pe.reg(pe.CP.padding_top),pe.PITCH_RANGE=pe.reg(pe.CP.pitch_range),pe.RIGHT=pe.reg(pe.CP.right),pe.STRESS=pe.reg(pe.CP.stress),pe.TEXT_INDENT=pe.reg(pe.CP.text_indent),pe.TEXT_SHADOW=pe.reg(pe.CP.text_shadow),pe.VOLUME=pe.reg(pe.CP.volume),pe.WORD_WRAP=pe.reg(pe.CP.word_wrap),pe.ZOOM=pe.reg(pe.CP.zoom),pe.BACKFACE_VISIBILITY=pe.reg(pe.CP.backface_visibility),pe.BACKGROUND_CLIP=pe.reg(pe.CP.background_clip),pe.BACKGROUND_POSITION=pe.reg(pe.CP.background_position),pe.BORDER_BOTTOM_COLOR=pe.reg(pe.CP.border_bottom_color),pe.BORDER_BOTTOM_STYLE=pe.reg(pe.CP.border_bottom_style),pe.BORDER_COLOR=pe.reg(pe.CP.border_color),pe.BORDER_LEFT_COLOR=pe.reg(pe.CP.border_left_color),pe.BORDER_RIGHT_COLOR=pe.reg(pe.CP.border_right_color),pe.BORDER_STYLE=pe.reg(pe.CP.border_style),pe.BORDER_TOP_LEFT_RADIUS=pe.reg(pe.CP.border_top_left_radius),pe.BORDER_TOP_WIDTH=pe.reg(pe.CP.border_top_width),pe.BOX_SHADOW=pe.reg(pe.CP.box_shadow),pe.CLIP=pe.reg(pe.CP.clip),pe.DISPLAY_INSIDE=pe.reg(pe.CP.display_inside),pe.FONT_SIZE=pe.reg(pe.CP.font_size),pe.LINE_HEIGHT=pe.reg(pe.CP.line_height),pe.MARGIN_LEFT=pe.reg(pe.CP.margin_left),pe.MAX_WIDTH=pe.reg(pe.CP.max_width),pe.OUTLINE_STYLE=pe.reg(pe.CP.outline_style),pe.PADDING_BOTTOM=pe.reg(pe.CP.padding_bottom),pe.PADDING_RIGHT=pe.reg(pe.CP.padding_right),pe.PERSPECTIVE=pe.reg(pe.CP.perspective),pe.RICHNESS=pe.reg(pe.CP.richness),pe.TEXT_OVERFLOW=pe.reg(pe.CP.text_overflow),pe.TOP=pe.reg(pe.CP.top),pe.WIDTH=pe.reg(pe.CP.width),pe.Z_INDEX=pe.reg(pe.CP.z_index),pe.BACKGROUND=pe.reg(pe.CP.background),pe.BACKGROUND_SIZE=pe.reg(pe.CP.background_size),pe.BORDER_BOTTOM_LEFT_RADIUS=pe.reg(pe.CP.border_bottom_left_radius),pe.BORDER_BOTTOM_WIDTH=pe.reg(pe.CP.border_bottom_width),pe.BORDER_LEFT_STYLE=pe.reg(pe.CP.border_left_style),pe.BORDER_RIGHT_STYLE=pe.reg(pe.CP.border_right_style),pe.BORDER_TOP=pe.reg(pe.CP.border_top),pe.BOTTOM=pe.reg(pe.CP.bottom),pe.LIST_STYLE=pe.reg(pe.CP.list_style),pe.MARGIN_TOP=pe.reg(pe.CP.margin_top),pe.OUTLINE=pe.reg(pe.CP.outline),pe.OVERFLOW_Y=pe.reg(pe.CP.overflow_y),pe.PITCH=pe.reg(pe.CP.pitch),pe.VERTICAL_ALIGN=pe.reg(pe.CP.vertical_align),pe.WORD_SPACING=pe.reg(pe.CP.word_spacing),pe.BACKGROUND_IMAGE=pe.reg(pe.CP.background_image),pe.BORDER_BOTTOM_RIGHT_RADIUS=pe.reg(pe.CP.border_bottom_right_radius),pe.BORDER_LEFT_WIDTH=pe.reg(pe.CP.border_left_width),pe.BORDER_RIGHT_WIDTH=pe.reg(pe.CP.border_right_width),pe.LEFT=pe.reg(pe.CP.left),pe.MARGIN_BOTTOM=pe.reg(pe.CP.margin_bottom),pe.PAUSE_AFTER=pe.reg(pe.CP.pause_after),pe.SPEECH_RATE=pe.reg(pe.CP.speech_rate),pe.TRANSITION_DURATION=pe.reg(pe.CP.transition_duration),pe.BORDER_BOTTOM=pe.reg(pe.CP.border_bottom),pe.BORDER_RIGHT=pe.reg(pe.CP.border_right),pe.MARGIN=pe.reg(pe.CP.margin),pe.PADDING_LEFT=pe.reg(pe.CP.padding_left),pe.BORDER_LEFT=pe.reg(pe.CP.border_left),pe.FONT=pe.reg(pe.CP.font),pe.QUOTES=pe.reg(pe.CP.quotes),pe.BORDER_TOP_RIGHT_RADIUS=pe.reg(pe.CP.border_top_right_radius),pe.MIN_WIDTH=pe.reg(pe.CP.min_width);function fe(e){const t=e.split("\n"),n=new Array;let s,i=0;if("---"===t[i])for(let r=i+1;r<t.length;r++)if("---"===t[r]){i=r+1;break}for(;i<t.length;i++){const e=t[i];if(""===e)continue;if(e.startsWith("```")&&(s=!s),s)continue;const r=me(e,t[i+1]);r&&n.push({...r,line:i})}return n}const ge=["text/x-ipythongfm","text/x-markdown","text/x-gfm","text/markdown"];function me(e,t){let n=e.match(/^([#]{1,6}) (.*)/);return n?{text:_e(n[2]),level:n[1].length,raw:e,skip:ve.test(n[0])}:t&&(n=t.match(/^ {0,3}([=]{2,}|[-]{2,})\s*$/),n)?{text:_e(e),level:"="===n[1][0]?1:2,raw:[e,t].join("\n"),skip:ve.test(e)}:(n=e.match(/<h([1-6]).*>(.*)<\/h\1>/i),n?{text:n[2],level:parseInt(n[1],10),skip:ve.test(n[0]),raw:e}:null)}function _e(e){return e.replace(/\[(.+)\]\(.+\)/g,"$1")}const ve=/<\w+\s(.*?\s)?class="(.*?\s)?(jp-toc-ignore|tocSkip)(\s.*?)?"(\s.*?)?>/;new _.Token("@jupyterlab/toc:ITableOfContentsRegistry","A service to register table of content factory."),new _.Token("@jupyterlab/toc:ITableOfContentsTracker","A widget tracker for table of contents.");var be;!function(e){e.defaultConfig={baseNumbering:1,maximalDepth:4,numberingH1:!0,numberHeaders:!1,includeOutput:!0,syncCollapseState:!1}}(be||(be={}));function ye(e){return"text/html"===e}function we(e,t=!0){var n;const s=document.createElement("div");s.innerHTML=e;const i=new Array,r=s.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const o of r){const e=parseInt(o.tagName[1],10);i.push({text:null!==(n=o.textContent)&&void 0!==n?n:"",level:e,id:null==o?void 0:o.getAttribute("id"),skip:o.classList.contains("jp-toc-ignore")||o.classList.contains("tocSkip")})}return i}var xe,Se=n(20745);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ce.apply(this,arguments)}const ke=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ce({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,xe||(xe=h.createElement("path",{className:"jp-icon0",d:"m24 20.188-8.315-8.209 8.2-8.282L20.188 0l-8.212 8.318L3.666.115 0 3.781l8.321 8.24-8.206 8.313L3.781 24l8.237-8.318 8.285 8.203z"})))};var Ee;function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oe.apply(this,arguments)}const Me=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ee||(Ee=h.createElement("path",{d:"m24 20.188-8.315-8.209 8.2-8.282L20.188 0l-8.212 8.318L3.666.115 0 3.781l8.321 8.24-8.206 8.313L3.781 24l8.237-8.318 8.285 8.203z",fill:"none"})))};var Te;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},De.apply(this,arguments)}const Pe=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",De({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Te||(Te=h.createElement("path",{d:"M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76A6.003 6.003 0 0 0 9 3C5.69 3 3.01 5.69 3.01 9S5.69 15 9 15a5.98 5.98 0 0 0 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5z",className:"jp-icon3",fill:"#616161"})))};var Ae,Re,je=n(44570);function Ie(e){return e.map((e=>e&&"object"==typeof e?Object.keys(e).map((t=>!!e[t]&&t)):"string"==typeof e?e.split(/\s+/):[])).reduce(((e,t)=>e.concat(t)),[]).filter((e=>!!e))}function Ne(...e){return Ie(e).join(" ")}!function(e){const t={breadCrumb:{container:{$nest:{"&:first-child svg":{bottom:"1px",marginLeft:"0px",position:"relative"},"&:hover":{backgroundColor:"var(--jp-layout-color2)"},".jp-mod-dropTarget&":{backgroundColor:"var(--jp-brand-color2)",opacity:.7}}},element:{borderRadius:"var(--jp-border-radius)",cursor:"pointer",margin:"0px 2px",padding:"0px 2px",height:"16px",width:"16px",verticalAlign:"middle"}},commandPaletteHeader:{container:{height:"14px",margin:"0 14px 0 auto"},element:{height:"14px",width:"14px"},options:{elementPosition:"center"}},commandPaletteItem:{element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},launcherCard:{container:{height:"52px",width:"52px"},element:{height:"52px",width:"52px"},options:{elementPosition:"center"}},launcherSection:{container:{boxSizing:"border-box",marginRight:"12px",height:"32px",width:"32px"},element:{height:"32px",width:"32px"},options:{elementPosition:"center"}},listing:{container:{flex:"0 0 20px",marginRight:"4px",position:"relative"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},listingHeaderItem:{container:{display:"inline",height:"16px",width:"16px"},element:{height:"auto",margin:"-2px 0 0 0",width:"20px"},options:{elementPosition:"center"}},mainAreaTab:{container:{$nest:{".lm-DockPanel-tabBar &":{marginRight:"4px"}}},element:{$nest:{".lm-DockPanel-tabBar &":{height:"14px",width:"14px"}}},options:{elementPosition:"center"}},menuItem:{container:{display:"inline-block",verticalAlign:"middle"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},runningItem:{container:{margin:"0px 4px 0px 4px"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},select:{container:{pointerEvents:"none"},element:{position:"absolute",height:"auto",width:"16px"}},settingsEditor:{container:{display:"flex",flex:"0 0 20px",margin:"0 3px 0 0",position:"relative",height:"20px",width:"20px"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},sideBar:{element:{height:"auto",width:"20px"},options:{elementPosition:"center"}},splash:{container:{animation:"0.3s fade-in linear forwards",height:"100%",width:"100%",zIndex:1},element:{width:"100px"},options:{elementPosition:"center"}},statusBar:{element:{left:"0px",top:"0px",height:"18px",width:"20px",position:"relative"}},toolbarButton:{container:{display:"inline-block",verticalAlign:"middle"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}}};function n(e){return{container:{alignItems:"center",display:"flex"},element:{display:"block",...e}}}const s={center:n({margin:"0 auto",width:"100%"}),top:n({margin:"0 0 auto 0"}),right:n({margin:"0 0 0 auto"}),bottom:n({margin:"auto 0 0 0"}),left:n({margin:"0 auto 0 0"}),"top right":n({margin:"0 0 auto auto"}),"bottom right":n({margin:"auto 0 0 auto"}),"bottom left":n({margin:"auto auto 0 0"}),"top left":n({margin:"0 auto 0 auto"})};function i(e){return{element:{height:e,width:e}}}const r={small:i("14px"),normal:i("16px"),large:i("20px"),xlarge:i("24px")};function o(e){const t=Object.assign({},...e.map((e=>e.options)));return t.elementPosition&&e.unshift(s[t.elementPosition]),t.elementSize&&e.unshift(r[t.elementSize]),function(e){return{container:Object.assign({},...e.map((e=>e.container))),element:Object.assign({},...e.map((e=>e.element)))}}(e)}const a=new Map;e.styleClass=function(e){if(!e||0===Object.keys(e).length)return"";let{elementPosition:n,elementSize:s,stylesheet:i,...r}=e;const l={...n&&{elementPosition:n},...s&&{elementSize:s}},c="string"==typeof i&&0===Object.keys(r).length,u=c?[i,n,s].join(","):"";if(c&&a.has(u))return a.get(u);const h=function(e){return e?(Array.isArray(e)||(e=[e]),e.map((e=>"string"==typeof e?t[e]:e))):[]}(i);h.push({element:r,options:l});const d=function(e){var t;return(0,je.style)({...e.container,$nest:{...null===(t=e.container)||void 0===t?void 0:t.$nest,svg:e.element}})}(o(h));return c&&a.set(u,d),d}}(Ae||(Ae={}));class Le{static remove(e){for(;e.firstChild;)e.firstChild.remove();return e.className="",e}static resolve({icon:e}){if(e instanceof Le)return e;if("string"==typeof e){const t=Le._instances.get(e);return t||(Le._debug&&console.warn(`Lookup failed for icon, creating loading icon. icon: ${e}`),new Le({name:e,svgstr:Pe,_loading:!0}))}return new Le(e)}static resolveElement({icon:e,iconClass:t,fallback:n,...s}){return Re.isResolvable(e)?Le.resolve({icon:e}).element(s):!t&&n?n.element(s):(s.className=Ne(t,s.className),Re.blankElement(s))}static resolveReact({icon:e,iconClass:t,fallback:n,...s}){if(!Re.isResolvable(e))return!t&&n?h.createElement(n.react,{...s}):(s.className=Ne(t,s.className),h.createElement(Re.blankReact,{...s}));const i=Le.resolve({icon:e});return h.createElement(i.react,{...s})}static resolveSvg({name:e,svgstr:t}){const n=(new DOMParser).parseFromString(Re.svgstrShim(t),"image/svg+xml"),s=n.querySelector("parsererror");if(s){const n=`SVG HTML was malformed for LabIcon instance.\nname: ${e}, svgstr: ${t}`;return Le._debug?(console.error(n),s):(console.warn(n),null)}return n.documentElement}static toggleDebug(e){Le._debug=null!=e?e:!Le._debug}constructor({name:e,svgstr:t,render:n,unrender:s,_loading:i=!1}){if(this._props={},this._svgReplaced=new f.Signal(this),this._svgElement=void 0,this._svgInnerHTML=void 0,this._svgReactAttrs=void 0,!e||!t)return console.error(`When defining a new LabIcon, name and svgstr must both be non-empty strings. name: ${e}, svgstr: ${t}`),Be;if(this._loading=i,Le._instances.has(e)){const n=Le._instances.get(e);return this._loading?(n.svgstr=t,this._loading=!1,n):(Le._debug&&console.warn(`Redefining previously loaded icon svgstr. name: ${e}, svgstrOld: ${n.svgstr}, svgstr: ${t}`),n.svgstr=t,n)}this.name=e,this.react=this._initReact(e),this.svgstr=t,this._initRender({render:n,unrender:s}),Le._instances.set(this.name,this)}bindprops(e){const t=Object.create(this);return t._props=e,t.react=t._initReact(t.name+"_bind"),t}element(e={}){var t;let{className:n,container:s,label:i,title:r,tag:o="div",...a}={...this._props,...e};const l=null==s?void 0:s.firstChild;if((null===(t=null==l?void 0:l.dataset)||void 0===t?void 0:t.iconId)===this._uuid)return l;if(!this.svgElement)return document.createElement("div");if(s)for(;s.firstChild;)s.firstChild.remove();else o&&(s=document.createElement(o));const c=this.svgElement.cloneNode(!0);return s?(null!=i&&(s.textContent=i),Re.initContainer({container:s,className:n,styleProps:a,title:r}),s.appendChild(c),s):(i&&console.warn(),c)}render(e,t){var n;let s=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof s&&(s=void 0),this.element({container:e,label:s,...null==t?void 0:t.props})}get svgElement(){return void 0===this._svgElement&&(this._svgElement=this._initSvg({uuid:this._uuid})),this._svgElement}get svgInnerHTML(){return void 0===this._svgInnerHTML&&(null===this.svgElement?this._svgInnerHTML=null:this._svgInnerHTML=this.svgElement.innerHTML),this._svgInnerHTML}get svgReactAttrs(){return void 0===this._svgReactAttrs&&(null===this.svgElement?this._svgReactAttrs=null:this._svgReactAttrs=function(e,{ignore:t=[]}={}){return e.getAttributeNames().reduce(((n,s)=>("style"===s||t.includes(s)||(s.startsWith("data")?n[s]=e.getAttribute(s):n[k.Text.camelCase(s)]=e.getAttribute(s)),n)),{})}(this.svgElement,{ignore:["data-icon-id"]})),this._svgReactAttrs}get svgstr(){return this._svgstr}set svgstr(e){this._svgstr=e;const t=_.UUID.uuid4(),n=this._uuid;this._uuid=t,this._svgElement=void 0,this._svgInnerHTML=void 0,this._svgReactAttrs=void 0,document.querySelectorAll(`[data-icon-id="${n}"]`).forEach((e=>{this.svgElement&&e.replaceWith(this.svgElement.cloneNode(!0))})),this._svgReplaced.emit()}_initReact(e){const t=h.forwardRef(((e={},t)=>{const{className:n,container:s,label:i,title:r,tag:o="div",...a}={...this._props,...e},[,l]=h.useState(this._uuid);h.useEffect((()=>{const e=()=>{l(this._uuid)};return this._svgReplaced.connect(e),()=>{this._svgReplaced.disconnect(e)}}));const c=null!=o?o:h.Fragment;if(!this.svgInnerHTML||!this.svgReactAttrs)return h.createElement(h.Fragment,null);const u=h.createElement("svg",{...this.svgReactAttrs,dangerouslySetInnerHTML:{__html:this.svgInnerHTML},ref:t});if(s)return Re.initContainer({container:s,className:n,styleProps:a,title:r}),h.createElement(h.Fragment,null,u,i);{let e={};return c!==h.Fragment&&(e={className:n||a?Ne(n,Ae.styleClass(a)):void 0,title:r}),h.createElement(c,{...e},u,i)}}));return t.displayName=`LabIcon_${e}`,t}_initRender({render:e,unrender:t}){e?(this.render=e,t&&(this.unrender=t)):t&&console.warn("In _initRender, ignoring unrender arg since render is undefined")}_initSvg({title:e,uuid:t}={}){const n=Le.resolveSvg(this);return n?("parsererror"!==n.tagName&&(n.dataset.icon=this.name,t&&(n.dataset.iconId=t),e&&Re.setTitleSvg(n,e)),n):n}}Le._debug=!1,Le._instances=new Map,function(e){function t({container:e,className:t,styleProps:n,title:s}){null!=s&&(e.title=s);const i=Ae.styleClass(n);if(null!=t){const n=Ne(t,i);return e.className=n,n}return i?(e.classList.add(i),i):""}e.blankElement=function({className:t="",container:n,label:s,title:i,tag:r="div",...o}){if((null==n?void 0:n.className)===t)return n;if(n)for(;n.firstChild;)n.firstChild.remove();else n=document.createElement(null!=r?r:"div");return null!=s&&(n.textContent=s),e.initContainer({container:n,className:t,styleProps:o,title:i}),n},e.blankReact=h.forwardRef((({className:e="",container:n,label:s,title:i,tag:r="div",...o},a)=>{const l=null!=r?r:"div";return n?(t({container:n,className:e,styleProps:o,title:i}),h.createElement(h.Fragment,null)):h.createElement(l,{className:Ne(e,Ae.styleClass(o))},a&&$e.react({ref:a}),s)})),e.blankReact.displayName="BlankReact",e.initContainer=t,e.isResolvable=function(e){return!(!e||!("string"==typeof e||e.name&&e.svgstr))},e.setTitleSvg=function(e,t){const n=e.getElementsByTagName("title");if(n.length)n[0].textContent=t;else{const n=document.createElement("title");n.textContent=t,e.appendChild(n)}},e.svgstrShim=function(e,t=!0){const[,n,s]=decodeURIComponent(e).replace(/>\s*\n\s*</g,"><").replace(/\s*\n\s*/g," ").match(t?/^(?:data:.*?(;base64)?,)?(.*)/:/(?:(base64).*)?(<svg.*)/);return n?atob(s):s};class n{constructor(e,t){this._icon=e,this._rendererOptions=t}render(e,t){}}e.Renderer=n;e.ElementRenderer=class extends n{render(e,t){var n,s;let i=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof i&&(i=void 0),this._icon.element({container:e,label:i,...null===(s=this._rendererOptions)||void 0===s?void 0:s.props,...null==t?void 0:t.props})}};e.ReactRenderer=class extends n{constructor(){super(...arguments),this._rootDOM=null}render(e,t){var n,s;let i=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof i&&(i=void 0);const r=this._icon;null!==this._rootDOM&&this._rootDOM.unmount(),this._rootDOM=(0,Se.createRoot)(e),this._rootDOM.render(h.createElement(r.react,{container:e,label:i,...null===(s=this._rendererOptions)||void 0===s?void 0:s.props,...null==t?void 0:t.props}))}unrender(e){null!==this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}}(Re||(Re={}));const Be=new Le({name:"ui-components:bad",svgstr:ke}),$e=new Le({name:"ui-components:blank",svgstr:Me});var Fe,Ue,ze;function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ve.apply(this,arguments)}var qe,He,We;function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ke.apply(this,arguments)}const Ge=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ke({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,qe||(qe=h.createElement("g",{clipPath:"url(#a)"},h.createElement("path",{className:"jp-icon3",d:"M9.25 10.07H7.375V8.193A.376.376 0 0 0 7 7.82a.376.376 0 0 0-.375.375v1.875H4.75a.376.376 0 0 0-.375.375c0 .207.169.375.375.375h1.875v1.875c0 .207.169.375.375.375a.376.376 0 0 0 .375-.375V10.82H9.25a.376.376 0 0 0 .375-.375.376.376 0 0 0-.375-.375Z",fill:"#616161",stroke:"#616161",strokeWidth:.7}))),He||(He=h.createElement("path",{className:"jp-icon3",fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 5.5v-2h9v2h-9ZM2 7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2Z",fill:"#616161"})),We||(We=h.createElement("defs",null,h.createElement("clipPath",{id:"a"},h.createElement("path",{className:"jp-icon3",fill:"#fff",transform:"matrix(1 0 0 -1 4 13.444)",d:"M0 0h6v6H0z"})))))};var Je;function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ye.apply(this,arguments)}const Xe=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ye({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Je||(Je=h.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",className:"jp-icon3",fill:"#616161"})))};var Ze;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qe.apply(this,arguments)}const et=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Qe({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 16 16","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ze||(Ze=h.createElement("path",{className:"jp-icon2 jp-icon-selectable",fill:"#333",d:"M8 .29c-1.4 0-2.7.73-3.6 1.8-1.2 1.5-1.4 3.4-1.5 5.2-.18 2.2-.44 4-2.3 5.3l.28 1.3h5c.026.66.32 1.1.71 1.5.84.61 2 .61 2.8 0 .52-.4.6-1 .71-1.5h5l.28-1.3c-1.9-.97-2.2-3.3-2.3-5.3-.13-1.8-.26-3.7-1.5-5.2-.85-1-2.2-1.8-3.6-1.8zm0 1.4c.88 0 1.9.55 2.5 1.3.88 1.1 1.1 2.7 1.2 4.4.13 1.7.23 3.6 1.3 5.2H3c1.1-1.6 1.2-3.4 1.3-5.2.13-1.7.3-3.3 1.2-4.4.59-.72 1.6-1.3 2.5-1.3zm-.74 12h1.5c-.002.28.015.79-.74.79-.73.002-.72-.53-.74-.79z"})))};var tt;function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nt.apply(this,arguments)}const st=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",nt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,tt||(tt=h.createElement("g",{className:"jp-icon3 jp-icon-selectable",fill:"#616161"},h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.19 8H20v2h-2.09c.05.33.09.66.09 1v1h2v2h-2v.027a4.5 4.5 0 0 0-3.545 6.447A5.997 5.997 0 0 1 6.81 18H4v-2h2.09c-.05-.33-.09-.66-.09-1v-1H4v-2h2v-1c0-.34.04-.67.09-1H4V8h2.81c.45-.78 1.07-1.45 1.81-1.96L7 4.41 8.41 3l2.18 2.17c.45-.11.92-.17 1.41-.17.49 0 .96.06 1.42.17L15.59 3 17 4.41l-1.63 1.63c.75.51 1.37 1.18 1.82 1.96ZM10 16h4v-2h-4v2Zm0-4h4v-2h-4v2Z"}),h.createElement("path",{d:"M22 18.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"}))))};var it;function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rt.apply(this,arguments)}const ot=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",rt({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,it||(it=h.createElement("path",{d:"M20 8h-2.81a5.985 5.985 0 0 0-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z",className:"jp-icon3 jp-icon-selectable",fill:"#616161"})))};var at;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lt.apply(this,arguments)}const ct=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",lt({width:16,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,at||(at=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M14.9 17.45c1.35 0 2.45-1.1 2.45-2.45s-1.1-2.45-2.45-2.45c-1.36 0-2.45 1.1-2.45 2.45s1.09 2.45 2.45 2.45Zm5.2-1.77 1.48 1.16c.13.11.17.29.08.45l-1.4 2.42a.35.35 0 0 1-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.27 1.85c-.02.17-.17.3-.34.3h-2.8c-.18 0-.32-.13-.35-.3l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.75.7c-.15.06-.34 0-.42-.15l-1.4-2.42a.351.351 0 0 1 .08-.45l1.48-1.16-.05-.68.05-.69-1.48-1.15a.353.353 0 0 1-.08-.45l1.4-2.42c.08-.16.27-.22.42-.16l1.75.71c.36-.28.75-.52 1.18-.69l.26-1.86c.03-.16.17-.29.35-.29h2.8c.17 0 .32.13.34.29l.27 1.86c.42.17.82.41 1.18.69l1.74-.71c.17-.06.34 0 .43.16l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.15.05.69-.05.68ZM7.33 7.445A1.566 1.566 0 0 0 7.904 5.3a1.575 1.575 0 1 0-.574 2.145Zm2.327-2.65 1.21.157c.096.025.173.12.171.236v1.8a.214.214 0 0 1-.183.223l-1.195.17-.42.75.43 1.126c.037.106 0 .22-.096.275l-1.559.9a.228.228 0 0 1-.294-.05l-.734-.95-.878-.001-.762.96c-.058.08-.173.1-.275.043l-1.56-.901a.229.229 0 0 1-.101-.276l.452-1.116-.246-.366-.194-.396-1.192-.166a.229.229 0 0 1-.189-.226V5.186c.002-.117.077-.206.175-.217l1.204-.175.446-.766-.456-1.11a.228.228 0 0 1 .104-.28l1.56-.9a.225.225 0 0 1 .285.054l.76.936.86.01.745-.949a.214.214 0 0 1 .284-.048l1.56.9c.101.057.144.171.118.267l-.47 1.126.246.366.194.396Z"}))))};var ut;function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ht.apply(this,arguments)}const dt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ht({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ut||(ut=h.createElement("path",{d:"M5.2 5.9 9 9.7l3.8-3.8L14 7.1l-4.9 5-4.9-5 1-1.2z",className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"})))};var pt;function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ft.apply(this,arguments)}const gt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ft({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 20 20","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,pt||(pt=h.createElement("g",{className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"},h.createElement("path",{className:"st1",d:"M9.9 13.6 3.6 7.4l.8-.8 5.5 5.6 5.5-5.5.7.7z"}))))};var mt;function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_t.apply(this,arguments)}const vt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,mt||(mt=h.createElement("path",{d:"M5.2 7.5 9 11.2l3.8-3.8H5.2z",className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"})))};var bt;function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yt.apply(this,arguments)}const wt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",yt({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,bt||(bt=h.createElement("path",{d:"M10.8 12.8 7.1 9l3.8-3.8v7.6h-.1z",className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"})))};var xt;function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},St.apply(this,arguments)}const Ct=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",St({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,xt||(xt=h.createElement("path",{d:"M7.2 5.2 10.9 9l-3.8 3.8V5.2h.1z",className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"})))};var kt;function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Et.apply(this,arguments)}const Ot=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Et({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 20 20","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,kt||(kt=h.createElement("g",{className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"},h.createElement("path",{className:"st1",d:"M15.4 13.3 9.9 7.7l-5.5 5.5-.8-.7 6.3-6.2 6.2 6.3z"}))))};var Mt;function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tt.apply(this,arguments)}const Dt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Tt({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 18 18","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Mt||(Mt=h.createElement("path",{d:"M5.2 10.5 9 6.8l3.8 3.8H5.2z",className:"jp-icon3",fill:"#616161",shapeRendering:"geometricPrecision"})))};var Pt,At;function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rt.apply(this,arguments)}const jt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Rt({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 20 20","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Pt||(Pt=h.createElement("path",{d:"M2 2h16v16H2z",className:"jp-icon2",fill:"#414141"})),At||(At=h.createElement("g",{className:"jp-icon-accent2",fill:"#FFF"},h.createElement("path",{d:"M7.6 8h.9l3.5 8h-1.1l-.9-2H6l-.9 2H4l3.6-8zM8 9.1 6.4 13h3.2L8 9.1zM16.6 9.8c-.2.1-.4.1-.7.1-.2 0-.4-.1-.6-.2-.1-.1-.2-.4-.2-.7-.3.3-.6.5-.9.7-.3.1-.7.2-1.1.2-.3 0-.5 0-.7-.1l-.6-.3c-.2-.1-.3-.3-.4-.5-.1-.2-.1-.4-.1-.7 0-.3.1-.6.2-.8.1-.2.3-.4.4-.5.1 0 .3-.1.6-.2.2-.1.5-.1.7-.2.3-.1.5-.1.7-.1.2 0 .4-.1.6-.1.2 0 .3-.1.4-.2.1-.1.2-.2.2-.4 0-1-1.1-1-1.3-1-.4 0-1.4 0-1.4 1.2h-.9c0-.4.1-.7.2-1 .1-.2.3-.4.5-.6.2-.2.5-.3.8-.3.3-.1.6-.1.9-.1.3 0 .5 0 .8.1.3 0 .5.1.7.2.2.1.4.3.5.5.1.2.1.4.1.8V9c0 .1.1.2.3.2h.3v.6zm-1.4-2.9c-1.2.6-3.1.2-3.1 1.4 0 1.4 3.1 1 3.1-.5v-.9z"}))))};var It;function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nt.apply(this,arguments)}const Lt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,It||(It=h.createElement("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",className:"jp-icon3 jp-icon-selectable",fill:"#616161"})))};var Bt;function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$t.apply(this,arguments)}const Ft=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",$t({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Bt||(Bt=h.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",className:"jp-icon3",fill:"#616161"})))};var Ut;function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zt.apply(this,arguments)}const Vt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",zt({viewBox:"0 0 18 18",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ut||(Ut=h.createElement("circle",{cx:9,cy:9,r:8,className:"jp-icon3",fill:"#616161"})))};var qt,Ht;function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wt.apply(this,arguments)}const Kt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Wt({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,qt||(qt=h.createElement("mask",{id:"a"},h.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}),h.createElement("circle",{cx:12,cy:12,r:8}))),Ht||(Ht=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M4.929 6.343 6.343 4.93l12.728 12.728-1.414 1.414z"}),h.createElement("circle",{cx:12,cy:12,r:10,mask:"url(#a)"}))))};var Gt,Jt,Yt;function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xt.apply(this,arguments)}const Zt=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Xt({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Gt||(Gt=h.createElement("circle",{cx:12,cy:12,r:11,className:"jp-icon-none jp-icon-selectable-inverse jp-icon3-hover",fill:"none"})),Jt||(Jt=h.createElement("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",className:"jp-icon3 jp-icon-selectable jp-icon-accent2-hover",fill:"#616161"})),Yt||(Yt=h.createElement("circle",{cx:12,cy:12,r:7,className:"jp-icon-none jp-icon-busy",fill:"none"})))};var Qt;function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},en.apply(this,arguments)}const tn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:24,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Qt||(Qt=h.createElement("path",{d:"M6.59 3.41 2 8l4.59 4.6L8 11.18 4.82 8 8 4.82 6.59 3.41m5.82 0L11 4.82 14.18 8 11 11.18l1.41 1.42L17 8l-4.59-4.59m9.18 8.18-8.09 8.09L9.83 16l-1.41 1.41 5.08 5.09L23 13l-1.41-1.41Z",className:"jp-icon3 jp-icon-selectable",fill:"#616161",shapeRendering:"geometricPrecision"})))};var nn;function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sn.apply(this,arguments)}const rn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",sn({width:22,height:22,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,nn||(nn=h.createElement("path",{d:"M11.4 18.6 6.8 14l4.6-4.6L10 8l-6 6 6 6 1.4-1.4Zm5.2 0 4.6-4.6-4.6-4.6L18 8l6 6-6 6-1.4-1.4Z",className:"jp-icon3",fill:"#616161"})))};var on;function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},an.apply(this,arguments)}const ln=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",an({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,on||(on=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M8 2h12c1 0 2 1 2 2v12c0 1 0 2-2 2V4H6c0-2 1-2 2-2z"}),h.createElement("path",{d:"M18 8c0-1-1-2-2-2H4C3 6 2 7 2 8v12c0 1 1 2 2 2h12c1 0 2-1 2-2V8zm-2 0v12H4V8z"}),h.createElement("path",{d:"M6 13v2h8v-2z"}))))};var cn;function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},un.apply(this,arguments)}const hn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",un({width:16,viewBox:"0 0 8.5 10.5",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,cn||(cn=h.createElement("g",{className:"jp-icon-output",fill:"#BDBDBD"},h.createElement("path",{d:"M.019 0h8.458v1.064H.019zM0 9.52h8.491v1.059H0zm4.776-6.608H3.72V1.323h1.056z"}),h.createElement("path",{d:"m4.244 5.243-1.06-1.167-1.06-1.167h4.24l-1.06 1.167zm.528 4.014H3.716V7.665h1.056z"}),h.createElement("path",{d:"M4.242 5.332 5.302 6.5l1.06 1.167h-4.24L3.182 6.5z"}))))};var dn,pn;function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fn.apply(this,arguments)}const gn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",fn({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 200 200","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,dn||(dn=h.createElement("path",{d:"M20 19.8h160v159.9H20z",className:"jp-console-icon-background-color jp-icon-selectable",fill:"#0288D1"})),pn||(pn=h.createElement("path",{d:"M105 127.3h40v12.8h-40zM51.1 77 74 99.9l-23.3 23.3 10.5 10.5 23.3-23.3L95 99.9 84.5 89.4 61.6 66.5z",className:"jp-console-icon-color jp-icon-selectable-inverse",fill:"#fff"})))};var mn;function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_n.apply(this,arguments)}const vn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",_n({viewBox:"0 0 18 18",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,mn||(mn=h.createElement("path",{d:"M11.9 1H3.2c-.8 0-1.5.7-1.5 1.5v10.2h1.5V2.5h8.7V1zm2.2 2.9h-8c-.8 0-1.5.7-1.5 1.5v10.2c0 .8.7 1.5 1.5 1.5h8c.8 0 1.5-.7 1.5-1.5V5.4c-.1-.8-.7-1.5-1.5-1.5zm0 11.6h-8V5.4h8v10.1z",className:"jp-icon3",fill:"#616161"})))};var bn;function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yn.apply(this,arguments)}const wn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",yn({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,bn||(bn=h.createElement("path",{d:"M11.88 9.14c1.28.06 1.61 1.15 1.63 1.66h1.79c-.08-1.98-1.49-3.19-3.45-3.19C9.64 7.61 8 9 8 12.14c0 1.94.93 4.24 3.84 4.24 2.22 0 3.41-1.65 3.44-2.95h-1.79c-.03.59-.45 1.38-1.63 1.44-1.31-.04-1.86-1.06-1.86-2.73 0-2.89 1.28-2.98 1.88-3zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",className:"jp-icon3",fill:"#616161"})))};var xn;function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sn.apply(this,arguments)}const Cn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Sn({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,xn||(xn=h.createElement("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z",className:"jp-icon3",fill:"#616161"})))};var kn,En;function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},On.apply(this,arguments)}const Mn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:16,height:16,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,kn||(kn=h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),En||(En=h.createElement("path",{className:"jp-icon3",fill:"#626262",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))};var Tn;function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dn.apply(this,arguments)}const Pn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Dn({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Tn||(Tn=h.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z",className:"jp-icon3",fill:"#616161"})))};var An,Rn;function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jn.apply(this,arguments)}const In=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",jn({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,An||(An=h.createElement("path",{className:"jp-icon3",fillRule:"evenodd",clipRule:"evenodd",d:"M2.8.875h6.096c.305 0 .554.264.554.587 0 .323-.25.587-.554.587H3.354c-.305 0-.554.264-.554.587V9.68c0 .322-.25.587-.554.587-.305 0-.554-.264-.554-.587V2.049c0-.646.498-1.174 1.108-1.174ZM5.367 11.9V4.55h5.716v7.35H5.367ZM4.142 4.142c0-.451.365-.817.816-.817h6.534c.45 0 .816.366.816.817v8.166a.817.817 0 0 1-.816.817H4.958a.817.817 0 0 1-.816-.817V4.142Z",fill:"#616161"})),Rn||(Rn=h.createElement("path",{className:"jp-icon3",d:"M9.436 8.265H8.364v1.071a.215.215 0 0 1-.214.215.215.215 0 0 1-.214-.215v-1.07H6.864a.215.215 0 0 1-.214-.215c0-.118.096-.215.214-.215h1.072v-1.07c0-.119.096-.215.214-.215s.214.096.214.214v1.072h1.072c.118 0 .214.096.214.214a.215.215 0 0 1-.214.214Z",fill:"#616161",stroke:"#616161",strokeWidth:.5})))};var Nn;function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ln.apply(this,arguments)}const Bn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ln({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Nn||(Nn=h.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",className:"jp-icon3",fill:"#616161"})))};var $n;function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fn.apply(this,arguments)}const Un=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Fn({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,$n||($n=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("circle",{cx:5,cy:12,r:2}),h.createElement("circle",{cx:12,cy:12,r:2}),h.createElement("circle",{cx:19,cy:12,r:2}))))};var zn,Vn;function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qn.apply(this,arguments)}const Hn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",qn({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,zn||(zn=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("circle",{cx:12,cy:19,r:2}),h.createElement("path",{d:"M10 3h4v12h-4z"}))),Vn||(Vn=h.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};var Wn;function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kn.apply(this,arguments)}const Gn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Kn({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Wn||(Wn=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M8 2h12c1 0 2 1 2 2v12c0 1 0 2-2 2V4H6c0-2 1-2 2-2z"}),h.createElement("path",{d:"M18 8c0-1-1-2-2-2H4C3 6 2 7 2 8v12c0 1 1 2 2 2h12c1 0 2-1 2-2V8zm-2 0v12H4V8z"}),h.createElement("path",{d:"M11 10H9v3H6v2h3v3h2v-3h3v-2h-3z"}))))};var Jn;function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yn.apply(this,arguments)}const Xn=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Yn({width:16,viewBox:"0 0 8.5 10.5",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Jn||(Jn=h.createElement("g",{className:"jp-icon-output",fill:"#BDBDBD"},h.createElement("path",{d:"M.019 0h8.458v1.064H.019zM0 9.521h8.491v1.059H0zm3.712-5.822h1.056v1.589H3.712z"}),h.createElement("path",{d:"m4.244 1.368 1.06 1.167 1.06 1.167h-4.24l1.06-1.167zm-.532 3.92h1.056V6.88H3.712z"}),h.createElement("path",{d:"m4.242 9.213-1.06-1.167-1.06-1.167h4.24l-1.06 1.167z"}))))};var Zn;function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qn.apply(this,arguments)}const es=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Qn({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Zn||(Zn=h.createElement("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5a2.5 2.5 0 0 0-5 0V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5a2.5 2.5 0 0 0 0-5z",className:"jp-icon3",fill:"#616161"})))};var ts;function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ns.apply(this,arguments)}const ss=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ns({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ts||(ts=h.createElement("path",{d:"m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z",className:"jp-icon3",fill:"#616161"})))};var is;function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rs.apply(this,arguments)}const os=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",rs({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,is||(is=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"m19.3 8.2-5.5-5.5c-.3-.3-.7-.5-1.2-.5H3.9c-.8.1-1.6.9-1.6 1.8v14.1c0 .9.7 1.6 1.6 1.6h14.2c.9 0 1.6-.7 1.6-1.6V9.4c.1-.5-.1-.9-.4-1.2zm-5.8-3.3 3.4 3.6h-3.4V4.9zm3.9 12.7H4.7c-.1 0-.2 0-.2-.2V4.7c0-.2.1-.3.2-.3h7.2v4.4s0 .8.3 1.1c.3.3 1.1.3 1.1.3h4.3v7.2s-.1.2-.2.2z"})))};var as;function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ls.apply(this,arguments)}const cs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ls({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,as||(as=h.createElement("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z",className:"jp-icon3",fill:"#616161"})))};var us,hs;function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ds.apply(this,arguments)}const ps=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ds({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,us||(us=h.createElement("path",{d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z",className:"jp-icon3",fill:"#FFF"})),hs||(hs=h.createElement("circle",{cx:18,cy:17,r:3,className:"jp-icon-dot",fill:"#FFF"})))};var fs;function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gs.apply(this,arguments)}const ms=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",gs({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,fs||(fs=h.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z",className:"jp-icon3",fill:"#616161"})))};var _s;function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vs.apply(this,arguments)}const bs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",vs({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,_s||(_s=h.createElement("path",{d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z",className:"jp-icon3",fill:"#FFF"})))};var ys,ws;function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xs.apply(this,arguments)}const Ss=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",xs({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ys||(ys=h.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),ws||(ws=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-2.06 11L15 15.28 12.06 17l.78-3.33-2.59-2.24 3.41-.29L15 8l1.34 3.14 3.41.29-2.59 2.24.78 3.33z"})))};var Cs;function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ks.apply(this,arguments)}const Es=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ks({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Cs||(Cs=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})))};var Os;function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ms.apply(this,arguments)}const Ts=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ms({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Os||(Os=h.createElement("path",{d:"M13.5 8H12v5l4.28 2.54.72-1.21-3.5-2.08V8M13 3a9 9 0 0 0-9 9H1l3.96 4.03L9 12H6a7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.896 8.896 0 0 0 13 21a9 9 0 0 0 9-9 9 9 0 0 0-9-9",className:"jp-icon3",fill:"#616161"})))};var Ds,Ps;function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},As.apply(this,arguments)}const Rs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",As({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ds||(Ds=h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Ps||(Ps=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})))};var js,Is,Ns,Ls,Bs;function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$s.apply(this,arguments)}const Fs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",$s({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 512 512","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,js||(js=h.createElement("path",{className:"jp-icon0 jp-icon-selectable",d:"M108.4 0h23v22.8h21.2V0h23v69h-23V46h-21v23h-23.2M206 23h-20.3V0h63.7v23H229v46h-23m53.5-69h24.1l14.8 24.3L313.2 0h24.1v69h-23V34.8l-16.1 24.8-16.1-24.8V69h-22.6m89.2-69h23v46.2h32.6V69h-55.6"})),Is||(Is=h.createElement("path",{className:"jp-icon-selectable",fill:"#e44d26",d:"m107.6 471-33-370.4h362.8l-33 370.2L255.7 512"})),Ns||(Ns=h.createElement("path",{className:"jp-icon-selectable",fill:"#f16529",d:"M256 480.5V131h148.3L376 447"})),Ls||(Ls=h.createElement("path",{className:"jp-icon-selectable-inverse",fill:"#ebebeb",d:"M142 176.3h114v45.4h-64.2l4.2 46.5h60v45.3H154.4m2 22.8H202l3.2 36.3 50.8 13.6v47.4l-93.2-26"})),Bs||(Bs=h.createElement("path",{className:"jp-icon-selectable-inverse",fill:"#fff",d:"M369.6 176.3H255.8v45.4h109.6m-4.1 46.5H255.8v45.4h56l-5.3 59-50.7 13.6v47.2l93-25.8"})))};var Us,zs;function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vs.apply(this,arguments)}const qs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Vs({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Us||(Us=h.createElement("path",{className:"jp-icon-brand4 jp-icon-selectable-inverse",fill:"#FFF",d:"M2.2 2.2h17.5v17.5H2.2z"})),zs||(zs=h.createElement("path",{className:"jp-icon-brand0 jp-icon-selectable",fill:"#3F51B5",d:"M2.2 2.2v17.5h17.5l.1-17.5H2.2zm12.1 2.2c1.2 0 2.2 1 2.2 2.2s-1 2.2-2.2 2.2-2.2-1-2.2-2.2 1-2.2 2.2-2.2zM4.4 17.6l3.3-8.8 3.3 6.6 2.2-3.2 4.4 5.4H4.4z"})))};var Hs;function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ws.apply(this,arguments)}const Ks=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ws({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 50.978 50.978","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Hs||(Hs=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M43.52 7.458C38.711 2.648 32.307 0 25.489 0 18.67 0 12.266 2.648 7.458 7.458c-9.943 9.941-9.943 26.119 0 36.062 4.809 4.809 11.212 7.456 18.031 7.458h.002c6.816 0 13.221-2.648 18.029-7.458 4.809-4.809 7.457-11.212 7.457-18.03 0-6.82-2.649-13.224-7.457-18.032zm-1.414 34.647c-4.432 4.431-10.332 6.872-16.615 6.872h-.002c-6.285-.001-12.187-2.441-16.617-6.872-9.162-9.163-9.162-24.071 0-33.233C13.303 4.44 19.204 2 25.489 2c6.284 0 12.186 2.44 16.617 6.872 4.431 4.431 6.871 10.332 6.871 16.617 0 6.283-2.441 12.186-6.871 16.616z"}),h.createElement("path",{d:"M23.578 32.218c-.023-1.734.143-3.059.496-3.972.353-.913 1.11-1.997 2.272-3.253.468-.536.923-1.062 1.367-1.575.626-.753 1.104-1.478 1.436-2.175.331-.707.495-1.541.495-2.5 0-1.096-.26-2.088-.779-2.979-.565-.879-1.501-1.336-2.806-1.369-1.802.057-2.985.667-3.55 1.832a5.328 5.328 0 0 0-.607 1.814 11.245 11.245 0 0 0-.207 2.174h-2.937c-.091-2.208.407-4.114 1.493-5.719 1.062-1.64 2.855-2.481 5.378-2.527 2.16.023 3.874.608 5.141 1.758 1.278 1.16 1.929 2.764 1.95 4.811 0 1.142-.137 2.111-.41 2.911a7.569 7.569 0 0 1-1.268 2.243 21.92 21.92 0 0 1-1.73 2.002 34.385 34.385 0 0 0-1.987 2.346 5.233 5.233 0 0 0-.565 1.199c-.16.959-.217 1.951-.171 2.979h-3.011zm0 6.002v-3.484h3.076v3.484h-3.076z"}))))};var Gs;function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Js.apply(this,arguments)}const Ys=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Js({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Gs||(Gs=h.createElement("path",{className:"jp-inspector-icon-color jp-icon-selectable",fill:"#616161",d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"})))};var Xs;function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zs.apply(this,arguments)}const Qs=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Zs({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Xs||(Xs=h.createElement("g",{className:"jp-json-icon-color jp-icon-selectable",fill:"#F9A825"},h.createElement("path",{d:"M20.2 11.8c-1.6 0-1.7.5-1.7 1 0 .4.1.9.1 1.3.1.5.1.9.1 1.3 0 1.7-1.4 2.3-3.5 2.3h-.9v-1.9h.5c1.1 0 1.4 0 1.4-.8 0-.3 0-.6-.1-1 0-.4-.1-.8-.1-1.2 0-1.3 0-1.8 1.3-2-1.3-.2-1.3-.7-1.3-2 0-.4.1-.8.1-1.2.1-.4.1-.7.1-1 0-.8-.4-.7-1.4-.8h-.5V4.1h.9c2.2 0 3.5.7 3.5 2.3 0 .4-.1.9-.1 1.3-.1.5-.1.9-.1 1.3 0 .5.2 1 1.7 1v1.8zM1.8 10.1c1.6 0 1.7-.5 1.7-1 0-.4-.1-.9-.1-1.3-.1-.5-.1-.9-.1-1.3 0-1.6 1.4-2.3 3.5-2.3h.9v1.9h-.5c-1 0-1.4 0-1.4.8 0 .3 0 .6.1 1 0 .2.1.6.1 1 0 1.3 0 1.8-1.3 2C6 11.2 6 11.7 6 13c0 .4-.1.8-.1 1.2-.1.3-.1.7-.1 1 0 .8.3.8 1.4.8h.5v1.9h-.9c-2.1 0-3.5-.6-3.5-2.3 0-.4.1-.9.1-1.3.1-.5.1-.9.1-1.3 0-.5-.2-1-1.7-1v-1.9z"}),h.createElement("circle",{cx:11,cy:13.8,r:2.1}),h.createElement("circle",{cx:11,cy:8.2,r:2.1}))))};var ei,ti,ni;function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},si.apply(this,arguments)}const ii=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",si({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 325 300","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ei||(ei=h.createElement("path",{d:"M150.898 225c0 41.422-33.578 75-75 75-41.421 0-75-33.578-75-75s33.579-75 75-75c41.422 0 75 33.578 75 75",className:"jp-brand0 jp-icon-selectable",fill:"#cb3c33"})),ti||(ti=h.createElement("path",{d:"M237.5 75c0 41.422-33.578 75-75 75s-75-33.578-75-75 33.578-75 75-75 75 33.578 75 75",className:"jp-brand0 jp-icon-selectable",fill:"#389826"})),ni||(ni=h.createElement("path",{d:"M324.102 225c0 41.422-33.579 75-75 75-41.422 0-75-33.578-75-75s33.578-75 75-75c41.421 0 75 33.578 75 75",className:"jp-brand0 jp-icon-selectable",fill:"#9558b2"})))};var ri;function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oi.apply(this,arguments)}const ai=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",oi({width:152,height:165,viewBox:"0 0 152 165",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ri||(ri=h.createElement("g",{className:"jp-jupyter-icon-color",fill:"#F37726"},h.createElement("path",{d:"M76.021 140.163c-32.64 0-61.145-11.927-75.942-29.58 5.51 15.84 15.781 29.567 29.39 39.278a80.165 80.165 0 0 0 46.57 14.929 80.165 80.165 0 0 0 46.57-14.929c13.61-9.711 23.88-23.437 29.391-39.278-14.833 17.653-43.338 29.58-75.979 29.58ZM76.016 25.331c32.64 0 61.146 11.927 75.943 29.58-5.511-15.84-15.782-29.566-29.391-39.278A80.163 80.163 0 0 0 75.998.705a80.163 80.163 0 0 0-46.57 14.928C15.818 25.345 5.548 39.071.038 54.912c14.832-17.617 43.338-29.58 75.978-29.58Z"}))))};var li,ci;function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ui.apply(this,arguments)}const hi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ui({width:39,height:51,viewBox:"0 0 39 51",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,li||(li=h.createElement("g",{className:"jp-jupyter-icon-color",fill:"#F37726"},h.createElement("path",{d:"M20.005 38.114c-7.85 0-14.706-2.876-18.265-7.134a19.505 19.505 0 0 0 7.069 9.473 19.244 19.244 0 0 0 11.2 3.6c4.013 0 7.927-1.258 11.2-3.6a19.505 19.505 0 0 0 7.069-9.473c-3.567 4.258-10.423 7.134-18.273 7.134ZM20.003 10.42c7.85 0 14.706 2.876 18.265 7.133a19.505 19.505 0 0 0-7.069-9.473A19.243 19.243 0 0 0 20 4.48a19.243 19.243 0 0 0-11.2 3.6 19.505 19.505 0 0 0-7.069 9.473c3.567-4.248 10.423-7.134 18.273-7.134Z"}))),ci||(ci=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M37.194 3.154a2.993 2.993 0 0 1-.426 1.672 2.957 2.957 0 0 1-1.275 1.153 2.926 2.926 0 0 1-3.238-.505 2.997 2.997 0 0 1-.776-3.21c.2-.553.558-1.033 1.029-1.38a2.932 2.932 0 0 1 3.733.209c.576.532.919 1.274.953 2.061ZM9.228 46.393a3.772 3.772 0 0 1-.536 2.11 3.727 3.727 0 0 1-1.608 1.452 3.688 3.688 0 0 1-4.082-.638 3.754 3.754 0 0 1-1.097-1.875 3.778 3.778 0 0 1 .122-2.173 3.744 3.744 0 0 1 1.299-1.739 3.696 3.696 0 0 1 4.704.268 3.76 3.76 0 0 1 1.198 2.595ZM2.635 9.456a2.166 2.166 0 0 1-1.227-.318 2.193 2.193 0 0 1-.845-.951A2.216 2.216 0 0 1 .935 5.77a2.163 2.163 0 0 1 2.356-.577c.405.15.757.418 1.011.77a2.211 2.211 0 0 1-.156 2.783c-.39.43-.934.684-1.511.71Z"}))),">")};var di,pi;function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fi.apply(this,arguments)}const gi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",fi({xmlns:"http://www.w3.org/2000/svg",width:200,viewBox:"0 0 1860.8 475","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,di||(di=h.createElement("g",{className:"jp-icon2",fill:"#4E4E4E"},h.createElement("path",{d:"M53.324 293.087c0 48.7-3.7 64.7-13.6 76.4-10.8 10-25 15.5-39.7 15.5l3.7 29c22.8.3 44.8-7.9 61.9-23.1 17.8-18.5 24-44.1 24-83.3v-184.3h-36.4v170.1l.1-.3zM324.744 270.908c0 21 0 39.5 1.7 55.4h-31.8l-2.1-33.3h-.8c-6.7 11.6-16.4 21.3-28 27.9-11.6 6.6-24.8 10-38.2 9.8-31.4 0-69-17.7-69-89v-118.8h36.4v112.7c0 38.7 11.6 64.7 44.6 64.7 10.3-.2 20.4-3.5 28.9-9.4s15.1-14.3 18.9-23.9c2.2-6.1 3.3-12.5 3.3-18.9v-125h36.4v147.8h-.3zM393.256 189.383c0-26-.8-47-1.7-66.7h32.7l1.7 34.8h.8c7.1-12.5 17.5-22.8 30.1-29.7 12.5-7 26.7-10.3 41-9.8 48.3 0 84.7 41.7 84.7 103.3 0 73.1-43.7 109.2-91 109.2-12.1.5-24.2-2.2-35-7.8s-19.9-13.9-26.6-24.2h-.8v110.5h-36v-220l.1.4zm36 54.2c.1 5.1.6 10.1 1.7 15.1 3 12.3 9.9 23.3 19.8 31.1 9.9 7.8 22.1 12.1 34.7 12.1 38.5 0 60.7-31.9 60.7-78.5 0-40.7-21.1-75.6-59.5-75.6-12.9.4-25.3 5.1-35.3 13.4-9.9 8.3-16.9 19.7-19.6 32.4-1.5 4.9-2.3 10-2.5 15.1v34.9zM646.828 123.098l43.7 120.1c4.5 13.4 9.5 29.4 12.8 41.7h.8c3.7-12.2 7.9-27.7 12.8-42.4l39.7-119.2h38.5l-54.4 144.8c-26 69.7-43.7 105.4-68.6 127.2-12.5 11.7-27.9 20-44.6 23.9l-9.1-31.1c11.7-3.9 22.5-10.1 31.8-18.1 13.2-11.1 23.7-25.2 30.6-41.2 1.5-2.8 2.5-5.7 2.9-8.8-.3-3.3-1.2-6.6-2.5-9.7l-73.8-187.1h39.7l-.3-.1zM890.649 64.65v58.3h52v28.2h-52v109.5c0 25 7 39.5 27.3 39.5 7.1.1 14.2-.7 21.1-2.5l1.7 27.7c-10.3 3.7-21.3 5.4-32.2 5-7.3.4-14.6-.7-21.3-3.4-6.8-2.7-12.9-6.8-17.9-12.1-10.3-10.9-14.1-29-14.1-52.9v-110.8h-31v-28.2h31v-48.7l35.4-9.6zM1009.76 231.361c.8 50 32.2 70.6 68.6 70.6 19 .6 37.9-3 55.3-10.5l6.2 26.4c-20.9 8.9-43.5 13.1-66.2 12.6-61.5 0-98.3-41.2-98.3-102.5 0-61.4 35.5-109.6 93.7-109.6 65.2 0 82.7 58.3 82.7 95.7-.1 5.8-.5 11.5-1.2 17.2H1009.76v.1zm106.6-26.4c.4-23.5-9.5-60.1-50.4-60.1-36.8 0-52.8 34.4-55.7 60.1h106.1zM1204.677 186.456c0-23.9-.4-44.5-1.7-63.4h31.8l1.2 39.9h1.7c9.1-27.3 31-44.5 55.3-44.5 3.5-.1 7 .4 10.3 1.2v34.8c-4.1-.9-8.2-1.3-12.4-1.2-25.6 0-43.7 19.7-48.7 47.4-1 5.7-1.6 11.5-1.7 17.2v108.3h-36v-139.7h.2z"}))),pi||(pi=h.createElement("path",{d:"M1352.3 326.2h37V28h-37v298.2zm252.5 0c-2.5-13.9-3.4-31.1-3.4-48.7v-76c0-40.7-15.1-83.1-77.3-83.1-25.6 0-50 7.1-66.8 18.1l8.4 24.4c14.3-9.2 34-15.1 53-15.1 41.6 0 46.2 30.2 46.2 47v4.2c-78.6-.4-122.3 26.5-122.3 75.6 0 29.4 21 58.4 62.2 58.4 29 0 50.9-14.3 62.2-30.2h1.3l2.9 25.6h33.6zm-39.1-68.5c0 3.8-.8 8-2.1 11.8-5.9 17.2-22.7 34-49.2 34-18.9 0-34.9-11.3-34.9-35.3 0-39.5 45.8-46.6 86.2-45.8v35.3zm132.8 68.5 1.7-33.6h1.3c15.1 26.9 38.7 38.2 68.1 38.2 45.4 0 91.2-36.1 91.2-108.8.4-61.7-35.3-103.7-85.7-103.7-32.8 0-56.3 14.7-69.3 37.4h-.8V28h-36.6v245.7c0 18.1-.8 38.6-1.7 52.5h31.8zm6.3-118c0-5.9 1.3-10.9 2.1-15.1 7.6-28.1 31.1-45.4 56.3-45.4 39.5 0 60.5 34.9 60.5 75.6 0 46.6-23.1 78.1-61.8 78.1-26.9 0-48.3-17.6-55.5-43.3-.8-4.2-1.7-8.8-1.7-13.4v-36.5z",className:"jp-icon-warn0",fill:"#F37726"})))};var mi;function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_i.apply(this,arguments)}const vi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",_i({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,mi||(mi=h.createElement("path",{className:"jp-icon2",fill:"#616161",d:"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"})))};var bi;function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yi.apply(this,arguments)}const wi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",yi({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,bi||(bi=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"})))};var xi;function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Si.apply(this,arguments)}const Ci=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Si({viewBox:"0 0 32 32",width:32,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,xi||(xi=h.createElement("g",{className:"jp-icon3 jp-icon-selectable",fill:"#616161"},h.createElement("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),h.createElement("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"}))))};var ki;function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ei.apply(this,arguments)}const Oi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ei({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ki||(ki=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})))};var Mi;function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ti.apply(this,arguments)}const Di=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ti({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Mi||(Mi=h.createElement("path",{fill:"#fff",d:"M5.88 4.12 13.76 12l-7.88 7.88L8 22l10-10L8 2z"})))};var Pi;function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ai.apply(this,arguments)}const Ri=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ai({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Pi||(Pi=h.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z",className:"jp-icon3",fill:"#616161"})))};var ji;function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ii.apply(this,arguments)}const Ni=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ii({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ji||(ji=h.createElement("path",{className:"jp-icon2 jp-icon-selectable",fill:"#616161",d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"})))};var Li;function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bi.apply(this,arguments)}const $i=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Bi({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 23","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Li||(Li=h.createElement("path",{className:"jp-icon4",fill:"#333",d:"M12 17a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5 5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"})))};var Fi;function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ui.apply(this,arguments)}const zi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ui({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Fi||(Fi=h.createElement("path",{className:"jp-icon-contrast0 jp-icon-selectable",fill:"#7B1FA2",d:"M5 14.9h12l-6.1 6zm9.4-6.8c0-1.3-.1-2.9-.1-4.5-.4 1.4-.9 2.9-1.3 4.3l-1.3 4.3h-2L8.5 7.9c-.4-1.3-.7-2.9-1-4.3-.1 1.6-.1 3.2-.2 4.6L7 12.4H4.8l.7-11h3.3L10 5c.4 1.2.7 2.7 1 3.9.3-1.2.7-2.6 1-3.9l1.2-3.7h3.3l.6 11h-2.4l-.3-4.2z"})))};var Vi;function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qi.apply(this,arguments)}const Hi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",qi({width:16,viewBox:"0 0 491 675",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Vi||(Vi=h.createElement("path",{d:"M85 92c-46 0-85 37-85 85v321c0 46 37 85 85 85h321c46 0 85-37 85-85V177c0-46-37-85-85-85zm-2 111c72-3.1 139 41 162 109 25-67 91-112 162-109 2.4 57-25 111-72 144-24 16-39 44-39 74v51H192v-51c.08-29-15-57-39-74-47-32-75-86-72-144z",className:"jp-icon-contrast2 jp-icon-selectable",fill:"#ff3670"})))};var Wi;function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ki.apply(this,arguments)}const Gi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ki({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Wi||(Wi=h.createElement("path",{className:"jp-icon3",d:"M12.471 7.529a.748.748 0 0 0-1.057-1.058L7.75 10.127V1.75a.75.75 0 0 0-1.5 0v8.377L2.597 6.468a.753.753 0 1 0-1.065 1.064l4.76 4.76a1 1 0 0 0 1.415 0l4.764-4.763Z",fill:"#616161"})))};var Ji;function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yi.apply(this,arguments)}const Xi=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Yi({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ji||(Ji=h.createElement("path",{className:"jp-icon3",d:"M1.529 6.471a.748.748 0 0 0 1.057 1.058L6.25 3.873v8.377a.75.75 0 0 0 1.5 0V3.873l3.653 3.659a.753.753 0 1 0 1.065-1.064l-4.76-4.76a1 1 0 0 0-1.415 0L1.529 6.47Z",fill:"#616161"})))};var Zi;function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qi.apply(this,arguments)}const er=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Qi({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Zi||(Zi=h.createElement("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z",className:"jp-icon3",fill:"#616161"})))};var tr;function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nr.apply(this,arguments)}const sr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",nr({fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 25 25","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,tr||(tr=h.createElement("path",{className:"jp-icon2",stroke:"#333",strokeWidth:2,d:"M4.86 14.44c-1.034-2.67-.996-5.382-.61-7.24 1.232-.267 2.83-.797 4.351-1.355a92.007 92.007 0 0 0 4.387-1.75 67.744 67.744 0 0 0 4.23 1.748c1.532.57 3.181 1.11 4.536 1.37.382 1.859.417 4.564-.615 7.228-1.109 2.862-3.472 5.743-8.139 7.494-4.667-1.75-7.03-4.632-8.14-7.494ZM16.684 9.32l-7.368 7.365M16.684 16.684 9.316 9.319"})))};var ir;function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rr.apply(this,arguments)}const or=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",rr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ir||(ir=h.createElement("g",{className:"jp-notebook-icon-color jp-icon-selectable",fill:"#EF6C00"},h.createElement("path",{d:"M18.7 3.3v15.4H3.3V3.3h15.4m1.5-1.5H1.8v18.3h18.3l.1-18.3z"}),h.createElement("path",{d:"m16.5 16.5-5.4-4.3-5.6 4.3v-11h11z"}))))};var ar;function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lr.apply(this,arguments)}const cr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",lr({width:22,height:22,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ar||(ar=h.createElement("path",{d:"M4 19h2v.5H5v1h1v.5H4v1h3v-4H4v1Zm1-9h1V6H4v1h1v3Zm-1 3h1.8L4 15.1v.9h3v-1H5.2L7 12.9V12H4v1Zm5-6v2h14V7H9Zm0 14h14v-2H9v2Zm0-6h14v-2H9v2Z",className:"jp-icon3",fill:"#616161"})))};var ur;function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hr.apply(this,arguments)}const dr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",hr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:16,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,ur||(ur=h.createElement("path",{d:"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z",className:"jp-icon3",fill:"#616161"})))};var pr;function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fr.apply(this,arguments)}const gr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",fr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,pr||(pr=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2Zm1.3-4.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89ZM15.5 9a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5Z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6h5.019a6.495 6.495 0 0 0 3.015 6H9v2h7v-1.019c.57-.043 1.12-.16 1.64-.341L18 13v7H4V6Zm4 2H6v2h2V8Zm-2 4h2v2H6v-2Zm2 4H6v2h2v-2Zm1 0h7v2H9v-2Z"}))))};var mr;function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_r.apply(this,arguments)}const vr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",_r({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,mr||(mr=h.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z",className:"jp-icon3",fill:"#616161"})))};var br;function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yr.apply(this,arguments)}const wr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",yr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",width:16,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,br||(br=h.createElement("path",{className:"jp-icon-selectable",fill:"#FF2A2A",d:"m17.933 13.667 3.987 3.987-1.117 1.117-2.51-2.51-1.066 1.067 2.36 2.36-1.117 1.117-2.36-2.36-2.43 2.429-1.477-1.478zm-6.163-3.93-3.496 3.496.53.53q.905.906 1.83.932.929.031 1.784-.825.852-.852.822-1.773-.031-.92-.94-1.83zm-.36-2.594 1.557 1.558q1.305 1.305 1.754 2.13.456.825.468 1.727.015.79-.296 1.493-.31.702-.951 1.343-.649.648-1.355.963-.702.31-1.493.295-.905-.015-1.738-.472-.829-.46-2.118-1.75L5.68 12.874zm-5.76-5.76L8.1 3.835Q9.195 4.93 9.291 6q.103 1.07-.795 1.968-.901.902-1.976.802-1.067-.1-2.16-1.193l-.975-.975L1.397 8.59-.08 7.113Zm.406 2.548-1.6 1.6.817.818q.43.43.871.457.445.023.829-.361.384-.384.357-.825-.027-.441-.457-.871z"})))};var xr,Sr;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cr.apply(this,arguments)}const kr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Cr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"-10 -10 131.161 132.389","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,xr||(xr=h.createElement("path",{className:"jp-icon-selectable",fill:"#306998",d:"M54.919 0c-4.584.022-8.961.413-12.813 1.095C30.76 3.099 28.7 7.295 28.7 15.032v10.219h26.813v3.406H18.638c-7.793 0-14.616 4.684-16.75 13.594-2.462 10.213-2.571 16.586 0 27.25 1.905 7.938 6.457 13.594 14.25 13.594h9.218v-12.25c0-8.85 7.657-16.657 16.75-16.657h26.782c7.454 0 13.406-6.138 13.406-13.625v-25.53c0-7.267-6.13-12.726-13.406-13.938C64.282.328 59.502-.02 54.918 0Zm-14.5 8.22c2.77 0 5.031 2.298 5.031 5.125 0 2.816-2.262 5.093-5.031 5.093-2.78 0-5.031-2.277-5.031-5.093 0-2.827 2.251-5.125 5.03-5.125z"})),Sr||(Sr=h.createElement("path",{className:"jp-icon-selectable",fill:"#ffd43b",d:"M85.638 28.657v11.906c0 9.231-7.826 17-16.75 17H42.106c-7.336 0-13.406 6.279-13.406 13.625V96.72c0 7.266 6.319 11.54 13.406 13.625 8.488 2.495 16.627 2.946 26.782 0 6.75-1.955 13.406-5.888 13.406-13.625V86.5H55.513v-3.405H95.7c7.793 0 10.696-5.436 13.406-13.594 2.8-8.399 2.68-16.476 0-27.25-1.925-7.758-5.604-13.594-13.406-13.594zM70.575 93.313c2.78 0 5.031 2.278 5.031 5.094 0 2.827-2.251 5.125-5.031 5.125-2.77 0-5.031-2.298-5.031-5.125 0-2.816 2.261-5.094 5.031-5.094z"})))};var Er;function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Or.apply(this,arguments)}const Mr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Or({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Er||(Er=h.createElement("path",{className:"jp-icon-contrast3 jp-icon-selectable",fill:"#2196F3",d:"M4.4 2.5c1.2-.1 2.9-.3 4.9-.3 2.5 0 4.1.4 5.2 1.3 1 .7 1.5 1.9 1.5 3.5 0 2-1.4 3.5-2.9 4.1 1.2.4 1.7 1.6 2.2 3 .6 1.9 1 3.9 1.3 4.6h-3.8c-.3-.4-.8-1.7-1.2-3.7s-1.2-2.6-2.6-2.6h-.9v6.4H4.4V2.5zm3.7 6.9h1.4c1.9 0 2.9-.9 2.9-2.3s-1-2.3-2.8-2.3c-.7 0-1.3 0-1.6.2v4.5h.1v-.1z"})))};var Tr;function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dr.apply(this,arguments)}const Pr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Dr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"150 150 541.9 295.3","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Tr||(Tr=h.createElement("g",{className:"jp-icon-brand2 jp-icon-selectable",fill:"#61DAFB"},h.createElement("path",{d:"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"}),h.createElement("circle",{cx:420.9,cy:296.5,r:45.7}))))};var Ar;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rr.apply(this,arguments)}const jr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Rr({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:16,"aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ar||(Ar=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}))))};var Ir,Nr;function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lr.apply(this,arguments)}const Br=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Lr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 20 20","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ir||(Ir=h.createElement("path",{d:"M2 2h16v16H2z",className:"jp-icon2",fill:"#414141"})),Nr||(Nr=h.createElement("g",{className:"jp-icon-accent2",fill:"#FFF"},h.createElement("circle",{className:"st2",cx:5.5,cy:14.5,r:1.5}),h.createElement("path",{className:"st2",d:"M12 4h1v8h-1z"}),h.createElement("path",{className:"st2",d:"m8.786 9.567 6.928-4 .5.866-6.928 4z"}),h.createElement("path",{className:"st2",d:"m8.786 6.433.5-.866 6.928 4-.5.866z"}))))};var $r;function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fr.apply(this,arguments)}const Ur=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Fr({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,$r||($r=h.createElement("path",{d:"M8 5v14l11-7z",className:"jp-icon3",fill:"#616161"})))};var zr;function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vr.apply(this,arguments)}const qr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Vr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 512 512","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,zr||(zr=h.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z",className:"jp-icon3",fill:"#616161"})))};var Hr;function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wr.apply(this,arguments)}const Kr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Wr({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Hr||(Hr=h.createElement("path",{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z",className:"jp-icon3",fill:"#616161"})))};var Gr;function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jr.apply(this,arguments)}const Yr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Jr({viewBox:"0 0 18 18",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Gr||(Gr=h.createElement("path",{d:"M12.1 10.9h-.7l-.2-.2c.8-.9 1.3-2.2 1.3-3.5 0-3-2.4-5.4-5.4-5.4S1.8 4.2 1.8 7.1s2.4 5.4 5.4 5.4c1.3 0 2.5-.5 3.5-1.3l.2.2v.7l4.1 4.1 1.2-1.2-4.1-4.1zm-5 0c-2.1 0-3.7-1.7-3.7-3.7s1.7-3.7 3.7-3.7 3.7 1.7 3.7 3.7-1.6 3.7-3.7 3.7z",className:"jp-icon3",fill:"#616161"})))};var Xr;function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zr.apply(this,arguments)}const Qr=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Zr({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Xr||(Xr=h.createElement("path",{className:"jp-icon3 jp-icon-selectable",fill:"#616161",d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})))};var eo;function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},to.apply(this,arguments)}const no=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",to({width:16,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,eo||(eo=h.createElement("path",{d:"M18 2c-1.645 0-3 1.355-3 3 0 .191.022.377.057.559L7.922 9.72A2.969 2.969 0 0 0 6 9c-1.645 0-3 1.355-3 3s1.355 3 3 3c.732 0 1.399-.278 1.922-.72l7.135 4.16A2.956 2.956 0 0 0 15 19c0 1.645 1.355 3 3 3s3-1.355 3-3-1.355-3-3-3c-.733 0-1.398.28-1.922.723l-7.135-4.164C8.978 12.377 9 12.19 9 12c0-.191-.022-.377-.057-.559l7.135-4.162C16.601 7.722 17.268 8 18 8c1.645 0 3-1.355 3-3s-1.355-3-3-3zm0 2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM6 11c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zm12 7c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1z",className:"jp-icon3",fill:"#616161"})))};var so;function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},io.apply(this,arguments)}const ro=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",io({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,so||(so=h.createElement("path",{className:"jp-icon-contrast1 jp-icon-selectable",fill:"#4CAF50",d:"M2.2 2.2v17.6h17.6V2.2H2.2zm15.4 7.7h-5.5V4.4h5.5v5.5zM9.9 4.4v5.5H4.4V4.4h5.5zm-5.5 7.7h5.5v5.5H4.4v-5.5zm7.7 5.5v-5.5h5.5v5.5h-5.5z"})))};var oo;function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ao.apply(this,arguments)}const lo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",ao({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,oo||(oo=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h.createElement("path",{d:"M6 6h12v12H6z"}))))};var co;function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uo.apply(this,arguments)}const ho=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",uo({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,co||(co=h.createElement("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z",className:"jp-icon3",fill:"#616161"})))};var po;function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fo.apply(this,arguments)}const go=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",fo({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,po||(po=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h.createElement("path",{d:"M21 8H3V4h18v4zm0 2H3v4h18v-4zm0 6H3v4h18v-4z"}))))};var mo;function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_o.apply(this,arguments)}const vo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",_o({width:28,height:28,viewBox:"0 0 43 28",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,mo||(mo=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M28.833 12.334 33 16.501l4.166-4.167h-8.333ZM16.21 21.61c-.523.52-1.366.52-1.885 0l-7.342-6.885c-.41-.386-.9-1.115-.935-1.677-.095-1.52-.028-4.429.018-5.971A1.093 1.093 0 0 1 7.118 6.03c1.97-.046 6.146-.095 6.534.293l8.085 7.315c.519.52.048 1.833-.475 2.356l-5.053 5.615ZM9.775 8.265a1.126 1.126 0 1 0-1.593 1.592 1.126 1.126 0 0 0 1.593-1.592Z"}))))};var bo,yo;function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wo.apply(this,arguments)}const xo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",wo({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,bo||(bo=h.createElement("path",{className:"jp-terminal-icon-background-color jp-icon-selectable",fill:"#333",d:"M2 2h20v20H2z"})),yo||(yo=h.createElement("path",{className:"jp-terminal-icon-color jp-icon-selectable-inverse",d:"M9.01 14.762c0-.164-.026-.309-.077-.434a.927.927 0 0 0-.234-.351 1.561 1.561 0 0 0-.422-.288 4.745 4.745 0 0 0-.627-.263c-.395-.14-.754-.29-1.078-.446a3.526 3.526 0 0 1-.832-.544 2.216 2.216 0 0 1-.528-.721 2.38 2.38 0 0 1-.187-.985c0-.332.057-.634.17-.908a2.12 2.12 0 0 1 .48-.72c.207-.204.457-.368.75-.493s.62-.205.979-.24V7.11h.937v1.272c.352.047.668.142.95.287a2.398 2.398 0 0 1 1.172 1.389c.109.312.163.664.163 1.054H8.998c0-.472-.108-.83-.323-1.072-.215-.246-.506-.37-.873-.37-.199 0-.373.028-.521.083a.899.899 0 0 0-.358.223.901.901 0 0 0-.21.334c-.044.129-.065.27-.065.421 0 .153.021.29.064.41a.944.944 0 0 0 .229.329c.11.101.252.199.428.293.175.09.394.181.656.275.394.149.752.303 1.072.463.32.156.594.34.82.55.23.208.407.45.528.727.125.274.187.598.187.973 0 .344-.056.654-.17.932-.113.273-.275.51-.486.709-.21.199-.465.359-.762.48a3.65 3.65 0 0 1-.996.229v1.148h-.931V17.1a3.894 3.894 0 0 1-.967-.217 2.58 2.58 0 0 1-.832-.504 2.406 2.406 0 0 1-.574-.826c-.145-.336-.217-.739-.217-1.207h1.635c0 .281.04.517.123.709.082.187.187.338.316.45.133.11.283.188.451.235.168.047.34.07.516.07.418 0 .734-.097.949-.292a.975.975 0 0 0 .322-.756Zm8.36 3.51h-5.343V17h5.344v1.271Z",fill:"#fff"})))};var So;function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Co.apply(this,arguments)}const ko=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Co({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,So||(So=h.createElement("path",{className:"jp-text-editor-icon-color jp-icon-selectable",fill:"#616161",d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"})))};var Eo;function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oo.apply(this,arguments)}const Mo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Oo({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Eo||(Eo=h.createElement("path",{d:"M7 5h14v2H7V5m0 8v-2h14v2H7M4 4.5A1.5 1.5 0 0 1 5.5 6 1.5 1.5 0 0 1 4 7.5 1.5 1.5 0 0 1 2.5 6 1.5 1.5 0 0 1 4 4.5m0 6A1.5 1.5 0 0 1 5.5 12 1.5 1.5 0 0 1 4 13.5 1.5 1.5 0 0 1 2.5 12 1.5 1.5 0 0 1 4 10.5M7 19v-2h14v2H7m-3-2.5A1.5 1.5 0 0 1 5.5 18 1.5 1.5 0 0 1 4 19.5 1.5 1.5 0 0 1 2.5 18 1.5 1.5 0 0 1 4 16.5Z",className:"jp-icon3 jp-icon-selectable",fill:"#616161"})))};var To;function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Do.apply(this,arguments)}const Po=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Do({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,To||(To=h.createElement("g",{className:"jp-icon3",fill:"#616161"},h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))))};var Ao,Ro;function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jo.apply(this,arguments)}const Io=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",jo({fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 24 25","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ao||(Ao=h.createElement("path",{className:"jp-icon2",stroke:"#333",strokeWidth:2,d:"M3.86 14.44c-1.034-2.67-.996-5.382-.61-7.24 1.232-.267 2.83-.797 4.351-1.355a92.007 92.007 0 0 0 4.387-1.75 67.744 67.744 0 0 0 4.23 1.748c1.532.57 3.181 1.11 4.536 1.37.382 1.859.417 4.564-.615 7.228-1.109 2.862-3.472 5.743-8.139 7.494-4.667-1.75-7.03-4.632-8.14-7.494Z"})),Ro||(Ro=h.createElement("path",{className:"jp-icon2",fill:"#333",stroke:"#333",d:"m10.86 14.733-2.133-1.866-.727.63L10.86 16l5.14-5.5-.721-.632-4.419 4.866Z"})))};var No;function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lo.apply(this,arguments)}const Bo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Lo({viewBox:"0 0 24 24",width:16,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,No||(No=h.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z",className:"jp-icon3",fill:"#616161"})))};var $o;function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fo.apply(this,arguments)}const Uo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Fo({width:16,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,$o||($o=h.createElement("path",{d:"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-4 7a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7z",className:"jp-icon3",fill:"#616161"})))};var zo;function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vo.apply(this,arguments)}const qo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Vo({width:24,height:24,viewBox:"0 0 36 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,zo||(zo=h.createElement("g",{className:"jp-icon3",transform:"translate(-3.628 .1) scale(1.7327)",fill:"#616161"},h.createElement("path",{d:"M18.279 5.265c-1.58 0-2.964.85-3.718 2.115a6.69 6.69 0 0 1 2.81 2.21h5.23a4.322 4.322 0 0 0-4.322-4.325zM20.465 2.39a2.188 2.188 0 0 1-2.188 2.188 2.188 2.188 0 0 1-2.189-2.189A2.188 2.188 0 0 1 18.277.201a2.188 2.188 0 0 1 2.188 2.188zM5.385 6.633a3.02 3.02 0 0 0-3.02 3.02h4.22a6.702 6.702 0 0 1 1.44-1.467 3.021 3.021 0 0 0-2.64-1.553zM6.915 4.623a1.53 1.53 0 0 1-1.529 1.53 1.53 1.53 0 0 1-1.53-1.53 1.53 1.53 0 0 1 1.53-1.53 1.53 1.53 0 0 1 1.53 1.53zM6.135 13.535a5.865 5.865 0 0 1 11.73 0z"}),h.createElement("circle",{cx:12,cy:3.768,r:2.969}))))};var Ho;function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wo.apply(this,arguments)}const Ko=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Wo({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Ho||(Ho=h.createElement("g",{className:"jp-icon1 jp-icon-selectable",fill:"#212121"},h.createElement("path",{d:"m10.6 5.4 2.2-3.2H2.2v7.3l4-6.6z"}),h.createElement("path",{d:"m15.8 2.2-4.4 6.6L7 6.3l-4.8 8v5.5h17.6V2.2h-4zm-7 15.4H5.5v-4.4h3.3v4.4zm4.4 0H9.8V9.8h3.4v7.8zm4.4 0h-3.4V6.5h3.4v11.1z"}))))};var Go,Jo;function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yo.apply(this,arguments)}const Xo=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Yo({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 20 20","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Go||(Go=h.createElement("path",{d:"M2 2h16v16H2z",className:"jp-icon2",fill:"#414141"})),Jo||(Jo=h.createElement("g",{className:"jp-icon-accent2",fill:"#fff"},h.createElement("path",{d:"M4.57 8.8q.068-1.89 2.42-1.89 1.16 0 1.68.42.567.41.567 1.16v3.47q0 .462.514.462.103 0 .2-.023v.714q-.399.103-.651.103-.452 0-.693-.22-.231-.2-.284-.662-.956.872-2 .872-.903 0-1.47-.472-.525-.472-.525-1.26 0-.262.045-.472.057-.22.116-.378.068-.168.231-.304l.262-.242q.116-.091.368-.168.262-.091.4-.126.135-.045.471-.103.336-.058.504-.08l.567-.08q.556-.068.777-.22.22-.153.22-.442v-.252q0-.43-.357-.662-.336-.23-.976-.23-.662 0-.998.261-.336.252-.399.798zm1.89 3.68q.788 0 1.26-.41.504-.42.504-.903v-1.05q-.284.136-.861.231l-.987.158q-.42.068-.766.326-.336.252-.336.704t.304.704.861.252zM10.43 4.6h.945v3.15q.651-.976 1.89-.976 1.16 0 1.89.84.682.84.682 2.31 0 1.47-.704 2.42-.704.882-1.89.882-1.26 0-1.89-1.02v.766h-.85zm2.62 3.04q-.746 0-1.16.64-.452.63-.452 1.68 0 1.05.452 1.68t1.16.63q.777 0 1.26-.63.494-.64.494-1.68 0-1.05-.472-1.68-.462-.64-1.26-.64zM3.16 15.84l13.6.008c.007 0 0-2.6 0-2.6 0-.008-1.15 0-1.15 0-.007 0-.008 1.5-.008 1.5l-11.3-.001-.006-1.5c0-.008-1.17.001-1.17.001z"}))))};var Zo;function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qo.apply(this,arguments)}const ea=e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Qo({xmlns:"http://www.w3.org/2000/svg",width:16,viewBox:"0 0 22 22","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Zo||(Zo=h.createElement("g",{className:"jp-icon-contrast2 jp-icon-selectable",fill:"#D81B60"},h.createElement("path",{d:"M7.2 18.6v-5.4L3 5.6h3.3l1.4 3.1c.3.9.6 1.6 1 2.5.3-.8.6-1.6 1-2.5l1.4-3.1h3.4l-4.4 7.6v5.5l-2.9-.1z"}),h.createElement("circle",{className:"st0",cx:17.6,cy:16.5,r:2.1}),h.createElement("circle",{className:"st0",cx:17.6,cy:11,r:2.1}))))},ta=(new Le({name:"ui-components:add-above",svgstr:e=>{let{title:t,titleId:n,...s}=e;return h.createElement("svg",Ve({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?h.createElement("title",{id:n},t):null,Fe||(Fe=h.createElement("g",{clipPath:"url(#a)"},h.createElement("path",{className:"jp-icon3",d:"M4.75 4.93h1.875v1.876c0 .206.169.375.375.375a.376.376 0 0 0 .375-.375V4.93H9.25a.376.376 0 0 0 .375-.375.376.376 0 0 0-.375-.375H7.375V2.306A.376.376 0 0 0 7 1.93a.376.376 0 0 0-.375.375V4.18H4.75a.376.376 0 0 0-.375.375c0 .206.169.375.375.375Z",fill:"#616161",stroke:"#616161",strokeWidth:.7}))),Ue||(Ue=h.createElement("path",{className:"jp-icon3",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 9.5v2h-9v-2h9ZM12 8a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10Z",fill:"#616161"})),ze||(ze=h.createElement("defs",null,h.createElement("clipPath",{id:"a"},h.createElement("path",{className:"jp-icon3",fill:"#fff",transform:"matrix(-1 0 0 1 10 1.556)",d:"M0 0h6v6H0z"})))))}}),new Le({name:"ui-components:add-below",svgstr:Ge}),new Le({name:"ui-components:add",svgstr:Xe})),na=(new Le({name:"ui-components:bell",svgstr:et}),new Le({name:"ui-components:bug-dot",svgstr:st}),new Le({name:"ui-components:bug",svgstr:ot}),new Le({name:"ui-components:build",svgstr:ct}),new Le({name:"ui-components:caret-down-empty",svgstr:dt})),sa=(new Le({name:"ui-components:caret-down-empty-thin",svgstr:gt}),new Le({name:"ui-components:caret-down",svgstr:vt}),new Le({name:"ui-components:caret-left",svgstr:wt}),new Le({name:"ui-components:caret-right",svgstr:Ct}),new Le({name:"ui-components:caret-up-empty-thin",svgstr:Ot}),new Le({name:"ui-components:caret-up",svgstr:Dt}),new Le({name:"ui-components:case-sensitive",svgstr:jt}),new Le({name:"ui-components:check",svgstr:Lt}),new Le({name:"ui-components:circle-empty",svgstr:Ft})),ia=new Le({name:"ui-components:circle",svgstr:Vt}),ra=(new Le({name:"ui-components:clear",svgstr:Kt}),new Le({name:"ui-components:close",svgstr:Zt})),oa=(new Le({name:"ui-components:code-check",svgstr:tn}),new Le({name:"ui-components:code",svgstr:rn}),new Le({name:"ui-components:collapse-all",svgstr:ln}),new Le({name:"ui-components:collapse",svgstr:hn}),new Le({name:"ui-components:console",svgstr:gn}),new Le({name:"ui-components:copy",svgstr:vn}),new Le({name:"ui-components:copyright",svgstr:wn}),new Le({name:"ui-components:cut",svgstr:Cn}),new Le({name:"ui-components:delete",svgstr:Mn}),new Le({name:"ui-components:download",svgstr:Pn}),new Le({name:"ui-components:duplicate",svgstr:In}),new Le({name:"ui-components:edit",svgstr:Bn}),new Le({name:"ui-components:ellipses",svgstr:Un})),aa=(new Le({name:"ui-components:error",svgstr:Hn}),new Le({name:"ui-components:expand-all",svgstr:Gn}),new Le({name:"ui-components:expand",svgstr:Xn}),new Le({name:"ui-components:extension",svgstr:es}),new Le({name:"ui-components:fast-forward",svgstr:ss}),new Le({name:"ui-components:file",svgstr:os}),new Le({name:"ui-components:file-upload",svgstr:cs}),new Le({name:"ui-components:filter-dot",svgstr:ps}),new Le({name:"ui-components:filter",svgstr:bs}),new Le({name:"ui-components:filter-list",svgstr:ms}),new Le({name:"ui-components:folder-favorite",svgstr:Ss}),new Le({name:"ui-components:folder",svgstr:Es}),new Le({name:"ui-components:history",svgstr:Ts}),new Le({name:"ui-components:home",svgstr:Rs}),new Le({name:"ui-components:html5",svgstr:Fs}),new Le({name:"ui-components:image",svgstr:qs}),new Le({name:"ui-components:info",svgstr:Ks}),new Le({name:"ui-components:inspector",svgstr:Ys}),new Le({name:"ui-components:json",svgstr:Qs}),new Le({name:"ui-components:julia",svgstr:ii}),new Le({name:"ui-components:jupyter-favicon",svgstr:ai}),new Le({name:"ui-components:jupyter",svgstr:hi}),new Le({name:"ui-components:jupyterlab-wordmark",svgstr:gi}),new Le({name:"ui-components:kernel",svgstr:vi})),la=(new Le({name:"ui-components:keyboard",svgstr:wi}),new Le({name:"ui-components:launch",svgstr:Ci}),new Le({name:"ui-components:launcher",svgstr:Oi}),new Le({name:"ui-components:line-form",svgstr:Di}),new Le({name:"ui-components:link",svgstr:Ri}),new Le({name:"ui-components:list",svgstr:Ni}),new Le({name:"ui-components:lock",svgstr:$i}),new Le({name:"ui-components:markdown",svgstr:zi}),new Le({name:"ui-components:mermaid",svgstr:Hi}),new Le({name:"ui-components:move-down",svgstr:Gi}),new Le({name:"ui-components:move-up",svgstr:Xi}),new Le({name:"ui-components:new-folder",svgstr:er}),new Le({name:"ui-components:not-trusted",svgstr:sr}),new Le({name:"ui-components:notebook",svgstr:or}),new Le({name:"ui-components:numbering",svgstr:cr}),new Le({name:"ui-components:offline-bolt",svgstr:dr})),ca=(new Le({name:"ui-components:palette",svgstr:gr}),new Le({name:"ui-components:paste",svgstr:vr}),new Le({name:"ui-components:pdf",svgstr:wr}),new Le({name:"ui-components:python",svgstr:kr}),new Le({name:"ui-components:r-kernel",svgstr:Mr}),new Le({name:"ui-components:react",svgstr:Pr}),new Le({name:"ui-components:redo",svgstr:jr}),new Le({name:"ui-components:refresh",svgstr:Pe})),ua=(new Le({name:"ui-components:regex",svgstr:Br}),new Le({name:"ui-components:run",svgstr:Ur})),ha=(new Le({name:"ui-components:running",svgstr:qr}),new Le({name:"ui-components:save",svgstr:Kr}),new Le({name:"ui-components:search",svgstr:Yr}),new Le({name:"ui-components:settings",svgstr:Qr}),new Le({name:"ui-components:share",svgstr:no}),new Le({name:"ui-components:spreadsheet",svgstr:ro}),new Le({name:"ui-components:stop",svgstr:lo})),da=(new Le({name:"ui-components:tab",svgstr:ho}),new Le({name:"ui-components:table-rows",svgstr:go}),new Le({name:"ui-components:tag",svgstr:vo}),new Le({name:"ui-components:terminal",svgstr:xo}));new Le({name:"ui-components:text-editor",svgstr:ko}),new Le({name:"ui-components:toc",svgstr:Mo}),new Le({name:"ui-components:tree-view",svgstr:Po}),new Le({name:"ui-components:trusted",svgstr:Io}),new Le({name:"ui-components:undo",svgstr:Bo}),new Le({name:"ui-components:user",svgstr:Uo}),new Le({name:"ui-components:users",svgstr:qo}),new Le({name:"ui-components:vega",svgstr:Ko}),new Le({name:"ui-components:word",svgstr:Xo}),new Le({name:"ui-components:yaml",svgstr:ea});var pa=n(35259),fa=n(23114);class ga extends E.Widget{constructor(){super(),this._rootDOM=null}static create(e){return new class extends ga{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){v.MessageLoop.sendMessage(this,E.Widget.Msg.UpdateRequest)}onBeforeDetach(e){null!==this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}renderDOM(){return new Promise((e=>{const t=this.render();null===this._rootDOM&&(this._rootDOM=(0,Se.createRoot)(this.node)),Array.isArray(t)||t?(this._rootDOM.render(t),requestIdleCallback((()=>e()))):(this._rootDOM.unmount(),this._rootDOM=null,requestIdleCallback((()=>e())))}))}}class ma extends ga{constructor(e){super(),this._modelChanged=new f.Signal(this),this.model=null!=e?e:null}get modelChanged(){return this._modelChanged}set model(e){this._model!==e&&(this._model&&this._model.stateChanged.disconnect(this.update,this),this._model=e,e&&e.stateChanged.connect(this.update,this),this.update(),this._modelChanged.emit(void 0))}get model(){return this._model}dispose(){this.isDisposed||(this._model=null,super.dispose())}}class _a extends h.Component{constructor(e){super(e),this.slot=(e,t)=>{this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)||this.setState({value:[e,t]})},this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class va{constructor(){this.stateChanged=new f.Signal(this),this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,f.Signal.clearData(this))}}var ba=n(19150);class ya extends ga{constructor(){super(),this.addClass("jp-Collapser")}get collapsed(){return!1}render(){return h.createElement("div",{className:"jp-Collapser-child",onClick:e=>this.handleClick(e)})}}class wa extends ya{constructor(){super(),this.addClass("jp-InputCollapser")}get collapsed(){var e;const t=null===(e=this.parent)||void 0===e?void 0:e.parent;return!!t&&t.inputHidden}handleClick(e){var t;const n=null===(t=this.parent)||void 0===t?void 0:t.parent;n&&(n.inputHidden=!n.inputHidden),this.update()}}class xa extends ya{constructor(){super(),this.addClass("jp-OutputCollapser")}get collapsed(){var e;const t=null===(e=this.parent)||void 0===e?void 0:e.parent;return!!t&&t.outputHidden}handleClick(e){var t,n;const s=null===(t=this.parent)||void 0===t?void 0:t.parent;if(s&&(s.outputHidden=!s.outputHidden,s.outputHidden)){let e=null===(n=s.parent)||void 0===n?void 0:n.node;e&&ba.ElementExt.scrollIntoViewIfNeeded(e,s.node)}this.update()}}class Sa extends E.Widget{constructor(){super(),this.addClass("jp-CellHeader")}}class Ca extends E.Widget{constructor(){super(),this.addClass("jp-CellFooter")}}const ka="jp-mod-has-primary-selection",Ea="jp-mod-in-leading-whitespace",Oa="jp-mod-dropTarget",Ma=/^\s+$/;class Ta extends E.Widget{constructor(e){super();const{factory:t,model:n,editorOptions:s}=e;(this.editor=t({host:this.node,model:n,...s})).model.selections.changed.connect(this._onSelectionsChanged,this)}get model(){return this.editor.model}dispose(){this.isDisposed||(this.editor.dispose(),super.dispose())}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e)}}onActivateRequest(e){this.editor.focus()}onAfterAttach(e){super.onAfterAttach(e);const t=this.node;t.addEventListener("lm-dragenter",this),t.addEventListener("lm-dragleave",this),t.addEventListener("lm-dragover",this),t.addEventListener("lm-drop",this)}onBeforeDetach(e){const t=this.node;t.removeEventListener("lm-dragenter",this),t.removeEventListener("lm-dragleave",this),t.removeEventListener("lm-dragover",this),t.removeEventListener("lm-drop",this)}_onSelectionsChanged(){const{start:e,end:t}=this.editor.getSelection();e.column!==t.column||e.line!==t.line?(this.addClass(ka),this.removeClass(Ea)):(this.removeClass(ka),this.editor.getLine(t.line).slice(0,t.column).match(Ma)?this.addClass(Ea):this.removeClass(Ea))}_evtDragEnter(e){if(!0===this.editor.getOption("readOnly"))return;void 0!==Da.findTextData(e.mimeData)&&(e.preventDefault(),e.stopPropagation(),this.addClass("jp-mod-dropTarget"))}_evtDragLeave(e){if(this.removeClass(Oa),!0===this.editor.getOption("readOnly"))return;void 0!==Da.findTextData(e.mimeData)&&(e.preventDefault(),e.stopPropagation())}_evtDragOver(e){if(this.removeClass(Oa),!0===this.editor.getOption("readOnly"))return;void 0!==Da.findTextData(e.mimeData)&&(e.preventDefault(),e.stopPropagation(),e.dropAction="copy",this.addClass(Oa))}_evtDrop(e){if(!0===this.editor.getOption("readOnly"))return;const t=Da.findTextData(e.mimeData);if(void 0===t)return;const n={top:e.y,bottom:e.y,left:e.x,right:e.x,x:e.x,y:e.y,width:0,height:0},s=this.editor.getPositionForCoordinate(n);if(null===s)return;if(this.removeClass(Oa),e.preventDefault(),e.stopPropagation(),"none"===e.proposedAction)return void(e.dropAction="none");const i=this.editor.getOffsetAt(s);this.model.sharedModel.updateSource(i,i,t)}}var Da;!function(e){e.findTextData=function(e){const t=e.types().find((e=>0===e.indexOf("text")));if(void 0!==t)return e.getData(t)}}(Da||(Da={}));class Pa extends E.Widget{constructor(e){super(),this.addClass("jp-InputArea");const{contentFactory:t,editorOptions:n,model:s}=e;this.model=s,this.contentFactory=t;const i=this._prompt=t.createInputPrompt();i.addClass("jp-InputArea-prompt");const r=this._editor=new Ta({factory:t.editorFactory,model:s,editorOptions:n});r.addClass("jp-InputArea-editor");const o=this.layout=new E.PanelLayout;o.addWidget(i),o.addWidget(r)}get editorWidget(){return this._editor}get editor(){return this._editor.editor}get promptNode(){return this._prompt.node}get renderedInput(){return this._rendered}renderInput(e){const t=this.layout;this._rendered&&(this._rendered.parent=null),this._editor.hide(),this._rendered=e,t.addWidget(e)}showEditor(){this._rendered&&(this._rendered.parent=null),this._editor.show()}setPrompt(e){this._prompt.executionCount=e}dispose(){this.isDisposed||(this._prompt=null,this._editor=null,this._rendered=null,super.dispose())}}!function(e){e.ContentFactory=class{constructor(e){this._editor=e.editorFactory}get editorFactory(){return this._editor}createInputPrompt(){return new Aa}}}(Pa||(Pa={}));class Aa extends E.Widget{constructor(){super(),this._executionCount=null,this.addClass("jp-InputPrompt")}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,this.node.textContent=null===e?" ":`[${e||" "}]:`}}class Ra extends E.Widget{constructor(e){var t,n,s;const i=document.createElement("div");super({node:i});const r=(null!==(t=e.translator)&&void 0!==t?t:S).load("jupyterlab"),o=document.createElement("div");o.className=null!==(n=e.promptClass)&&void 0!==n?n:"",i.insertAdjacentHTML("afterbegin",o.outerHTML),this._cell=document.createElement("div"),this._cell.classList.add("jp-Placeholder-content"),this._cell.title=r.__("Click to expand");const a=this._cell.appendChild(document.createElement("div"));a.classList.add("jp-Placeholder-contentContainer"),this._textContent=a.appendChild(document.createElement("span")),this._textContent.className="jp-PlaceholderText",this._textContent.innerText=null!==(s=e.text)&&void 0!==s?s:"",i.appendChild(this._cell),oa.element({container:a.appendChild(document.createElement("span")),className:"jp-MoreHorizIcon",elementPosition:"center",height:"auto",width:"32px"}),this.addClass("jp-Placeholder"),this._callback=e.callback}set text(e){this._textContent.innerText=e}get text(){return this._textContent.innerText}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("click",this._callback)}onBeforeDetach(e){this.node.removeEventListener("click",this._callback),super.onBeforeDetach(e)}}class ja extends Ra{constructor(e){super({...e,promptClass:"jp-Placeholder-prompt jp-InputPrompt"}),this.addClass("jp-InputPlaceholder")}}class Ia extends Ra{constructor(e){super({...e,promptClass:"jp-Placeholder-prompt jp-OutputPrompt"}),this.addClass("jp-OutputPlaceholder")}}const Na="jp-mod-resizedCell";class La extends E.Widget{constructor(e){super(),this.targetNode=e,this._isActive=!1,this._isDragging=!1,this.addClass("jp-CellResizeHandle"),this._resizer=new fa.Throttler((e=>this._resize(e)),50)}dispose(){this._resizer.dispose(),super.dispose()}handleEvent(e){var t,n;switch(e.type){case"dblclick":null===(t=this.targetNode.parentNode)||void 0===t||t.childNodes.forEach((e=>{e.classList.remove(Na)})),document.documentElement.style.setProperty("--jp-side-by-side-output-size","1fr"),this._isActive=!1;break;case"mousedown":this._isDragging=!0,this._isActive||(null===(n=this.targetNode.parentNode)||void 0===n||n.childNodes.forEach((e=>{e.classList.add(Na)})),this._isActive=!0),window.addEventListener("mousemove",this),window.addEventListener("mouseup",this);break;case"mousemove":this._isActive&&this._isDragging&&this._resizer.invoke(e);break;case"mouseup":this._isDragging=!1,window.removeEventListener("mousemove",this),window.removeEventListener("mouseup",this)}}onAfterAttach(e){this.node.addEventListener("dblclick",this),this.node.addEventListener("mousedown",this),super.onAfterAttach(e)}onBeforeDetach(e){this.node.removeEventListener("dblclick",this),this.node.removeEventListener("mousedown",this),super.onBeforeDetach(e)}_resize(e){const{width:t,x:n}=this.targetNode.getBoundingClientRect(),s=t/(e.clientX-n)-1;if(0<s){const e=Math.max(Math.min(Math.abs(s),50),.05);document.documentElement.style.setProperty("--jp-side-by-side-output-size",`${e}fr`)}}}const Ba="jp-Cell-outputWrapper",$a="jp-mod-dirty",Fa="jp-MarkdownHeadingCollapsed",Ua="jp-collapseHeadingButton",za="jp-showHiddenCellsButton",Va="jp-mod-rendered",qa="jp-mod-noOutputs",Ha="application/x-jupyter-icontentsrich";class Wa extends E.Widget{constructor(e){var t,n,s,i;super(),this.prompt="",this._displayChanged=new f.Signal(this),this._editorConfig={},this._inputHidden=!1,this._inViewportChanged=new f.Signal(this),this._readOnly=!1,this._ready=new _.PromiseDelegate,this._resizeDebouncer=new fa.Debouncer((()=>{this._displayChanged.emit()}),0),this._syncCollapse=!1,this._syncEditable=!1,this.addClass("jp-Cell");const r=this._model=e.model;this.contentFactory=e.contentFactory,this.layout=null!==(t=e.layout)&&void 0!==t?t:new E.PanelLayout,this.translator=null!==(n=e.translator)&&void 0!==n?n:S,this._editorConfig=null!==(s=e.editorConfig)&&void 0!==s?s:{},this._placeholder=!0,this._inViewport=!1,this.placeholder=null===(i=e.placeholder)||void 0===i||i,r.metadataChanged.connect(this.onMetadataChanged,this)}initializeState(){return this.loadCollapseState(),this.loadEditableState(),this}get displayChanged(){return this._displayChanged}get inViewport(){return this._inViewport}set inViewport(e){this._inViewport!==e&&(this._inViewport=e,this._inViewportChanged.emit(this._inViewport))}get inViewportChanged(){return this._inViewportChanged}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder!==e&&!1===e&&(this.initializeDOM(),this._placeholder=e,this._ready.resolve())}get promptNode(){return this.placeholder?null:this._inputHidden?this._inputPlaceholder.node.firstElementChild:this._input.promptNode}get editorWidget(){var e,t;return null!==(t=null===(e=this._input)||void 0===e?void 0:e.editorWidget)&&void 0!==t?t:null}get editor(){var e,t;return null!==(t=null===(e=this._input)||void 0===e?void 0:e.editor)&&void 0!==t?t:null}get editorConfig(){return this._editorConfig}get headings(){return new Array}get model(){return this._model}get inputArea(){return this._input}get readOnly(){return this._readOnly}set readOnly(e){e!==this._readOnly&&(this._readOnly=e,this.syncEditable&&this.saveEditableState(),this.update())}isPlaceholder(){return this.placeholder}saveEditableState(){const{sharedModel:e}=this.model,t=e.getMetadata("editable");this.readOnly&&!1===t||!this.readOnly&&void 0===t||(this.readOnly?e.setMetadata("editable",!1):e.deleteMetadata("editable"))}loadEditableState(){this.readOnly=!1===this.model.sharedModel.getMetadata("editable")}get ready(){return this._ready.promise}setPrompt(e){var t;this.prompt=e,null===(t=this._input)||void 0===t||t.setPrompt(e)}get inputHidden(){return this._inputHidden}set inputHidden(e){var t;if(this._inputHidden!==e){if(!this.placeholder){const n=this._inputWrapper.layout;e?(this._input.parent=null,this._inputPlaceholder&&(this._inputPlaceholder.text=null===(t=this.model.sharedModel.getSource().split("\n"))||void 0===t?void 0:t[0]),n.addWidget(this._inputPlaceholder)):(this._inputPlaceholder.parent=null,n.addWidget(this._input))}this._inputHidden=e,this.syncCollapse&&this.saveCollapseState(),this.handleInputHidden(e)}}saveCollapseState(){const e={...this.model.getMetadata("jupyter")};this.inputHidden&&!0===e.source_hidden||!this.inputHidden&&void 0===e.source_hidden||(this.inputHidden?e.source_hidden=!0:delete e.source_hidden,0===Object.keys(e).length?this.model.deleteMetadata("jupyter"):this.model.setMetadata("jupyter",e))}loadCollapseState(){var e;const t=null!==(e=this.model.getMetadata("jupyter"))&&void 0!==e?e:{};this.inputHidden=!!t.source_hidden}handleInputHidden(e){}get syncCollapse(){return this._syncCollapse}set syncCollapse(e){this._syncCollapse!==e&&(this._syncCollapse=e,e&&this.loadCollapseState())}get syncEditable(){return this._syncEditable}set syncEditable(e){this._syncEditable!==e&&(this._syncEditable=e,e&&this.loadEditableState())}clone(){return new(0,this.constructor)({model:this.model,contentFactory:this.contentFactory,placeholder:!1,translator:this.translator})}dispose(){this.isDisposed||(this._resizeDebouncer.dispose(),this._input=null,this._model=null,this._inputWrapper=null,this._inputPlaceholder=null,super.dispose())}updateEditorConfig(e){this._editorConfig={...this._editorConfig,...e},this.editor&&this.editor.setOptions(this._editorConfig)}initializeDOM(){if(!this.placeholder)return;const e=this.contentFactory,t=this._model,n=e.createCellHeader();n.addClass("jp-Cell-header"),this.layout.addWidget(n);const s=this._inputWrapper=new E.Panel;s.addClass("jp-Cell-inputWrapper");const i=new wa;i.addClass("jp-Cell-inputCollapser");const r=this._input=new Pa({model:t,contentFactory:e,editorOptions:this.getEditorOptions()});r.addClass("jp-Cell-inputArea"),s.addWidget(i),s.addWidget(r),this.layout.addWidget(s),this._inputPlaceholder=new ja({callback:()=>{this.inputHidden=!this.inputHidden},text:r.model.sharedModel.getSource().split("\n")[0],translator:this.translator}),r.model.contentChanged.connect(((e,t)=>{var n;this._inputPlaceholder&&this.inputHidden&&(this._inputPlaceholder.text=null===(n=e.sharedModel.getSource().split("\n"))||void 0===n?void 0:n[0])})),this.inputHidden&&(r.parent=null,s.layout.addWidget(this._inputPlaceholder));const o=this.contentFactory.createCellFooter();o.addClass("jp-Cell-footer"),this.layout.addWidget(o)}getEditorOptions(){return{config:this.editorConfig}}onBeforeAttach(e){this.placeholder&&(this.placeholder=!1)}onAfterAttach(e){this.update()}onActivateRequest(e){var t;null===(t=this.editor)||void 0===t||t.focus()}onResize(e){this._resizeDebouncer.invoke()}onUpdateRequest(e){var t,n;this._model&&(null===(t=this.editor)||void 0===t?void 0:t.getOption("readOnly"))!==this._readOnly&&(null===(n=this.editor)||void 0===n||n.setOption("readOnly",this._readOnly))}onContentChanged(){var e;this.inputHidden&&this._inputPlaceholder&&(this._inputPlaceholder.text=null===(e=this.model.sharedModel.getSource().split("\n"))||void 0===e?void 0:e[0])}onMetadataChanged(e,t){switch(t.key){case"jupyter":this.syncCollapse&&this.loadCollapseState();break;case"editable":this.syncEditable&&this.loadEditableState()}}}!function(e){let t;!function(e){e[e.HTML=0]="HTML",e[e.Markdown=1]="Markdown"}(t=e.HeadingType||(e.HeadingType={}));e.ContentFactory=class{constructor(e){this._editorFactory=e.editorFactory}get editorFactory(){return this._editorFactory}createCellHeader(){return new Sa}createCellFooter(){return new Ca}createInputPrompt(){return new Aa}createOutputPrompt(){return new Y}createStdin(e){return new X(e)}}}(Wa||(Wa={}));class Ka extends E.PanelLayout{onBeforeAttach(e){let t=!0;const n=this.parent.node.firstElementChild;for(const s of this)n&&(s.node===n?t=!1:(v.MessageLoop.sendMessage(s,e),t?this.parent.node.insertBefore(s.node,n):this.parent.node.appendChild(s.node),this.parent.isHidden||s.setFlag(E.Widget.Flag.IsVisible),v.MessageLoop.sendMessage(s,E.Widget.Msg.AfterAttach)))}onAfterDetach(e){for(const t of this)!t.hasClass(Ba)&&t.node.isConnected&&(v.MessageLoop.sendMessage(t,E.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),v.MessageLoop.sendMessage(t,e))}}class Ga extends Wa{constructor(e){var t;super({layout:new Ka,...e,placeholder:!0}),this._headingsCache=null,this._outputHidden=!1,this._outputWrapper=null,this._outputPlaceholder=null,this._syncScrolled=!1,this.addClass("jp-CodeCell");const n=this.translator.load("jupyterlab"),s=this._rendermime=e.rendermime,i=this.contentFactory,r=this.model;this.maxNumberOutputs=e.maxNumberOutputs;const o=0===r.outputs.length?n.__("Code Cell Content"):n.__("Code Cell Content with Output");this.node.setAttribute("aria-label",o);const a=this._output=new G({model:this.model.outputs,rendermime:s,contentFactory:i,maxNumberOutputs:this.maxNumberOutputs,translator:this.translator,promptOverlay:!0,inputHistoryScope:e.inputHistoryScope});a.addClass("jp-Cell-outputArea"),a.toggleScrolling.connect((()=>{this.outputsScrolled=!this.outputsScrolled})),this.placeholder=null===(t=e.placeholder)||void 0===t||t,r.outputs.changed.connect(this.onOutputChanged,this),r.outputs.stateChanged.connect(this.onOutputChanged,this),r.stateChanged.connect(this.onStateChanged,this)}initializeDOM(){if(!this.placeholder)return;super.initializeDOM(),this.setPrompt(this.prompt);const e=this._outputWrapper=new E.Panel;e.addClass(Ba);const t=new xa;t.addClass("jp-Cell-outputCollapser"),e.addWidget(t),0===this.model.outputs.length&&this.addClass(qa),this._output.outputLengthChanged.connect(this._outputLengthHandler,this),e.addWidget(this._output);const n=this.layout;n.insertWidget(n.widgets.length-1,new La(this.node)),n.insertWidget(n.widgets.length-1,e),this.model.isDirty&&this.addClass($a),this._outputPlaceholder=new Ia({callback:()=>{this.outputHidden=!this.outputHidden},text:this.getOutputPlaceholderText(),translator:this.translator});const s=e.layout;this.outputHidden&&(s.removeWidget(this._output),s.addWidget(this._outputPlaceholder),this.inputHidden&&!e.isHidden&&this._outputWrapper.hide());const i=this.translator.load("jupyterlab"),r=0===this.model.outputs.length?i.__("Code Cell Content"):i.__("Code Cell Content with Output");this.node.setAttribute("aria-label",r)}getOutputPlaceholderText(){var e;const t=this.model.outputs.get(0);if(!(null==t?void 0:t.data))return;const n=["text/html","image/svg+xml","application/pdf","text/markdown","text/plain","application/vnd.jupyter.stderr","application/vnd.jupyter.stdout","text"].find((e=>{const n=t.data[e];return"string"==(Array.isArray(n)?typeof n[0]:typeof n)})),s=t.data[null!=n?n:""];return void 0!==s?null===(e=Array.isArray(s)?s:null==s?void 0:s.split("\n"))||void 0===e?void 0:e.find((e=>""!==e)):void 0}initializeState(){return super.initializeState(),this.loadScrolledState(),this.setPrompt(`${this.model.executionCount||""}`),this}get headings(){if(!this._headingsCache){const e=[],t=this.model.outputs;for(let n=0;n<t.length;n++){const s=t.get(n);let i=null,r=null;Object.keys(s.data).forEach((e=>{var t;!r&&(t=e,ge.includes(t))?r=e:!i&&ye(e)&&(i=e)})),i?e.push(...we(this._rendermime.sanitizer.sanitize(s.data[i])).map((e=>({...e,outputIndex:n,type:Wa.HeadingType.HTML})))):r&&e.push(...fe(s.data[r]).map((e=>({...e,outputIndex:n,type:Wa.HeadingType.Markdown}))))}this._headingsCache=e}return[...this._headingsCache]}get outputArea(){return this._output}get outputHidden(){return this._outputHidden}set outputHidden(e){var t;if(this._outputHidden!==e){if(!this.placeholder){const n=this._outputWrapper.layout;e?(n.removeWidget(this._output),n.addWidget(this._outputPlaceholder),this.inputHidden&&!this._outputWrapper.isHidden&&this._outputWrapper.hide(),this._outputPlaceholder&&(this._outputPlaceholder.text=null!==(t=this.getOutputPlaceholderText())&&void 0!==t?t:"")):(this._outputWrapper.isHidden&&this._outputWrapper.show(),n.removeWidget(this._outputPlaceholder),n.addWidget(this._output))}this._outputHidden=e,this.syncCollapse&&this.saveCollapseState()}}saveCollapseState(){this.model.sharedModel.transact((()=>{super.saveCollapseState();const e=this.model.getMetadata("collapsed");this.outputHidden&&!0===e||!this.outputHidden&&void 0===e||(this.outputHidden?this.model.setMetadata("collapsed",!0):this.model.deleteMetadata("collapsed"))}),!1)}loadCollapseState(){super.loadCollapseState(),this.outputHidden=!!this.model.getMetadata("collapsed")}get outputsScrolled(){return this._outputsScrolled}set outputsScrolled(e){this.toggleClass("jp-mod-outputsScrolled",e),this._outputsScrolled=e,this.syncScrolled&&this.saveScrolledState()}saveScrolledState(){const e=this.model.getMetadata("scrolled");this.outputsScrolled&&!0===e||!this.outputsScrolled&&void 0===e||(this.outputsScrolled?this.model.setMetadata("scrolled",!0):this.model.deleteMetadata("scrolled"))}loadScrolledState(){"auto"===this.model.getMetadata("scrolled")?this.outputsScrolled=!1:this.outputsScrolled=!!this.model.getMetadata("scrolled")}get syncScrolled(){return this._syncScrolled}set syncScrolled(e){this._syncScrolled!==e&&(this._syncScrolled=e,e&&this.loadScrolledState())}handleInputHidden(e){this.placeholder||(!e&&this._outputWrapper.isHidden?this._outputWrapper.show():e&&!this._outputWrapper.isHidden&&this._outputHidden&&this._outputWrapper.hide())}clone(){return new(0,this.constructor)({model:this.model,contentFactory:this.contentFactory,rendermime:this._rendermime,placeholder:!1,translator:this.translator})}cloneOutputArea(){return new J({model:this.model.outputs,contentFactory:this.contentFactory,rendermime:this._rendermime})}dispose(){this.isDisposed||(this._output.outputLengthChanged.disconnect(this._outputLengthHandler,this),this._rendermime=null,this._output=null,this._outputWrapper=null,this._outputPlaceholder=null,super.dispose())}onStateChanged(e,t){switch(t.name){case"executionCount":this.setPrompt(`${e.executionCount||""}`);break;case"isDirty":e.isDirty?this.addClass($a):this.removeClass($a)}}onOutputChanged(){var e;this._headingsCache=null,this._outputPlaceholder&&this.outputHidden&&(this._outputPlaceholder.text=null!==(e=this.getOutputPlaceholderText())&&void 0!==e?e:"")}onMetadataChanged(e,t){switch(t.key){case"scrolled":this.syncScrolled&&this.loadScrolledState();break;case"collapsed":this.syncCollapse&&this.loadCollapseState()}super.onMetadataChanged(e,t)}_outputLengthHandler(e,t){const n=0===t;this.toggleClass(qa,n);const s=this.translator.load("jupyterlab"),i=n?s.__("Code Cell Content"):s.__("Code Cell Content with Output");this.node.setAttribute("aria-label",i)}}!function(e){e.execute=async function(e,t,n){var s;const i=e.model,r=i.sharedModel.getSource();if(!r.trim()||!(null===(s=t.session)||void 0===s?void 0:s.kernel))return void i.sharedModel.transact((()=>{i.clearExecution()}),!1);const o={cellId:i.sharedModel.getId()};n={...i.metadata,...n,...o};const{recordTiming:a}=n;let l;i.sharedModel.transact((()=>{i.clearExecution(),e.outputHidden=!1}),!1),e.setPrompt("*"),i.trusted=!0;try{const s=G.execute(r,e.outputArea,t,n);if(a){const t=e=>{let t;switch(e.header.msg_type){case"status":t=`status.${e.content.execution_state}`;break;case"execute_input":t="execute_input";break;default:return!0}const n=e.header.date||(new Date).toISOString(),s=Object.assign({},i.getMetadata("execution"));return s[`iopub.${t}`]=n,i.setMetadata("execution",s),!0};e.outputArea.future.registerMessageHook(t)}else i.deleteMetadata("execution");l=e.outputArea.future;const o=await s;if(i.executionCount=o.content.execution_count,a){const e=Object.assign({},i.getMetadata("execution")),t=o.metadata.started;t&&(e["shell.execute_reply.started"]=t);const n=o.header.date;e["shell.execute_reply"]=n||(new Date).toISOString(),i.setMetadata("execution",e)}return o}catch(c){throw l&&!e.isDisposed&&e.outputArea.future===l&&e.setPrompt(""),c}}}(Ga||(Ga={}));class Ja extends Wa{handleEvent(e){switch(e.type){case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e)}}getEditorOptions(){var e,t;const n=null!==(e=super.getEditorOptions())&&void 0!==e?e:{};return n.extensions=[...null!==(t=n.extensions)&&void 0!==t?t:[],p.EditorView.domEventHandlers({dragenter:e=>{e.preventDefault()},dragover:e=>{e.preventDefault()},drop:e=>{this._evtNativeDrop(e)},paste:e=>{this._evtPaste(e)}})],n}onAfterAttach(e){super.onAfterAttach(e);const t=this.node;t.addEventListener("lm-dragover",this),t.addEventListener("lm-drop",this)}onBeforeDetach(e){const t=this.node;t.removeEventListener("lm-dragover",this),t.removeEventListener("lm-drop",this),super.onBeforeDetach(e)}_evtDragOver(e){(0,pa.some)(le.mimeTypes,(t=>{if(!e.mimeData.hasData(Ha))return!1;return e.mimeData.getData(Ha).model.mimetype===t}))&&(e.preventDefault(),e.stopPropagation(),e.dropAction=e.proposedAction)}_evtPaste(e){if(e.clipboardData){const t=e.clipboardData.items;for(let n=0;n<t.length;n++){if("text/plain"===t[n].type){if(n<t.length-1&&"file"===t[n+1].kind)continue;t[n].getAsString((e=>{var t,n;null===(n=(t=this.editor).replaceSelection)||void 0===n||n.call(t,e)}))}this._attachFiles(e.clipboardData.items)}}e.preventDefault()}_evtNativeDrop(e){e.dataTransfer&&this._attachFiles(e.dataTransfer.items),e.preventDefault()}_evtDrop(e){const t=e.mimeData.types().filter((t=>{if(t===Ha){const t=e.mimeData.getData(Ha);return-1!==le.mimeTypes.indexOf(t.model.mimetype)}return-1!==le.mimeTypes.indexOf(t)}));if(0!==t.length)if(e.preventDefault(),e.stopPropagation(),"none"!==e.proposedAction){e.dropAction="copy";for(const n of t)if(n===Ha){const{model:t,withContent:n}=e.mimeData.getData(Ha);if("file"===t.type){const e=this._generateURI(t.name);this.updateCellSourceWithAttachment(t.name,e),n().then((t=>{this.model.attachments.set(e,{[t.mimetype]:t.content})}))}}else{const t=this._generateURI();this.model.attachments.set(t,{[n]:e.mimeData.getData(n)}),this.updateCellSourceWithAttachment(t,t)}}else e.dropAction="none"}_attachFiles(e){for(let t=0;t<e.length;t++){const n=e[t];if("file"===n.kind){const e=n.getAsFile();e&&this._attachFile(e)}}}_attachFile(e){const t=new FileReader;t.onload=n=>{const{href:s,protocol:i}=U.URLExt.parse(t.result);if("data:"!==i)return;const r=/([\w+\/\+]+)?(?:;(charset=[\w\d-]*|base64))?,(.*)/.exec(s);if(!r||4!==r.length)return;const o=r[1],a={[o]:r[3]},l=this._generateURI(e.name);o.startsWith("image/")&&(this.model.attachments.set(l,a),this.updateCellSourceWithAttachment(e.name,l))},t.onerror=t=>{console.error(`Failed to attach ${e.name}`+t)},t.readAsDataURL(e)}_generateURI(e=""){const t=e.lastIndexOf(".");return-1!==t?_.UUID.uuid4().concat(e.substring(t)):_.UUID.uuid4()}}class Ya extends Ja{constructor(e){var t,n,s,i;super({...e,placeholder:!0}),this._headingsCache=null,this._headingCollapsedChanged=new f.Signal(this),this._prevText="",this._rendered=!0,this._renderedChanged=new f.Signal(this),this._showEditorForReadOnlyMarkdown=!0,this.addClass("jp-MarkdownCell"),this.model.contentChanged.connect(this.onContentChanged,this);const r=this.translator.load("jupyterlab");this.node.setAttribute("aria-label",r.__("Markdown Cell Content")),this._rendermime=e.rendermime.clone({resolver:new F({parent:null!==(t=e.rendermime.resolver)&&void 0!==t?t:void 0,model:this.model.attachments})}),this._renderer=this._rendermime.createRenderer("text/markdown"),this._renderer.addClass("jp-MarkdownOutput"),this._headingCollapsed=null!==(n=this.model.getMetadata(Fa))&&void 0!==n&&n,this._showEditorForReadOnlyMarkdown=null!==(s=e.showEditorForReadOnlyMarkdown)&&void 0!==s?s:Ya.defaultShowEditorForReadOnlyMarkdown,this.placeholder=null===(i=e.placeholder)||void 0===i||i,this._monitor=new U.ActivityMonitor({signal:this.model.contentChanged,timeout:1e3}),this.ready.then((()=>{this.isDisposed||this._monitor.activityStopped.connect((()=>{this._rendered&&this.update()}),this)})).catch((e=>{console.error("Failed to be ready",e)}))}get headingInfo(){const e=this.headings;if(e.length>0){const{text:t,level:n}=e.reduce(((e,t)=>e.level<=t.level?e:t),e[0]);return{text:t,level:n}}return{text:"",level:-1}}get headings(){if(!this._headingsCache){const e=fe(this.model.sharedModel.getSource());this._headingsCache=e.map((e=>({...e,type:Wa.HeadingType.Markdown})))}return[...this._headingsCache]}get headingCollapsed(){return this._headingCollapsed}set headingCollapsed(e){var t;if(this._headingCollapsed!==e){this._headingCollapsed=e,e?this.model.setMetadata(Fa,e):"undefined"!==this.model.getMetadata(Fa)&&this.model.deleteMetadata(Fa);const n=null===(t=this.inputArea)||void 0===t?void 0:t.promptNode.getElementsByClassName(Ua)[0];n&&(e?n.classList.add("jp-mod-collapsed"):n.classList.remove("jp-mod-collapsed")),this.renderCollapseButtons(this._renderer),this._headingCollapsedChanged.emit(this._headingCollapsed)}}get numberChildNodes(){return this._numberChildNodes}set numberChildNodes(e){this._numberChildNodes=e,this.renderCollapseButtons(this._renderer)}get headingCollapsedChanged(){return this._headingCollapsedChanged}get rendered(){return this._rendered}set rendered(e){this.readOnly&&!1===this._showEditorForReadOnlyMarkdown&&(e=!0),e!==this._rendered&&(this._rendered=e,this._handleRendered().then((()=>{this._displayChanged.emit(),this._renderedChanged.emit(this._rendered)})).catch((e=>{console.error("Failed to render",e)})))}get renderedChanged(){return this._renderedChanged}get showEditorForReadOnly(){return this._showEditorForReadOnlyMarkdown}set showEditorForReadOnly(e){this._showEditorForReadOnlyMarkdown=e,!1===e&&(this.rendered=!0)}get renderer(){return this._renderer}dispose(){this.isDisposed||(this._monitor.dispose(),super.dispose())}initializeDOM(){this.placeholder&&(super.initializeDOM(),this.renderCollapseButtons(this._renderer),this._handleRendered().catch((e=>{console.error("Failed to render",e)})))}maybeCreateCollapseButton(){var e;const{level:t}=this.headingInfo;if(t>0&&0==(null===(e=this.inputArea)||void 0===e?void 0:e.promptNode.getElementsByClassName(Ua).length)){let e=this.inputArea.promptNode.appendChild(document.createElement("button"));e.className=`jp-Button ${Ua}`,e.setAttribute("data-heading-level",t.toString()),this._headingCollapsed?e.classList.add("jp-mod-collapsed"):e.classList.remove("jp-mod-collapsed"),e.onclick=e=>{this.headingCollapsed=!this.headingCollapsed}}}maybeCreateOrUpdateExpandButton(){const e=this.node.getElementsByClassName(za);let t=this.translator.load("jupyterlab")._n("%1 cell hidden","%1 cells hidden",this._numberChildNodes);if(this.headingCollapsed&&this._numberChildNodes>0&&0==e.length){const e=document.createElement("button");e.className=`jp-mod-minimal jp-Button ${za}`,ta.render(e);const n=document.createElement("div");n.textContent=t,e.appendChild(n),e.onclick=()=>{this.headingCollapsed=!1},this.node.appendChild(e)}if(this.headingCollapsed&&this._numberChildNodes>0&&1==e.length&&(e[0].childNodes[1].textContent=t),!(this.headingCollapsed&&this._numberChildNodes>0))for(const n of e)this.node.removeChild(n)}onContentChanged(){super.onContentChanged(),this._headingsCache=null}renderCollapseButtons(e){this.node.classList.toggle(Fa,this._headingCollapsed),this.maybeCreateCollapseButton(),this.maybeCreateOrUpdateExpandButton()}renderInput(e){this.addClass(Va),this.placeholder||this.isDisposed||(this.renderCollapseButtons(e),this.inputArea.renderInput(e))}showEditor(){if(this.removeClass(Va),!this.placeholder&&!this.isDisposed){this.inputArea.showEditor();let e=(this.model.sharedModel.getSource().match(/^#+/g)||[""])[0].length;e>0&&this.inputArea.editor.setCursorPosition({column:e+1,line:0})}}onUpdateRequest(e){this._handleRendered().catch((e=>{console.error("Failed to render",e)})),super.onUpdateRequest(e)}updateCellSourceWithAttachment(e,t){var n,s;const i=`![${e}](attachment:${null!=t?t:e})`;null===(s=null===(n=this.editor)||void 0===n?void 0:n.replaceSelection)||void 0===s||s.call(n,i)}async _handleRendered(){this._rendered?(await this._updateRenderedInput(),this._rendered&&this.renderInput(this._renderer)):this.showEditor()}_updateRenderedInput(){if(this.placeholder)return Promise.resolve();const e=this.model,t=e&&e.sharedModel.getSource()||"Type Markdown and LaTeX: $ \u03b1^2 $";if(t!==this._prevText){const e=new ce({data:{"text/markdown":t}});return this._prevText=t,this._renderer.renderModel(e)}return Promise.resolve()}clone(){return new(0,this.constructor)({model:this.model,contentFactory:this.contentFactory,rendermime:this._rendermime,placeholder:!1,translator:this.translator})}}!function(e){e.defaultShowEditorForReadOnlyMarkdown=!0}(Ya||(Ya={}));var Xa=n(6889),Za=n(99308),Qa=n(76983);const el={source:"",outputsCount:-1,kernelAvailable:!1};var tl;!function(e){e.SOURCE="cell/SOURCE",e.OUTPUTS_COUNT="cell/OUTPUTS_COUNT",e.EXECUTE="cell/EXECUTE",e.UPDATE="cell/UPDATE"}(tl||(tl={}));const nl=(0,Za.default)("jupyterReact"),sl={source:nl(tl.SOURCE),outputsCount:nl(tl.OUTPUTS_COUNT),execute:nl(tl.EXECUTE),update:nl(tl.UPDATE)},il=(0,Qa.reducerWithInitialState)(el).case(sl.execute,((e,t)=>(e.adapter&&e.adapter.execute(),{...e}))).case(sl.source,((e,t)=>({...e,source:t}))).case(sl.update,((e,t)=>({...e,...t}))).case(sl.outputsCount,((e,t)=>({...e,outputsCount:t})));var rl,ol,al,ll,cl=n(45159),ul=n(21560);function hl(e){const{minimal:t,small:n,children:s,...i}=e;return h.createElement("button",{...i,className:Ne(e.className,t?"jp-mod-minimal":"",n?"jp-mod-small":"","jp-Button")},s)}!function(e){function t(e,t,s=""){if(e.localName===t&&e.classList.add("jp-mod-styled"),"select"===e.localName){const t=e.hasAttribute("multiple");n(e,t)}const i=e.getElementsByTagName(t);for(let r=0;r<i.length;r++){const e=i[r];if(e.classList.add("jp-mod-styled"),s&&e.classList.add(s),"select"===t){const t=e.hasAttribute("multiple");n(e,t)}}}function n(e,t){const n=document.createElement("div");return n.classList.add("jp-select-wrapper"),e.addEventListener("focus",ol.onFocus),e.addEventListener("blur",ol.onFocus),e.classList.add("jp-mod-styled"),e.parentElement&&e.parentElement.replaceChild(n,e),n.appendChild(e),t?n.classList.add("multiple"):n.appendChild(na.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"})),n}e.styleNode=function(e,n=""){t(e,"select",n),t(e,"textarea",n),t(e,"input",n),t(e,"button",n)},e.styleNodeByTag=t,e.wrapSelect=n}(rl||(rl={})),function(e){e.onFocus=function(e){const t=e.target.parentElement;t&&("focus"===e.type?t.classList.add("jp-mod-focused"):t.classList.remove("jp-mod-focused"))}}(ol||(ol={}));class dl{constructor(e){this._currentChanged=new f.Signal(this),this._deferred=null,this._isDisposed=!1,this._widgetAdded=new f.Signal(this),this._widgetUpdated=new f.Signal(this);const t=this._focusTracker=new E.FocusTracker,n=this._pool=new C.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._deferred?Promise.resolve():this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),f.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){const t=this._deferred;return t?(this._deferred=null,this._pool.restore(t)):e?this._pool.restore(e):void console.warn("No options provided to restore the tracker.")}defer(e){this._deferred=e}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function pl(e={}){return new fl(e).launch()}class fl extends E.Widget{constructor(e={}){const t=document.createElement("dialog");t.ariaModal="true",super({node:t}),this._ready=new _.PromiseDelegate,this._focusNodeSelector="",this.addClass("jp-Dialog");const n=al.handleOptions(e),s=n.renderer;if(this._host=n.host,this._defaultButton=n.defaultButton,this._buttons=n.buttons,this._hasClose=n.hasClose,this._buttonNodes=this._buttons.map((e=>s.createButtonNode(e))),this._checkboxNode=null,this._lastMouseDownInDialog=!1,n.checkbox){const{label:e="",caption:t="",checked:i=!1,className:r=""}=n.checkbox;this._checkboxNode=s.createCheckboxNode({label:e,caption:null!=t?t:e,checked:i,className:r})}const i=this.layout=new E.PanelLayout,r=new E.Panel;r.addClass("jp-Dialog-content"),"string"==typeof e.body&&(r.addClass("jp-Dialog-content-small"),t.ariaLabel=[n.title,e.body].join(" ")),i.addWidget(r),this._body=n.body;const o=s.createHeader(n.title,(()=>this.reject()),e),a=s.createBody(n.body),l=s.createFooter(this._buttonNodes,this._checkboxNode);r.addWidget(o),r.addWidget(a),r.addWidget(l),this._bodyWidget=a,this._primary=this._buttonNodes[this._defaultButton],this._focusNodeSelector=e.focusNodeSelector,fl.tracker.add(this)}get ready(){return this._ready.promise}dispose(){const e=this._promise;e&&(this._promise=null,e.reject(void 0),pa.ArrayExt.removeFirstOf(al.launchQueue,e.promise)),super.dispose()}launch(){if(this._promise)return this._promise.promise;const e=this._promise=new _.PromiseDelegate,t=Promise.all(al.launchQueue);return al.launchQueue.push(this._promise.promise),t.then((()=>this._promise?(E.Widget.attach(this,this._host),e.promise):Promise.resolve({button:fl.cancelButton(),isChecked:null,value:null})))}resolve(e){this._promise&&(void 0===e&&(e=this._defaultButton),this._resolve(this._buttons[e]))}reject(){this._promise&&this._resolve(fl.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"mousedown":this._evtMouseDown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onAfterAttach(e){const t=this.node;t.addEventListener("keydown",this,!0),t.addEventListener("contextmenu",this,!0),t.addEventListener("click",this,!0),document.addEventListener("mousedown",this,!0),document.addEventListener("focus",this,!0),this._first=al.findFirstFocusable(this.node),this._original=document.activeElement;const n=()=>{var e;if(this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body"),t=null==e?void 0:e.querySelector(this._focusNodeSelector);t&&(this._primary=t)}null===(e=this._primary)||void 0===e||e.focus(),this._ready.resolve()};this._bodyWidget instanceof ga&&void 0!==this._bodyWidget.renderPromise?this._bodyWidget.renderPromise.then((()=>{n()})).catch((()=>{console.error("Error while loading Dialog's body")})):n()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,!0),t.removeEventListener("contextmenu",this,!0),t.removeEventListener("click",this,!0),document.removeEventListener("focus",this,!0),document.removeEventListener("mousedown",this,!0),this._original.focus()}onCloseRequest(e){this._promise&&this.reject(),super.onCloseRequest(e)}_evtClick(e){if(!this.node.getElementsByClassName("jp-Dialog-content")[0].contains(e.target))return e.stopPropagation(),e.preventDefault(),void(this._hasClose&&!this._lastMouseDownInDialog&&this.reject());for(const t of this._buttonNodes)if(t.contains(e.target)){const e=this._buttonNodes.indexOf(t);this.resolve(e)}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this._hasClose&&this.reject();break;case 37:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)-1;n<0&&(n=this._buttonNodes.length-1);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 39:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)+1;n==this._buttons.length&&(n=0);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 9:{const t=this._buttonNodes[this._buttons.length-1];document.activeElement!==t||e.shiftKey||(e.stopPropagation(),e.preventDefault(),this._first.focus());break}case 13:{e.stopPropagation(),e.preventDefault();const t=document.activeElement;let n;t instanceof HTMLButtonElement&&(n=this._buttonNodes.indexOf(t)),this.resolve(n);break}}}_evtFocus(e){var t;const n=e.target;this.node.contains(n)||(e.stopPropagation(),null===(t=this._buttonNodes[this._defaultButton])||void 0===t||t.focus())}_evtMouseDown(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0],n=e.target;this._lastMouseDownInDialog=t.contains(n)}_resolve(e){var t,n,s;const i=this._promise;if(!i)return void this.dispose();this._promise=null,pa.ArrayExt.removeFirstOf(al.launchQueue,i.promise);const r=this._body;let o=null;e.accept&&r instanceof E.Widget&&"function"==typeof r.getValue&&(o=r.getValue()),this.dispose(),i.resolve({button:e,isChecked:null!==(s=null===(n=null===(t=this._checkboxNode)||void 0===t?void 0:t.querySelector("input"))||void 0===n?void 0:n.checked)&&void 0!==s?s:null,value:o})}}!function(e){function t(t){t.accept=!1!==t.accept;const n=e.translator.load("jupyterlab"),s=t.accept?n.__("Ok"):n.__("Cancel");return{ariaLabel:t.ariaLabel||t.label||s,label:t.label||s,iconClass:t.iconClass||"",iconLabel:t.iconLabel||"",caption:t.caption||"",className:t.className||"",accept:t.accept,actions:t.actions||[],displayType:t.displayType||"default"}}e.translator=S,e.createButton=t,e.cancelButton=function(e={}){return e.accept=!1,t(e)},e.okButton=function(e={}){return e.accept=!0,t(e)},e.warnButton=function(e={}){return e.displayType="warn",t(e)},e.flush=function(){e.tracker.forEach((e=>{e.dispose()}))};class n{createHeader(t,n=(()=>{}),s={}){let i;const r=e=>{0===e.button&&(e.preventDefault(),n())},o=e=>{const{key:t}=e;"Enter"!==t&&" "!==t||n()};if("string"==typeof t){const n=e.translator.load("jupyterlab");i=ga.create(h.createElement(h.Fragment,null,t,s.hasClose&&h.createElement(hl,{className:"jp-Dialog-close-button",onMouseDown:r,onKeyDown:o,title:n.__("Cancel"),minimal:!0},h.createElement(Le.resolveReact,{icon:ra,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"}))))}else i=ga.create(t);return i.addClass("jp-Dialog-header"),rl.styleNode(i.node),i}createBody(e){const t=e=>{void 0!==e.renderPromise?e.renderPromise.then((()=>{rl.styleNode(e.node)})).catch((()=>{console.error("Error while loading Dialog's body")})):rl.styleNode(e.node)};let n;return"string"==typeof e?(n=new E.Widget({node:document.createElement("span")}),n.node.textContent=e):e instanceof E.Widget?(n=e,n instanceof ga?t(n):rl.styleNode(n.node)):(n=ga.create(e),v.MessageLoop.sendMessage(n,E.Widget.Msg.UpdateRequest),t(n)),n.addClass("jp-Dialog-body"),n}createFooter(e,t){const n=new E.Widget;n.addClass("jp-Dialog-footer"),t&&(n.node.appendChild(t),n.node.insertAdjacentHTML("beforeend",'<div class="jp-Dialog-spacer"></div>'));for(const s of e)n.node.appendChild(s);return rl.styleNode(n.node),n}createButtonNode(e){const t=document.createElement("button");return t.className=this.createItemClass(e),t.appendChild(this.renderIcon(e)),t.appendChild(this.renderLabel(e)),t}createCheckboxNode(e){const t=document.createElement("label");t.className="jp-Dialog-checkbox",e.className&&t.classList.add(e.className),t.title=e.caption,t.textContent=e.label;const n=document.createElement("input");return n.type="checkbox",n.checked=!!e.checked,t.insertAdjacentElement("afterbegin",n),t}createItemClass(e){let t="jp-Dialog-button";e.accept?t+=" jp-mod-accept":t+=" jp-mod-reject","warn"===e.displayType&&(t+=" jp-mod-warn");const n=e.className;return n&&(t+=` ${n}`),t}renderIcon(e){const t=document.createElement("div");return t.className=this.createIconClass(e),t.appendChild(document.createTextNode(e.iconLabel)),t}createIconClass(e){const t="jp-Dialog-buttonIcon",n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");return t.className="jp-Dialog-buttonLabel",t.title=e.caption,t.ariaLabel=e.ariaLabel,t.appendChild(document.createTextNode(e.label)),t}}e.Renderer=n,e.defaultRenderer=new n,e.tracker=new dl({namespace:"@jupyterlab/apputils:Dialog"})}(fl||(fl={})),function(e){e.launchQueue=[],e.errorMessagePromiseCache=new Map,e.handleOptions=function(e={}){var t,n,s,i,r,o,a,l,c;const u=null!==(t=e.buttons)&&void 0!==t?t:[fl.cancelButton(),fl.okButton()];return{title:null!==(n=e.title)&&void 0!==n?n:"",body:null!==(s=e.body)&&void 0!==s?s:"",host:null!==(i=e.host)&&void 0!==i?i:document.body,checkbox:null!==(r=e.checkbox)&&void 0!==r?r:null,buttons:u,defaultButton:null!==(o=e.defaultButton)&&void 0!==o?o:u.length-1,renderer:null!==(a=e.renderer)&&void 0!==a?a:fl.defaultRenderer,focusNodeSelector:null!==(l=e.focusNodeSelector)&&void 0!==l?l:"",hasClose:null===(c=e.hasClose)||void 0===c||c}},e.findFirstFocusable=function(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}}(al||(al={}));class gl{constructor(e){var t,n,s,i;this._path="",this._name="",this._type="",this._prevKernelName="",this._isDisposed=!1,this._disposed=new f.Signal(this),this._session=null,this._ready=new _.PromiseDelegate,this._initializing=!1,this._initStarted=new _.PromiseDelegate,this._initPromise=new _.PromiseDelegate,this._isReady=!1,this._isTerminating=!1,this._isRestarting=!1,this._kernelChanged=new f.Signal(this),this._preferenceChanged=new f.Signal(this),this._sessionChanged=new f.Signal(this),this._statusChanged=new f.Signal(this),this._connectionStatusChanged=new f.Signal(this),this._pendingInput=!1,this._iopubMessage=new f.Signal(this),this._unhandledMessage=new f.Signal(this),this._propertyChanged=new f.Signal(this),this._dialog=null,this._busyDisposable=null,this._pendingKernelName="",this._pendingSessionRequest="",this.sessionManager=e.sessionManager,this.specsManager=e.specsManager,this.translator=e.translator||S,this._trans=this.translator.load("jupyterlab"),this._path=null!==(t=e.path)&&void 0!==t?t:_.UUID.uuid4(),this._type=null!==(n=e.type)&&void 0!==n?n:"",this._name=null!==(s=e.name)&&void 0!==s?s:"",this._setBusy=e.setBusy,this._kernelPreference=null!==(i=e.kernelPreference)&&void 0!==i?i:{}}get session(){var e;return null!==(e=this._session)&&void 0!==e?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get pendingInput(){return this._pendingInput}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){if(!_.JSONExt.deepEqual(e,this._kernelPreference)){const t=this._kernelPreference;this._kernelPreference=e,this._preferenceChanged.emit({name:"kernelPreference",oldValue:t,newValue:_.JSONExt.deepCopy(e)})}}get kernelPreferenceChanged(){return this._preferenceChanged}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get hasNoKernel(){return this.kernelDisplayName===this.noKernelName}get kernelDisplayName(){var e,t,n,s,i,r,o;const a=null===(e=this.session)||void 0===e?void 0:e.kernel;return this._pendingKernelName===this.noKernelName?this.noKernelName:this._pendingKernelName?null!==(s=null===(n=null===(t=this.specsManager.specs)||void 0===t?void 0:t.kernelspecs[this._pendingKernelName])||void 0===n?void 0:n.display_name)&&void 0!==s?s:this._pendingKernelName:a?null!==(o=null===(r=null===(i=this.specsManager.specs)||void 0===i?void 0:i.kernelspecs[a.name])||void 0===r?void 0:r.display_name)&&void 0!==o?o:a.name:this.noKernelName}get kernelDisplayStatus(){var e,t;const n=null===(e=this.session)||void 0===e?void 0:e.kernel;return this._isTerminating?"terminating":this._isRestarting?"restarting":this._pendingKernelName===this.noKernelName?"unknown":!n&&this._pendingKernelName?"initializing":n||this.isReady||!1===this.kernelPreference.canStart||!1===this.kernelPreference.shouldStart?null!==(t="connected"===(null==n?void 0:n.connectionStatus)?null==n?void 0:n.status:null==n?void 0:n.connectionStatus)&&void 0!==t?t:"unknown":"initializing"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}get noKernelName(){return this._trans.__("No Kernel")}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._session&&(this.kernelPreference.shutdownOnDispose&&this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)})),this._session.dispose(),this._session=null),this._dialog&&this._dialog.dispose(),this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null),f.Signal.clearData(this))}async startKernel(){const e=this.kernelPreference;if(!e.autoStartDefault&&!1===e.shouldStart)return!0;let t;if(e.id)t={id:e.id};else{const n=ll.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:e});n&&(t={name:n})}if(t)try{return await this._changeKernel(t),!1}catch(n){}return!0}async restartKernel(){var e,t,n,s,i,r;const o=(null===(e=this.session)||void 0===e?void 0:e.kernel)||null;if(!this._isRestarting){this._isRestarting=!0,this._isReady=!1,this._statusChanged.emit("restarting");try{await(null===(n=null===(t=this.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.restart()),this._isReady=!0}catch(a){console.error(a)}this._isRestarting=!1,this._statusChanged.emit((null===(i=null===(s=this.session)||void 0===s?void 0:s.kernel)||void 0===i?void 0:i.status)||"unknown"),this._kernelChanged.emit({name:"kernel",oldValue:o,newValue:(null===(r=this.session)||void 0===r?void 0:r.kernel)||null})}}async changeKernel(e={}){if(this.isDisposed)throw new Error("Disposed");return await this._initStarted.promise,this._changeKernel(e)}async shutdown(){if(!this.isDisposed&&this._initializing)return await this._initStarted.promise,this._pendingSessionRequest="",this._pendingKernelName=this.noKernelName,this._shutdownSession()}async initialize(){if(this._initializing)return this._initPromise.promise;this._initializing=!0;const e=await this._initialize();return e||(this._isReady=!0,this._ready.resolve(void 0)),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._initPromise.resolve(e),e}async _initialize(){const e=this.sessionManager;await e.ready,await e.refreshRunning();const t=(0,pa.find)(e.running(),(e=>e.path===this._path));if(t)try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(n){return this._handleSessionError(n),Promise.reject(n)}return await this._startIfNecessary()}async _shutdownSession(){var e;const t=this._session,n=this._isTerminating,s=this._isReady;this._isTerminating=!0,this._isReady=!1,this._statusChanged.emit("terminating");try{await(null==t?void 0:t.shutdown()),this._isTerminating=!1,null==t||t.dispose(),this._session=null;const e=(null==t?void 0:t.kernel)||null;this._statusChanged.emit("unknown"),this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:null}),this._sessionChanged.emit({name:"session",oldValue:t,newValue:null})}catch(i){this._isTerminating=n,this._isReady=s;const r=null===(e=null==t?void 0:t.kernel)||void 0===e?void 0:e.status;throw void 0===r?this._statusChanged.emit("unknown"):this._statusChanged.emit(r),i}}async _startIfNecessary(){var e;const t=this.kernelPreference;return!this.isDisposed&&!(null===(e=this.session)||void 0===e?void 0:e.kernel)&&!1!==t.shouldStart&&!1!==t.canStart&&this.startKernel()}async _changeKernel(e={}){if(e.name&&(this._pendingKernelName=e.name),this._session||this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null}),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._session&&!this._isTerminating)try{return await this._session.changeKernel(e),this._session.kernel}catch(s){throw this._handleSessionError(s),s}const t=ul.PathExt.dirname(this._path),n=this._pendingSessionRequest=ul.PathExt.join(t,_.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:n,type:this._type,name:this._name,kernel:e});return this._pendingSessionRequest!==t.path?(await t.shutdown(),t.dispose(),null):(await t.setPath(this._path),await t.setName(this._name),this._session&&!this._isTerminating&&await this._shutdownSession(),this._handleNewSession(t))}catch(s){throw this._handleSessionError(s),s}}_handleNewSession(e){var t,n,s;if(this.isDisposed)throw Error("Disposed");return this._isReady||(this._isReady=!0,this._ready.resolve(void 0)),this._session&&this._session.dispose(),this._session=e,this._pendingKernelName="",e&&(this._prevKernelName=null!==(n=null===(t=e.kernel)||void 0===t?void 0:t.name)&&void 0!==n?n:"",e.disposed.connect(this._onSessionDisposed,this),e.propertyChanged.connect(this._onPropertyChanged,this),e.kernelChanged.connect(this._onKernelChanged,this),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this),e.pendingInput.connect(this._onPendingInput,this),e.iopubMessage.connect(this._onIopubMessage,this),e.unhandledMessage.connect(this._onUnhandledMessage,this),e.path!==this._path&&this._onPropertyChanged(e,"path"),e.name!==this._name&&this._onPropertyChanged(e,"name"),e.type!==this._type&&this._onPropertyChanged(e,"type")),this._sessionChanged.emit({name:"session",oldValue:null,newValue:e}),this._kernelChanged.emit({oldValue:null,newValue:(null==e?void 0:e.kernel)||null,name:"kernel"}),this._statusChanged.emit((null===(s=null==e?void 0:e.kernel)||void 0===s?void 0:s.status)||"unknown"),(null==e?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="",n="";try{t=e.traceback,n=e.message}catch(e){}await this._displayKernelError(n,t)}async _displayKernelError(e,t){const n=h.createElement("div",null,e&&h.createElement("pre",null,e),t&&h.createElement("details",{className:"jp-mod-wide"},h.createElement("pre",null,t))),s=this._dialog=new fl({title:this._trans.__("Error Starting Kernel"),body:n,buttons:[fl.okButton()]});await s.launch(),this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){var n;if("dead"===t){const t=null===(n=e.kernel)||void 0===n?void 0:n.model;if(null==t?void 0:t.reason){const e=t.traceback||"";this._displayKernelError(t.reason,e)}}this._setBusy&&("busy"===t?this._busyDisposable||(this._busyDisposable=this._setBusy()):this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null)),this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onPendingInput(e,t){this._pendingInput=t}_onIopubMessage(e,t){"shutdown_reply"===t.header.msg_type&&this.session.kernel.removeInputGuard(),this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}!function(e){e.getDefaultKernel=function(e){const{preference:t}=e,{shouldStart:n}=t;return!1===n?null:ll.getDefaultKernel(e)}}(gl||(gl={}));class ml{constructor(e={}){var t;this._translator=null!==(t=e.translator)&&void 0!==t?t:S}async selectKernel(e){if(e.isDisposed)return Promise.resolve();const t=this._translator.load("jupyterlab");let n=t.__("Cancel");e.hasNoKernel&&(n=e.kernelDisplayName);const s=[fl.cancelButton({label:n}),fl.okButton({label:t.__("Select"),ariaLabel:t.__("Select Kernel")})],i=e.kernelPreference.autoStartDefault,r="boolean"==typeof i,o=new fl({title:t.__("Select Kernel"),body:new ll.KernelSelector(e,this._translator),buttons:s,checkbox:r?{label:t.__("Always start the preferred kernel"),caption:t.__("Remember my choice and always start the preferred kernel"),checked:i}:null}),a=await o.launch();if(e.isDisposed||!a.button.accept)return;r&&null!==a.isChecked&&(e.kernelPreference={...e.kernelPreference,autoStartDefault:a.isChecked});const l=a.value;if(null===l&&!e.hasNoKernel)return e.shutdown();l&&await e.changeKernel(l)}async restart(e){var t;const n=this._translator.load("jupyterlab");if(await e.initialize(),e.isDisposed)throw new Error("session already disposed");const s=null===(t=e.session)||void 0===t?void 0:t.kernel;if(!s&&e.prevKernelName)return await e.changeKernel({name:e.prevKernelName}),!0;if(!s)throw new Error("No kernel to restart");const i=fl.warnButton({label:n.__("Restart"),ariaLabel:n.__("Confirm Kernel Restart")}),r=await pl({title:n.__("Restart Kernel?"),body:n.__("Do you want to restart the kernel of %1? All variables will be lost.",e.name),buttons:[fl.cancelButton({ariaLabel:n.__("Cancel Kernel Restart")}),i]});return!s.isDisposed&&(!!r.button.accept&&(await e.restartKernel(),!0))}}!function(e){class t extends E.Widget{constructor(e,t){super({node:n(e,t)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}function n(e,t){const n=(t=t||S).load("jupyterlab"),i=document.createElement("div"),r=document.createElement("label");r.textContent=`${n.__("Select kernel for:")} "${e.name}"`,i.appendChild(r);const o=function(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}(e),a=document.createElement("select");return s(a,o,t,e.hasNoKernel?null:e.kernelDisplayName),i.appendChild(a),i}function s(e,t,n,s=null){for(var a;e.firstChild;)e.removeChild(e.firstChild);const{preference:l,sessions:c,specs:u}=t,{name:h,id:d,language:p,canStart:f,shouldStart:g}=l,m=(n=n||S).load("jupyterlab");if(!u||!1===f)return e.appendChild(r(n)),e.value="null",void(e.disabled=!0);e.disabled=!1;const _=Object.create(null),v=Object.create(null);for(const i in u.kernelspecs){const e=u.kernelspecs[i];_[i]=e.display_name,v[i]=e.language}const b=[];if(h&&h in u.kernelspecs&&b.push(h),h&&b.length>0&&p)for(const i in u.kernelspecs)h!==i&&v[i]===p&&b.push(i);b.length||b.push(u.default);const y=document.createElement("optgroup");y.label=m.__("Start Preferred Kernel"),b.sort(((e,t)=>_[e].localeCompare(_[t])));for(const r of b)y.appendChild(i(r,_[r]));y.firstChild&&e.appendChild(y),e.appendChild(r(n));const w=document.createElement("optgroup");w.label=m.__("Start Other Kernel");const x=[];for(const i in u.kernelspecs)-1===b.indexOf(i)&&x.push(i);x.sort(((e,t)=>_[e].localeCompare(_[t])));for(const r of x)w.appendChild(i(r,_[r]));if(x.length&&e.appendChild(w),!1===g)e.value="null";else{let t=0;s&&(t=[...e.options].findIndex((e=>e.text===s)),t=Math.max(t,0)),e.selectedIndex=t}if(!c)return;const C=[],k=[];for(const i of c)p&&i.kernel&&v[i.kernel.name]===p&&i.kernel.id!==d?C.push(i):(null===(a=i.kernel)||void 0===a?void 0:a.id)!==d&&k.push(i);const E=document.createElement("optgroup");if(E.label=m.__("Use Kernel from Preferred Session"),e.appendChild(E),C.length){C.sort(((e,t)=>e.path.localeCompare(t.path)));for(const e of C){const t=e.kernel?_[e.kernel.name]:"";E.appendChild(o(e,t,n))}}const O=document.createElement("optgroup");if(O.label=m.__("Use Kernel from Other Session"),e.appendChild(O),k.length){k.sort(((e,t)=>e.path.localeCompare(t.path)));for(const e of k){const t=e.kernel?_[e.kernel.name]||e.kernel.name:"";O.appendChild(o(e,t,n))}}}function i(e,t){const n=document.createElement("option");return n.text=t,n.value=JSON.stringify({name:e}),n}function r(e){const t=(e=e||S).load("jupyterlab"),n=document.createElement("optgroup");n.label=t.__("Use No Kernel");const s=document.createElement("option");return s.text=t.__("No Kernel"),s.value="null",n.appendChild(s),n}function o(e,t,n){var s,i;const r=(n=n||S).load("jupyterlab"),o=document.createElement("option"),a=e.name||ul.PathExt.basename(e.path);return o.text=a,o.value=JSON.stringify({id:null===(s=e.kernel)||void 0===s?void 0:s.id}),o.title=`${r.__("Path:")} ${e.path}\n${r.__("Name:")} ${a}\n${r.__("Kernel Name:")} ${t}\n${r.__("Kernel Id:")} ${null===(i=e.kernel)||void 0===i?void 0:i.id}`,o}e.KernelSelector=t,e.getDefaultKernel=function(e){var t;const{specs:n,preference:s}=e,{name:i,language:r,canStart:o,autoStartDefault:a}=s;if(!n||!1===o)return null;const l=a?n.default:null;if(!i&&!r)return l;for(const u in n.kernelspecs)if(u===i)return i;if(!r)return l;const c=[];for(const u in n.kernelspecs){r===(null===(t=n.kernelspecs[u])||void 0===t?void 0:t.language)&&c.push(u)}if(1===c.length){const e=c[0];return console.warn("No exact match found for "+e+", using kernel "+e+" that matches language="+r),e}return l},e.populateKernelSelect=s}(ll||(ll={}));const _l=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(e){return{}}}();void 0===_l.trustedTypes&&(_l.trustedTypes={createPolicy:(e,t)=>t});const vl={configurable:!1,enumerable:!1,writable:!1};void 0===_l.FAST&&Reflect.defineProperty(_l,"FAST",Object.assign({value:Object.create(null)},vl));const bl=_l.FAST;if(void 0===bl.getById){const e=Object.create(null);Reflect.defineProperty(bl,"getById",Object.assign({value(t,n){let s=e[t];return void 0===s&&(s=n?e[t]=n():null),s}},vl))}const yl=Object.freeze([]);function wl(){const e=new WeakMap;return function(t){let n=e.get(t);if(void 0===n){let s=Reflect.getPrototypeOf(t);for(;void 0===n&&null!==s;)n=e.get(s),s=Reflect.getPrototypeOf(s);n=void 0===n?[]:n.slice(0),e.set(t,n)}return n}}const xl=_l.FAST.getById(1,(()=>{const e=[],t=[];function n(){if(t.length)throw t.shift()}function s(e){try{e.call()}catch(Hn){t.push(Hn),setTimeout(n,0)}}function i(){let t=0;for(;t<e.length;)if(s(e[t]),t++,t>1024){for(let n=0,s=e.length-t;n<s;n++)e[n]=e[n+t];e.length-=t,t=0}e.length=0}return Object.freeze({enqueue:function(t){e.length<1&&_l.requestAnimationFrame(i),e.push(t)},process:i})})),Sl=_l.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let Cl=Sl;const kl=`fast-${Math.random().toString(36).substring(2,8)}`,El=`${kl}{`,Ol=`}${kl}`,Ml=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(Cl!==Sl)throw new Error("The HTML policy can only be set once.");Cl=e},createHTML:e=>Cl.createHTML(e),isMarker:e=>e&&8===e.nodeType&&e.data.startsWith(kl),extractDirectiveIndexFromMarker:e=>parseInt(e.data.replace(`${kl}:`,"")),createInterpolationPlaceholder:e=>`${El}${e}${Ol}`,createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder:e=>`\x3c!--${kl}:${e}--\x3e`,queueUpdate:xl.enqueue,processUpdates:xl.process,nextUpdate:()=>new Promise(xl.enqueue),setAttribute(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)},setBooleanAttribute(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;null!==t;t=e.firstChild)e.removeChild(t)},createTemplateWalker:e=>document.createTreeWalker(e,133,null,!1)});class Tl{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=e,this.sub1=t}has(e){return void 0===this.spillover?this.sub1===e||this.sub2===e:-1!==this.spillover.indexOf(e)}subscribe(e){const t=this.spillover;if(void 0===t){if(this.has(e))return;if(void 0===this.sub1)return void(this.sub1=e);if(void 0===this.sub2)return void(this.sub2=e);this.spillover=[this.sub1,this.sub2,e],this.sub1=void 0,this.sub2=void 0}else{-1===t.indexOf(e)&&t.push(e)}}unsubscribe(e){const t=this.spillover;if(void 0===t)this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0);else{const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}notify(e){const t=this.spillover,n=this.source;if(void 0===t){const t=this.sub1,s=this.sub2;void 0!==t&&t.handleChange(n,e),void 0!==s&&s.handleChange(n,e)}else for(let s=0,i=t.length;s<i;++s)t[s].handleChange(n,e)}}class Dl{constructor(e){this.subscribers={},this.sourceSubscribers=null,this.source=e}notify(e){var t;const n=this.subscribers[e];void 0!==n&&n.notify(e),null===(t=this.sourceSubscribers)||void 0===t||t.notify(e)}subscribe(e,t){var n;if(t){let n=this.subscribers[t];void 0===n&&(this.subscribers[t]=n=new Tl(this.source)),n.subscribe(e)}else this.sourceSubscribers=null!==(n=this.sourceSubscribers)&&void 0!==n?n:new Tl(this.source),this.sourceSubscribers.subscribe(e)}unsubscribe(e,t){var n;if(t){const n=this.subscribers[t];void 0!==n&&n.unsubscribe(e)}else null===(n=this.sourceSubscribers)||void 0===n||n.unsubscribe(e)}}const Pl=bl.getById(2,(()=>{const e=/(:|&&|\|\||if)/,t=new WeakMap,n=Ml.queueUpdate;let s,i=e=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function r(e){let n=e.$fastController||t.get(e);return void 0===n&&(Array.isArray(e)?n=i(e):t.set(e,n=new Dl(e))),n}const o=wl();class a{constructor(e){this.name=e,this.field=`_${e}`,this.callback=`${e}Changed`}getValue(e){return void 0!==s&&s.watch(e,this.name),e[this.field]}setValue(e,t){const n=this.field,s=e[n];if(s!==t){e[n]=t;const i=e[this.callback];"function"==typeof i&&i.call(e,s,t),r(e).notify(this.name)}}}class l extends Tl{constructor(e,t,n=!1){super(e,t),this.binding=e,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(e,t){this.needsRefresh&&null!==this.last&&this.disconnect();const n=s;s=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(e,t);return s=n,i}disconnect(){if(null!==this.last){let e=this.first;for(;void 0!==e;)e.notifier.unsubscribe(this,e.propertyName),e=e.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(e,t){const n=this.last,i=r(e),o=null===n?this.first:{};if(o.propertySource=e,o.propertyName=t,o.notifier=i,i.subscribe(this,t),null!==n){if(!this.needsRefresh){let t;s=void 0,t=n.propertySource[n.propertyName],s=this,e===t&&(this.needsRefresh=!0)}n.next=o}this.last=o}handleChange(){this.needsQueue&&(this.needsQueue=!1,n(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let e=this.first;return{next:()=>{const t=e;return void 0===t?{value:void 0,done:!0}:(e=e.next,{value:t,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(e){i=e},getNotifier:r,track(e,t){void 0!==s&&s.watch(e,t)},trackVolatile(){void 0!==s&&(s.needsRefresh=!0)},notify(e,t){r(e).notify(t)},defineProperty(e,t){"string"==typeof t&&(t=new a(t)),o(e).push(t),Reflect.defineProperty(e,t.name,{enumerable:!0,get:function(){return t.getValue(this)},set:function(e){t.setValue(this,e)}})},getAccessors:o,binding(e,t,n=this.isVolatileBinding(e)){return new l(e,t,n)},isVolatileBinding:t=>e.test(t.toString())})}));function Al(e,t){Pl.defineProperty(e,t)}const Rl=bl.getById(3,(()=>{let e=null;return{get:()=>e,set(t){e=t}}}));class jl{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return Rl.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(e){Rl.set(e)}}Pl.defineProperty(jl.prototype,"index"),Pl.defineProperty(jl.prototype,"length");const Il=Object.seal(new jl);class Nl{constructor(){this.targets=new WeakSet}addStylesTo(e){this.targets.add(e)}removeStylesFrom(e){this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=null===this.behaviors?e:this.behaviors.concat(e),this}}function Ll(e){return e.map((e=>e instanceof Nl?Ll(e.styles):[e])).reduce(((e,t)=>e.concat(t)),[])}function Bl(e){return e.map((e=>e instanceof Nl?e.behaviors:null)).reduce(((e,t)=>null===t?e:(null===e&&(e=[]),e.concat(t))),null)}Nl.create=(()=>{if(Ml.supportsAdoptedStyleSheets){const e=new Map;return t=>new Ul(t,e)}return e=>new Vl(e)})();let $l=(e,t)=>{e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t]},Fl=(e,t)=>{e.adoptedStyleSheets=e.adoptedStyleSheets.filter((e=>-1===t.indexOf(e)))};if(Ml.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),$l=(e,t)=>{e.adoptedStyleSheets.push(...t)},Fl=(e,t)=>{for(const n of t){const t=e.adoptedStyleSheets.indexOf(n);-1!==t&&e.adoptedStyleSheets.splice(t,1)}}}catch(rU){}class Ul extends Nl{constructor(e,t){super(),this.styles=e,this.styleSheetCache=t,this._styleSheets=void 0,this.behaviors=Bl(e)}get styleSheets(){if(void 0===this._styleSheets){const e=this.styles,t=this.styleSheetCache;this._styleSheets=Ll(e).map((e=>{if(e instanceof CSSStyleSheet)return e;let n=t.get(e);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(e),t.set(e,n)),n}))}return this._styleSheets}addStylesTo(e){$l(e,this.styleSheets),super.addStylesTo(e)}removeStylesFrom(e){Fl(e,this.styleSheets),super.removeStylesFrom(e)}}let zl=0;class Vl extends Nl{constructor(e){super(),this.styles=e,this.behaviors=null,this.behaviors=Bl(e),this.styleSheets=Ll(e),this.styleClass="fast-style-class-"+ ++zl}addStylesTo(e){const t=this.styleSheets,n=this.styleClass;e=this.normalizeTarget(e);for(let s=0;s<t.length;s++){const i=document.createElement("style");i.innerHTML=t[s],i.className=n,e.append(i)}super.addStylesTo(e)}removeStylesFrom(e){const t=(e=this.normalizeTarget(e)).querySelectorAll(`.${this.styleClass}`);for(let n=0,s=t.length;n<s;++n)e.removeChild(t[n]);super.removeStylesFrom(e)}isAttachedTo(e){return super.isAttachedTo(this.normalizeTarget(e))}normalizeTarget(e){return e===document?document.body:e}}const ql=Object.freeze({locate:wl()}),Hl={toView:e=>e?"true":"false",fromView:e=>null!=e&&"false"!==e&&!1!==e&&0!==e};class Wl{constructor(e,t,n=t.toLowerCase(),s="reflect",i){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=n,this.mode=s,this.converter=i,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,"boolean"===s&&void 0===i&&(this.converter=Hl)}setValue(e,t){const n=e[this.fieldName],s=this.converter;void 0!==s&&(t=s.fromView(t)),n!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](n,t),e.$fastController.notify(this.name))}getValue(e){return Pl.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,n=this.guards;n.has(e)||"fromView"===t||Ml.queueUpdate((()=>{n.add(e);const s=e[this.fieldName];switch(t){case"reflect":const t=this.converter;Ml.setAttribute(e,this.attribute,void 0!==t?t.toView(s):s);break;case"boolean":Ml.setBooleanAttribute(e,this.attribute,s)}n.delete(e)}))}static collect(e,...t){const n=[];t.push(ql.locate(e));for(let s=0,i=t.length;s<i;++s){const i=t[s];if(void 0!==i)for(let t=0,s=i.length;t<s;++t){const s=i[t];"string"==typeof s?n.push(new Wl(e,s)):n.push(new Wl(e,s.property,s.attribute,s.mode,s.converter))}}return n}}function Kl(e,t){let n;function s(e,t){arguments.length>1&&(n.property=t),ql.locate(e.constructor).push(n)}return arguments.length>1?(n={},void s(e,t)):(n=void 0===e?{}:e,s)}const Gl={mode:"open"},Jl={},Yl=bl.getById(4,(()=>{const e=new Map;return Object.freeze({register:t=>!e.has(t.type)&&(e.set(t.type,t),!0),getByType:t=>e.get(t)})}));class Xl{constructor(e,t=e.definition){"string"==typeof t&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template;const n=Wl.collect(e,t.attributes),s=new Array(n.length),i={},r={};for(let o=0,a=n.length;o<a;++o){const e=n[o];s[o]=e.attribute,i[e.name]=e,r[e.attribute]=e}this.attributes=n,this.observedAttributes=s,this.propertyLookup=i,this.attributeLookup=r,this.shadowOptions=void 0===t.shadowOptions?Gl:null===t.shadowOptions?void 0:Object.assign(Object.assign({},Gl),t.shadowOptions),this.elementOptions=void 0===t.elementOptions?Jl:Object.assign(Object.assign({},Jl),t.elementOptions),this.styles=void 0===t.styles?void 0:Array.isArray(t.styles)?Nl.create(t.styles):t.styles instanceof Nl?t.styles:Nl.create([t.styles])}get isDefined(){return!!Yl.getByType(this.type)}define(e=customElements){const t=this.type;if(Yl.register(this)){const e=this.attributes,n=t.prototype;for(let t=0,s=e.length;t<s;++t)Pl.defineProperty(n,e[t]);Reflect.defineProperty(t,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return e.get(this.name)||e.define(this.name,t,this.elementOptions),this}}Xl.forType=Yl.getByType;function Zl(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}const Ql=new WeakMap,ec={bubbles:!0,composed:!0,cancelable:!0};function tc(e){return e.shadowRoot||Ql.get(e)||null}class nc extends Dl{constructor(e,t){super(e),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=e,this.definition=t;const n=t.shadowOptions;if(void 0!==n){const t=e.attachShadow(n);"closed"===n.mode&&Ql.set(e,t)}const s=Pl.getAccessors(e);if(s.length>0){const t=this.boundObservables=Object.create(null);for(let n=0,i=s.length;n<i;++n){const i=s[n].name,r=e[i];void 0!==r&&(delete e[i],t[i]=r)}}}get isConnected(){return Pl.track(this,"isConnected"),this._isConnected}setIsConnected(e){this._isConnected=e,Pl.notify(this,"isConnected")}get template(){return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get styles(){return this._styles}set styles(e){this._styles!==e&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=e,this.needsInitialization||null===e||this.addStyles(e))}addStyles(e){const t=tc(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.append(e);else if(!e.isAttachedTo(t)){const n=e.behaviors;e.addStylesTo(t),null!==n&&this.addBehaviors(n)}}removeStyles(e){const t=tc(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.removeChild(e);else if(e.isAttachedTo(t)){const n=e.behaviors;e.removeStylesFrom(t),null!==n&&this.removeBehaviors(n)}}addBehaviors(e){const t=this.behaviors||(this.behaviors=new Map),n=e.length,s=[];for(let i=0;i<n;++i){const n=e[i];t.has(n)?t.set(n,t.get(n)+1):(t.set(n,1),s.push(n))}if(this._isConnected){const e=this.element;for(let t=0;t<s.length;++t)s[t].bind(e,Il)}}removeBehaviors(e,t=!1){const n=this.behaviors;if(null===n)return;const s=e.length,i=[];for(let r=0;r<s;++r){const s=e[r];if(n.has(s)){const e=n.get(s)-1;0===e||t?n.delete(s)&&i.push(s):n.set(s,e)}}if(this._isConnected){const e=this.element;for(let t=0;t<i.length;++t)i[t].unbind(e)}}onConnectedCallback(){if(this._isConnected)return;const e=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(e,Il);const t=this.behaviors;if(null!==t)for(const[n]of t)n.bind(e,Il);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const e=this.view;null!==e&&e.unbind();const t=this.behaviors;if(null!==t){const e=this.element;for(const[n]of t)n.unbind(e)}}onAttributeChangedCallback(e,t,n){const s=this.definition.attributeLookup[e];void 0!==s&&s.onAttributeChangedCallback(this.element,n)}emit(e,t,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},ec),n)))}finishInitialization(){const e=this.element,t=this.boundObservables;if(null!==t){const n=Object.keys(t);for(let s=0,i=n.length;s<i;++s){const i=n[s];e[i]=t[i]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(e){const t=this.element,n=tc(t)||t;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||Ml.removeChildNodes(n),e&&(this.view=e.render(t,n,t))}static forCustomElement(e){const t=e.$fastController;if(void 0!==t)return t;const n=Xl.forType(e.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return e.$fastController=new nc(e,n)}}function sc(e){return class extends e{constructor(){super(),nc.forCustomElement(this)}$emit(e,t,n){return this.$fastController.emit(e,t,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(e,t,n){this.$fastController.onAttributeChangedCallback(e,t,n)}}}const ic=Object.assign(sc(HTMLElement),{from:e=>sc(e),define:(e,t)=>new Xl(e,t).define().type});const rc=new Map;"metadata"in Reflect||(Reflect.metadata=function(e,t){return function(n){Reflect.defineMetadata(e,t,n)}},Reflect.defineMetadata=function(e,t,n){let s=rc.get(n);void 0===s&&rc.set(n,s=new Map),s.set(e,t)},Reflect.getOwnMetadata=function(e,t){const n=rc.get(t);if(void 0!==n)return n.get(e)});class oc{constructor(e,t){this.container=e,this.key=t}instance(e){return this.registerResolver(0,e)}singleton(e){return this.registerResolver(1,e)}transient(e){return this.registerResolver(2,e)}callback(e){return this.registerResolver(3,e)}cachedCallback(e){return this.registerResolver(3,Ac(e))}aliasTo(e){return this.registerResolver(5,e)}registerResolver(e,t){const{container:n,key:s}=this;return this.container=this.key=void 0,n.registerResolver(s,new yc(s,e,t))}}function ac(e){const t=e.slice(),n=Object.keys(e),s=n.length;let i;for(let r=0;r<s;++r)i=n[r],Fc(i)||(t[i]=e[i]);return t}const lc=Object.freeze({none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton:e=>new yc(e,1,e),transient:e=>new yc(e,2,e)}),cc=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:lc.singleton})}),uc=new Map;function hc(e){return t=>Reflect.getOwnMetadata(e,t)}let dc=null;const pc=Object.freeze({createContainer:e=>new Dc(null,Object.assign({},cc.default,e)),findResponsibleContainer(e){const t=e.$$container$$;return t&&t.responsibleForOwnerRequests?t:pc.findParentContainer(e)},findParentContainer(e){const t=new CustomEvent(Mc,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return e.dispatchEvent(t),t.detail.container||pc.getOrCreateDOMContainer()},getOrCreateDOMContainer:(e,t)=>e?e.$$container$$||new Dc(e,Object.assign({},cc.default,t,{parentLocator:pc.findParentContainer})):dc||(dc=new Dc(null,Object.assign({},cc.default,t,{parentLocator:()=>null}))),getDesignParamtypes:hc("design:paramtypes"),getAnnotationParamtypes:hc("di:paramtypes"),getOrCreateAnnotationParamTypes(e){let t=this.getAnnotationParamtypes(e);return void 0===t&&Reflect.defineMetadata("di:paramtypes",t=[],e),t},getDependencies(e){let t=uc.get(e);if(void 0===t){const n=e.inject;if(void 0===n){const n=pc.getDesignParamtypes(e),s=pc.getAnnotationParamtypes(e);if(void 0===n)if(void 0===s){const n=Object.getPrototypeOf(e);t="function"==typeof n&&n!==Function.prototype?ac(pc.getDependencies(n)):[]}else t=ac(s);else if(void 0===s)t=ac(n);else{t=ac(n);let e,i=s.length;for(let n=0;n<i;++n)e=s[n],void 0!==e&&(t[n]=e);const r=Object.keys(s);let o;i=r.length;for(let n=0;n<i;++n)o=r[n],Fc(o)||(t[o]=s[o])}}else t=ac(n);uc.set(e,t)}return t},defineProperty(e,t,n,s=!1){const i=`$di_${t}`;Reflect.defineProperty(e,t,{get:function(){let e=this[i];if(void 0===e){const r=this instanceof HTMLElement?pc.findResponsibleContainer(this):pc.getOrCreateDOMContainer();if(e=r.get(n),this[i]=e,s&&this instanceof ic){const s=this.$fastController,r=()=>{pc.findResponsibleContainer(this).get(n)!==this[i]&&(this[i]=e,s.notify(t))};s.subscribe({handleChange:r},"isConnected")}}return e}})},createInterface(e,t){const n="function"==typeof e?e:t,s="string"==typeof e?e:e&&"friendlyName"in e&&e.friendlyName||Nc,i="string"!=typeof e&&(e&&"respectConnection"in e&&e.respectConnection||!1),r=function(e,t,n){if(null==e||void 0!==new.target)throw new Error(`No registration for interface: '${r.friendlyName}'`);if(t)pc.defineProperty(e,t,r,i);else{pc.getOrCreateAnnotationParamTypes(e)[n]=r}};return r.$isInterface=!0,r.friendlyName=null==s?"(anonymous)":s,null!=n&&(r.register=function(e,t){return n(new oc(e,null!=t?t:r))}),r.toString=function(){return`InterfaceSymbol<${r.friendlyName}>`},r},inject:(...e)=>function(t,n,s){if("number"==typeof s){const n=pc.getOrCreateAnnotationParamTypes(t),i=e[0];void 0!==i&&(n[s]=i)}else if(n)pc.defineProperty(t,n,e[0]);else{const n=s?pc.getOrCreateAnnotationParamTypes(s.value):pc.getOrCreateAnnotationParamTypes(t);let i;for(let t=0;t<e.length;++t)i=e[t],void 0!==i&&(n[t]=i)}},transient:e=>(e.register=function(t){return Rc.transient(e,e).register(t)},e.registerInRequestor=!1,e),singleton:(e,t=mc)=>(e.register=function(t){return Rc.singleton(e,e).register(t)},e.registerInRequestor=t.scoped,e)}),fc=pc.createInterface("Container");function gc(e){return function(t){const n=function(e,t,s){pc.inject(n)(e,t,s)};return n.$isResolver=!0,n.resolve=function(n,s){return e(t,n,s)},n}}pc.inject;const mc={scoped:!1};_c=(e,t,n,s)=>n.getAll(e,s);var _c;gc(((e,t,n)=>()=>n.get(e))),gc(((e,t,n)=>n.has(e,!0)?n.get(e):void 0));function vc(e,t,n){pc.inject(vc)(e,t,n)}vc.$isResolver=!0,vc.resolve=()=>{};gc(((e,t,n)=>{const s=bc(e,t),i=new yc(e,0,s);return n.registerResolver(e,i),s})),gc(((e,t,n)=>bc(e,t)));function bc(e,t){return t.getFactory(e).construct(t)}class yc{constructor(e,t,n){this.key=e,this.strategy=t,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(e){return e.registerResolver(this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=e.getFactory(this.state).construct(t),this.strategy=0,this.resolving=!1,this.state;case 2:{const n=e.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(t)}case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return t.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(e){var t,n,s;switch(this.strategy){case 1:case 2:return e.getFactory(this.state);case 5:return null!==(s=null===(n=null===(t=e.getResolver(this.state))||void 0===t?void 0:t.getFactory)||void 0===n?void 0:n.call(t,e))&&void 0!==s?s:null;default:return null}}}function wc(e){return this.get(e)}function xc(e,t){return t(e)}class Sc{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){let n;return n=void 0===t?new this.Type(...this.dependencies.map(wc,e)):new this.Type(...this.dependencies.map(wc,e),...t),null==this.transformers?n:this.transformers.reduce(xc,n)}registerTransformer(e){(this.transformers||(this.transformers=[])).push(e)}}const Cc={$isResolver:!0,resolve:(e,t)=>t};function kc(e){return"function"==typeof e.register}function Ec(e){return function(e){return kc(e)&&"boolean"==typeof e.registerInRequestor}(e)&&e.registerInRequestor}const Oc=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),Mc="__DI_LOCATE_PARENT__",Tc=new Map;class Dc{constructor(e,t){this.owner=e,this.config=t,this._parent=void 0,this.registerDepth=0,this.context=null,null!==e&&(e.$$container$$=this),this.resolvers=new Map,this.resolvers.set(fc,Cc),e instanceof Node&&e.addEventListener(Mc,(e=>{e.composedPath()[0]!==this.owner&&(e.detail.container=this,e.stopImmediatePropagation())}))}get parent(){return void 0===this._parent&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return null===this.parent?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(e,...t){return this.context=e,this.register(...t),this.context=null,this}register(...e){if(100==++this.registerDepth)throw new Error("Unable to autoregister dependency");let t,n,s,i,r;const o=this.context;for(let a=0,l=e.length;a<l;++a)if(t=e[a],Lc(t))if(kc(t))t.register(this,o);else if(void 0!==t.prototype)Rc.singleton(t,t).register(this);else for(n=Object.keys(t),i=0,r=n.length;i<r;++i)s=t[n[i]],Lc(s)&&(kc(s)?s.register(this,o):this.register(s));return--this.registerDepth,this}registerResolver(e,t){jc(e);const n=this.resolvers,s=n.get(e);return null==s?n.set(e,t):s instanceof yc&&4===s.strategy?s.state.push(t):n.set(e,new yc(e,4,[s,t])),t}registerTransformer(e,t){const n=this.getResolver(e);if(null==n)return!1;if(n.getFactory){const e=n.getFactory(this);return null!=e&&(e.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(jc(e),void 0!==e.resolve)return e;let n,s=this;for(;null!=s;){if(n=s.resolvers.get(e),null!=n)return n;if(null==s.parent){const n=Ec(e)?this:s;return t?this.jitRegister(e,n):null}s=s.parent}return null}has(e,t=!1){return!!this.resolvers.has(e)||!(!t||null==this.parent)&&this.parent.has(e,!0)}get(e){if(jc(e),e.$isResolver)return e.resolve(this,this);let t,n=this;for(;null!=n;){if(t=n.resolvers.get(e),null!=t)return t.resolve(n,this);if(null==n.parent){const s=Ec(e)?this:n;return t=this.jitRegister(e,s),t.resolve(n,this)}n=n.parent}throw new Error(`Unable to resolve key: ${String(e)}`)}getAll(e,t=!1){jc(e);const n=this;let s,i=n;if(t){let t=yl;for(;null!=i;)s=i.resolvers.get(e),null!=s&&(t=t.concat(Ic(s,i,n))),i=i.parent;return t}for(;null!=i;){if(s=i.resolvers.get(e),null!=s)return Ic(s,i,n);if(i=i.parent,null==i)return yl}return yl}getFactory(e){let t=Tc.get(e);if(void 0===t){if(Bc(e))throw new Error(`${e.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);Tc.set(e,t=new Sc(e,pc.getDependencies(e)))}return t}registerFactory(e,t){Tc.set(e,t)}createChild(e){return new Dc(null,Object.assign({},this.config,e,{parentLocator:()=>this}))}jitRegister(e,t){if("function"!=typeof e)throw new Error(`Attempted to jitRegister something that is not a constructor: '${e}'. Did you forget to register this dependency?`);if(Oc.has(e.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${e.name}. Did you forget to add @inject(Key)`);if(kc(e)){const n=e.register(t);if(!(n instanceof Object)||null==n.resolve){const n=t.resolvers.get(e);if(null!=n)return n;throw new Error("A valid resolver was not returned from the static register method")}return n}if(e.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${e.friendlyName}`);{const n=this.config.defaultResolver(e,t);return t.resolvers.set(e,n),n}}}const Pc=new WeakMap;function Ac(e){return function(t,n,s){if(Pc.has(s))return Pc.get(s);const i=e(t,n,s);return Pc.set(s,i),i}}const Rc=Object.freeze({instance:(e,t)=>new yc(e,0,t),singleton:(e,t)=>new yc(e,1,t),transient:(e,t)=>new yc(e,2,t),callback:(e,t)=>new yc(e,3,t),cachedCallback:(e,t)=>new yc(e,3,Ac(t)),aliasTo:(e,t)=>new yc(t,5,e)});function jc(e){if(null==e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function Ic(e,t,n){if(e instanceof yc&&4===e.strategy){const s=e.state;let i=s.length;const r=new Array(i);for(;i--;)r[i]=s[i].resolve(t,n);return r}return[e.resolve(t,n)]}const Nc="(anonymous)";function Lc(e){return"object"==typeof e&&null!==e||"function"==typeof e}const Bc=function(){const e=new WeakMap;let t=!1,n="",s=0;return function(i){return t=e.get(i),void 0===t&&(n=i.toString(),s=n.length,t=s>=29&&s<=100&&125===n.charCodeAt(s-1)&&n.charCodeAt(s-2)<=32&&93===n.charCodeAt(s-3)&&101===n.charCodeAt(s-4)&&100===n.charCodeAt(s-5)&&111===n.charCodeAt(s-6)&&99===n.charCodeAt(s-7)&&32===n.charCodeAt(s-8)&&101===n.charCodeAt(s-9)&&118===n.charCodeAt(s-10)&&105===n.charCodeAt(s-11)&&116===n.charCodeAt(s-12)&&97===n.charCodeAt(s-13)&&110===n.charCodeAt(s-14)&&88===n.charCodeAt(s-15),e.set(i,t)),t}}(),$c={};function Fc(e){switch(typeof e){case"number":return e>=0&&(0|e)===e;case"string":{const t=$c[e];if(void 0!==t)return t;const n=e.length;if(0===n)return $c[e]=!1;let s=0;for(let i=0;i<n;++i)if(s=e.charCodeAt(i),0===i&&48===s&&n>1||s<48||s>57)return $c[e]=!1;return $c[e]=!0}default:return!1}}function Uc(e){return`${e.toLowerCase()}:presentation`}const zc=new Map,Vc=Object.freeze({define(e,t,n){const s=Uc(e);void 0===zc.get(s)?zc.set(s,t):zc.set(s,!1),n.register(Rc.instance(s,t))},forTag(e,t){const n=Uc(e),s=zc.get(n);if(!1===s){return pc.findResponsibleContainer(t).get(n)}return s||null}});class qc{constructor(e,t){this.template=e||null,this.styles=void 0===t?null:Array.isArray(t)?Nl.create(t):t instanceof Nl?t:Nl.create([t])}applyTo(e){const t=e.$fastController;null===t.template&&(t.template=this.template),null===t.styles&&(t.styles=this.styles)}}class Hc extends ic{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return void 0===this._presentation&&(this._presentation=Vc.forTag(this.tagName,this)),this._presentation}templateChanged(){void 0!==this.template&&(this.$fastController.template=this.template)}stylesChanged(){void 0!==this.styles&&(this.$fastController.styles=this.styles)}connectedCallback(){null!==this.$presentation&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(e){return(t={})=>new Kc(this===Hc?class extends Hc{}:this,e,t)}}function Wc(e,t,n){return"function"==typeof e?e(t,n):e}Zl([Al],Hc.prototype,"template",void 0),Zl([Al],Hc.prototype,"styles",void 0);class Kc{constructor(e,t,n){this.type=e,this.elementDefinition=t,this.overrideDefinition=n,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(e,t){const n=this.definition,s=this.overrideDefinition,i=`${n.prefix||t.elementPrefix}-${n.baseName}`;t.tryDefineElement({name:i,type:this.type,baseClass:this.elementDefinition.baseClass,callback:e=>{const t=new qc(Wc(n.template,e,n),Wc(n.styles,e,n));e.definePresentation(t);let i=Wc(n.shadowOptions,e,n);e.shadowRootMode&&(i?s.shadowOptions||(i.mode=e.shadowRootMode):null!==i&&(i={mode:e.shadowRootMode})),e.defineElement({elementOptions:Wc(n.elementOptions,e,n),shadowOptions:i,attributes:Wc(n.attributes,e,n)})}})}}class Gc{createCSS(){return""}createBehavior(){}}function Jc(e){const t=e.parentElement;if(t)return t;{const t=e.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}const Yc=document.createElement("div");class Xc{setProperty(e,t){Ml.queueUpdate((()=>this.target.setProperty(e,t)))}removeProperty(e){Ml.queueUpdate((()=>this.target.removeProperty(e)))}}class Zc extends Xc{constructor(){super();const e=new CSSStyleSheet;this.target=e.cssRules[e.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}class Qc extends Xc{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:e}=this.style;if(e){const t=e.insertRule(":root{}",e.cssRules.length);this.target=e.cssRules[t].style}}}class eu{constructor(e){this.store=new Map,this.target=null;const t=e.$fastController;this.style=document.createElement("style"),t.addStyles(this.style),Pl.getNotifier(t).subscribe(this,"isConnected"),this.handleChange(t,"isConnected")}targetChanged(){if(null!==this.target)for(const[e,t]of this.store.entries())this.target.setProperty(e,t)}setProperty(e,t){this.store.set(e,t),Ml.queueUpdate((()=>{null!==this.target&&this.target.setProperty(e,t)}))}removeProperty(e){this.store.delete(e),Ml.queueUpdate((()=>{null!==this.target&&this.target.removeProperty(e)}))}handleChange(e,t){const{sheet:n}=this.style;if(n){const e=n.insertRule(":host{}",n.cssRules.length);this.target=n.cssRules[e].style}else this.target=null}}Zl([Al],eu.prototype,"target",void 0);class tu{constructor(e){this.target=e.style}setProperty(e,t){Ml.queueUpdate((()=>this.target.setProperty(e,t)))}removeProperty(e){Ml.queueUpdate((()=>this.target.removeProperty(e)))}}class nu{setProperty(e,t){nu.properties[e]=t;for(const n of nu.roots.values())ru.getOrCreate(nu.normalizeRoot(n)).setProperty(e,t)}removeProperty(e){delete nu.properties[e];for(const t of nu.roots.values())ru.getOrCreate(nu.normalizeRoot(t)).removeProperty(e)}static registerRoot(e){const{roots:t}=nu;if(!t.has(e)){t.add(e);const n=ru.getOrCreate(this.normalizeRoot(e));for(const e in nu.properties)n.setProperty(e,nu.properties[e])}}static unregisterRoot(e){const{roots:t}=nu;if(t.has(e)){t.delete(e);const n=ru.getOrCreate(nu.normalizeRoot(e));for(const e in nu.properties)n.removeProperty(e)}}static normalizeRoot(e){return e===Yc?document:e}}nu.roots=new Set,nu.properties={};const su=new WeakMap,iu=Ml.supportsAdoptedStyleSheets?class extends Xc{constructor(e){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":host{}")].style,e.$fastController.addStyles(Nl.create([t]))}}:eu,ru=Object.freeze({getOrCreate(e){if(su.has(e))return su.get(e);let t;return e===Yc?t=new nu:e instanceof Document?t=Ml.supportsAdoptedStyleSheets?new Zc:new Qc:t=e instanceof ic?new iu(e):new tu(e),su.set(e,t),t}});class ou extends Gc{constructor(e){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=e.name,null!==e.cssCustomPropertyName&&(this.cssCustomProperty=`--${e.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=ou.uniqueId(),ou.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(e){return new ou({name:"string"==typeof e?e:e.name,cssCustomPropertyName:"string"==typeof e?e:void 0===e.cssCustomPropertyName?e.name:e.cssCustomPropertyName})}static isCSSDesignToken(e){return"string"==typeof e.cssCustomProperty}static isDerivedDesignTokenValue(e){return"function"==typeof e}static getTokenById(e){return ou.tokensById.get(e)}getOrCreateSubscriberSet(e=this){return this.subscribers.get(e)||this.subscribers.set(e,new Set)&&this.subscribers.get(e)}createCSS(){return this.cssVar||""}getValueFor(e){const t=hu.getOrCreate(e).get(this);if(void 0!==t)return t;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${e} or an ancestor of ${e}.`)}setValueFor(e,t){return this._appliedTo.add(e),t instanceof ou&&(t=this.alias(t)),hu.getOrCreate(e).set(this,t),this}deleteValueFor(e){return this._appliedTo.delete(e),hu.existsFor(e)&&hu.getOrCreate(e).delete(this),this}withDefault(e){return this.setValueFor(Yc,e),this}subscribe(e,t){const n=this.getOrCreateSubscriberSet(t);t&&!hu.existsFor(t)&&hu.getOrCreate(t),n.has(e)||n.add(e)}unsubscribe(e,t){const n=this.subscribers.get(t||this);n&&n.has(e)&&n.delete(e)}notify(e){const t=Object.freeze({token:this,target:e});this.subscribers.has(this)&&this.subscribers.get(this).forEach((e=>e.handleChange(t))),this.subscribers.has(e)&&this.subscribers.get(e).forEach((e=>e.handleChange(t)))}alias(e){return t=>e.getValueFor(t)}}ou.uniqueId=(()=>{let e=0;return()=>(e++,e.toString(16))})(),ou.tokensById=new Map;class au{constructor(e,t,n){this.source=e,this.token=t,this.node=n,this.dependencies=new Set,this.observer=Pl.binding(e,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){this.node.store.set(this.token,this.observer.observe(this.node.target,Il))}}class lu{constructor(){this.values=new Map}set(e,t){this.values.get(e)!==t&&(this.values.set(e,t),Pl.getNotifier(this).notify(e.id))}get(e){return Pl.track(this,e.id),this.values.get(e)}delete(e){this.values.delete(e)}all(){return this.values.entries()}}const cu=new WeakMap,uu=new WeakMap;class hu{constructor(e){this.target=e,this.store=new lu,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(e,t)=>{const n=ou.getTokenById(t);n&&(n.notify(this.target),this.updateCSSTokenReflection(e,n))}},cu.set(e,this),Pl.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),e instanceof ic?e.$fastController.addBehaviors([this]):e.isConnected&&this.bind()}static getOrCreate(e){return cu.get(e)||new hu(e)}static existsFor(e){return cu.has(e)}static findParent(e){if(Yc!==e.target){let t=Jc(e.target);for(;null!==t;){if(cu.has(t))return cu.get(t);t=Jc(t)}return hu.getOrCreate(Yc)}return null}static findClosestAssignedNode(e,t){let n=t;do{if(n.has(e))return n;n=n.parent?n.parent:n.target!==Yc?hu.getOrCreate(Yc):null}while(null!==n);return null}get parent(){return uu.get(this)||null}updateCSSTokenReflection(e,t){if(ou.isCSSDesignToken(t)){const n=this.parent,s=this.isReflecting(t);if(n){const i=n.get(t),r=e.get(t);i===r||s?i===r&&s&&this.stopReflectToCSS(t):this.reflectToCSS(t)}else s||this.reflectToCSS(t)}}has(e){return this.assignedValues.has(e)}get(e){const t=this.store.get(e);if(void 0!==t)return t;const n=this.getRaw(e);return void 0!==n?(this.hydrate(e,n),this.get(e)):void 0}getRaw(e){var t;return this.assignedValues.has(e)?this.assignedValues.get(e):null===(t=hu.findClosestAssignedNode(e,this))||void 0===t?void 0:t.getRaw(e)}set(e,t){ou.isDerivedDesignTokenValue(this.assignedValues.get(e))&&this.tearDownBindingObserver(e),this.assignedValues.set(e,t),ou.isDerivedDesignTokenValue(t)?this.setupBindingObserver(e,t):this.store.set(e,t)}delete(e){this.assignedValues.delete(e),this.tearDownBindingObserver(e);const t=this.getRaw(e);t?this.hydrate(e,t):this.store.delete(e)}bind(){const e=hu.findParent(this);e&&e.appendChild(this);for(const t of this.assignedValues.keys())t.notify(this.target)}unbind(){if(this.parent){uu.get(this).removeChild(this)}}appendChild(e){e.parent&&uu.get(e).removeChild(e);const t=this.children.filter((t=>e.contains(t)));uu.set(e,this),this.children.push(e),t.forEach((t=>e.appendChild(t))),Pl.getNotifier(this.store).subscribe(e);for(const[n,s]of this.store.all())e.hydrate(n,this.bindingObservers.has(n)?this.getRaw(n):s)}removeChild(e){const t=this.children.indexOf(e);return-1!==t&&this.children.splice(t,1),Pl.getNotifier(this.store).unsubscribe(e),e.parent===this&&uu.delete(e)}contains(e){return function(e,t){let n=t;for(;null!==n;){if(n===e)return!0;n=Jc(n)}return!1}(this.target,e.target)}reflectToCSS(e){this.isReflecting(e)||(this.reflecting.add(e),hu.cssCustomPropertyReflector.startReflection(e,this.target))}stopReflectToCSS(e){this.isReflecting(e)&&(this.reflecting.delete(e),hu.cssCustomPropertyReflector.stopReflection(e,this.target))}isReflecting(e){return this.reflecting.has(e)}handleChange(e,t){const n=ou.getTokenById(t);n&&(this.hydrate(n,this.getRaw(n)),this.updateCSSTokenReflection(this.store,n))}hydrate(e,t){if(!this.has(e)){const n=this.bindingObservers.get(e);ou.isDerivedDesignTokenValue(t)?n?n.source!==t&&(this.tearDownBindingObserver(e),this.setupBindingObserver(e,t)):this.setupBindingObserver(e,t):(n&&this.tearDownBindingObserver(e),this.store.set(e,t))}}setupBindingObserver(e,t){const n=new au(t,e,this);return this.bindingObservers.set(e,n),n}tearDownBindingObserver(e){return!!this.bindingObservers.has(e)&&(this.bindingObservers.get(e).disconnect(),this.bindingObservers.delete(e),!0)}}hu.cssCustomPropertyReflector=new class{startReflection(e,t){e.subscribe(this,t),this.handleChange({token:e,target:t})}stopReflection(e,t){e.unsubscribe(this,t),this.remove(e,t)}handleChange(e){const{token:t,target:n}=e;this.add(t,n)}add(e,t){ru.getOrCreate(t).setProperty(e.cssCustomProperty,this.resolveCSSValue(hu.getOrCreate(t).get(e)))}remove(e,t){ru.getOrCreate(t).removeProperty(e.cssCustomProperty)}resolveCSSValue(e){return e&&"function"==typeof e.createCSS?e.createCSS():e}},Zl([Al],hu.prototype,"children",void 0);const du=Object.freeze({create:function(e){return ou.from(e)},notifyConnection:e=>!(!e.isConnected||!hu.existsFor(e))&&(hu.getOrCreate(e).bind(),!0),notifyDisconnection:e=>!(e.isConnected||!hu.existsFor(e))&&(hu.getOrCreate(e).unbind(),!0),registerRoot(e=Yc){nu.registerRoot(e)},unregisterRoot(e=Yc){nu.unregisterRoot(e)}}),pu=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),fu=new Map,gu=new Map;let mu=null;const _u=pc.createInterface((e=>e.cachedCallback((e=>(null===mu&&(mu=new bu(null,e)),mu))))),vu=Object.freeze({tagFor:e=>gu.get(e),responsibleFor(e){const t=e.$$designSystem$$;if(t)return t;return pc.findResponsibleContainer(e).get(_u)},getOrCreate(e){if(!e)return null===mu&&(mu=pc.getOrCreateDOMContainer().get(_u)),mu;const t=e.$$designSystem$$;if(t)return t;const n=pc.getOrCreateDOMContainer(e);if(n.has(_u,!1))return n.get(_u);{const t=new bu(e,n);return n.register(Rc.instance(_u,t)),t}}});class bu{constructor(e,t){this.owner=e,this.container=t,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>pu.definitionCallbackOnly,null!==e&&(e.$$designSystem$$=this)}withPrefix(e){return this.prefix=e,this}withShadowRootMode(e){return this.shadowRootMode=e,this}withElementDisambiguation(e){return this.disambiguate=e,this}withDesignTokenRoot(e){return this.designTokenRoot=e,this}register(...e){const t=this.container,n=[],s=this.disambiguate,i=this.shadowRootMode,r={elementPrefix:this.prefix,tryDefineElement(e,r,o){const a=function(e,t,n){return"string"==typeof e?{name:e,type:t,callback:n}:e}(e,r,o),{name:l,callback:c,baseClass:u}=a;let{type:h}=a,d=l,p=fu.get(d),f=!0;for(;p;){const e=s(d,h,p);switch(e){case pu.ignoreDuplicate:return;case pu.definitionCallbackOnly:f=!1,p=void 0;break;default:d=e,p=fu.get(d)}}f&&((gu.has(h)||h===Hc)&&(h=class extends h{}),fu.set(d,h),gu.set(h,d),u&&gu.set(u,d)),n.push(new yu(t,d,h,i,c,f))}};this.designTokensInitialized||(this.designTokensInitialized=!0,null!==this.designTokenRoot&&du.registerRoot(this.designTokenRoot)),t.registerWithContext(r,...e);for(const o of n)o.callback(o),o.willDefine&&null!==o.definition&&o.definition.define();return this}}class yu{constructor(e,t,n,s,i,r){this.container=e,this.name=t,this.type=n,this.shadowRootMode=s,this.callback=i,this.willDefine=r,this.definition=null}definePresentation(e){Vc.define(this.name,e,this.container)}defineElement(e){this.definition=new Xl(this.type,Object.assign(Object.assign({},e),{name:this.name}))}tagFor(e){return vu.tagFor(e)}}function wu(e){return vu.getOrCreate(e).withPrefix("jp")}function xu(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;class Su{}Zl([Kl({attribute:"aria-atomic"})],Su.prototype,"ariaAtomic",void 0),Zl([Kl({attribute:"aria-busy"})],Su.prototype,"ariaBusy",void 0),Zl([Kl({attribute:"aria-controls"})],Su.prototype,"ariaControls",void 0),Zl([Kl({attribute:"aria-current"})],Su.prototype,"ariaCurrent",void 0),Zl([Kl({attribute:"aria-describedby"})],Su.prototype,"ariaDescribedby",void 0),Zl([Kl({attribute:"aria-details"})],Su.prototype,"ariaDetails",void 0),Zl([Kl({attribute:"aria-disabled"})],Su.prototype,"ariaDisabled",void 0),Zl([Kl({attribute:"aria-errormessage"})],Su.prototype,"ariaErrormessage",void 0),Zl([Kl({attribute:"aria-flowto"})],Su.prototype,"ariaFlowto",void 0),Zl([Kl({attribute:"aria-haspopup"})],Su.prototype,"ariaHaspopup",void 0),Zl([Kl({attribute:"aria-hidden"})],Su.prototype,"ariaHidden",void 0),Zl([Kl({attribute:"aria-invalid"})],Su.prototype,"ariaInvalid",void 0),Zl([Kl({attribute:"aria-keyshortcuts"})],Su.prototype,"ariaKeyshortcuts",void 0),Zl([Kl({attribute:"aria-label"})],Su.prototype,"ariaLabel",void 0),Zl([Kl({attribute:"aria-labelledby"})],Su.prototype,"ariaLabelledby",void 0),Zl([Kl({attribute:"aria-live"})],Su.prototype,"ariaLive",void 0),Zl([Kl({attribute:"aria-owns"})],Su.prototype,"ariaOwns",void 0),Zl([Kl({attribute:"aria-relevant"})],Su.prototype,"ariaRelevant",void 0),Zl([Kl({attribute:"aria-roledescription"})],Su.prototype,"ariaRoledescription",void 0);class Cu{constructor(){this.targetIndex=0}}class ku extends Cu{constructor(){super(...arguments),this.createPlaceholder=Ml.createInterpolationPlaceholder}}class Eu extends Cu{constructor(e,t,n){super(),this.name=e,this.behavior=t,this.options=n}createPlaceholder(e){return Ml.createCustomAttributePlaceholder(this.name,e)}createBehavior(e){return new this.behavior(e,this.options)}}function Ou(e,t){this.source=e,this.context=t,null===this.bindingObserver&&(this.bindingObserver=Pl.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Mu(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function Tu(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Du(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function Pu(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Au(e){Ml.setAttribute(this.target,this.targetName,e)}function Ru(e){Ml.setBooleanAttribute(this.target,this.targetName,e)}function ju(e){if(null==e&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;void 0===t?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function Iu(e){this.target[this.targetName]=e}function Nu(e){const t=this.classVersions||Object.create(null),n=this.target;let s=this.version||0;if(null!=e&&e.length){const i=e.split(/\s+/);for(let e=0,r=i.length;e<r;++e){const r=i[e];""!==r&&(t[r]=s,n.classList.add(r))}}if(this.classVersions=t,this.version=s+1,0!==s){s-=1;for(const e in t)t[e]===s&&n.classList.remove(e)}}class Lu extends ku{constructor(e){super(),this.binding=e,this.bind=Ou,this.unbind=Tu,this.updateTarget=Au,this.isBindingVolatile=Pl.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(e){if(this.originalTargetName=e,void 0!==e)switch(e[0]){case":":if(this.cleanedTargetName=e.substr(1),this.updateTarget=Iu,"innerHTML"===this.cleanedTargetName){const e=this.binding;this.binding=(t,n)=>Ml.createHTML(e(t,n))}break;case"?":this.cleanedTargetName=e.substr(1),this.updateTarget=Ru;break;case"@":this.cleanedTargetName=e.substr(1),this.bind=Mu,this.unbind=Pu;break;default:this.cleanedTargetName=e,"class"===e&&(this.updateTarget=Nu)}}targetAtContent(){this.updateTarget=ju,this.unbind=Du}createBehavior(e){return new Bu(e,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Bu{constructor(e,t,n,s,i,r,o){this.source=null,this.context=null,this.bindingObserver=null,this.target=e,this.binding=t,this.isBindingVolatile=n,this.bind=s,this.unbind=i,this.updateTarget=r,this.targetName=o}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(e){jl.setEvent(e);const t=this.binding(this.source,this.context);jl.setEvent(null),!0!==t&&e.preventDefault()}}let $u=null;class Fu{addFactory(e){e.targetIndex=this.targetIndex,this.behaviorFactories.push(e)}captureContentBinding(e){e.targetAtContent(),this.addFactory(e)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){$u=this}static borrow(e){const t=$u||new Fu;return t.directives=e,t.reset(),$u=null,t}}function Uu(e){if(1===e.length)return e[0];let t;const n=e.length,s=e.map((e=>"string"==typeof e?()=>e:(t=e.targetName||t,e.binding))),i=new Lu(((e,t)=>{let i="";for(let r=0;r<n;++r)i+=s[r](e,t);return i}));return i.targetName=t,i}const zu=Ol.length;function Vu(e,t){const n=t.split(El);if(1===n.length)return null;const s=[];for(let i=0,r=n.length;i<r;++i){const t=n[i],r=t.indexOf(Ol);let o;if(-1===r)o=t;else{const n=parseInt(t.substring(0,r));s.push(e.directives[n]),o=t.substring(r+zu)}""!==o&&s.push(o)}return s}function qu(e,t,n=!1){const s=t.attributes;for(let i=0,r=s.length;i<r;++i){const o=s[i],a=o.value,l=Vu(e,a);let c=null;null===l?n&&(c=new Lu((()=>a)),c.targetName=o.name):c=Uu(l),null!==c&&(t.removeAttributeNode(o),i--,r--,e.addFactory(c))}}function Hu(e,t,n){const s=Vu(e,t.textContent);if(null!==s){let i=t;for(let r=0,o=s.length;r<o;++r){const o=s[r],a=0===r?t:i.parentNode.insertBefore(document.createTextNode(""),i.nextSibling);"string"==typeof o?a.textContent=o:(a.textContent=" ",e.captureContentBinding(o)),i=a,e.targetIndex++,a!==t&&n.nextNode()}e.targetIndex--}}const Wu=document.createRange();class Ku{constructor(e,t){this.fragment=e,this.behaviors=t,this.source=null,this.context=null,this.firstChild=e.firstChild,this.lastChild=e.lastChild}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=this.lastChild;if(e.previousSibling===t)return;const n=e.parentNode;let s,i=this.firstChild;for(;i!==t;)s=i.nextSibling,n.insertBefore(i,e),i=s;n.insertBefore(t,e)}}remove(){const e=this.fragment,t=this.lastChild;let n,s=this.firstChild;for(;s!==t;)n=s.nextSibling,e.appendChild(s),s=n;e.appendChild(t)}dispose(){const e=this.firstChild.parentNode,t=this.lastChild;let n,s=this.firstChild;for(;s!==t;)n=s.nextSibling,e.removeChild(s),s=n;e.removeChild(t);const i=this.behaviors,r=this.source;for(let o=0,a=i.length;o<a;++o)i[o].unbind(r)}bind(e,t){const n=this.behaviors;if(this.source!==e)if(null!==this.source){const s=this.source;this.source=e,this.context=t;for(let i=0,r=n.length;i<r;++i){const r=n[i];r.unbind(s),r.bind(e,t)}}else{this.source=e,this.context=t;for(let s=0,i=n.length;s<i;++s)n[s].bind(e,t)}}unbind(){if(null===this.source)return;const e=this.behaviors,t=this.source;for(let n=0,s=e.length;n<s;++n)e[n].unbind(t);this.source=null}static disposeContiguousBatch(e){if(0!==e.length){Wu.setStartBefore(e[0].firstChild),Wu.setEndAfter(e[e.length-1].lastChild),Wu.deleteContents();for(let t=0,n=e.length;t<n;++t){const n=e[t],s=n.behaviors,i=n.source;for(let e=0,t=s.length;e<t;++e)s[e].unbind(i)}}}}class Gu{constructor(e,t){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=e,this.directives=t}create(e){if(null===this.fragment){let e;const t=this.html;if("string"==typeof t){e=document.createElement("template"),e.innerHTML=Ml.createHTML(t);const n=e.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(e=n)}else e=t;const n=function(e,t){const n=e.content;document.adoptNode(n);const s=Fu.borrow(t);qu(s,e,!0);const i=s.behaviorFactories;s.reset();const r=Ml.createTemplateWalker(n);let o;for(;o=r.nextNode();)switch(s.targetIndex++,o.nodeType){case 1:qu(s,o);break;case 3:Hu(s,o,r);break;case 8:Ml.isMarker(o)&&s.addFactory(t[Ml.extractDirectiveIndexFromMarker(o)])}let a=0;(Ml.isMarker(n.firstChild)||1===n.childNodes.length&&t.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=s.behaviorFactories;return s.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:i,targetOffset:a}}(e,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const t=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,s=new Array(this.behaviorCount),i=Ml.createTemplateWalker(t);let r=0,o=this.targetOffset,a=i.nextNode();for(let l=n.length;r<l;++r){const e=n[r],t=e.targetIndex;for(;null!==a;){if(o===t){s[r]=e.createBehavior(a);break}a=i.nextNode(),o++}}if(this.hasHostBehaviors){const t=this.hostBehaviorFactories;for(let n=0,i=t.length;n<i;++n,++r)s[r]=t[n].createBehavior(e)}return new Ku(t,s)}render(e,t,n){"string"==typeof t&&(t=document.getElementById(t)),void 0===n&&(n=t);const s=this.create(n);return s.bind(e,Il),s.appendTo(t),s}}const Ju=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Yu(e,...t){const n=[];let s="";for(let i=0,r=e.length-1;i<r;++i){const r=e[i];let o=t[i];if(s+=r,o instanceof Gu){const e=o;o=()=>e}if("function"==typeof o&&(o=new Lu(o)),o instanceof ku){const e=Ju.exec(r);null!==e&&(o.targetName=e[2])}o instanceof Cu?(s+=o.createPlaceholder(n.length),n.push(o)):s+=o}return s+=e[e.length-1],new Gu(s,n)}class Xu{constructor(e,t){this.target=e,this.propertyName=t}bind(e){e[this.propertyName]=this.target}unbind(){}}function Zu(e){return new Eu("fast-ref",Xu,e)}class Qu{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const eh=(e,t)=>Yu`
    <span
        part="end"
        ${Zu("endContainer")}
        class=${e=>t.end?"end":void 0}
    >
        <slot name="end" ${Zu("end")} @slotchange="${e=>e.handleEndContentChange()}">
            ${t.end||""}
        </slot>
    </span>
`,th=(e,t)=>Yu`
    <span
        part="start"
        ${Zu("startContainer")}
        class="${e=>t.start?"start":void 0}"
    >
        <slot
            name="start"
            ${Zu("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        >
            ${t.start||""}
        </slot>
    </span>
`;Yu`
    <span part="end" ${Zu("endContainer")}>
        <slot
            name="end"
            ${Zu("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`,Yu`
    <span part="start" ${Zu("startContainer")}>
        <slot
            name="start"
            ${Zu("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;function nh(e,...t){const n=ql.locate(e);t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((n=>{"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))}));ql.locate(t).forEach((e=>n.push(e)))}))}var sh;!function(e){e[e.alt=18]="alt",e[e.arrowDown=40]="arrowDown",e[e.arrowLeft=37]="arrowLeft",e[e.arrowRight=39]="arrowRight",e[e.arrowUp=38]="arrowUp",e[e.back=8]="back",e[e.backSlash=220]="backSlash",e[e.break=19]="break",e[e.capsLock=20]="capsLock",e[e.closeBracket=221]="closeBracket",e[e.colon=186]="colon",e[e.colon2=59]="colon2",e[e.comma=188]="comma",e[e.ctrl=17]="ctrl",e[e.delete=46]="delete",e[e.end=35]="end",e[e.enter=13]="enter",e[e.equals=187]="equals",e[e.equals2=61]="equals2",e[e.equals3=107]="equals3",e[e.escape=27]="escape",e[e.forwardSlash=191]="forwardSlash",e[e.function1=112]="function1",e[e.function10=121]="function10",e[e.function11=122]="function11",e[e.function12=123]="function12",e[e.function2=113]="function2",e[e.function3=114]="function3",e[e.function4=115]="function4",e[e.function5=116]="function5",e[e.function6=117]="function6",e[e.function7=118]="function7",e[e.function8=119]="function8",e[e.function9=120]="function9",e[e.home=36]="home",e[e.insert=45]="insert",e[e.menu=93]="menu",e[e.minus=189]="minus",e[e.minus2=109]="minus2",e[e.numLock=144]="numLock",e[e.numPad0=96]="numPad0",e[e.numPad1=97]="numPad1",e[e.numPad2=98]="numPad2",e[e.numPad3=99]="numPad3",e[e.numPad4=100]="numPad4",e[e.numPad5=101]="numPad5",e[e.numPad6=102]="numPad6",e[e.numPad7=103]="numPad7",e[e.numPad8=104]="numPad8",e[e.numPad9=105]="numPad9",e[e.numPadDivide=111]="numPadDivide",e[e.numPadDot=110]="numPadDot",e[e.numPadMinus=109]="numPadMinus",e[e.numPadMultiply=106]="numPadMultiply",e[e.numPadPlus=107]="numPadPlus",e[e.openBracket=219]="openBracket",e[e.pageDown=34]="pageDown",e[e.pageUp=33]="pageUp",e[e.period=190]="period",e[e.print=44]="print",e[e.quote=222]="quote",e[e.scrollLock=145]="scrollLock",e[e.shift=16]="shift",e[e.space=32]="space",e[e.tab=9]="tab",e[e.tilde=192]="tilde",e[e.windowsLeft=91]="windowsLeft",e[e.windowsOpera=219]="windowsOpera",e[e.windowsRight=92]="windowsRight"}(sh||(sh={}));const ih="Enter",rh={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp"},oh="form-associated-proxy",ah="ElementInternals",lh=ah in window&&"setFormValue"in window[ah].prototype,ch=new WeakMap;function uh(e){const t=class extends e{constructor(...e){super(...e),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return lh}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const e=this.proxy.labels,t=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=e?t.concat(Array.from(e)):t;return Object.freeze(n)}return yl}valueChanged(e,t){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),Ml.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),Ml.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!lh)return null;let e=ch.get(this);return e||(e=this.attachInternals(),ch.set(this,e)),e}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach((e=>this.proxy.removeEventListener(e,this.stopPropagation))),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(e,t,n){this.elementInternals?this.elementInternals.setValidity(e,t,n):"string"==typeof t&&this.proxy.setCustomValidity(t)}formDisabledCallback(e){this.disabled=e}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var e;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((e=>this.proxy.addEventListener(e,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",oh),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",oh)),null===(e=this.shadowRoot)||void 0===e||e.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var e;this.removeChild(this.proxy),null===(e=this.shadowRoot)||void 0===e||e.removeChild(this.proxySlot)}validate(e){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,e)}setFormValue(e,t){this.elementInternals&&this.elementInternals.setFormValue(e,t||e)}_keypressHandler(e){if(e.key===ih)if(this.form instanceof HTMLFormElement){const e=this.form.querySelector("[type=submit]");null==e||e.click()}}stopPropagation(e){e.stopPropagation()}};return Kl({mode:"boolean"})(t.prototype,"disabled"),Kl({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),Kl({attribute:"current-value"})(t.prototype,"currentValue"),Kl(t.prototype,"name"),Kl({mode:"boolean"})(t.prototype,"required"),Al(t.prototype,"value"),t}class hh extends Hc{}class dh extends(uh(hh)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class ph extends dh{constructor(){super(...arguments),this.handleClick=e=>{var t;this.disabled&&(null===(t=this.defaultSlottedContent)||void 0===t?void 0:t.length)<=1&&e.stopPropagation()},this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{var e;null===(e=this.form)||void 0===e||e.reset()},this.handleUnsupportedDelegatesFocus=()=>{var e;window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(null===(e=this.$fastController.definition.shadowOptions)||void 0===e?void 0:e.delegatesFocus)&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===t&&this.addEventListener("click",this.handleSubmission),"submit"===e&&this.removeEventListener("click",this.handleSubmission),"reset"===t&&this.addEventListener("click",this.handleFormReset),"reset"===e&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){var e;super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus();const t=Array.from(null===(e=this.control)||void 0===e?void 0:e.children);t&&t.forEach((e=>{e.addEventListener("click",this.handleClick)}))}disconnectedCallback(){var e;super.disconnectedCallback();const t=Array.from(null===(e=this.control)||void 0===e?void 0:e.children);t&&t.forEach((e=>{e.removeEventListener("click",this.handleClick)}))}}Zl([Kl({mode:"boolean"})],ph.prototype,"autofocus",void 0),Zl([Kl({attribute:"form"})],ph.prototype,"formId",void 0),Zl([Kl],ph.prototype,"formaction",void 0),Zl([Kl],ph.prototype,"formenctype",void 0),Zl([Kl],ph.prototype,"formmethod",void 0),Zl([Kl({mode:"boolean"})],ph.prototype,"formnovalidate",void 0),Zl([Kl],ph.prototype,"formtarget",void 0),Zl([Kl],ph.prototype,"type",void 0),Zl([Al],ph.prototype,"defaultSlottedContent",void 0);class fh{}function gh(e){return e?function(t,n,s){return 1===t.nodeType&&t.matches(e)}:function(e,t,n){return 1===e.nodeType}}Zl([Kl({attribute:"aria-expanded"})],fh.prototype,"ariaExpanded",void 0),Zl([Kl({attribute:"aria-pressed"})],fh.prototype,"ariaPressed",void 0),nh(fh,Su),nh(ph,Qu,fh);class mh{constructor(e,t){this.target=e,this.options=t,this.source=null}bind(e){const t=this.options.property;this.shouldUpdate=Pl.getAccessors(e).some((e=>e.name===t)),this.source=e,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(yl),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let e=this.getNodes();return void 0!==this.options.filter&&(e=e.filter(this.options.filter)),e}updateTarget(e){this.source[this.options.property]=e}}class _h extends mh{constructor(e,t){super(e,t)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function vh(e){return"string"==typeof e&&(e={property:e}),new Eu("fast-slotted",_h,e)}function bh(e,t){const n=[];let s="";const i=[];for(let r=0,o=e.length-1;r<o;++r){s+=e[r];let o=t[r];if(o instanceof Gc){const e=o.createBehavior();o=o.createCSS(),e&&i.push(e)}o instanceof Nl||o instanceof CSSStyleSheet?(""!==s.trim()&&(n.push(s),s=""),n.push(o)):s+=o}return s+=e[e.length-1],""!==s.trim()&&n.push(s),{styles:n,behaviors:i}}function yh(e,...t){const{styles:n,behaviors:s}=bh(e,t),i=Nl.create(n);return s.length&&i.withBehaviors(...s),i}class wh extends Gc{constructor(e,t){super(),this.behaviors=t,this.css="";const n=e.reduce(((e,t)=>("string"==typeof t?this.css+=t:e.push(t),e)),[]);n.length&&(this.styles=Nl.create(n))}createBehavior(){return this}createCSS(){return this.css}bind(e){this.styles&&e.$fastController.addStyles(this.styles),this.behaviors.length&&e.$fastController.addBehaviors(this.behaviors)}unbind(e){this.styles&&e.$fastController.removeStyles(this.styles),this.behaviors.length&&e.$fastController.removeBehaviors(this.behaviors)}}const xh="not-allowed";class Sh{constructor(e){this.listenerCache=new WeakMap,this.query=e}bind(e){const{query:t}=this,n=this.constructListener(e);n.bind(t)(),t.addListener(n),this.listenerCache.set(e,n)}unbind(e){const t=this.listenerCache.get(e);t&&(this.query.removeListener(t),this.listenerCache.delete(e))}}class Ch extends Sh{constructor(e,t){super(e),this.styles=t}static with(e){return t=>new Ch(e,t)}constructListener(e){let t=!1;const n=this.styles;return function(){const{matches:s}=this;s&&!t?(e.$fastController.addStyles(n),t=s):!s&&t&&(e.$fastController.removeStyles(n),t=s)}}unbind(e){super.unbind(e),e.$fastController.removeStyles(this.styles)}}const kh=Ch.with(window.matchMedia("(forced-colors)"));Ch.with(window.matchMedia("(prefers-color-scheme: dark)")),Ch.with(window.matchMedia("(prefers-color-scheme: light)"));var Eh,Oh;function Mh(e,t,n){return isNaN(e)||e<=t?t:e>=n?n:e}function Th(e,t,n){return isNaN(e)||e<=t?0:e>=n?1:e/(n-t)}function Dh(e,t,n){return isNaN(e)?t:t+e*(n-t)}function Ph(e){return e*(Math.PI/180)}function Ah(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:t+e*(n-t)}function Rh(e,t,n){if(e<=0)return t%360;if(e>=1)return n%360;const s=(t-n+360)%360;return s<=(n-t+360)%360?(t-s*e+360)%360:(t+s*e+360)%360}!function(e){e.Canvas="Canvas",e.CanvasText="CanvasText",e.LinkText="LinkText",e.VisitedText="VisitedText",e.ActiveText="ActiveText",e.ButtonFace="ButtonFace",e.ButtonText="ButtonText",e.Field="Field",e.FieldText="FieldText",e.Highlight="Highlight",e.HighlightText="HighlightText",e.GrayText="GrayText"}(Eh||(Eh={})),function(e){e.ltr="ltr",e.rtl="rtl"}(Oh||(Oh={}));Math.PI;function jh(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class Ih{constructor(e,t,n,s){this.r=e,this.g=t,this.b=n,this.a="number"!=typeof s||isNaN(s)?1:s}static fromObject(e){return!e||isNaN(e.r)||isNaN(e.g)||isNaN(e.b)?null:new Ih(e.r,e.g,e.b,e.a)}equalValue(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(Dh(this.r,0,255))},${Math.round(Dh(this.g,0,255))},${Math.round(Dh(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(Dh(this.r,0,255))},${Math.round(Dh(this.g,0,255))},${Math.round(Dh(this.b,0,255))},${Mh(this.a,0,1)})`}roundToPrecision(e){return new Ih(jh(this.r,e),jh(this.g,e),jh(this.b,e),jh(this.a,e))}clamp(){return new Ih(Mh(this.r,0,1),Mh(this.g,0,1),Mh(this.b,0,1),Mh(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(e){return function(e){const t=Math.round(Mh(e,0,255)).toString(16);return 1===t.length?"0"+t:t}(Dh(e,0,255))}}class Nh{constructor(e,t,n){this.h=e,this.s=t,this.l=n}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.l)?null:new Nh(e.h,e.s,e.l)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.l===e.l}roundToPrecision(e){return new Nh(jh(this.h,e),jh(this.s,e),jh(this.l,e))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class Lh{constructor(e,t,n){this.h=e,this.s=t,this.v=n}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.v)?null:new Lh(e.h,e.s,e.v)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.v===e.v}roundToPrecision(e){return new Lh(jh(this.h,e),jh(this.s,e),jh(this.v,e))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class Bh{constructor(e,t,n){this.l=e,this.a=t,this.b=n}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.a)||isNaN(e.b)?null:new Bh(e.l,e.a,e.b)}equalValue(e){return this.l===e.l&&this.a===e.a&&this.b===e.b}roundToPrecision(e){return new Bh(jh(this.l,e),jh(this.a,e),jh(this.b,e))}toObject(){return{l:this.l,a:this.a,b:this.b}}}Bh.epsilon=216/24389,Bh.kappa=24389/27;class $h{constructor(e,t,n){this.l=e,this.c=t,this.h=n}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.c)||isNaN(e.h)?null:new $h(e.l,e.c,e.h)}equalValue(e){return this.l===e.l&&this.c===e.c&&this.h===e.h}roundToPrecision(e){return new $h(jh(this.l,e),jh(this.c,e),jh(this.h,e))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class Fh{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromObject(e){return!e||isNaN(e.x)||isNaN(e.y)||isNaN(e.z)?null:new Fh(e.x,e.y,e.z)}equalValue(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}roundToPrecision(e){return new Fh(jh(this.x,e),jh(this.y,e),jh(this.z,e))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function Uh(e){return.2126*e.r+.7152*e.g+.0722*e.b}function zh(e){function t(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}return Uh(new Ih(t(e.r),t(e.g),t(e.b),1))}Fh.whitePoint=new Fh(.95047,1,1.08883);const Vh=(e,t)=>(e+.05)/(t+.05);function qh(e,t){const n=zh(e),s=zh(t);return n>s?Vh(n,s):Vh(s,n)}function Hh(e){const t=Math.max(e.r,e.g,e.b),n=Math.min(e.r,e.g,e.b),s=t-n;let i=0;0!==s&&(i=t===e.r?(e.g-e.b)/s%6*60:t===e.g?60*((e.b-e.r)/s+2):60*((e.r-e.g)/s+4)),i<0&&(i+=360);const r=(t+n)/2;let o=0;return 0!==s&&(o=s/(1-Math.abs(2*r-1))),new Nh(i,o,r)}function Wh(e,t=1){const n=(1-Math.abs(2*e.l-1))*e.s,s=n*(1-Math.abs(e.h/60%2-1)),i=e.l-n/2;let r=0,o=0,a=0;return e.h<60?(r=n,o=s,a=0):e.h<120?(r=s,o=n,a=0):e.h<180?(r=0,o=n,a=s):e.h<240?(r=0,o=s,a=n):e.h<300?(r=s,o=0,a=n):e.h<360&&(r=n,o=0,a=s),new Ih(r+i,o+i,a+i,t)}function Kh(e){const t=Math.max(e.r,e.g,e.b),n=t-Math.min(e.r,e.g,e.b);let s=0;0!==n&&(s=t===e.r?(e.g-e.b)/n%6*60:t===e.g?60*((e.b-e.r)/n+2):60*((e.r-e.g)/n+4)),s<0&&(s+=360);let i=0;return 0!==t&&(i=n/t),new Lh(s,i,t)}function Gh(e){let t=0;(Math.abs(e.b)>.001||Math.abs(e.a)>.001)&&(t=Math.atan2(e.b,e.a)*(180/Math.PI)),t<0&&(t+=360);const n=Math.sqrt(e.a*e.a+e.b*e.b);return new $h(e.l,n,t)}function Jh(e){function t(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}const n=t(e.r),s=t(e.g),i=t(e.b);return new Fh(.4124564*n+.3575761*s+.1804375*i,.2126729*n+.7151522*s+.072175*i,.0193339*n+.119192*s+.9503041*i)}function Yh(e,t=1){function n(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}const s=n(3.2404542*e.x-1.5371385*e.y-.4985314*e.z),i=n(-.969266*e.x+1.8760108*e.y+.041556*e.z),r=n(.0556434*e.x-.2040259*e.y+1.0572252*e.z);return new Ih(s,i,r,t)}function Xh(e){return function(e){function t(e){return e>Bh.epsilon?Math.pow(e,1/3):(Bh.kappa*e+16)/116}const n=t(e.x/Fh.whitePoint.x),s=t(e.y/Fh.whitePoint.y),i=t(e.z/Fh.whitePoint.z);return new Bh(116*s-16,500*(n-s),200*(s-i))}(Jh(e))}function Zh(e,t=1){return Yh(function(e){const t=(e.l+16)/116,n=t+e.a/500,s=t-e.b/200,i=Math.pow(n,3),r=Math.pow(t,3),o=Math.pow(s,3);let a=0;a=i>Bh.epsilon?i:(116*n-16)/Bh.kappa;let l=0;l=e.l>Bh.epsilon*Bh.kappa?r:e.l/Bh.kappa;let c=0;return c=o>Bh.epsilon?o:(116*s-16)/Bh.kappa,a=Fh.whitePoint.x*a,l=Fh.whitePoint.y*l,c=Fh.whitePoint.z*c,new Fh(a,l,c)}(e),t)}function Qh(e){return Gh(Xh(e))}function ed(e,t=1){return Zh(function(e){let t=0,n=0;return 0!==e.h&&(t=Math.cos(Ph(e.h))*e.c,n=Math.sin(Ph(e.h))*e.c),new Bh(e.l,t,n)}(e),t)}function td(e,t,n=18){const s=Qh(e);let i=s.c+t*n;return i<0&&(i=0),ed(new $h(s.l,i,s.h))}function nd(e,t){return e*t}function sd(e,t){return new Ih(nd(e.r,t.r),nd(e.g,t.g),nd(e.b,t.b),1)}function id(e,t){return Mh(e<.5?2*t*e:1-2*(1-t)*(1-e),0,1)}function rd(e,t){return new Ih(id(e.r,t.r),id(e.g,t.g),id(e.b,t.b),1)}var od,ad;function ld(e,t,n,s){if(isNaN(e)||e<=0)return n;if(e>=1)return s;switch(t){case ad.HSL:return Wh(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Nh(Rh(e,t.h,n.h),Ah(e,t.s,n.s),Ah(e,t.l,n.l))}(e,Hh(n),Hh(s)));case ad.HSV:return function(e,t=1){const n=e.s*e.v,s=n*(1-Math.abs(e.h/60%2-1)),i=e.v-n;let r=0,o=0,a=0;return e.h<60?(r=n,o=s,a=0):e.h<120?(r=s,o=n,a=0):e.h<180?(r=0,o=n,a=s):e.h<240?(r=0,o=s,a=n):e.h<300?(r=s,o=0,a=n):e.h<360&&(r=n,o=0,a=s),new Ih(r+i,o+i,a+i,t)}(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Lh(Rh(e,t.h,n.h),Ah(e,t.s,n.s),Ah(e,t.v,n.v))}(e,Kh(n),Kh(s)));case ad.XYZ:return Yh(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Fh(Ah(e,t.x,n.x),Ah(e,t.y,n.y),Ah(e,t.z,n.z))}(e,Jh(n),Jh(s)));case ad.LAB:return Zh(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Bh(Ah(e,t.l,n.l),Ah(e,t.a,n.a),Ah(e,t.b,n.b))}(e,Xh(n),Xh(s)));case ad.LCH:return ed(function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new $h(Ah(e,t.l,n.l),Ah(e,t.c,n.c),Rh(e,t.h,n.h))}(e,Qh(n),Qh(s)));default:return function(e,t,n){return isNaN(e)||e<=0?t:e>=1?n:new Ih(Ah(e,t.r,n.r),Ah(e,t.g,n.g),Ah(e,t.b,n.b),Ah(e,t.a,n.a))}(e,n,s)}}!function(e){e[e.Burn=0]="Burn",e[e.Color=1]="Color",e[e.Darken=2]="Darken",e[e.Dodge=3]="Dodge",e[e.Lighten=4]="Lighten",e[e.Multiply=5]="Multiply",e[e.Overlay=6]="Overlay",e[e.Screen=7]="Screen"}(od||(od={})),function(e){e[e.RGB=0]="RGB",e[e.HSL=1]="HSL",e[e.HSV=2]="HSV",e[e.XYZ=3]="XYZ",e[e.LAB=4]="LAB",e[e.LCH=5]="LCH"}(ad||(ad={}));class cd{constructor(e){if(null==e||0===e.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(e)}static createBalancedColorScale(e){if(null==e||0===e.length)throw new Error("The colors argument must be non-empty");const t=new Array(e.length);for(let n=0;n<e.length;n++)0===n?t[n]={color:e[n],position:0}:n===e.length-1?t[n]={color:e[n],position:1}:t[n]={color:e[n],position:n*(1/(e.length-1))};return new cd(t)}getColor(e,t=ad.RGB){if(1===this.stops.length)return this.stops[0].color;if(e<=0)return this.stops[0].color;if(e>=1)return this.stops[this.stops.length-1].color;let n=0;for(let i=0;i<this.stops.length;i++)this.stops[i].position<=e&&(n=i);let s=n+1;s>=this.stops.length&&(s=this.stops.length-1);return ld((e-this.stops[n].position)*(1/(this.stops[s].position-this.stops[n].position)),t,this.stops[n].color,this.stops[s].color)}trim(e,t,n=ad.RGB){if(e<0||t>1||t<e)throw new Error("Invalid bounds");if(e===t)return new cd([{color:this.getColor(e,n),position:0}]);const s=[];for(let o=0;o<this.stops.length;o++)this.stops[o].position>=e&&this.stops[o].position<=t&&s.push(this.stops[o]);if(0===s.length)return new cd([{color:this.getColor(e),position:e},{color:this.getColor(t),position:t}]);s[0].position!==e&&s.unshift({color:this.getColor(e),position:e}),s[s.length-1].position!==t&&s.push({color:this.getColor(t),position:t});const i=t-e,r=new Array(s.length);for(let o=0;o<s.length;o++)r[o]={color:s[o].color,position:(s[o].position-e)/i};return new cd(r)}findNextColor(e,t,n=!1,s=ad.RGB,i=.005,r=32){isNaN(e)||e<=0?e=0:e>=1&&(e=1);const o=this.getColor(e,s),a=n?0:1;if(qh(o,this.getColor(a,s))<=t)return a;let l=n?0:e,c=n?e:0,u=a,h=0;for(;h<=r;){u=Math.abs(c-l)/2+l;const e=qh(o,this.getColor(u,s));if(Math.abs(e-t)<=i)return u;e>t?n?l=u:c=u:n?c=u:l=u,h++}return u}clone(){const e=new Array(this.stops.length);for(let t=0;t<e.length;t++)e[t]={color:this.stops[t].color,position:this.stops[t].position};return new cd(e)}sortColorScaleStops(e){return e.sort(((e,t)=>{const n=e.position,s=t.position;return n<s?-1:n>s?1:0}))}}const ud={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},hd=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,dd=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,pd=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,fd=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function gd(e){return function(e){return fd.test(e)}(e)}function md(e){const t=pd.exec(e);if(null===t)return null;let n=t[1];if(3===n.length){const e=n.charAt(0),t=n.charAt(1),s=n.charAt(2);n=e.concat(e,t,t,s,s)}const s=parseInt(n,16);return isNaN(s)?null:new Ih(Th((16711680&s)>>>16,0,255),Th((65280&s)>>>8,0,255),Th(255&s,0,255),1)}function _d(e){const t=e.toLowerCase();return function(e){return pd.test(e)}(t)?md(t):gd(t)?function(e){const t=fd.exec(e);if(null===t)return null;let n=t[1];if(4===n.length){const e=n.charAt(0),t=n.charAt(1),s=n.charAt(2),i=n.charAt(3);n=e.concat(e,t,t,s,s,i,i)}const s=parseInt(n,16);return isNaN(s)?null:new Ih(Th((16711680&s)>>>16,0,255),Th((65280&s)>>>8,0,255),Th(255&s,0,255),Th((4278190080&s)>>>24,0,255))}(t):function(e){return hd.test(e)}(t)?function(e){const t=hd.exec(e);if(null===t)return null;const n=t[1].split(",");return new Ih(Th(Number(n[0]),0,255),Th(Number(n[1]),0,255),Th(Number(n[2]),0,255),1)}(t):function(e){return dd.test(e)}(t)?function(e){const t=dd.exec(e);if(null===t)return null;const n=t[1].split(",");return 4===n.length?new Ih(Th(Number(n[0]),0,255),Th(Number(n[1]),0,255),Th(Number(n[2]),0,255),Number(n[3])):null}(t):function(e){return ud.hasOwnProperty(e)}(t)?function(e){const t=ud[e.toLowerCase()];return t?new Ih(t.r,t.g,t.b,t.hasOwnProperty("a")?t.a:void 0):null}(t):null}class vd{constructor(e){this.config=Object.assign({},vd.defaultPaletteConfig,e),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(e){let t=!1;for(const n in e)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(e[n])||(this.config[n]=e[n],t=!0):e[n]!==this.config[n]&&(this.config[n]=e[n],t=!0));return t&&this.updatePaletteColors(),t}updatePaletteColors(){const e=this.generatePaletteColorScale();for(let t=0;t<this.config.steps;t++)this.palette[t]=e.getColor(t/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const e=Hh(this.config.baseColor),t=new cd([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=t.getColor(0),s=t.getColor(1);if(e.s>=this.config.saturationAdjustmentCutoff&&(n=td(n,this.config.saturationLight),s=td(s,this.config.saturationDark)),0!==this.config.multiplyLight){const e=sd(this.config.baseColor,n);n=ld(this.config.multiplyLight,this.config.interpolationMode,n,e)}if(0!==this.config.multiplyDark){const e=sd(this.config.baseColor,s);s=ld(this.config.multiplyDark,this.config.interpolationMode,s,e)}if(0!==this.config.overlayLight){const e=rd(this.config.baseColor,n);n=ld(this.config.overlayLight,this.config.interpolationMode,n,e)}if(0!==this.config.overlayDark){const e=rd(this.config.baseColor,s);s=ld(this.config.overlayDark,this.config.interpolationMode,s,e)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new cd([{position:0,color:this.config.baseColor},{position:1,color:s.clamp()}]):this.config.baseScalePosition>=1?new cd([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new cd([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:s.clamp()}]):new cd([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:s.clamp()}])}}vd.defaultPaletteConfig={baseColor:md("#808080"),steps:11,interpolationMode:ad.RGB,scaleColorLight:new Ih(1,1,1,1),scaleColorDark:new Ih(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},vd.greyscalePaletteConfig={baseColor:md("#808080"),steps:11,interpolationMode:ad.RGB,scaleColorLight:new Ih(1,1,1,1),scaleColorDark:new Ih(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};vd.defaultPaletteConfig.scaleColorLight,vd.defaultPaletteConfig.scaleColorDark;class bd{constructor(e){this.palette=[],this.config=Object.assign({},bd.defaultPaletteConfig,e),this.regenPalettes()}regenPalettes(){let e=this.config.steps;(isNaN(e)||e<3)&&(e=3);const t=.14,n=new Ih(t,t,t,1),s=new vd(Object.assign(Object.assign({},vd.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:e})).palette,i=(Uh(this.config.baseColor)+Hh(this.config.baseColor).l)/2,r=this.matchRelativeLuminanceIndex(i,s)/(e-1),o=this.matchRelativeLuminanceIndex(t,s)/(e-1),a=Hh(this.config.baseColor),l=Wh(Nh.fromObject({h:a.h,s:a.s,l:t})),c=Wh(Nh.fromObject({h:a.h,s:a.s,l:.06})),u=new Array(5);u[0]={position:0,color:new Ih(1,1,1,1)},u[1]={position:r,color:this.config.baseColor},u[2]={position:o,color:l},u[3]={position:.99,color:c},u[4]={position:1,color:new Ih(0,0,0,1)};const h=new cd(u);this.palette=new Array(e);for(let d=0;d<e;d++){const t=h.getColor(d/(e-1),ad.RGB);this.palette[d]=t}}matchRelativeLuminanceIndex(e,t){let n=Number.MAX_VALUE,s=0,i=0;const r=t.length;for(;i<r;i++){const r=Math.abs(Uh(t[i])-e);r<n&&(n=r,s=i)}return s}}function yd(e,t){const n=e.relativeLuminance>t.relativeLuminance?e:t,s=e.relativeLuminance>t.relativeLuminance?t:e;return(n.relativeLuminance+.05)/(s.relativeLuminance+.05)}bd.defaultPaletteConfig={baseColor:md("#808080"),steps:94};const wd=Object.freeze({create:(e,t,n)=>new xd(e,t,n),from:e=>new xd(e.r,e.g,e.b)});class xd extends Ih{constructor(e,t,n){super(e,t,n,1),this.toColorString=this.toStringHexRGB,this.contrast=yd.bind(null,this),this.createCSS=this.toColorString,this.relativeLuminance=zh(this)}static fromObject(e){return new xd(e.r,e.g,e.b)}}function Sd(e,t,n=0,s=e.length-1){if(s===n)return e[n];const i=Math.floor((s-n)/2)+n;return t(e[i])?Sd(e,t,n,i):Sd(e,t,i+1,s)}const Cd=(-.1+Math.sqrt(.21))/2;function kd(e){return e.relativeLuminance<=Cd}function Ed(e){return kd(e)?-1:1}const Od=Object.freeze({create:function(e,t,n){return"number"==typeof e?Od.from(wd.create(e,t,n)):Od.from(e)},from:function(e){return function(e){const t={r:0,g:0,b:0,toColorString:()=>"",contrast:()=>0,relativeLuminance:0};for(const n in t)if(typeof t[n]!=typeof e[n])return!1;return!0}(e)?Md.from(e):Md.from(wd.create(e.r,e.g,e.b))}});class Md{constructor(e,t){this.closestIndexCache=new Map,this.source=e,this.swatches=t,this.reversedSwatches=Object.freeze([...this.swatches].reverse()),this.lastIndex=this.swatches.length-1}colorContrast(e,t,n,s){void 0===n&&(n=this.closestIndexOf(e));let i=this.swatches;const r=this.lastIndex;let o=n;void 0===s&&(s=Ed(e));return-1===s&&(i=this.reversedSwatches,o=r-o),Sd(i,(n=>yd(e,n)>=t),o,r)}get(e){return this.swatches[e]||this.swatches[Mh(e,0,this.lastIndex)]}closestIndexOf(e){if(this.closestIndexCache.has(e.relativeLuminance))return this.closestIndexCache.get(e.relativeLuminance);let t=this.swatches.indexOf(e);if(-1!==t)return this.closestIndexCache.set(e.relativeLuminance,t),t;const n=this.swatches.reduce(((t,n)=>Math.abs(n.relativeLuminance-e.relativeLuminance)<Math.abs(t.relativeLuminance-e.relativeLuminance)?n:t));return t=this.swatches.indexOf(n),this.closestIndexCache.set(e.relativeLuminance,t),t}static from(e){return new Md(e,Object.freeze(new bd({baseColor:Ih.fromObject(e)}).palette.map((e=>{const t=md(e.toStringHexRGB());return wd.create(t.r,t.g,t.b)}))))}}const Td=wd.create(1,1,1),Dd=wd.create(0,0,0),Pd=wd.from(md("#808080")),Ad=wd.from(md("#DA1A5F")),Rd=wd.from(md("#D32F2F"));function jd(e){return wd.create(e,e,e)}const Id={LightMode:1,DarkMode:.23};function Nd(e,t,n,s,i,r){return Math.max(e.closestIndexOf(jd(t))+n,s,i,r)}const{create:Ld}=du;function Bd(e){return du.create({name:e,cssCustomPropertyName:null})}const $d=Ld("body-font").withDefault('aktiv-grotesk, "Segoe UI", Arial, Helvetica, sans-serif'),Fd=Ld("base-height-multiplier").withDefault(10),Ud=(Ld("base-horizontal-spacing-multiplier").withDefault(3),Ld("base-layer-luminance").withDefault(Id.DarkMode)),zd=Ld("control-corner-radius").withDefault(4),Vd=Ld("density").withDefault(0),qd=Ld("design-unit").withDefault(4),Hd=(Ld("direction").withDefault(Oh.ltr),Ld("disabled-opacity").withDefault(.4)),Wd=Ld("stroke-width").withDefault(1),Kd=Ld("focus-stroke-width").withDefault(2),Gd=Ld("type-ramp-base-font-size").withDefault("14px"),Jd=Ld("type-ramp-base-line-height").withDefault("20px"),Yd=(Ld("type-ramp-minus-1-font-size").withDefault("12px"),Ld("type-ramp-minus-1-line-height").withDefault("16px"),Ld("type-ramp-minus-2-font-size").withDefault("10px"),Ld("type-ramp-minus-2-line-height").withDefault("16px"),Ld("type-ramp-plus-1-font-size").withDefault("16px"),Ld("type-ramp-plus-1-line-height").withDefault("24px"),Ld("type-ramp-plus-2-font-size").withDefault("20px"),Ld("type-ramp-plus-2-line-height").withDefault("28px"),Ld("type-ramp-plus-3-font-size").withDefault("28px"),Ld("type-ramp-plus-3-line-height").withDefault("36px"),Ld("type-ramp-plus-4-font-size").withDefault("34px"),Ld("type-ramp-plus-4-line-height").withDefault("44px"),Ld("type-ramp-plus-5-font-size").withDefault("46px"),Ld("type-ramp-plus-5-line-height").withDefault("56px"),Ld("type-ramp-plus-6-font-size").withDefault("60px"),Ld("type-ramp-plus-6-line-height").withDefault("72px"),Bd("accent-fill-rest-delta").withDefault(0),Bd("accent-fill-hover-delta").withDefault(4)),Xd=Bd("accent-fill-active-delta").withDefault(-5),Zd=Bd("accent-fill-focus-delta").withDefault(0),Qd=Bd("accent-foreground-rest-delta").withDefault(0),ep=Bd("accent-foreground-hover-delta").withDefault(6),tp=Bd("accent-foreground-active-delta").withDefault(-4),np=Bd("accent-foreground-focus-delta").withDefault(0),sp=Bd("neutral-fill-rest-delta").withDefault(7),ip=Bd("neutral-fill-hover-delta").withDefault(10),rp=Bd("neutral-fill-active-delta").withDefault(5),op=Bd("neutral-fill-focus-delta").withDefault(0),ap=Bd("neutral-fill-input-rest-delta").withDefault(0),lp=Bd("neutral-fill-input-hover-delta").withDefault(0),cp=Bd("neutral-fill-input-active-delta").withDefault(0),up=Bd("neutral-fill-input-focus-delta").withDefault(0),hp=Bd("neutral-fill-stealth-rest-delta").withDefault(0),dp=Bd("neutral-fill-stealth-hover-delta").withDefault(5),pp=Bd("neutral-fill-stealth-active-delta").withDefault(3),fp=Bd("neutral-fill-stealth-focus-delta").withDefault(0),gp=Bd("neutral-fill-strong-rest-delta").withDefault(0),mp=Bd("neutral-fill-strong-hover-delta").withDefault(8),_p=Bd("neutral-fill-strong-active-delta").withDefault(-5),vp=Bd("neutral-fill-strong-focus-delta").withDefault(0),bp=Bd("neutral-fill-layer-rest-delta").withDefault(3),yp=Bd("neutral-stroke-rest-delta").withDefault(25),wp=Bd("neutral-stroke-hover-delta").withDefault(40),xp=Bd("neutral-stroke-active-delta").withDefault(16),Sp=Bd("neutral-stroke-focus-delta").withDefault(25),Cp=Bd("neutral-stroke-divider-rest-delta").withDefault(8),kp=Ld("neutral-color").withDefault(Pd),Ep=Bd("neutral-palette").withDefault((e=>Od.from(kp.getValueFor(e)))),Op=Ld("accent-color").withDefault(Ad),Mp=Bd("accent-palette").withDefault((e=>Od.from(Op.getValueFor(e)))),Tp=Bd("neutral-layer-card-container-recipe").withDefault({evaluate:e=>function(e,t,n){return e.get(e.closestIndexOf(jd(t))+n)}(Ep.getValueFor(e),Ud.getValueFor(e),bp.getValueFor(e))}),Dp=(Ld("neutral-layer-card-container").withDefault((e=>Tp.getValueFor(e).evaluate(e))),Bd("neutral-layer-floating-recipe").withDefault({evaluate:e=>function(e,t,n){const s=e.closestIndexOf(jd(t))-n;return e.get(s-n)}(Ep.getValueFor(e),Ud.getValueFor(e),bp.getValueFor(e))})),Pp=(Ld("neutral-layer-floating").withDefault((e=>Dp.getValueFor(e).evaluate(e))),Bd("neutral-layer-1-recipe").withDefault({evaluate:e=>function(e,t){return e.get(e.closestIndexOf(jd(t)))}(Ep.getValueFor(e),Ud.getValueFor(e))})),Ap=Ld("neutral-layer-1").withDefault((e=>Pp.getValueFor(e).evaluate(e))),Rp=Bd("neutral-layer-2-recipe").withDefault({evaluate:e=>function(e,t,n,s,i,r){return e.get(Nd(e,t,n,s,i,r))}(Ep.getValueFor(e),Ud.getValueFor(e),bp.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e))}),jp=(Ld("neutral-layer-2").withDefault((e=>Rp.getValueFor(e).evaluate(e))),Bd("neutral-layer-3-recipe").withDefault({evaluate:e=>function(e,t,n,s,i,r){return e.get(Nd(e,t,n,s,i,r)+n)}(Ep.getValueFor(e),Ud.getValueFor(e),bp.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e))})),Ip=(Ld("neutral-layer-3").withDefault((e=>jp.getValueFor(e).evaluate(e))),Bd("neutral-layer-4-recipe").withDefault({evaluate:e=>function(e,t,n,s,i,r){return e.get(Nd(e,t,n,s,i,r)+2*n)}(Ep.getValueFor(e),Ud.getValueFor(e),bp.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e))})),Np=(Ld("neutral-layer-4").withDefault((e=>Ip.getValueFor(e).evaluate(e))),Ld("fill-color").withDefault((e=>Ap.getValueFor(e))));var Lp;!function(e){e[e.normal=4.5]="normal",e[e.large=7]="large"}(Lp||(Lp={}));const Bp=Ld({name:"accent-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r,o,a,l){const c=e.source,u=t.closestIndexOf(n)>=Math.max(o,a,l)?-1:1,h=e.closestIndexOf(c),d=h+-1*u*s,p=d+u*i,f=d+u*r;return{rest:e.get(d),hover:e.get(h),active:e.get(p),focus:e.get(f)}}(Mp.getValueFor(e),Ep.getValueFor(e),t||Np.getValueFor(e),Yd.getValueFor(e),Xd.getValueFor(e),Zd.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e))}),$p=Ld("accent-fill-rest").withDefault((e=>Bp.getValueFor(e).evaluate(e).rest)),Fp=Ld("accent-fill-hover").withDefault((e=>Bp.getValueFor(e).evaluate(e).hover)),Up=Ld("accent-fill-active").withDefault((e=>Bp.getValueFor(e).evaluate(e).active)),zp=Ld("accent-fill-focus").withDefault((e=>Bp.getValueFor(e).evaluate(e).focus)),Vp=e=>(t,n)=>function(e,t){return e.contrast(Td)>=t?Td:Dd}(n||$p.getValueFor(t),e),qp=Bd("foreground-on-accent-recipe").withDefault({evaluate:(e,t)=>Vp(Lp.normal)(e,t)}),Hp=Ld("foreground-on-accent-rest").withDefault((e=>qp.getValueFor(e).evaluate(e,$p.getValueFor(e)))),Wp=Ld("foreground-on-accent-hover").withDefault((e=>qp.getValueFor(e).evaluate(e,Fp.getValueFor(e)))),Kp=Ld("foreground-on-accent-active").withDefault((e=>qp.getValueFor(e).evaluate(e,Up.getValueFor(e)))),Gp=(Ld("foreground-on-accent-focus").withDefault((e=>qp.getValueFor(e).evaluate(e,zp.getValueFor(e)))),Bd("foreground-on-accent-large-recipe").withDefault({evaluate:(e,t)=>Vp(Lp.large)(e,t)})),Jp=(Ld("foreground-on-accent-rest-large").withDefault((e=>Gp.getValueFor(e).evaluate(e,$p.getValueFor(e)))),Ld("foreground-on-accent-hover-large").withDefault((e=>Gp.getValueFor(e).evaluate(e,Fp.getValueFor(e)))),Ld("foreground-on-accent-active-large").withDefault((e=>Gp.getValueFor(e).evaluate(e,Up.getValueFor(e)))),Ld("foreground-on-accent-focus-large").withDefault((e=>Gp.getValueFor(e).evaluate(e,zp.getValueFor(e)))),e=>(t,n)=>function(e,t,n,s,i,r,o){const a=e.source,l=e.closestIndexOf(a),c=Ed(t),u=l+(1===c?Math.min(s,i):Math.max(c*s,c*i)),h=e.colorContrast(t,n,u,c),d=e.closestIndexOf(h),p=d+c*Math.abs(s-i);let f,g;return(1===c?s<i:c*s>c*i)?(f=d,g=p):(f=p,g=d),{rest:e.get(f),hover:e.get(g),active:e.get(f+c*r),focus:e.get(f+c*o)}}(Mp.getValueFor(t),n||Np.getValueFor(t),e,Qd.getValueFor(t),ep.getValueFor(t),tp.getValueFor(t),np.getValueFor(t))),Yp=Ld({name:"accent-foreground-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Jp(Lp.normal)(e,t)}),Xp=Ld("accent-foreground-rest").withDefault((e=>Yp.getValueFor(e).evaluate(e).rest)),Zp=Ld("accent-foreground-hover").withDefault((e=>Yp.getValueFor(e).evaluate(e).hover)),Qp=Ld("accent-foreground-active").withDefault((e=>Yp.getValueFor(e).evaluate(e).active)),ef=(Ld("accent-foreground-focus").withDefault((e=>Yp.getValueFor(e).evaluate(e).focus)),Ld({name:"neutral-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r){const o=e.closestIndexOf(t),a=o>=Math.max(n,s,i,r)?-1:1;return{rest:e.get(o+a*n),hover:e.get(o+a*s),active:e.get(o+a*i),focus:e.get(o+a*r)}}(Ep.getValueFor(e),t||Np.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e),op.getValueFor(e))})),tf=Ld("neutral-fill-rest").withDefault((e=>ef.getValueFor(e).evaluate(e).rest)),nf=Ld("neutral-fill-hover").withDefault((e=>ef.getValueFor(e).evaluate(e).hover)),sf=Ld("neutral-fill-active").withDefault((e=>ef.getValueFor(e).evaluate(e).active)),rf=(Ld("neutral-fill-focus").withDefault((e=>ef.getValueFor(e).evaluate(e).focus)),Ld({name:"neutral-fill-input-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r){const o=Ed(t),a=e.closestIndexOf(t);return{rest:e.get(a-o*n),hover:e.get(a-o*s),active:e.get(a-o*i),focus:e.get(a-o*r)}}(Ep.getValueFor(e),t||Np.getValueFor(e),ap.getValueFor(e),lp.getValueFor(e),cp.getValueFor(e),up.getValueFor(e))})),of=(Ld("neutral-fill-input-rest").withDefault((e=>rf.getValueFor(e).evaluate(e).rest)),Ld("neutral-fill-input-hover").withDefault((e=>rf.getValueFor(e).evaluate(e).hover)),Ld("neutral-fill-input-active").withDefault((e=>rf.getValueFor(e).evaluate(e).active)),Ld("neutral-fill-input-focus").withDefault((e=>rf.getValueFor(e).evaluate(e).focus)),Ld({name:"neutral-fill-stealth-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r,o,a,l,c){const u=Math.max(n,s,i,r,o,a,l,c),h=e.closestIndexOf(t),d=h>=u?-1:1;return{rest:e.get(h+d*n),hover:e.get(h+d*s),active:e.get(h+d*i),focus:e.get(h+d*r)}}(Ep.getValueFor(e),t||Np.getValueFor(e),hp.getValueFor(e),dp.getValueFor(e),pp.getValueFor(e),fp.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e),op.getValueFor(e))})),af=(Ld("neutral-fill-stealth-rest").withDefault((e=>of.getValueFor(e).evaluate(e).rest)),Ld("neutral-fill-stealth-hover").withDefault((e=>of.getValueFor(e).evaluate(e).hover))),lf=Ld("neutral-fill-stealth-active").withDefault((e=>of.getValueFor(e).evaluate(e).active)),cf=(Ld("neutral-fill-stealth-focus").withDefault((e=>of.getValueFor(e).evaluate(e).focus)),Ld({name:"neutral-fill-strong-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r){const o=Ed(t),a=e.closestIndexOf(e.colorContrast(t,4.5)),l=a+o*Math.abs(n-s);let c,u;return(1===o?n<s:o*n>o*s)?(c=a,u=l):(c=l,u=a),{rest:e.get(c),hover:e.get(u),active:e.get(c+o*i),focus:e.get(c+o*r)}}(Ep.getValueFor(e),t||Np.getValueFor(e),gp.getValueFor(e),mp.getValueFor(e),_p.getValueFor(e),vp.getValueFor(e))})),uf=(Ld("neutral-fill-strong-rest").withDefault((e=>cf.getValueFor(e).evaluate(e).rest)),Ld("neutral-fill-strong-hover").withDefault((e=>cf.getValueFor(e).evaluate(e).hover)),Ld("neutral-fill-strong-active").withDefault((e=>cf.getValueFor(e).evaluate(e).active))),hf=Ld("neutral-fill-strong-focus").withDefault((e=>cf.getValueFor(e).evaluate(e).focus)),df=Bd("neutral-fill-layer-recipe").withDefault({evaluate:(e,t)=>function(e,t,n){const s=e.closestIndexOf(t);return e.get(s-(s<n?-1*n:n))}(Ep.getValueFor(e),t||Np.getValueFor(e),bp.getValueFor(e))}),pf=(Ld("neutral-fill-layer-rest").withDefault((e=>df.getValueFor(e).evaluate(e))),Bd("focus-stroke-outer-recipe").withDefault({evaluate:e=>function(e,t){return e.colorContrast(t,3.5)}(Ep.getValueFor(e),Np.getValueFor(e))})),ff=Ld("focus-stroke-outer").withDefault((e=>pf.getValueFor(e).evaluate(e))),gf=Bd("focus-stroke-inner-recipe").withDefault({evaluate:e=>function(e,t,n){return e.colorContrast(n,3.5,e.closestIndexOf(e.source),-1*Ed(t))}(Mp.getValueFor(e),Np.getValueFor(e),ff.getValueFor(e))}),mf=(Ld("focus-stroke-inner").withDefault((e=>gf.getValueFor(e).evaluate(e))),Bd("neutral-foreground-hint-recipe").withDefault({evaluate:e=>function(e,t){return e.colorContrast(t,4.5)}(Ep.getValueFor(e),Np.getValueFor(e))})),_f=(Ld("neutral-foreground-hint").withDefault((e=>mf.getValueFor(e).evaluate(e))),Bd("neutral-foreground-recipe").withDefault({evaluate:e=>function(e,t){return e.colorContrast(t,14)}(Ep.getValueFor(e),Np.getValueFor(e))})),vf=Ld("neutral-foreground-rest").withDefault((e=>_f.getValueFor(e).evaluate(e))),bf=Ld({name:"neutral-stroke-recipe",cssCustomPropertyName:null}).withDefault({evaluate:e=>function(e,t,n,s,i,r){const o=e.closestIndexOf(t),a=Ed(t),l=o+a*n,c=l+a*(s-n),u=l+a*(i-n),h=l+a*(r-n);return{rest:e.get(l),hover:e.get(c),active:e.get(u),focus:e.get(h)}}(Ep.getValueFor(e),Np.getValueFor(e),yp.getValueFor(e),wp.getValueFor(e),xp.getValueFor(e),Sp.getValueFor(e))}),yf=(Ld("neutral-stroke-rest").withDefault((e=>bf.getValueFor(e).evaluate(e).rest)),Ld("neutral-stroke-hover").withDefault((e=>bf.getValueFor(e).evaluate(e).hover)),Ld("neutral-stroke-active").withDefault((e=>bf.getValueFor(e).evaluate(e).active)),Ld("neutral-stroke-focus").withDefault((e=>bf.getValueFor(e).evaluate(e).focus)),Bd("neutral-stroke-divider-recipe").withDefault({evaluate:(e,t)=>function(e,t,n){return e.get(e.closestIndexOf(t)+Ed(t)*n)}(Ep.getValueFor(e),t||Np.getValueFor(e),Cp.getValueFor(e))})),wf=(Ld("neutral-stroke-divider-rest").withDefault((e=>yf.getValueFor(e).evaluate(e))),du.create({name:"height-number",cssCustomPropertyName:null}).withDefault((e=>(Fd.getValueFor(e)+Vd.getValueFor(e))*qd.getValueFor(e))),Ld("error-color").withDefault(Rd)),xf=Bd("error-palette").withDefault((e=>Od.from(wf.getValueFor(e)))),Sf=Ld({name:"error-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>function(e,t,n,s,i,r,o,a,l){const c=e.source,u=t.closestIndexOf(n)>=Math.max(o,a,l)?-1:1,h=e.closestIndexOf(c),d=h+-1*u*s,p=d+u*i,f=d+u*r;return{rest:e.get(d),hover:e.get(h),active:e.get(p),focus:e.get(f)}}(xf.getValueFor(e),Ep.getValueFor(e),t||Np.getValueFor(e),Yd.getValueFor(e),Xd.getValueFor(e),Zd.getValueFor(e),sp.getValueFor(e),ip.getValueFor(e),rp.getValueFor(e))}),Cf=Ld("error-fill-rest").withDefault((e=>Sf.getValueFor(e).evaluate(e).rest)),kf=Ld("error-fill-hover").withDefault((e=>Sf.getValueFor(e).evaluate(e).hover)),Ef=Ld("error-fill-active").withDefault((e=>Sf.getValueFor(e).evaluate(e).active)),Of=Ld("error-fill-focus").withDefault((e=>Sf.getValueFor(e).evaluate(e).focus)),Mf=e=>(t,n)=>function(e,t){return e.contrast(Td)>=t?Td:Dd}(n||Cf.getValueFor(t),e),Tf=Ld({name:"foreground-on-error-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Mf(Lp.normal)(e,t)}),Df=(Ld("foreground-on-error-rest").withDefault((e=>Tf.getValueFor(e).evaluate(e,Cf.getValueFor(e)))),Ld("foreground-on-error-hover").withDefault((e=>Tf.getValueFor(e).evaluate(e,kf.getValueFor(e)))),Ld("foreground-on-error-active").withDefault((e=>Tf.getValueFor(e).evaluate(e,Ef.getValueFor(e)))),Ld("foreground-on-error-focus").withDefault((e=>Tf.getValueFor(e).evaluate(e,Of.getValueFor(e)))),Ld({name:"foreground-on-error-large-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Mf(Lp.large)(e,t)})),Pf=(Ld("foreground-on-error-rest-large").withDefault((e=>Df.getValueFor(e).evaluate(e,Cf.getValueFor(e)))),Ld("foreground-on-error-hover-large").withDefault((e=>Df.getValueFor(e).evaluate(e,kf.getValueFor(e)))),Ld("foreground-on-error-active-large").withDefault((e=>Df.getValueFor(e).evaluate(e,Ef.getValueFor(e)))),Ld("foreground-on-error-focus-large").withDefault((e=>Df.getValueFor(e).evaluate(e,Of.getValueFor(e)))),e=>(t,n)=>function(e,t,n,s,i,r,o){const a=e.source,l=e.closestIndexOf(a),c=kd(t)?-1:1,u=l+(1===c?Math.min(s,i):Math.max(c*s,c*i)),h=e.colorContrast(t,n,u,c),d=e.closestIndexOf(h),p=d+c*Math.abs(s-i);let f,g;return(1===c?s<i:c*s>c*i)?(f=d,g=p):(f=p,g=d),{rest:e.get(f),hover:e.get(g),active:e.get(f+c*r),focus:e.get(f+c*o)}}(xf.getValueFor(t),n||Np.getValueFor(t),e,Qd.getValueFor(t),ep.getValueFor(t),tp.getValueFor(t),np.getValueFor(t))),Af=Ld({name:"error-foreground-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Pf(Lp.normal)(e,t)}),Rf=(Ld("error-foreground-rest").withDefault((e=>Af.getValueFor(e).evaluate(e).rest)),Ld("error-foreground-hover").withDefault((e=>Af.getValueFor(e).evaluate(e).hover)),Ld("error-foreground-active").withDefault((e=>Af.getValueFor(e).evaluate(e).active)));Ld("error-foreground-focus").withDefault((e=>Af.getValueFor(e).evaluate(e).focus));function jf(e){return`:host([hidden]){display:none}:host{display:${e}}`}function If(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}let Nf;const Lf=function(){if("boolean"==typeof Nf)return Nf;if(!If())return Nf=!1,Nf;const e=document.createElement("style"),t=function(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}();null!==t&&e.setAttribute("nonce",t),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),Nf=!0}catch(rU){Nf=!1}finally{document.head.removeChild(e)}return Nf}()?"focus-visible":"focus",Bf=(function(e,...t){const{styles:n,behaviors:s}=bh(e,t);return new wh(n,s)})`(${Fd} + ${Vd}) * ${qd}`,$f=yh`
  ${jf("inline-flex")} :host {
    font-family: ${$d};
    outline: none;
    font-size: ${Gd};
    line-height: ${Jd};
    height: calc(${Bf} * 1px);
    min-width: calc(${Bf} * 1px);
    background-color: ${tf};
    color: ${vf};
    border-radius: calc(${zd} * 1px);
    fill: currentcolor;
    cursor: pointer;
    margin: calc((${Kd} + 2) * 1px);
  }

  .control {
    background: transparent;
    height: inherit;
    flex-grow: 1;
    box-sizing: border-box;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 0 calc((10 + (${qd} * 2 * ${Vd})) * 1px);
    white-space: nowrap;
    outline: none;
    text-decoration: none;
    border: calc(${Wd} * 1px) solid transparent;
    color: inherit;
    border-radius: inherit;
    fill: inherit;
    cursor: inherit;
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  :host(:hover) {
    background-color: ${nf};
  }

  :host(:active) {
    background-color: ${sf};
  }

  :host([aria-pressed='true']) {
    box-shadow: inset 0px 0px 2px 2px ${uf};
  }

  :host([minimal]) {
    --density: -4;
  }

  :host([minimal]) .control {
    padding: 1px;
  }

  /* prettier-ignore */
  .control:${Lf} {
      outline: calc(${Kd} * 1px) solid ${hf};
      outline-offset: 2px;
      -moz-outline-radius: 0px;
    }

  .control::-moz-focus-inner {
    border: 0;
  }

  .start,
  .end {
    display: flex;
  }

  .control.icon-only {
    padding: 0;
    line-height: 0;
  }

  ::slotted(svg) {
    ${""} width: 16px;
    height: 16px;
    pointer-events: none;
  }

  .start {
    margin-inline-end: 11px;
  }

  .end {
    margin-inline-start: 11px;
  }
`.withBehaviors(kh(yh`
    :host .control {
      background-color: ${Eh.ButtonFace};
      border-color: ${Eh.ButtonText};
      color: ${Eh.ButtonText};
      fill: currentColor;
    }

    :host(:hover) .control {
      forced-color-adjust: none;
      background-color: ${Eh.Highlight};
      color: ${Eh.HighlightText};
    }

    /* prettier-ignore */
    .control:${Lf} {
          forced-color-adjust: none;
          background-color: ${Eh.Highlight};
          outline-color: ${Eh.ButtonText};
          color: ${Eh.HighlightText};
        }

    .control:hover,
    :host([appearance='outline']) .control:hover {
      border-color: ${Eh.ButtonText};
    }

    :host([href]) .control {
      border-color: ${Eh.LinkText};
      color: ${Eh.LinkText};
    }

    :host([href]) .control:hover,
        :host([href]) .control:${Lf} {
      forced-color-adjust: none;
      background: ${Eh.ButtonFace};
      outline-color: ${Eh.LinkText};
      color: ${Eh.LinkText};
      fill: currentColor;
    }
  `)),Ff=yh`
  :host([appearance='accent']) {
    background: ${$p};
    color: ${Hp};
  }

  :host([appearance='accent']:hover) {
    background: ${Fp};
    color: ${Wp};
  }

  :host([appearance='accent'][aria-pressed='true']) {
    box-shadow: inset 0px 0px 2px 2px ${Qp};
  }

  :host([appearance='accent']:active) .control:active {
    background: ${Up};
    color: ${Kp};
  }

  :host([appearance="accent"]) .control:${Lf} {
    outline-color: ${zp};
  }
`.withBehaviors(kh(yh`
    :host([appearance='accent']) .control {
      forced-color-adjust: none;
      background: ${Eh.Highlight};
      color: ${Eh.HighlightText};
    }

    :host([appearance='accent']) .control:hover,
    :host([appearance='accent']:active) .control:active {
      background: ${Eh.HighlightText};
      border-color: ${Eh.Highlight};
      color: ${Eh.Highlight};
    }

    :host([appearance="accent"]) .control:${Lf} {
      outline-color: ${Eh.Highlight};
    }

    :host([appearance='accent'][href]) .control {
      background: ${Eh.LinkText};
      color: ${Eh.HighlightText};
    }

    :host([appearance='accent'][href]) .control:hover {
      background: ${Eh.ButtonFace};
      border-color: ${Eh.LinkText};
      box-shadow: none;
      color: ${Eh.LinkText};
      fill: currentColor;
    }

    :host([appearance="accent"][href]) .control:${Lf} {
      outline-color: ${Eh.HighlightText};
    }
  `)),Uf=yh`
  :host([appearance='error']) {
    background: ${Cf};
    color: ${Hp};
  }

  :host([appearance='error']:hover) {
    background: ${kf};
    color: ${Wp};
  }

  :host([appearance='error'][aria-pressed='true']) {
    box-shadow: inset 0px 0px 2px 2px ${Rf};
  }

  :host([appearance='error']:active) .control:active {
    background: ${Ef};
    color: ${Kp};
  }

  :host([appearance="error"]) .control:${Lf} {
    outline-color: ${Of};
  }
`.withBehaviors(kh(yh`
    :host([appearance='error']) .control {
      forced-color-adjust: none;
      background: ${Eh.Highlight};
      color: ${Eh.HighlightText};
    }

    :host([appearance='error']) .control:hover,
    :host([appearance='error']:active) .control:active {
      background: ${Eh.HighlightText};
      border-color: ${Eh.Highlight};
      color: ${Eh.Highlight};
    }

    :host([appearance="error"]) .control:${Lf} {
      outline-color: ${Eh.Highlight};
    }

    :host([appearance='error'][href]) .control {
      background: ${Eh.LinkText};
      color: ${Eh.HighlightText};
    }

    :host([appearance='error'][href]) .control:hover {
      background: ${Eh.ButtonFace};
      border-color: ${Eh.LinkText};
      box-shadow: none;
      color: ${Eh.LinkText};
      fill: currentColor;
    }

    :host([appearance="error"][href]) .control:${Lf} {
      outline-color: ${Eh.HighlightText};
    }
  `)),zf=(yh`
  :host([appearance='hypertext']) {
    font-size: inherit;
    line-height: inherit;
    height: auto;
    min-width: 0;
    background: transparent;
  }

  :host([appearance='hypertext']) .control {
    display: inline;
    padding: 0;
    border: none;
    box-shadow: none;
    border-radius: 0;
    line-height: 1;
  }

  :host a.control:not(:link) {
    background-color: transparent;
    cursor: default;
  }
  :host([appearance='hypertext']) .control:link,
  :host([appearance='hypertext']) .control:visited {
    background: transparent;
    color: ${Xp};
    border-bottom: calc(${Wd} * 1px) solid ${Xp};
  }

  :host([appearance='hypertext']:hover),
  :host([appearance='hypertext']) .control:hover {
    background: transparent;
    border-bottom-color: ${Zp};
  }

  :host([appearance='hypertext']:active),
  :host([appearance='hypertext']) .control:active {
    background: transparent;
    border-bottom-color: ${Qp};
  }

  :host([appearance="hypertext"]) .control:${Lf} {
    outline-color: transparent;
    border-bottom: calc(${Kd} * 1px) solid ${ff};
    margin-bottom: calc(calc(${Wd} - ${Kd}) * 1px);
  }
`.withBehaviors(kh(yh`
    :host([appearance='hypertext']:hover) {
      background-color: ${Eh.ButtonFace};
      color: ${Eh.ButtonText};
    }
    :host([appearance="hypertext"][href]) .control:hover,
        :host([appearance="hypertext"][href]) .control:active,
        :host([appearance="hypertext"][href]) .control:${Lf} {
      color: ${Eh.LinkText};
      border-bottom-color: ${Eh.LinkText};
      box-shadow: none;
    }
  `)),yh`
  :host([appearance='lightweight']) {
    background: transparent;
    color: ${Xp};
  }

  :host([appearance='lightweight']) .control {
    padding: 0;
    height: initial;
    border: none;
    box-shadow: none;
    border-radius: 0;
  }

  :host([appearance='lightweight']:hover) {
    background: transparent;
    color: ${Zp};
  }

  :host([appearance='lightweight']:active) {
    background: transparent;
    color: ${Qp};
  }

  :host([appearance='lightweight']) .content {
    position: relative;
  }

  :host([appearance='lightweight']) .content::before {
    content: '';
    display: block;
    height: calc(${Wd} * 1px);
    position: absolute;
    top: calc(1em + 4px);
    width: 100%;
  }

  :host([appearance='lightweight']:hover) .content::before {
    background: ${Zp};
  }

  :host([appearance='lightweight']:active) .content::before {
    background: ${Qp};
  }

  :host([appearance="lightweight"]) .control:${Lf} {
    outline-color: transparent;
  }

  :host([appearance="lightweight"]) .control:${Lf} .content::before {
    background: ${vf};
    height: calc(${Kd} * 1px);
  }
`.withBehaviors(kh(yh`
    :host([appearance="lightweight"]) .control:hover,
        :host([appearance="lightweight"]) .control:${Lf} {
      forced-color-adjust: none;
      background: ${Eh.ButtonFace};
      color: ${Eh.Highlight};
    }
    :host([appearance="lightweight"]) .control:hover .content::before,
        :host([appearance="lightweight"]) .control:${Lf} .content::before {
      background: ${Eh.Highlight};
    }

    :host([appearance="lightweight"][href]) .control:hover,
        :host([appearance="lightweight"][href]) .control:${Lf} {
      background: ${Eh.ButtonFace};
      box-shadow: none;
      color: ${Eh.LinkText};
    }

    :host([appearance="lightweight"][href]) .control:hover .content::before,
        :host([appearance="lightweight"][href]) .control:${Lf} .content::before {
      background: ${Eh.LinkText};
    }
  `))),Vf=yh`
  :host([appearance='outline']) {
    background: transparent;
    border-color: ${$p};
  }

  :host([appearance='outline']:hover) {
    border-color: ${Fp};
  }

  :host([appearance='outline']:active) {
    border-color: ${Up};
  }

  :host([appearance='outline']) .control {
    border-color: inherit;
  }

  :host([appearance="outline"]) .control:${Lf} {
    outline-color: ${zp};
  }
`.withBehaviors(kh(yh`
    :host([appearance='outline']) .control {
      border-color: ${Eh.ButtonText};
    }
    :host([appearance="outline"]) .control:${Lf} {
      forced-color-adjust: none;
      background-color: ${Eh.Highlight};
      outline-color: ${Eh.ButtonText};
      color: ${Eh.HighlightText};
      fill: currentColor;
    }
    :host([appearance='outline'][href]) .control {
      background: ${Eh.ButtonFace};
      border-color: ${Eh.LinkText};
      color: ${Eh.LinkText};
      fill: currentColor;
    }
    :host([appearance="outline"][href]) .control:hover,
        :host([appearance="outline"][href]) .control:${Lf} {
      forced-color-adjust: none;
      outline-color: ${Eh.LinkText};
    }
  `)),qf=yh`
  :host([appearance='stealth']) {
    background: transparent;
  }

  :host([appearance='stealth']:hover) {
    background: ${af};
  }

  :host([appearance='stealth']:active) {
    background: ${lf};
  }

  :host([appearance='stealth']) .control:${Lf} {
    outline-color: ${zp};
  }
`.withBehaviors(kh(yh`
    :host([appearance='stealth']),
    :host([appearance='stealth']) .control {
      forced-color-adjust: none;
      background: ${Eh.ButtonFace};
      border-color: transparent;
      color: ${Eh.ButtonText};
      fill: currentColor;
    }

    :host([appearance='stealth']:hover) .control {
      background: ${Eh.Highlight};
      border-color: ${Eh.Highlight};
      color: ${Eh.HighlightText};
      fill: currentColor;
    }

    :host([appearance="stealth"]:${Lf}) .control {
      outline-color: ${Eh.Highlight};
      color: ${Eh.HighlightText};
      fill: currentColor;
    }

    :host([appearance='stealth'][href]) .control {
      color: ${Eh.LinkText};
    }

    :host([appearance="stealth"][href]:hover) .control,
        :host([appearance="stealth"][href]:${Lf}) .control {
      background: ${Eh.LinkText};
      border-color: ${Eh.LinkText};
      color: ${Eh.HighlightText};
      fill: currentColor;
    }

    :host([appearance="stealth"][href]:${Lf}) .control {
      forced-color-adjust: none;
      box-shadow: 0 0 0 1px ${Eh.LinkText};
    }
  `));class Hf{constructor(e,t,n){this.propertyName=e,this.value=t,this.styles=n}bind(e){Pl.getNotifier(e).subscribe(this,this.propertyName),this.handleChange(e,this.propertyName)}unbind(e){Pl.getNotifier(e).unsubscribe(this,this.propertyName),e.$fastController.removeStyles(this.styles)}handleChange(e,t){e[t]===this.value?e.$fastController.addStyles(this.styles):e.$fastController.removeStyles(this.styles)}}function Wf(e,t){return new Hf("appearance",e,t)}class Kf extends ph{constructor(){super(...arguments),this.appearance="neutral"}defaultSlottedContentChanged(e,t){const n=this.defaultSlottedContent.filter((e=>e.nodeType===Node.ELEMENT_NODE));1===n.length&&(n[0]instanceof SVGElement||n[0].classList.contains("fa")||n[0].classList.contains("fas"))?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}}xu([Kl],Kf.prototype,"appearance",void 0),xu([Kl({attribute:"minimal",mode:"boolean"})],Kf.prototype,"minimal",void 0);const Gf=Kf.compose({baseName:"button",baseClass:ph,template:(e,t)=>Yu`
    <button
        class="control"
        part="control"
        ?autofocus="${e=>e.autofocus}"
        ?disabled="${e=>e.disabled}"
        form="${e=>e.formId}"
        formaction="${e=>e.formaction}"
        formenctype="${e=>e.formenctype}"
        formmethod="${e=>e.formmethod}"
        formnovalidate="${e=>e.formnovalidate}"
        formtarget="${e=>e.formtarget}"
        name="${e=>e.name}"
        type="${e=>e.type}"
        value="${e=>e.value}"
        aria-atomic="${e=>e.ariaAtomic}"
        aria-busy="${e=>e.ariaBusy}"
        aria-controls="${e=>e.ariaControls}"
        aria-current="${e=>e.ariaCurrent}"
        aria-describedby="${e=>e.ariaDescribedby}"
        aria-details="${e=>e.ariaDetails}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-errormessage="${e=>e.ariaErrormessage}"
        aria-expanded="${e=>e.ariaExpanded}"
        aria-flowto="${e=>e.ariaFlowto}"
        aria-haspopup="${e=>e.ariaHaspopup}"
        aria-hidden="${e=>e.ariaHidden}"
        aria-invalid="${e=>e.ariaInvalid}"
        aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-live="${e=>e.ariaLive}"
        aria-owns="${e=>e.ariaOwns}"
        aria-pressed="${e=>e.ariaPressed}"
        aria-relevant="${e=>e.ariaRelevant}"
        aria-roledescription="${e=>e.ariaRoledescription}"
        ${Zu("control")}
    >
        ${th(0,t)}
        <span class="content" part="content">
            <slot ${vh("defaultSlottedContent")}></slot>
        </span>
        ${eh(0,t)}
    </button>
`,styles:(e,t)=>yh`
    :host([disabled]),
    :host([disabled]:hover),
    :host([disabled]:active) {
      opacity: ${Hd};
      background-color: ${tf};
      cursor: ${xh};
    }

    ${$f}
  `.withBehaviors(kh(yh`
      :host([disabled]),
      :host([disabled]) .control,
      :host([disabled]:hover),
      :host([disabled]:active) {
        forced-color-adjust: none;
        background-color: ${Eh.ButtonFace};
        outline-color: ${Eh.GrayText};
        color: ${Eh.GrayText};
        cursor: ${xh};
        opacity: 1;
      }
    `),Wf("accent",yh`
        :host([appearance='accent'][disabled]),
        :host([appearance='accent'][disabled]:hover),
        :host([appearance='accent'][disabled]:active) {
          background: ${$p};
        }

        ${Ff}
      `.withBehaviors(kh(yh`
          :host([appearance='accent'][disabled]) .control,
          :host([appearance='accent'][disabled]) .control:hover {
            background: ${Eh.ButtonFace};
            border-color: ${Eh.GrayText};
            color: ${Eh.GrayText};
          }
        `))),Wf("error",yh`
        :host([appearance='error'][disabled]),
        :host([appearance='error'][disabled]:hover),
        :host([appearance='error'][disabled]:active) {
          background: ${Cf};
        }

        ${Uf}
      `.withBehaviors(kh(yh`
          :host([appearance='error'][disabled]) .control,
          :host([appearance='error'][disabled]) .control:hover {
            background: ${Eh.ButtonFace};
            border-color: ${Eh.GrayText};
            color: ${Eh.GrayText};
          }
        `))),Wf("lightweight",yh`
        :host([appearance='lightweight'][disabled]:hover),
        :host([appearance='lightweight'][disabled]:active) {
          background-color: transparent;
          color: ${Xp};
        }

        :host([appearance='lightweight'][disabled]) .content::before,
        :host([appearance='lightweight'][disabled]:hover) .content::before,
        :host([appearance='lightweight'][disabled]:active) .content::before {
          background: transparent;
        }

        ${zf}
      `.withBehaviors(kh(yh`
          :host([appearance='lightweight'].disabled) .control {
            forced-color-adjust: none;
            color: ${Eh.GrayText};
          }

          :host([appearance='lightweight'].disabled)
            .control:hover
            .content::before {
            background: none;
          }
        `))),Wf("outline",yh`
        :host([appearance='outline'][disabled]),
        :host([appearance='outline'][disabled]:hover),
        :host([appearance='outline'][disabled]:active) {
          background: transparent;
          border-color: ${$p};
        }

        ${Vf}
      `.withBehaviors(kh(yh`
          :host([appearance='outline'][disabled]) .control {
            border-color: ${Eh.GrayText};
          }
        `))),Wf("stealth",yh`
        ${qf}
      `.withBehaviors(kh(yh`
          :host([appearance='stealth'][disabled]) {
            background: ${Eh.ButtonFace};
          }

          :host([appearance='stealth'][disabled]) .control {
            background: ${Eh.ButtonFace};
            border-color: transparent;
            color: ${Eh.GrayText};
          }
        `)))),shadowOptions:{delegatesFocus:!0}}),Jf=new Set(["children","localName","ref","style","className"]),Yf=Object.freeze(Object.create(null)),Xf="_default",Zf=new Map;function Qf(e,t){if(!t.name){const n=Xl.forType(e);if(!n)throw new Error("React wrappers must wrap a FASTElement or be configured with a name.");t.name=n.name}return t.name}function eg(e){return e.events||(e.events={})}function tg(e,t,n){return!Jf.has(n)||(console.warn(`${Qf(e,t)} contains property ${n} which is a React reserved property. It will be used by React and not set on the element.`),!1)}const{wrap:ng}=function(e,t){let n=[];return{wrap:function(s,i={}){var r,o;s instanceof Kc&&(t?t.register(s):n.push(s),s=s.type);const a=Zf.get(s);if(a){const e=a.get(null!==(r=i.name)&&void 0!==r?r:Xf);if(e)return e}class l extends e.Component{constructor(){super(...arguments),this._element=null}_updateElement(e){const t=this._element;if(null===t)return;const n=this.props,s=e||Yf,r=eg(i);for(const i in this._elementProps){const e=n[i],o=r[i];if(void 0===o)t[i]=e;else{const n=s[i];if(e===n)continue;void 0!==n&&t.removeEventListener(o,n),void 0!==e&&t.addEventListener(o,e)}}}componentDidMount(){this._updateElement()}componentDidUpdate(e){this._updateElement(e)}render(){const t=this.props.__forwardedRef;void 0!==this._ref&&this._userRef===t||(this._ref=e=>{null===this._element&&(this._element=e),null!==t&&function(e,t){"function"==typeof e?e(t):e.current=t}(t,e),this._userRef=t});const n={ref:this._ref},r=this._elementProps={},o=function(e,t){if(!t.keys)if(t.properties)t.keys=new Set(t.properties.concat(Object.keys(eg(t))));else{const n=new Set(Object.keys(eg(t))),s=Pl.getAccessors(e.prototype);if(s.length>0)for(const i of s)tg(e,t,i.name)&&n.add(i.name);else for(const i in e.prototype)!(i in HTMLElement.prototype)&&tg(e,t,i)&&n.add(i);t.keys=n}return t.keys}(s,i),a=this.props;for(const e in a){const t=a[e];o.has(e)?r[e]=t:n["className"===e?"class":e]=t}return e.createElement(Qf(s,i),n)}}const c=e.forwardRef(((t,n)=>e.createElement(l,Object.assign(Object.assign({},t),{__forwardedRef:n}),null==t?void 0:t.children)));return Zf.has(s)||Zf.set(s,new Map),Zf.get(s).set(null!==(o=i.name)&&void 0!==o?o:Xf,c),c},registry:{register(e,...t){n.forEach((n=>n.register(e,...t))),n=[]}}}}(h,wu()),sg=ng(Gf());sg.displayName="Jupyter.Button";class ig extends mh{constructor(e,t){super(e,t),this.observer=null,t.childList=!0}observe(){null===this.observer&&(this.observer=new MutationObserver(this.handleEvent.bind(this))),this.observer.observe(this.target,this.options)}disconnect(){this.observer.disconnect()}getNodes(){return"subtree"in this.options?Array.from(this.target.querySelectorAll(this.options.selector)):Array.from(this.target.childNodes)}}const rg="horizontal",og="vertical";var ag=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],lg="undefined"==typeof Element,cg=lg?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ug=!lg&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},hg=function(e){return"INPUT"===e.tagName},dg=function(e){var t=e.getBoundingClientRect(),n=t.width,s=t.height;return 0===n&&0===s},pg=function(e,t){return!(t.disabled||function(e){return hg(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,s=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=cg.call(e,"details>summary:first-of-type")?e.parentElement:e;if(cg.call(i,"details:not([open]) *"))return!0;var r=ug(e).host,o=(null==r?void 0:r.ownerDocument.contains(r))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return dg(e)}else{if("function"==typeof s){for(var a=e;e;){var l=e.parentElement,c=ug(e);if(l&&!l.shadowRoot&&!0===s(l))return dg(e);e=e.assignedSlot?e.assignedSlot:l||c===e.ownerDocument?l:c.host}e=a}if(o)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var s=t.children.item(n);if("LEGEND"===s.tagName)return!!cg.call(t,"fieldset[disabled] *")||!s.contains(e)}return!0}t=t.parentElement}return!1}(t))},fg=ag.concat("iframe").join(","),gg=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==cg.call(e,fg)&&pg(t,e)};const mg=Object.freeze({[rh.ArrowUp]:{[og]:-1},[rh.ArrowDown]:{[og]:1},[rh.ArrowLeft]:{[rg]:{[Oh.ltr]:-1,[Oh.rtl]:1}},[rh.ArrowRight]:{[rg]:{[Oh.ltr]:1,[Oh.rtl]:-1}}});class _g extends Hc{constructor(){super(...arguments),this._activeIndex=0,this.direction=Oh.ltr,this.orientation=rg}get activeIndex(){return Pl.track(this,"activeIndex"),this._activeIndex}set activeIndex(e){this.$fastController.isConnected&&(this._activeIndex=function(e,t,n){return Math.min(Math.max(n,e),t)}(0,this.focusableElements.length-1,e),Pl.notify(this,"activeIndex"))}slottedItemsChanged(){this.$fastController.isConnected&&this.reduceFocusableElements()}mouseDownHandler(e){var t;const n=null===(t=this.focusableElements)||void 0===t?void 0:t.findIndex((t=>t.contains(e.target)));return n>-1&&this.activeIndex!==n&&this.setFocusedElement(n),!0}childItemsChanged(e,t){this.$fastController.isConnected&&this.reduceFocusableElements()}connectedCallback(){super.connectedCallback(),this.direction=(e=>{const t=e.closest("[dir]");return null!==t&&"rtl"===t.dir?Oh.rtl:Oh.ltr})(this)}focusinHandler(e){const t=e.relatedTarget;t&&!this.contains(t)&&this.setFocusedElement()}getDirectionalIncrementer(e){var t,n,s,i,r;return null!==(r=null!==(s=null===(n=null===(t=mg[e])||void 0===t?void 0:t[this.orientation])||void 0===n?void 0:n[this.direction])&&void 0!==s?s:null===(i=mg[e])||void 0===i?void 0:i[this.orientation])&&void 0!==r?r:0}keydownHandler(e){const t=e.key;if(!(t in rh)||e.defaultPrevented||e.shiftKey)return!0;const n=this.getDirectionalIncrementer(t);if(!n)return!e.target.closest("[role=radiogroup]");const s=this.activeIndex+n;return this.focusableElements[s]&&e.preventDefault(),this.setFocusedElement(s),!0}get allSlottedItems(){return[...this.start.assignedElements(),...this.slottedItems,...this.end.assignedElements()]}reduceFocusableElements(){var e;const t=null===(e=this.focusableElements)||void 0===e?void 0:e[this.activeIndex];this.focusableElements=this.allSlottedItems.reduce(bg.reduceFocusableItems,[]);const n=this.focusableElements.indexOf(t);this.activeIndex=Math.max(0,n),this.setFocusableElements()}setFocusedElement(e=this.activeIndex){this.activeIndex=e,this.setFocusableElements(),this.focusableElements[this.activeIndex]&&this.contains(document.activeElement)&&this.focusableElements[this.activeIndex].focus()}static reduceFocusableItems(e,t){var n,s,i,r;const o="radio"===t.getAttribute("role"),a=null===(s=null===(n=t.$fastController)||void 0===n?void 0:n.definition.shadowOptions)||void 0===s?void 0:s.delegatesFocus,l=Array.from(null!==(r=null===(i=t.shadowRoot)||void 0===i?void 0:i.querySelectorAll("*"))&&void 0!==r?r:[]).some((e=>gg(e)));return t.hasAttribute("disabled")||t.hasAttribute("hidden")||!(gg(t)||o||a||l)?t.childElementCount?e.concat(Array.from(t.children).reduce(bg.reduceFocusableItems,[])):e:(e.push(t),e)}setFocusableElements(){this.$fastController.isConnected&&this.focusableElements.length>0&&this.focusableElements.forEach(((e,t)=>{e.tabIndex=this.activeIndex===t?0:-1}))}}xu([Al],_g.prototype,"direction",void 0),xu([Kl],_g.prototype,"orientation",void 0),xu([Al],_g.prototype,"slottedItems",void 0),xu([Al],_g.prototype,"slottedLabel",void 0),xu([Al],_g.prototype,"childItems",void 0);class vg{}xu([Kl({attribute:"aria-labelledby"})],vg.prototype,"ariaLabelledby",void 0),xu([Kl({attribute:"aria-label"})],vg.prototype,"ariaLabel",void 0),nh(vg,Su),nh(_g,Qu,vg);class bg extends _g{connectedCallback(){super.connectedCallback();const e=Jc(this);e&&Np.setValueFor(this,(t=>df.getValueFor(t).evaluate(t,Np.getValueFor(e))))}}const yg=bg.compose({baseName:"toolbar",baseClass:_g,template:(e,t)=>{return Yu`
    <template
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-orientation="${e=>e.orientation}"
        orientation="${e=>e.orientation}"
        role="toolbar"
        @mousedown="${(e,t)=>e.mouseDownHandler(t.event)}"
        @focusin="${(e,t)=>e.focusinHandler(t.event)}"
        @keydown="${(e,t)=>e.keydownHandler(t.event)}"
        ${n={property:"childItems",attributeFilter:["disabled","hidden"],filter:gh(),subtree:!0},"string"==typeof n&&(n={property:n}),new Eu("fast-children",ig,n)}
    >
        <slot name="label"></slot>
        <div class="positioning-region" part="positioning-region">
            ${th(0,t)}
            <slot
                ${vh({filter:gh(),property:"slottedItems"})}
            ></slot>
            ${eh(0,t)}
        </div>
    </template>
`;var n},styles:(e,t)=>yh`
    ${jf("inline-flex")} :host {
      --toolbar-item-gap: calc(
        (var(--design-unit) + calc(var(--density) + 2)) * 1px
      );
      background-color: ${Np};
      border-radius: calc(${zd} * 1px);
      fill: currentcolor;
      padding: var(--toolbar-item-gap);
    }

    :host(${Lf}) {
      outline: calc(${Wd} * 1px) solid ${zp};
    }

    .positioning-region {
      align-items: flex-start;
      display: inline-flex;
      flex-flow: row wrap;
      justify-content: flex-start;
      width: 100%;
      height: 100%;
    }

    :host([orientation='vertical']) .positioning-region {
      flex-direction: column;
    }

    ::slotted(:not([slot])) {
      flex: 0 0 auto;
      margin: 0 var(--toolbar-item-gap);
    }

    :host([orientation='vertical']) ::slotted(:not([slot])) {
      margin: var(--toolbar-item-gap) 0;
    }

    .start,
    .end {
      display: flex;
      margin: auto;
      margin-inline: 0;
    }

    ::slotted(svg) {
      /* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */
      width: 16px;
      height: 16px;
    }
  `.withBehaviors(kh(yh`
      :host(:${Lf}) {
        box-shadow: 0 0 0 calc(${Kd} * 1px)
          ${Eh.Highlight};
        color: ${Eh.ButtonText};
        forced-color-adjust: none;
      }
    `)),shadowOptions:{delegatesFocus:!0}}),wg="data-jp-theme-name",xg="data-jp-theme-light",Sg="--jp-layout-color1";let Cg=!1;const kg=e=>{const t=parseInt(e,10);return isNaN(t)?null:t},Eg={"--jp-border-width":{converter:kg,token:Wd},"--jp-border-radius":{converter:kg,token:zd},[Sg]:{converter:(e,t)=>{const n=_d(e);if(n){const e=Hh(n),t=Wh(Nh.fromObject({h:e.h,s:e.s,l:.5}));return wd.create(t.r,t.g,t.b)}return null},token:kp},"--jp-brand-color1":{converter:(e,t)=>{const n=_d(e);if(n){const e=Hh(n),s=t?1:-1,i=Wh(Nh.fromObject({h:e.h,s:e.s,l:e.l+s*Yd.getValueFor(document.body)/94}));return wd.create(i.r,i.g,i.b)}return null},token:Op},"--jp-error-color1":{converter:(e,t)=>{const n=_d(e);if(n){const e=Hh(n),s=t?1:-1,i=Wh(Nh.fromObject({h:e.h,s:e.s,l:e.l+s*Yd.getValueFor(document.body)/94}));return wd.create(i.r,i.g,i.b)}return null},token:wf},"--jp-ui-font-family":{token:$d},"--jp-ui-font-size1":{token:Gd}};function Og(){var e;const t=getComputedStyle(document.body),n=document.body.getAttribute(xg);let s=!1;if(n)s="false"===n;else{const e=t.getPropertyValue(Sg).toString();if(e){const t=_d(e);t&&(s=kd(wd.create(t.r,t.g,t.b)),console.debug(`Theme is ${s?"dark":"light"} based on '${Sg}' value: ${e}.`))}}Ud.setValueFor(document.body,s?Id.DarkMode:Id.LightMode);for(const i in Eg){const n=Eg[i],r=t.getPropertyValue(i).toString();if(document.body&&""!==r){const t=(null!==(e=n.converter)&&void 0!==e?e:e=>e)(r.trim(),s);null!==t?n.token.setValueFor(document.body,t):console.error(`Fail to parse value '${r}' for '${i}' as FAST design token.`)}}}wu().register([Gf(),yg()]),Cg||(Cg=!0,function(){const e=()=>{new MutationObserver((()=>{Og()})).observe(document.body,{attributes:!0,attributeFilter:[wg],childList:!1,characterData:!1}),Og()};"complete"===document.readyState?e():window.addEventListener("load",e)}());const Mg="jp-Toolbar-spacer";class Tg extends E.PanelLayout{constructor(){super(...arguments),this._dirty=!1}onFitRequest(e){super.onFitRequest(e),this.parent.isAttached&&((0,pa.some)(this.widgets,(e=>!e.isHidden))?(this.parent.node.style.minHeight="var(--jp-private-toolbar-height)",this.parent.removeClass("jp-Toolbar-micro")):(this.parent.node.style.minHeight="",this.parent.addClass("jp-Toolbar-micro"))),this._dirty=!0,this.parent.parent&&v.MessageLoop.sendMessage(this.parent.parent,E.Widget.Msg.FitRequest),this._dirty&&v.MessageLoop.sendMessage(this.parent,E.Widget.Msg.UpdateRequest)}onUpdateRequest(e){super.onUpdateRequest(e),this.parent.isVisible&&(this._dirty=!1)}onChildShown(e){super.onChildShown(e),this.parent.fit()}onChildHidden(e){super.onChildHidden(e),this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t),this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t),this.parent.fit()}}class Dg extends E.Widget{constructor(e={}){var t;super({node:document.createElement("jp-toolbar")}),this.addClass("jp-Toolbar"),this.layout=null!==(t=e.layout)&&void 0!==t?t:new Tg}names(){const e=this.layout;return(0,pa.map)(e.widgets,(e=>Rg.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){if((0,pa.find)(this.names(),(e=>e===t)))return!1;n.addClass("jp-Toolbar-item");const s=this.layout,i=Math.max(0,Math.min(e,s.widgets.length));return s.insertWidget(i,n),Rg.nameProperty.set(n,t),!0}insertAfter(e,t,n){return this.insertRelative(e,1,t,n)}insertBefore(e,t,n){return this.insertRelative(e,0,t,n)}insertRelative(e,t,n,s){const i=(0,pa.map)(this.names(),((e,t)=>({name:e,index:t}))),r=(0,pa.find)(i,(t=>t.name===e));return!!r&&this.insertItem(r.index+t,n,s)}handleEvent(e){if("click"===e.type)this.handleClick(e)}handleClick(e){if(e.stopPropagation(),e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`))return}this.node.contains(document.activeElement)||this.parent&&this.parent.activate()}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}function Pg(e){var t,n;const s=null!==(t=e.actualOnClick)&&void 0!==t&&t,i=s?void 0:t=>{var n;0===t.button&&(t.preventDefault(),null===(n=e.onClick)||void 0===n||n.call(e))},r=s?t=>{var n;0===t.button&&(null===(n=e.onClick)||void 0===n||n.call(e))}:void 0;return h.createElement(sg,{appearance:"stealth",className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent","aria-pressed":e.pressed,"aria-disabled":!1===e.enabled,...e.dataset,disabled:!1===e.enabled,onClick:r,onMouseDown:i,onKeyDown:t=>{var n;const{key:s}=t;"Enter"!==s&&" "!==s||null===(n=e.onClick)||void 0===n||n.call(e)},title:!1===e.enabled&&e.disabledTooltip?e.disabledTooltip:e.pressed&&e.pressedTooltip?e.pressedTooltip:e.tooltip||e.iconLabel,minimal:!0},(e.icon||e.iconClass)&&h.createElement(Le.resolveReact,{icon:e.pressed&&null!==(n=e.pressedIcon)&&void 0!==n?n:e.icon,iconClass:Ne(e.iconClass,"jp-Icon"),tag:null}),e.label&&h.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}!function(e){e.createSpacerItem=function(){return new Rg.Spacer}}(Dg||(Dg={}));class Ag extends ga{constructor(e={}){var t,n;super(),this.props=e,this.addClass("jp-ToolbarButton"),this._enabled=null===(t=e.enabled)||void 0===t||t,this._pressed=this._enabled&&null!==(n=e.pressed)&&void 0!==n&&n,this._onClick=e.onClick}set pressed(e){this.enabled&&e!==this._pressed&&(this._pressed=e,this.update())}get pressed(){return this._pressed}set enabled(e){e!=this._enabled&&(this._enabled=e,this._enabled||(this._pressed=!1),this.update())}get enabled(){return this._enabled}set onClick(e){e!==this._onClick&&(this._onClick=e,this.update())}get onClick(){return this._onClick}render(){return h.createElement(Pg,{...this.props,pressed:this.pressed,enabled:this.enabled,onClick:this.onClick})}}E.Widget;var Rg;function jg(e){const{spacing:t,children:n,className:s,...i}=e,r=h.Children.count(n);return h.createElement("div",{className:`jp-StatusBar-GroupItem ${s||""}`,...i},h.Children.map(n,((e,n)=>0===n?h.createElement("div",{style:{marginRight:`${t}px`}},e):n===r-1?h.createElement("div",{style:{marginLeft:`${t}px`}},e):h.createElement("div",{style:{margin:`0px ${t}px`}},e))))}!function(e){e.propsFromCommand=function(e){var t,n;const{commands:s,id:i,args:r}=e,o=s.iconClass(i,r),a=s.iconLabel(i,r),l=null!==(t=e.icon)&&void 0!==t?t:s.icon(i,r),c=s.label(i,r);let u,h=s.className(i,r);s.isToggleable(i,r)&&(u=s.isToggled(i,r),u&&(h+=" lm-mod-toggled")),s.isVisible(i,r)||(h+=" lm-mod-hidden");const d="function"==typeof e.label?e.label(null!=r?r:{}):e.label;let p=s.caption(i,r)||d||c||a;const f=s.keyBindings.find((e=>e.command===i));if(f){p=`${p} (${f.keys.map(cl.CommandRegistry.formatKeystroke).join(", ")})`}const g=s.isEnabled(i,r);return{className:h,dataset:{"data-command":e.id},icon:l,iconClass:o,tooltip:null!==(n=e.caption)&&void 0!==n?n:p,onClick:()=>{s.execute(i,r)},enabled:g,label:null!=d?d:c,pressed:u}},e.nameProperty=new q.AttachedProperty({name:"name",create:()=>""});class t extends E.Widget{constructor(){super(),this.addClass(Mg)}}e.Spacer=t}(Rg||(Rg={}));const Ig="jp-HoverBox",Ng="-1000";var Lg;!function(e){e.setGeometry=function(e){const{anchor:t,host:n,node:s,privilege:i,outOfViewDisplay:r}=e,o=n.getBoundingClientRect();s.classList.contains(Ig)||s.classList.add(Ig),s.style.visibility&&(s.style.visibility=""),""===s.style.zIndex&&(s.style.zIndex=""),s.style.maxHeight="",s.style.marginTop="";const a=e.style||window.getComputedStyle(s),l=t.top-o.top,c=o.bottom-t.bottom,u=parseInt(a.marginTop,10)||0,h=parseInt(a.marginLeft,10)||0,d=parseInt(a.minHeight,10)||e.minHeight;let p=parseInt(a.maxHeight,10)||e.maxHeight;const f="forceAbove"!==i&&("forceBelow"===i||("above"===i?l<p&&l<c:c>=p||c>=l));if(f?p=Math.min(c-u,p):(p=Math.min(l,p),s.style.marginTop="0px"),s.style.maxHeight=`${p}px`,!(p>=d&&(c>=d||l>=d)))return s.style.zIndex=Ng,void(s.style.visibility="hidden");e.size?(s.style.width=`${e.size.width}px`,s.style.height=`${e.size.height}px`,s.style.contain="strict"):(s.style.contain="",s.style.width="auto",s.style.height="");const g=e.size?e.size.height:s.getBoundingClientRect().height,m=e.offset&&e.offset.vertical&&e.offset.vertical.above||0,_=e.offset&&e.offset.vertical&&e.offset.vertical.below||0;let v=f?o.bottom-c+_:o.top+l-g+m;s.style.top=`${Math.floor(v)}px`;const b=e.offset&&e.offset.horizontal||0;let y=t.left+b;s.style.left=`${Math.ceil(y)}px`;let w=s.getBoundingClientRect(),x=w.right;x>window.innerWidth&&(y-=x-window.innerWidth,x=window.innerWidth,s.style.left=`${Math.ceil(y)}px`),y<b-h&&(y=b-h,s.style.left=`${Math.ceil(y)}px`),s.style.zIndex="-1000";const S=w.bottom,C=n.contains(document.elementFromPoint(y,v)),k=n.contains(document.elementFromPoint(x,v)),E=n.contains(document.elementFromPoint(x,S)),O=n.contains(document.elementFromPoint(y,S));s.style.zIndex="";const M=C||k,T=O||E,D=C||O,P=E||k,A=S-v,R=x-y,j=v<o.top,I=S>o.bottom,N=y+h<o.left,L=x>o.right;let B=!1,$=!1,F=!1;if(j)switch((null==r?void 0:r.top)||"hidden-inside"){case"hidden-inside":M||(B=!0);break;case"hidden-outside":T||(B=!0);break;case"stick-inside":o.top>v&&(v=o.top,F=!0);break;case"stick-outside":o.top>S&&(v=o.top-A,F=!0)}if(I)switch((null==r?void 0:r.bottom)||"hidden-outside"){case"hidden-inside":T||(B=!0);break;case"hidden-outside":M||(B=!0);break;case"stick-inside":o.bottom<S&&(v=o.bottom-A,F=!0);break;case"stick-outside":o.bottom<v&&(v=o.bottom,F=!0)}if(N)switch((null==r?void 0:r.left)||"hidden-inside"){case"hidden-inside":D||(B=!0);break;case"hidden-outside":P||(B=!0);break;case"stick-inside":o.left>y+h&&(y=o.left-h,$=!0);break;case"stick-outside":o.left>x&&(y=o.left-h-R,$=!0)}if(L)switch((null==r?void 0:r.right)||"hidden-outside"){case"hidden-inside":P||(B=!0);break;case"hidden-outside":D||(B=!0);break;case"stick-inside":o.right<x&&(y=o.right-R,$=!0);break;case"stick-outside":o.right<y&&(y=o.right,$=!0)}B&&(s.style.zIndex=Ng,s.style.visibility="hidden"),$&&(s.style.left=`${Math.ceil(y)}px`),F&&(s.style.top=`${Math.ceil(v)}px`)}}(Lg||(Lg={}));E.Widget;function Bg(e){const{title:t,source:n,className:s,...i}=e;return h.createElement("span",{className:`jp-StatusBar-TextItem ${s}`,title:t,...i},n)}var $g,Fg=n(70725);E.Widget;!function(e){e.statusItemDefaults={align:"left",rank:0,priority:0,isActive:()=>!0,activeStateChanged:void 0}}($g||($g={}));new _.Token("@jupyterlab/statusbar:IStatusBar","A service for the status bar on the application. Use this if you want to add new status bar items.");function Ug(e){const t=(e=e||S).load("jupyterlab");return{unknown:t.__("Unknown"),starting:t.__("Starting"),idle:t.__("Idle"),busy:t.__("Busy"),terminating:t.__("Terminating"),restarting:t.__("Restarting"),autorestarting:t.__("Autorestarting"),dead:t.__("Dead"),connected:t.__("Connected"),connecting:t.__("Connecting"),disconnected:t.__("Disconnected"),initializing:t.__("Initializing"),"":""}}function zg(e){const t=(e.translator||S).load("jupyterlab");let n="";return e.status&&(n=` | ${e.status}`),h.createElement(Bg,{onClick:e.handleClick,source:`${e.kernelName}${n}`,title:t.__("Change kernel for %1",e.activityName)})}class Vg extends ma{constructor(e,t){super(new Vg.Model(t)),this.translator=t||S,this._handleClick=e.onClick,this.addClass("jp-mod-highlighted")}render(){return null===this.model?null:h.createElement(zg,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick,translator:this.translator})}}!function(e){e.Model=class extends va{constructor(e){super(),this._activityName="",this._kernelName="",this._kernelStatus="",this._sessionContext=null,e=null!=e?e:S,this._trans=e.load("jupyterlab"),this._statusNames=Ug(e)}get kernelName(){return this._kernelName}get status(){return this._kernelStatus?this._statusNames[this._kernelStatus]:void 0}get activityName(){return this._activityName}set activityName(e){this._activityName!==e&&(this._activityName=e,this.stateChanged.emit())}get sessionContext(){return this._sessionContext}set sessionContext(e){var t,n,s,i;null===(t=this._sessionContext)||void 0===t||t.statusChanged.disconnect(this._onKernelStatusChanged,this),null===(n=this._sessionContext)||void 0===n||n.connectionStatusChanged.disconnect(this._onKernelStatusChanged,this),null===(s=this._sessionContext)||void 0===s||s.kernelChanged.disconnect(this._onKernelChanged,this);const r=this._getAllState();this._sessionContext=e,this._kernelStatus=null==e?void 0:e.kernelDisplayStatus,this._kernelName=null!==(i=null==e?void 0:e.kernelDisplayName)&&void 0!==i?i:this._trans.__("No Kernel"),null==e||e.statusChanged.connect(this._onKernelStatusChanged,this),null==e||e.connectionStatusChanged.connect(this._onKernelStatusChanged,this),null==e||e.kernelChanged.connect(this._onKernelChanged,this),this._triggerChange(r,this._getAllState())}_onKernelStatusChanged(){var e;this._kernelStatus=null===(e=this._sessionContext)||void 0===e?void 0:e.kernelDisplayStatus,this.stateChanged.emit(void 0)}_onKernelChanged(e,t){var n;const s=this._getAllState();this._kernelStatus=null===(n=this._sessionContext)||void 0===n?void 0:n.kernelDisplayStatus,this._kernelName=e.kernelDisplayName,this._triggerChange(s,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(e,t){_.JSONExt.deepEqual(e,t)&&this.stateChanged.emit(void 0)}}}(Vg||(Vg={}));var qg,Hg;!function(e){e.createInterruptButton=function(e,t){const n=(t=t||S).load("jupyterlab");return new Ag({icon:ha,onClick:()=>{var t,n;null===(n=null===(t=e.session)||void 0===t?void 0:t.kernel)||void 0===n||n.interrupt()},tooltip:n.__("Interrupt the kernel")})},e.createRestartButton=function(e,t,n){const s=(n=null!=n?n:S).load("jupyterlab");return new Ag({icon:ca,onClick:()=>{(null!=t?t:new ml({translator:n})).restart(e)},tooltip:s.__("Restart the kernel")})},e.createKernelNameItem=function(e,t,n){const s=ga.create(h.createElement(Hg.KernelNameComponent,{sessionContext:e,dialogs:null!=t?t:new ml({translator:n}),translator:n}));return s.addClass("jp-KernelName"),s},e.createKernelStatusItem=function(e,t){return new Hg.KernelStatus(e,t)}}(qg||(qg={})),function(e){e.KernelNameComponent=function(e){const t=(e.translator||S).load("jupyterlab"),n=()=>{e.dialogs.selectKernel(e.sessionContext)};return h.createElement(_a,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>h.createElement(Pg,{className:"jp-Toolbar-kernelName",onClick:n,tooltip:t.__("Switch kernel"),label:null==e?void 0:e.kernelDisplayName})))};class t extends E.Widget{constructor(e,t){super(),this.translator=t||S,this._trans=this.translator.load("jupyterlab"),this.addClass("jp-Toolbar-kernelStatus"),this._statusNames=Ug(this.translator),this._onStatusChanged(e),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed)return;const t=e.kernelDisplayStatus,n={container:this.node,title:this._trans.__("Kernel %1",this._statusNames[t]||t),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};Le.remove(this.node),"busy"===t||"starting"===t||"terminating"===t||"restarting"===t||"initializing"===t?ia.element(n):"connecting"===t||"disconnected"===t||"unknown"===t?la.element(n):sa.element(n)}}e.KernelStatus=t}(Hg||(Hg={}));E.Widget;E.Widget;var Wg,Kg,Gg;!function(e){e.createNode=function(){const e=document.createElement("div"),t=document.createElement("iframe");return t.setAttribute("sandbox",""),t.style.height="100%",t.style.width="100%",e.appendChild(t),e}}(Wg||(Wg={}));E.Widget;!function(e){function t(e,t="copy"){let n=window.getSelection();const s=[];for(let r=0,o=(null==n?void 0:n.rangeCount)||0;r<o;++r)s[r]=n.getRangeAt(r).cloneRange();const i=document.createRange();if(i.selectNodeContents(e),n&&(n.removeAllRanges(),n.addRange(i)),document.execCommand(t),n=window.getSelection(),n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e)n.addRange(s[e])}}e.getInstance=function(){return Gg.instance},e.setInstance=function(e){Gg.instance=e},e.copyToSystem=function(e){const n=document.body,s=t=>{const i=t.clipboardData||window.clipboardData;"string"==typeof e?i.setData("text",e):e.types().map((t=>{i.setData(t,e.getData(t))})),t.preventDefault(),n.removeEventListener("copy",s)};n.addEventListener("copy",s),t(n)},e.generateEvent=t}(Kg||(Kg={})),function(e){e.instance=new _.MimeData}(Gg||(Gg={}));E.Panel;var Jg;!function(e){e.hitTestNodes=function(e,t,n){return pa.ArrayExt.findFirstIndex(e,(e=>ba.ElementExt.hitTest(e,t,n)))},e.findElement=function(e,t){return e.querySelector(`.${t}`)},e.findElements=function(e,t){return e.getElementsByClassName(t)},e.createDomID=function(){return`id-${_.UUID.uuid4()}`}}(Jg||(Jg={}));var Yg;!function(e){e.getBoolean=function(e){return pl({...e,body:new Zg(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})],focusNodeSelector:"input"})},e.getNumber=function(e){return pl({...e,body:new Qg(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})],focusNodeSelector:"input"})},e.getItem=function(e){return pl({...e,body:new nm(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"})},e.getMultipleItems=function(e){return pl({...e,body:new sm(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})]})},e.getText=function(e){return pl({...e,body:new em(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})],focusNodeSelector:"input"})},e.getPassword=function(e){return pl({...e,body:new tm(e),buttons:[fl.cancelButton({label:e.cancelLabel}),fl.okButton({label:e.okLabel})],focusNodeSelector:"input"})}}(Yg||(Yg={}));class Xg extends E.Widget{constructor(e){if(super(),this.addClass("jp-Input-Dialog"),this._input=document.createElement("input"),this._input.classList.add("jp-mod-styled"),this._input.id="jp-dialog-input-id",void 0!==e){const t=document.createElement("label");t.textContent=e,t.htmlFor=this._input.id,this.node.appendChild(t)}this.node.appendChild(this._input)}}class Zg extends Xg{constructor(e){super(e.label),this.addClass("jp-Input-Boolean-Dialog"),this._input.type="checkbox",this._input.checked=!!e.value}getValue(){return this._input.checked}}class Qg extends Xg{constructor(e){super(e.label),this._input.type="number",this._input.value=e.value?e.value.toString():"0"}getValue(){return this._input.value?Number(this._input.value):Number.NaN}}class em extends Xg{constructor(e){var t;super(e.label),this._input.type="text",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder),this._initialSelectionRange=Math.min(this._input.value.length,Math.max(0,null!==(t=e.selectionRange)&&void 0!==t?t:this._input.value.length))}onAfterAttach(e){super.onAfterAttach(e),this._initialSelectionRange>0&&this._input.value&&this._input.setSelectionRange(0,this._initialSelectionRange)}getValue(){return this._input.value}}class tm extends Xg{constructor(e){super(e.label),this._input.type="password",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder)}onAfterAttach(e){super.onAfterAttach(e),this._input.value&&this._input.select()}getValue(){return this._input.value}}class nm extends Xg{constructor(e){super(e.label),this._editable=e.editable||!1;let t,n=e.current||0;if("number"==typeof n&&(t=Math.max(0,Math.min(n,e.items.length-1)),n=""),this._list=document.createElement("select"),e.items.forEach(((e,s)=>{const i=document.createElement("option");s===t&&(i.selected=!0,n=e),i.value=e,i.textContent=e,this._list.appendChild(i)})),e.editable){const t=document.createElement("datalist");t.id="input-dialog-items",t.appendChild(this._list),this._input.type="list",this._input.value=n,this._input.setAttribute("list",t.id),e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(t)}else this._input.remove(),this.node.appendChild(this._list)}getValue(){return this._editable?this._input.value:this._list.value}}class sm extends Xg{constructor(e){super(e.label);let t=e.defaults||[];this._list=document.createElement("select"),this._list.setAttribute("multiple",""),e.items.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,this._list.appendChild(t)})),this._input.remove(),this.node.appendChild(this._list);const n=this._list.options;for(let s=0;s<n.length;s++){const e=n[s];t.includes(e.value)?e.selected=!0:e.selected=!1}}getValue(){let e=[];for(let t of this._list.options)t.selected&&!t.classList.contains("hidden")&&e.push(t.value||t.text);return e}}var im,rm=n(35862);!function(e){function t(t){return!("object"!=typeof t||!t)&&e.symbol in t}async function n(e){const t="string"==typeof e,n=function(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");const t="visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;";return e.setAttribute("style",t),e.setAttribute("width","0"),e.setAttribute("height","0"),e}(),i=window.document.body;i.appendChild(n),t?(n.srcdoc=e,await s(n)):(n.src="about:blank",await s(n),function(e,t){e.contentDocument.body.appendChild(t.cloneNode(!0)),e.contentDocument.close()}(n,e));const r=new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),e()};document.addEventListener("mousemove",t,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0)}));var o;(o=n.contentWindow).document.execCommand("print",!1)||o.print(),await r,i.removeChild(n)}function s(e){return new Promise((t=>{e.onload=()=>t()}))}e.symbol=Symbol("printable"),e.isPrintable=t,e.getPrintFunction=function(n){return t(n)?n[e.symbol]():null},e.printWidget=function(e){return n(e.node)},e.printURL=async function(e){const t=rm.ServerConnection.makeSettings();return n(await(await rm.ServerConnection.makeRequest(e,{},t)).text())}}(im||(im={}));E.Widget,im.symbol;var om,am;!function(e){function t(e,t){var s,i;const r=t(e);return r.id=e.id,r.title.label||(r.title.label=null!==(s=e.label)&&void 0!==s?s:ul.Text.titleCase(r.id.trim())),e.icon&&(r.title.icon=Le.resolve({icon:e.icon})),void 0!==e.mnemonic&&(r.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>{n(e,r,t)})),r}function n(e,n,s){const{submenu:i,...r}=e;n.addItem({...r,submenu:i?t(i,s):null})}function s(e,t,i){var r;e.disabled?t.dispose():null===(r=e.items)||void 0===r||r.forEach((e=>{var r,o;const a=null==t?void 0:t.items.find(((t,n)=>{var s,i,r;return t.type===e.type&&t.command===(null!==(s=e.command)&&void 0!==s?s:"")&&(null===(i=t.submenu)||void 0===i?void 0:i.id)===(null===(r=e.submenu)||void 0===r?void 0:r.id)}));if(a&&"separator"!==e.type)if(e.disabled)t.removeItem(a);else switch(null!==(r=e.type)&&void 0!==r?r:"command"){case"command":e.command&&(_.JSONExt.deepEqual(a.args,null!==(o=e.args)&&void 0!==o?o:{})||n(e,t,i));break;case"submenu":e.submenu&&s(e.submenu,a.submenu,i)}else n(e,t,i)}))}e.createMenus=function(e,n){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>t(e,n)))},e.addContextItem=function(e,n,s){const{submenu:i,...r}=e;n.addItem({...r,submenu:i?t(i,s):null})},e.updateMenus=function(e,n,i){const r=[];return n.forEach((n=>{const o=e.find((e=>e.id===n.id));o?s(n,o,i):n.disabled||r.push(t(n,i))})),e.push(...r),r}}(om||(om={}));class lm{constructor(){this._isDisposed=!1,this._queue=[],this._changed=new f.Signal(this)}get changed(){return this._changed}get count(){return this._queue.length}get isDisposed(){return this._isDisposed}get notifications(){return this._queue.slice()}dismiss(e){if(void 0===e){const e=this._queue.slice();this._queue.length=0;for(const t of e)this._changed.emit({type:"removed",notification:t})}else{const t=this._queue.findIndex((t=>t.id===e));if(t>-1){const e=this._queue.splice(t,1)[0];this._changed.emit({type:"removed",notification:e})}}}dispose(){this._isDisposed||(this._isDisposed=!0,f.Signal.clearData(this))}has(e){return this._queue.findIndex((t=>t.id===e))>-1}notify(e,t,n){const s=Date.now(),{progress:i,...r}=n,o=Object.freeze({id:_.UUID.uuid4(),createdAt:s,modifiedAt:s,message:e,type:t,options:{autoClose:0,progress:"number"==typeof i?Math.min(Math.max(0,i),1):i,...r}});return this._queue.unshift(o),this._changed.emit({type:"added",notification:o}),o.id}update(e){const{id:t,message:n,actions:s,autoClose:i,data:r,progress:o,type:a}=e,l="number"==typeof o?Math.min(Math.max(0,o),1):o,c=this._queue.findIndex((e=>e.id===t));if(c>-1){const e=this._queue[c],t=Object.freeze({...e,message:null!=n?n:e.message,type:null!=a?a:e.type,options:{actions:null!=s?s:e.options.actions,autoClose:null!=i?i:e.options.autoClose,data:null!=r?r:e.options.data,progress:null!=l?l:e.options.progress},modifiedAt:Date.now()});return this._queue.splice(c,1),this._queue.unshift(t),this._changed.emit({type:"updated",notification:t}),!0}return!1}}!function(e){e.manager=new lm,e.dismiss=function(t){e.manager.dismiss(t)},e.emit=function(t,n="default",s={}){return e.manager.notify(t,n,s)},e.error=function(t,n={}){return e.manager.notify(t,"error",n)},e.info=function(t,n={}){return e.manager.notify(t,"info",n)},e.promise=function(t,n){var s;const{pending:i,error:r,success:o}=n,a=e.manager.notify(i.message,"in-progress",null!==(s=i.options)&&void 0!==s?s:{});return t.then((t=>{var n,s,i;e.manager.update({id:a,message:o.message(t,null===(n=o.options)||void 0===n?void 0:n.data),type:"success",...o.options,data:null!==(i=null===(s=o.options)||void 0===s?void 0:s.data)&&void 0!==i?i:t})})).catch((t=>{var n,s,i;e.manager.update({id:a,message:r.message(t,null===(n=r.options)||void 0===n?void 0:n.data),type:"error",...r.options,data:null!==(i=null===(s=r.options)||void 0===s?void 0:s.data)&&void 0!==i?i:t})})),a},e.success=function(t,n={}){return e.manager.notify(t,"success",n)},e.update=function(t){return e.manager.update(t)},e.warning=function(t,n={}){return e.manager.notify(t,"warning",n)}}(am||(am={}));function cm(e){return h.createElement(jg,{spacing:4,onClick:e.handleClick},h.createElement(jg,{spacing:4},h.createElement(Bg,{source:e.terminals}),h.createElement(da.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),h.createElement(jg,{spacing:4},h.createElement(Bg,{source:e.sessions}),h.createElement(aa.react,{top:"2px",stylesheet:"statusBar"})))}class um extends ma{constructor(e){super(new um.Model),this._serviceManager=e.serviceManager,this._handleClick=e.onClick,this.translator=e.translator||S,this._trans=this.translator.load("jupyterlab"),this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this),this.addClass("jp-mod-highlighted")}render(){return this.model?(this.title.caption=this._trans.__("%1 Terminals, %2 Kernel sessions",this.model.terminals,this.model.sessions),h.createElement(cm,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})):null}dispose(){super.dispose(),this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(e,t){this.model.sessions=t.length}_onTerminalsRunningChanged(e,t){this.model.terminals=t.length}}!function(e){e.Model=class extends va{constructor(){super(...arguments),this._terminals=0,this._sessions=0}get sessions(){return this._sessions}set sessions(e){const t=this._sessions;this._sessions=e,t!==this._sessions&&this.stateChanged.emit(void 0)}get terminals(){return this._terminals}set terminals(e){const t=this._terminals;this._terminals=e,t!==this._terminals&&this.stateChanged.emit(void 0)}}}(um||(um={}));class hm{static reg(e){return new RegExp("^"+e+"$","i")}}hm.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},hm.B={angle:`(${hm.N.number}(deg|rad|grad|turn)|0)`,frequency:`${hm.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${hm.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${hm.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${hm.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${hm.N.number}%`,percentage_pos:`${hm.N.number_pos}%`,percentage_zero_hundred:`${hm.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${hm.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},hm.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},hm._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${hm.N.integer_zero_ff}|${hm.N.number_zero_one}|${hm.B.percentage_zero_hundred})\s*\)`},hm._C={alpha:`${hm.N.integer_zero_ff}|${hm.N.number_zero_one}|${hm.B.percentage_zero_hundred}`,alphavalue:hm.N.number_zero_one,bg_position:`((${hm.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${hm.B.length_pos}|${hm.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${hm.B.length}`,bottom:`${hm.B.length}|auto`,color:`${hm._COLOR.hex}|${hm._COLOR.rgb}|${hm._COLOR.rgba}|${hm._COLOR.name}`,color_stop_length:`(${hm.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${hm.B.len_or_perc}`,family_name:`${hm.B.string}|(${hm.B.ident}\\s*)+`,image_decl:hm.B.url,left:`${hm.B.length}|auto`,loose_quotable_words:`(${hm.B.ident})+`,margin_width:`${hm.B.len_or_perc}|auto`,padding_width:`${hm.B.length_pos}|${hm.B.percentage_pos}`,page_url:hm.B.url,position:`((${hm.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${hm.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${hm.B.length}|(${hm.B.len_or_perc})\\s+(${hm.B.len_or_perc})`,top:`${hm.B.length}|auto`},hm._C1={image_list:`image\\(\\s*(${hm.B.url})*\\s*(${hm.B.url}|${hm._C.color})\\s*\\)`,linear_color_stop:`(${hm._C.color})(\\s*${hm._C.color_stop_length})?`,shadow:`((${hm._C.color})\\s+((${hm.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${hm.B.length})\\s*){2,4}\\s*(${hm._C.color})?)`},hm._C2={color_stop_list:`((${hm._C1.linear_color_stop})(\\s*(${hm._C.linear_color_hint}))?\\s*,\\s*)+(${hm._C1.linear_color_stop})`,shape:`rect\\(\\s*(${hm._C.top})\\s*,\\s*(${hm._C.right})\\s*,\\s*(${hm._C.bottom})\\s*,\\s*(${hm._C.left})\\s*\\)`},hm._C3={linear_gradient:`linear-gradient\\((((${hm.B.angle})|to\\s+(${hm.A.side_or_corner}))\\s*,\\s*)?\\s*(${hm._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${hm.A.ending_shape})|(${hm._C.size}))\\s*)*\\s*(at\\s+${hm._C.position})?\\s*,\\s*)?\\s*(${hm._C2.color_stop_list})\\s*\\)`},hm._C4={image:`${hm.B.url}|${hm._C3.linear_gradient}|${hm._C3.radial_gradient}|${hm._C1.image_list}`,bg_image:`(${hm.B.url}|${hm._C3.linear_gradient}|${hm._C3.radial_gradient}|${hm._C1.image_list})|none`},hm.C={...hm._C,...hm._C1,...hm._C2,...hm._C3,...hm._C4},hm.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},hm._CP={background_attachment:`${hm.A.attachment}(,\\s*${hm.A.attachment})*`,background_color:hm.C.color,background_origin:`${hm.A.box}(,\\s*${hm.A.box})*`,background_repeat:`${hm.A.repeat_style}(,\\s*${hm.A.repeat_style})*`,border:`((${hm.C.border_width}|${hm.A.border_style}|${hm.C.color})\\s*){1,3}`,border_radius:`((${hm.B.len_or_perc})\\s*){1,4}(\\/\\s*((${hm.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${hm.B.length}\\s*(${hm.B.length})?`,border_top_color:hm.C.color,border_top_style:hm.A.border_style,border_width:`((${hm.C.border_width})\\s*){1,4}`,color:hm.C.color,cursor:`(${hm.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${hm.A.display_inside}|${hm.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:hm.A.display_outside,elevation:`${hm.B.angle}|below|level|above|higher|lower`,font_family:`(${hm.C.family_name}|${hm.A.generic_family})(,\\s*(${hm.C.family_name}|${hm.A.generic_family}))*`,height:`${hm.B.length}|${hm.B.percentage}|auto`,letter_spacing:`normal|${hm.B.length}`,list_style_image:`${hm.C.image}|none`,margin_right:hm.C.margin_width,max_height:`${hm.B.length_pos}|${hm.B.percentage_pos}|none|auto`,min_height:`${hm.B.length_pos}|${hm.B.percentage_pos}|auto`,opacity:hm.C.alphavalue,outline_color:`${hm.C.color}|invert`,outline_width:hm.C.border_width,padding:`((${hm.C.padding_width})\\s*){1,4}`,padding_top:hm.C.padding_width,pitch_range:hm.N.number,right:`${hm.B.length}|${hm.B.percentage}|auto`,stress:hm.N.number,text_indent:`${hm.B.length}|${hm.B.percentage}`,text_shadow:`none|${hm.C.shadow}(,\\s*(${hm.C.shadow}))*`,volume:`${hm.N.number_pos}|${hm.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:hm.AP.overflow_wrap,zoom:`normal|${hm.N.number_pos}|${hm.B.percentage_pos}`,backface_visibility:hm.AP.visibility,background_clip:`${hm.A.box}(,\\s*(${hm.A.box}))*`,background_position:`${hm.C.bg_position}(,\\s*(${hm.C.bg_position}))*`,border_bottom_color:hm.C.color,border_bottom_style:hm.A.border_style,border_color:`((${hm.C.color})\\s*){1,4}`,border_left_color:hm.C.color,border_right_color:hm.C.color,border_style:`((${hm.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${hm.B.length}|${hm.B.percentage})(\\s*(${hm.B.length}|${hm.B.percentage}))?`,border_top_width:hm.C.border_width,box_shadow:`none|${hm.C.shadow}(,\\s*(${hm.C.shadow}))*`,clip:`${hm.C.shape}|auto`,display_inside:hm.A.display_inside,font_size:`${hm.A.absolute_size}|${hm.A.relative_size}|${hm.B.length_pos}|${hm.B.percentage_pos}`,line_height:`normal|${hm.N.number_pos}|${hm.B.length_pos}|${hm.B.percentage_pos}`,margin_left:hm.C.margin_width,max_width:`${hm.B.length_pos}|${hm.B.percentage_pos}|none|auto`,outline_style:hm.A.border_style,padding_bottom:hm.C.padding_width,padding_right:hm.C.padding_width,perspective:`none|${hm.B.length}`,richness:hm.N.number,text_overflow:`((clip|ellipsis|${hm.B.string})\\s*){1,2}`,top:`${hm.B.length}|${hm.B.percentage}|auto`,width:`${hm.B.length_pos}|${hm.B.percentage_pos}|auto`,z_index:`auto|${hm.B.z_index}`,background:`(((${hm.C.bg_position}\\s*(\\/\\s*${hm.C.bg_size})?)|(${hm.A.repeat_style})|(${hm.A.attachment})|(${hm.A.bg_origin})|(${hm.C.bg_image})|(${hm.C.color}))\\s*)+`,background_size:`${hm.C.bg_size}(,\\s*${hm.C.bg_size})*`,border_bottom_left_radius:`(${hm.B.length}|${hm.B.percentage})(\\s*(${hm.B.length}|${hm.B.percentage}))?`,border_bottom_width:hm.C.border_width,border_left_style:hm.A.border_style,border_right_style:hm.A.border_style,border_top:`((${hm.C.border_width}|${hm.A.border_style}|${hm.C.color})\\s*){1,3}`,bottom:`${hm.B.len_or_perc}|auto`,list_style:`((${hm.AP.list_style_type}|${hm.AP.list_style_position}|${hm.C.image}|none})\\s*){1,3}`,margin_top:hm.C.margin_width,outline:`((${hm.C.color}|invert|${hm.A.border_style}|${hm.C.border_width})\\s*){1,3}`,overflow_y:hm.AP.overflow_x,pitch:`${hm.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${hm.B.len_or_perc}`,word_spacing:`normal|${hm.B.length}`,background_image:`${hm.C.bg_image}(,\\s*${hm.C.bg_image})*`,border_bottom_right_radius:`(${hm.B.length}|${hm.B.percentage})(\\s*(${hm.B.length}|${hm.B.percentage}))?`,border_left_width:hm.C.border_width,border_right_width:hm.C.border_width,left:`${hm.B.len_or_perc}|auto`,margin_bottom:hm.C.margin_width,pause_after:`${hm.B.time}|${hm.B.percentage}`,speech_rate:`${hm.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${hm.B.time}(,\\s*${hm.B.time})*`,border_bottom:`((${hm.C.border_width}|${hm.A.border_style}|${hm.C.color})\\s*){1,3}`,border_right:`((${hm.C.border_width}|${hm.A.border_style}|${hm.C.color})\\s*){1,3}`,margin:`((${hm.C.margin_width})\\s*){1,4}`,padding_left:hm.C.padding_width,border_left:`((${hm.C.border_width}|${hm.A.border_style}|${hm.C.color})\\s*){1,3}`,quotes:`(${hm.B.string}\\s*${hm.B.string})+|none`,border_top_right_radius:`(${hm.B.length}|${hm.B.percentage})(\\s*(${hm.B.length}|${hm.B.percentage}))?`,min_width:`${hm.B.length_pos}|${hm.B.percentage_pos}|auto`},hm._CP1={font:`(((((${hm.AP.font_style}|${hm.AP.font_variant}|${hm.AP.font_weight})\\s*){1,3})?\\s*(${hm._CP.font_size})\\s*(\\/\\s*(${hm._CP.line_height}))?\\s+(${hm._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},hm.CP={...hm._CP,...hm._CP1},hm.BORDER_COLLAPSE=hm.reg(hm.AP.border_collapse),hm.BOX=hm.reg(hm.AP.box),hm.BOX_SIZING=hm.reg(hm.AP.box_sizing),hm.CAPTION_SIDE=hm.reg(hm.AP.caption_side),hm.CLEAR=hm.reg(hm.AP.clear),hm.DIRECTION=hm.reg(hm.AP.direction),hm.EMPTY_CELLS=hm.reg(hm.AP.empty_cells),hm.FLOAT=hm.reg(hm.AP.float),hm.FONT_STRETCH=hm.reg(hm.AP.font_stretch),hm.FONT_STYLE=hm.reg(hm.AP.font_style),hm.FONT_VARIANT=hm.reg(hm.AP.font_variant),hm.FONT_WEIGHT=hm.reg(hm.AP.font_weight),hm.LIST_STYLE_POSITION=hm.reg(hm.AP.list_style_position),hm.LIST_STYLE_TYPE=hm.reg(hm.AP.list_style_type),hm.OVERFLOW=hm.reg(hm.AP.overflow),hm.OVERFLOW_WRAP=hm.reg(hm.AP.overflow_wrap),hm.OVERFLOW_X=hm.reg(hm.AP.overflow_x),hm.PAGE_BREAK_AFTER=hm.reg(hm.AP.page_break_after),hm.PAGE_BREAK_BEFORE=hm.reg(hm.AP.page_break_before),hm.PAGE_BREAK_INSIDE=hm.reg(hm.AP.page_break_inside),hm.POSITION=hm.reg(hm.AP.position),hm.RESIZE=hm.reg(hm.AP.resize),hm.SPEAK=hm.reg(hm.AP.speak),hm.SPEAK_HEADER=hm.reg(hm.AP.speak_header),hm.SPEAK_NUMERAL=hm.reg(hm.AP.speak_numeral),hm.SPEAK_PUNCTUATION=hm.reg(hm.AP.speak_punctuation),hm.TABLE_LAYOUT=hm.reg(hm.AP.table_layout),hm.TEXT_ALIGN=hm.reg(hm.AP.text_align),hm.TEXT_DECORATION=hm.reg(hm.AP.text_decoration),hm.TEXT_TRANSFORM=hm.reg(hm.AP.text_transform),hm.TEXT_WRAP=hm.reg(hm.AP.text_wrap),hm.UNICODE_BIDI=hm.reg(hm.AP.unicode_bidi),hm.VISIBILITY=hm.reg(hm.AP.visibility),hm.WHITE_SPACE=hm.reg(hm.AP.white_space),hm.WORD_BREAK=hm.reg(hm.AP.word_break),hm.BACKGROUND_ATTACHMENT=hm.reg(hm.CP.background_attachment),hm.BACKGROUND_COLOR=hm.reg(hm.CP.background_color),hm.BACKGROUND_ORIGIN=hm.reg(hm.CP.background_origin),hm.BACKGROUND_REPEAT=hm.reg(hm.CP.background_repeat),hm.BORDER=hm.reg(hm.CP.border),hm.BORDER_RADIUS=hm.reg(hm.CP.border_radius),hm.BORDER_SPACING=hm.reg(hm.CP.border_spacing),hm.BORDER_TOP_COLOR=hm.reg(hm.CP.border_top_color),hm.BORDER_TOP_STYLE=hm.reg(hm.CP.border_top_style),hm.BORDER_WIDTH=hm.reg(hm.CP.border_width),hm.COLOR=hm.reg(hm.CP.color),hm.CURSOR=hm.reg(hm.CP.cursor),hm.DISPLAY=hm.reg(hm.CP.display),hm.DISPLAY_OUTSIDE=hm.reg(hm.CP.display_outside),hm.ELEVATION=hm.reg(hm.CP.elevation),hm.FONT_FAMILY=hm.reg(hm.CP.font_family),hm.HEIGHT=hm.reg(hm.CP.height),hm.LETTER_SPACING=hm.reg(hm.CP.letter_spacing),hm.LIST_STYLE_IMAGE=hm.reg(hm.CP.list_style_image),hm.MARGIN_RIGHT=hm.reg(hm.CP.margin_right),hm.MAX_HEIGHT=hm.reg(hm.CP.max_height),hm.MIN_HEIGHT=hm.reg(hm.CP.min_height),hm.OPACITY=hm.reg(hm.CP.opacity),hm.OUTLINE_COLOR=hm.reg(hm.CP.outline_color),hm.OUTLINE_WIDTH=hm.reg(hm.CP.outline_width),hm.PADDING=hm.reg(hm.CP.padding),hm.PADDING_TOP=hm.reg(hm.CP.padding_top),hm.PITCH_RANGE=hm.reg(hm.CP.pitch_range),hm.RIGHT=hm.reg(hm.CP.right),hm.STRESS=hm.reg(hm.CP.stress),hm.TEXT_INDENT=hm.reg(hm.CP.text_indent),hm.TEXT_SHADOW=hm.reg(hm.CP.text_shadow),hm.VOLUME=hm.reg(hm.CP.volume),hm.WORD_WRAP=hm.reg(hm.CP.word_wrap),hm.ZOOM=hm.reg(hm.CP.zoom),hm.BACKFACE_VISIBILITY=hm.reg(hm.CP.backface_visibility),hm.BACKGROUND_CLIP=hm.reg(hm.CP.background_clip),hm.BACKGROUND_POSITION=hm.reg(hm.CP.background_position),hm.BORDER_BOTTOM_COLOR=hm.reg(hm.CP.border_bottom_color),hm.BORDER_BOTTOM_STYLE=hm.reg(hm.CP.border_bottom_style),hm.BORDER_COLOR=hm.reg(hm.CP.border_color),hm.BORDER_LEFT_COLOR=hm.reg(hm.CP.border_left_color),hm.BORDER_RIGHT_COLOR=hm.reg(hm.CP.border_right_color),hm.BORDER_STYLE=hm.reg(hm.CP.border_style),hm.BORDER_TOP_LEFT_RADIUS=hm.reg(hm.CP.border_top_left_radius),hm.BORDER_TOP_WIDTH=hm.reg(hm.CP.border_top_width),hm.BOX_SHADOW=hm.reg(hm.CP.box_shadow),hm.CLIP=hm.reg(hm.CP.clip),hm.DISPLAY_INSIDE=hm.reg(hm.CP.display_inside),hm.FONT_SIZE=hm.reg(hm.CP.font_size),hm.LINE_HEIGHT=hm.reg(hm.CP.line_height),hm.MARGIN_LEFT=hm.reg(hm.CP.margin_left),hm.MAX_WIDTH=hm.reg(hm.CP.max_width),hm.OUTLINE_STYLE=hm.reg(hm.CP.outline_style),hm.PADDING_BOTTOM=hm.reg(hm.CP.padding_bottom),hm.PADDING_RIGHT=hm.reg(hm.CP.padding_right),hm.PERSPECTIVE=hm.reg(hm.CP.perspective),hm.RICHNESS=hm.reg(hm.CP.richness),hm.TEXT_OVERFLOW=hm.reg(hm.CP.text_overflow),hm.TOP=hm.reg(hm.CP.top),hm.WIDTH=hm.reg(hm.CP.width),hm.Z_INDEX=hm.reg(hm.CP.z_index),hm.BACKGROUND=hm.reg(hm.CP.background),hm.BACKGROUND_SIZE=hm.reg(hm.CP.background_size),hm.BORDER_BOTTOM_LEFT_RADIUS=hm.reg(hm.CP.border_bottom_left_radius),hm.BORDER_BOTTOM_WIDTH=hm.reg(hm.CP.border_bottom_width),hm.BORDER_LEFT_STYLE=hm.reg(hm.CP.border_left_style),hm.BORDER_RIGHT_STYLE=hm.reg(hm.CP.border_right_style),hm.BORDER_TOP=hm.reg(hm.CP.border_top),hm.BOTTOM=hm.reg(hm.CP.bottom),hm.LIST_STYLE=hm.reg(hm.CP.list_style),hm.MARGIN_TOP=hm.reg(hm.CP.margin_top),hm.OUTLINE=hm.reg(hm.CP.outline),hm.OVERFLOW_Y=hm.reg(hm.CP.overflow_y),hm.PITCH=hm.reg(hm.CP.pitch),hm.VERTICAL_ALIGN=hm.reg(hm.CP.vertical_align),hm.WORD_SPACING=hm.reg(hm.CP.word_spacing),hm.BACKGROUND_IMAGE=hm.reg(hm.CP.background_image),hm.BORDER_BOTTOM_RIGHT_RADIUS=hm.reg(hm.CP.border_bottom_right_radius),hm.BORDER_LEFT_WIDTH=hm.reg(hm.CP.border_left_width),hm.BORDER_RIGHT_WIDTH=hm.reg(hm.CP.border_right_width),hm.LEFT=hm.reg(hm.CP.left),hm.MARGIN_BOTTOM=hm.reg(hm.CP.margin_bottom),hm.PAUSE_AFTER=hm.reg(hm.CP.pause_after),hm.SPEECH_RATE=hm.reg(hm.CP.speech_rate),hm.TRANSITION_DURATION=hm.reg(hm.CP.transition_duration),hm.BORDER_BOTTOM=hm.reg(hm.CP.border_bottom),hm.BORDER_RIGHT=hm.reg(hm.CP.border_right),hm.MARGIN=hm.reg(hm.CP.margin),hm.PADDING_LEFT=hm.reg(hm.CP.padding_left),hm.BORDER_LEFT=hm.reg(hm.CP.border_left),hm.FONT=hm.reg(hm.CP.font),hm.QUOTES=hm.reg(hm.CP.quotes),hm.BORDER_TOP_RIGHT_RADIUS=hm.reg(hm.CP.border_top_right_radius),hm.MIN_WIDTH=hm.reg(hm.CP.min_width);class dm{constructor(){this._commands=new Array}add(e){if(this._commands.map((e=>e.id)).includes(e.id))throw Error(`Command ${e.id} is already defined.`);this._commands.push({isEnabled:()=>!0,rank:dm.DEFAULT_RANK,...e})}getActiveCommandId(e){var t;return(null!==(t=this._commands.filter((t=>t.isEnabled(e))).sort(((e,t)=>e.rank-t.rank||(e.id<t.id?-1:1)))[0])&&void 0!==t?t:{id:null}).id}}dm.DEFAULT_RANK=500;var pm;!function(e){e.fitAll=function e(t){for(const n of t.children())e(n);t.fit()}}(pm||(pm={}));new _.Token("@jupyterlab/apputils:ICommandPalette","A service for the application command palette\n  in the left panel. Use this to add commands to the palette."),new _.Token("@jupyterlab/apputils:IKernelStatusModel","A service to register kernel session provider to the kernel status indicator."),new _.Token("@jupyterlab/apputils:ISessionContextDialogs","A service for handling the session dialogs."),new _.Token("@jupyterlab/apputils:IThemeManager","A service for the theme manager for the application. This is used primarily in theme extensions to register new themes."),new _.Token("@jupyterlab/apputils:ISanitizer","A service for sanitizing HTML strings."),new _.Token("@jupyterlab/apputils:ISplashScreen","A service for the splash screen for the application.\n  Use this if you want to show the splash screen for your own purposes."),new _.Token("@jupyterlab/apputils:IWindowResolver","A service for a window resolver for the\n  application. JupyterLab workspaces are given a name, which are determined using\n  the window resolver. Require this if you want to use the name of the current workspace."),new _.Token("@jupyterlab/apputils:IToolbarWidgetRegistry","A registry for toolbar widgets. Require this\n  if you want to build the toolbar dynamically from a data definition (stored in settings for example).");Symbol.iterator;var fm;!function(e){e.itemCmp=function(e,t){return e===t}}(fm||(fm={}));var gm=n(1581),mm=n.n(gm),_m=n(11142);const vm=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","title":"JupyterLab Plugin Settings/Preferences Schema","description":"JupyterLab plugin settings/preferences schema","version":"1.0.0","type":"object","additionalProperties":true,"properties":{"jupyter.lab.internationalization":{"type":"object","properties":{"selectors":{"type":"array","items":{"type":"string","minLength":1}},"domain":{"type":"string","minLength":1}}},"jupyter.lab.menus":{"type":"object","properties":{"main":{"title":"Main menu entries","description":"List of menu items to add to the main menubar.","items":{"$ref":"#/definitions/menu"},"type":"array","default":[]},"context":{"title":"The application context menu.","description":"List of context menu items.","items":{"allOf":[{"$ref":"#/definitions/menuItem"},{"properties":{"selector":{"description":"The CSS selector for the context menu item.","type":"string"}}}]},"type":"array","default":[]}},"additionalProperties":false},"jupyter.lab.metadataforms":{"items":{"$ref":"#/definitions/metadataForm"},"type":"array","default":[]},"jupyter.lab.setting-deprecated":{"type":"boolean","default":false},"jupyter.lab.setting-icon":{"type":"string","default":""},"jupyter.lab.setting-icon-class":{"type":"string","default":""},"jupyter.lab.setting-icon-label":{"type":"string","default":"Plugin"},"jupyter.lab.shortcuts":{"items":{"$ref":"#/definitions/shortcut"},"type":"array","default":[]},"jupyter.lab.toolbars":{"properties":{"^\\\\w[\\\\w-\\\\.]*$":{"items":{"$ref":"#/definitions/toolbarItem"},"type":"array","default":[]}},"type":"object","default":{}},"jupyter.lab.transform":{"type":"boolean","default":false}},"definitions":{"menu":{"properties":{"disabled":{"description":"Whether the menu is disabled or not","type":"boolean","default":false},"icon":{"description":"Menu icon id","type":"string"},"id":{"description":"Menu unique id","oneOf":[{"type":"string","enum":["jp-menu-file","jp-menu-file-new","jp-menu-edit","jp-menu-help","jp-menu-kernel","jp-menu-run","jp-menu-settings","jp-menu-view","jp-menu-tabs"]},{"type":"string","pattern":"[a-z][a-z0-9\\\\-_]+"}]},"items":{"description":"Menu items","type":"array","items":{"$ref":"#/definitions/menuItem"}},"label":{"description":"Menu label","type":"string"},"mnemonic":{"description":"Mnemonic index for the label","type":"number","minimum":-1,"default":-1},"rank":{"description":"Menu rank","type":"number","minimum":0}},"required":["id"],"type":"object"},"menuItem":{"properties":{"args":{"description":"Command arguments","type":"object"},"command":{"description":"Command id","type":"string"},"disabled":{"description":"Whether the item is disabled or not","type":"boolean","default":false},"type":{"description":"Item type","type":"string","enum":["command","submenu","separator"],"default":"command"},"rank":{"description":"Item rank","type":"number","minimum":0},"submenu":{"oneOf":[{"$ref":"#/definitions/menu"},{"type":"null"}]}},"type":"object"},"shortcut":{"properties":{"args":{"title":"The arguments for the command","type":"object"},"command":{"title":"The command id","description":"The command executed when the binding is matched.","type":"string"},"disabled":{"description":"Whether this shortcut is disabled or not.","type":"boolean","default":false},"keys":{"title":"The key sequence for the binding","description":"The key shortcut like `Accel A` or the sequence of shortcuts to press like [`Accel A`, `B`]","items":{"type":"string"},"type":"array"},"macKeys":{"title":"The key sequence for the binding on macOS","description":"The key shortcut like `Cmd A` or the sequence of shortcuts to press like [`Cmd A`, `B`]","items":{"type":"string"},"type":"array"},"winKeys":{"title":"The key sequence for the binding on Windows","description":"The key shortcut like `Ctrl A` or the sequence of shortcuts to press like [`Ctrl A`, `B`]","items":{"type":"string"},"type":"array"},"linuxKeys":{"title":"The key sequence for the binding on Linux","description":"The key shortcut like `Ctrl A` or the sequence of shortcuts to press like [`Ctrl A`, `B`]","items":{"type":"string"},"type":"array"},"selector":{"title":"CSS selector","type":"string"}},"required":["command","keys","selector"],"type":"object"},"toolbarItem":{"properties":{"name":{"title":"Unique name","type":"string"},"args":{"title":"Command arguments","type":"object"},"command":{"title":"Command id","type":"string","default":""},"disabled":{"title":"Whether the item is ignored or not","type":"boolean","default":false},"icon":{"title":"Item icon id","description":"If defined, it will override the command icon","type":"string"},"label":{"title":"Item label","description":"If defined, it will override the command label","type":"string"},"caption":{"title":"Item caption","description":"If defined, it will override the command caption","type":"string"},"type":{"title":"Item type","type":"string","enum":["command","spacer"]},"rank":{"title":"Item rank","type":"number","minimum":0,"default":50}},"required":["name"],"additionalProperties":false,"type":"object"},"metadataForm":{"type":"object","properties":{"id":{"type":"string","description":"The section ID"},"metadataSchema":{"type":"object","items":{"$ref":"#/definitions/metadataSchema"}},"uiSchema":{"type":"object"},"metadataOptions":{"type":"object","items":{"$ref":"#/definitions/metadataOptions"}},"label":{"type":"string","description":"The section label"},"rank":{"type":"integer","description":"The rank of the section in the right panel"},"showModified":{"type":"boolean","description":"Whether to show modified values from defaults"}},"required":["id","metadataSchema"]},"metadataSchema":{"properties":{"properties":{"type":"object","description":"The property set up by extension","properties":{"title":{"type":"string"},"description":{"type":"string"},"type":{"type":"string"}}}},"type":"object","required":["properties"]},"metadataOptions":{"properties":{"customRenderer":{"type":"string"},"metadataLevel":{"type":"string","enum":["cell","notebook"],"default":"cell"},"cellTypes":{"type":"array","items":{"type":"string","enum":["code","markdown","raw"]}},"writeDefault":{"type":"boolean"}},"type":"object"}}}'),bm=_.JSONExt.deepCopy,ym={strict:!1},wm=String.fromCharCode(30);class xm{constructor(){this._composer=new(mm())({useDefaults:!0,...ym}),this._validator=new(mm())({...ym}),this._composer.addSchema(vm,"jupyterlab-plugin-schema"),this._validator.addSchema(vm,"jupyterlab-plugin-schema")}validateData(e,t=!0){const n=this._validator.getSchema(e.id),s=this._composer.getSchema(e.id);if(!n||!s){if("object"!==e.schema.type){return[{instancePath:"type",keyword:"schema",schemaPath:"",message:`Setting registry schemas' root-level type must be 'object', rejecting type: ${e.schema.type}`}]}return this._addSchema(e.id,e.schema)||this.validateData(e)}let i;try{i=_m.parse(e.raw)}catch(Hn){if(Hn instanceof SyntaxError)return[{instancePath:"",keyword:"syntax",schemaPath:"",message:Hn.message}];const{column:t,description:n}=Hn;return[{instancePath:"",keyword:"parse",schemaPath:"",message:`${n} (line ${Hn.lineNumber} column ${t})`}]}if(!n(i))return n.errors;const r=bm(i);return s(r)?(t&&(e.data={composite:r,user:i}),null):s.errors}_addSchema(e,t){const n=this._composer,s=this._validator,i=s.getSchema("jupyterlab-plugin-schema");return i(t)?s.validateSchema(t)?(n.removeSchema(e),s.removeSchema(e),n.addSchema(t,e),s.addSchema(t,e),null):s.errors:i.errors}}class Sm{constructor(e){this.schema=vm,this.plugins=Object.create(null),this._pluginChanged=new f.Signal(this),this._ready=Promise.resolve(),this._transformers=Object.create(null),this._unloadedPlugins=new Map,this.connector=e.connector,this.validator=e.validator||new xm,e.plugins&&(e.plugins.filter((e=>e.schema["jupyter.lab.transform"])).forEach((e=>this._unloadedPlugins.set(e.id,e))),this._ready=this._preload(e.plugins))}get pluginChanged(){return this._pluginChanged}async get(e,t){await this._ready;const n=this.plugins;if(e in n){const{composite:s,user:i}=n[e].data;return{composite:void 0!==s[t]?bm(s[t]):void 0,user:void 0!==i[t]?bm(i[t]):void 0}}return this.load(e).then((()=>this.get(e,t)))}async load(e,t=!1){await this._ready;const n=this.plugins,s=this;return e in n?(t&&(n[e].data={composite:{},user:{}},await this._load(await this._transform("fetch",n[e])),this._pluginChanged.emit(e)),new km({plugin:n[e],registry:s})):this._unloadedPlugins.has(e)&&e in this._transformers&&(await this._load(await this._transform("fetch",this._unloadedPlugins.get(e))),e in n)?(this._pluginChanged.emit(e),this._unloadedPlugins.delete(e),new km({plugin:n[e],registry:s})):this.reload(e)}async reload(e){await this._ready;const t=await this.connector.fetch(e),n=this.plugins;if(void 0===t)throw[{instancePath:"",keyword:"id",message:`Could not fetch settings for ${e}.`,schemaPath:""}];return await this._load(await this._transform("fetch",t)),this._pluginChanged.emit(e),new km({plugin:n[e],registry:this})}async remove(e,t){await this._ready;const n=this.plugins;if(!(e in n))return;const s=_m.parse(n[e].raw);return delete s[t],delete s[`// ${t}`],n[e].raw=Em.annotatedPlugin(n[e],s),this._save(e)}async set(e,t,n){await this._ready;const s=this.plugins;if(!(e in s))return this.load(e).then((()=>this.set(e,t,n)));const i=_m.parse(s[e].raw);return s[e].raw=Em.annotatedPlugin(s[e],{...i,[t]:n}),this._save(e)}transform(e,t){const n=this._transformers;if(e in n){const t=new Error(`${e} already has a transformer.`);throw t.name="TransformError",t}return n[e]={fetch:t.fetch||(e=>e),compose:t.compose||(e=>e)},new Fg.DisposableDelegate((()=>{delete n[e]}))}async upload(e,t){await this._ready;const n=this.plugins;return e in n?(n[e].raw=t,this._save(e)):this.load(e).then((()=>this.upload(e,t)))}async _load(e){const t=e.id;try{await this._validate(e)}catch(n){const e=[`Validating ${t} failed:`];throw n.forEach(((t,n)=>{const{instancePath:s,schemaPath:i,keyword:r,message:o}=t;(s||i)&&e.push(`${n} - schema @ ${i}, data @ ${s}`),e.push(`{${r}} ${o}`)})),console.warn(e.join("\n")),n}}async _preload(e){await Promise.all(e.map((async e=>{var t;try{await this._load(await this._transform("fetch",e))}catch(n){"unset"!==(null===(t=n[0])||void 0===t?void 0:t.keyword)&&console.warn("Ignored setting registry preload errors.",n)}})))}async _save(e){const t=this.plugins;if(!(e in t))throw new Error(`${e} does not exist in setting registry.`);try{await this._validate(t[e])}catch(s){throw console.warn(`${e} validation errors:`,s),new Error(`${e} failed to validate; check console.`)}await this.connector.save(e,t[e].raw);const n=await this.connector.fetch(e);if(void 0===n)throw[{instancePath:"",keyword:"id",message:`Could not fetch settings for ${e}.`,schemaPath:""}];await this._load(await this._transform("fetch",n)),this._pluginChanged.emit(e)}async _transform(e,t){const n=t.id,s=this._transformers;if(!t.schema["jupyter.lab.transform"])return t;if(n in s){const i=s[n][e].call(null,t);if(i.id!==n)throw[{instancePath:"",keyword:"id",message:"Plugin transformations cannot change plugin IDs.",schemaPath:""}];return i}throw[{instancePath:"",keyword:"unset",message:`${t.id} has no transformers yet.`,schemaPath:""}]}async _validate(e){const t=this.validator.validateData(e);if(t)throw t;this.plugins[e.id]=await this._transform("compose",e)}}class Cm{constructor(e){this._schema=e.schema}get schema(){return this._schema}isDefault(e){for(const t in this.schema.properties){const n=e[t],s=this.default(t);if(void 0!==n&&void 0!==s&&!_.JSONExt.deepEqual(n,_.JSONExt.emptyObject)&&!_.JSONExt.deepEqual(n,_.JSONExt.emptyArray)&&!_.JSONExt.deepEqual(n,s))return!1}return!0}default(e){return Em.reifyDefault(this.schema,e)}}class km extends Cm{constructor(e){super({schema:e.plugin.schema}),this._changed=new f.Signal(this),this._isDisposed=!1,this.id=e.plugin.id,this.registry=e.registry,this.registry.pluginChanged.connect(this._onPluginChanged,this)}get changed(){return this._changed}get composite(){return this.plugin.data.composite}get isDisposed(){return this._isDisposed}get plugin(){return this.registry.plugins[this.id]}get raw(){return this.plugin.raw}get isModified(){return!this.isDefault(this.user)}get user(){return this.plugin.data.user}get version(){return this.plugin.version}annotatedDefaults(){return Em.annotatedDefaults(this.schema,this.id)}dispose(){this._isDisposed||(this._isDisposed=!0,f.Signal.clearData(this))}get(e){const{composite:t,user:n}=this;return{composite:void 0!==t[e]?bm(t[e]):void 0,user:void 0!==n[e]?bm(n[e]):void 0}}remove(e){return this.registry.remove(this.plugin.id,e)}save(e){return this.registry.upload(this.plugin.id,e)}set(e,t){return this.registry.set(this.plugin.id,e,t)}validate(e){const{id:t,schema:n}=this.plugin,s=this.registry.validator,i=this.version;return s.validateData({data:{composite:{},user:{}},id:t,raw:e,schema:n,version:i},!1)}_onPluginChanged(e,t){t===this.plugin.id&&this._changed.emit(void 0)}}var Em;!function(e){function t(e,t,s=!1,i=!0){if(!e)return t&&i?_.JSONExt.deepCopy(t):[];if(!t)return _.JSONExt.deepCopy(e);const r=_.JSONExt.deepCopy(e);return t.forEach((e=>{const t=r.findIndex((t=>t.id===e.id));t>=0?r[t]={...r[t],...e,items:n(r[t].items,e.items,s,i)}:i&&r.push(e)})),r}function n(e,n,s=!1,i=!0){if(!e)return n?_.JSONExt.deepCopy(n):void 0;if(!n)return _.JSONExt.deepCopy(e);const r=_.JSONExt.deepCopy(e);return n.forEach((e=>{var n;switch(null!==(n=e.type)&&void 0!==n?n:"command"){case"separator":i&&r.push({...e});break;case"submenu":if(e.submenu){const n=r.findIndex((t=>{var n,s;return"submenu"===t.type&&(null===(n=t.submenu)||void 0===n?void 0:n.id)===(null===(s=e.submenu)||void 0===s?void 0:s.id)}));n<0?i&&r.push(_.JSONExt.deepCopy(e)):r[n]={...r[n],...e,submenu:t(r[n].submenu?[r[n].submenu]:null,[e.submenu],s,i)[0]}}break;case"command":if(e.command){const t=r.findIndex((t=>{var n,s;return t.command===e.command&&t.selector===e.selector&&_.JSONExt.deepEqual(null!==(n=t.args)&&void 0!==n?n:{},null!==(s=e.args)&&void 0!==s?s:{})}));t<0?i&&r.push({...e}):(s&&console.warn(`Menu entry for command '${e.command}' is duplicated.`),r[t]={...r[t],...e})}}})),r}e.reconcileMenus=t,e.reconcileItems=n,e.filterDisabledItems=function e(t){return t.reduce(((t,n)=>{var s;const i={...n};if(!i.disabled){if("submenu"===i.type){const{submenu:t}=i;t&&!t.disabled&&(i.submenu={...t,items:e(null!==(s=t.items)&&void 0!==s?s:[])})}t.push(i)}return t}),[])},e.reconcileShortcuts=function(e,t){const n={};return t=t.filter((e=>{const t=cl.CommandRegistry.normalizeKeys(e).join(wm);if(!t)return console.warn("Skipping this shortcut because there are no actionable keys on this platform",e),!1;t in n||(n[t]={});const{selector:s}=e;return s in n[t]?(console.warn("Skipping this shortcut because it collides with another shortcut.",e),!1):(n[t][s]=!1,!0)})),e=[...e.filter((e=>!!e.disabled)),...e.filter((e=>!e.disabled))].filter((e=>{const t=cl.CommandRegistry.normalizeKeys(e).join(wm);if(!t)return!1;t in n||(n[t]={});const{disabled:s,selector:i}=e;return i in n[t]?(n[t][i]&&console.warn("Skipping this default shortcut because it collides with another default shortcut.",e),!1):(n[t][i]=!s,!0)})),Em.upgradeShortcuts(t.concat(e).filter((e=>!e.disabled)).map((e=>({args:{},...e}))))},e.reconcileToolbarItems=function(e,t,n=!1){if(!e)return t?_.JSONExt.deepCopy(t):void 0;if(!t)return _.JSONExt.deepCopy(e);const s=_.JSONExt.deepCopy(e);return t.forEach((e=>{const t=s.findIndex((t=>t.name===e.name));t<0?s.push({...e}):(n&&_.JSONExt.deepEqual(Object.keys(e),Object.keys(s[t]))&&console.warn(`Toolbar item '${e.name}' is duplicated.`),s[t]={...s[t],...e})})),s}}(Sm||(Sm={})),function(e){const t="    ",n="[missing schema description]",s="[missing schema title]";function i(e){return e.reduce(((t,n,s)=>{const i=n.split("\n");return t+n+(0===i[i.length-1].trim().indexOf("//")||s===e.length-1?"":",")+(s===e.length-1?"":"\n\n")}),"")}function r(e,n=`${t}// `){return n+e.split("\n").join(`\n${n}`)}function o(e,t,n,s){var i,r,a,l,c,u,h;if(n=null!=n?n:e.definitions,s=t?e.required instanceof Array&&(null===(i=e.required)||void 0===i?void 0:i.includes(t)):s,"object"===(e=(t?null===(r=e.properties)||void 0===r?void 0:r[t]:e)||{}).type){const t=_.JSONExt.deepCopy(e.default),s=e.properties||{};for(const i in s)t[i]=o(s[i],void 0,n,e.required instanceof Array&&(null===(a=e.required)||void 0===a?void 0:a.includes(i)));return t}if("array"===e.type){const t=void 0!==e.default;if(!(t||s))return;const i=t?_.JSONExt.deepCopy(e.default):[];let r=e.items||{};if(r.$ref&&n){const e=r.$ref.replace("#/definitions/","");r=null!==(l=n[e])&&void 0!==l?l:{}}for(const e in i)if("object"===r.type){const t=null!==(u=null!==(c=o(r,void 0,n))&&void 0!==c?c:i[e])&&void 0!==u?u:{};for(const n in t)(null===(h=i[e])||void 0===h?void 0:h[n])&&(t[n]=i[e][n]);i[e]=t}return i}return e.default}e.annotatedDefaults=function(e,a){const{description:l,properties:c,title:u}=e,h=c?Object.keys(c).sort(((e,t)=>e.localeCompare(t))):[],d=Math.max((l||n).length,a.length);return["{",r(`${u||s}`),r(a),r(l||n),r("*".repeat(d)),"",i(h.map((s=>function(e,s){const i=e.properties&&e.properties[s]||{},a=i.type,l=i.description||n,c=i.title||"",u=o(e,s),h=t.length,d=void 0!==u?r(`"${s}": ${JSON.stringify(u,null,h)}`,t):r(`"${s}": ${a}`);return[r(c),r(l),d].filter((e=>e.length)).join("\n")}(e,s)))),"}"].join("\n")},e.annotatedPlugin=function(e,o){const{description:a,title:l}=e.schema,c=Object.keys(o).sort(((e,t)=>e.localeCompare(t))),u=Math.max((a||n).length,e.id.length);return["{",r(`${l||s}`),r(e.id),r(a||n),r("*".repeat(u)),"",i(c.map((i=>function(e,i,o){const a=e.properties&&e.properties[i],l=a&&a.description||n,c=a&&a.title||s,u=t.length,h=r(`"${i}": ${JSON.stringify(o,null,u)}`,t);return[r(c),r(l),h].join("\n")}(e.schema,i,o[i])))),"}"].join("\n")},e.reifyDefault=o;const a=new Set;e.upgradeShortcuts=function(e){const t=new Set,n=[{old:".jp-Notebook:focus.jp-mod-commandMode",new:".jp-Notebook.jp-mod-commandMode :focus:not(:read-write)",versionDeprecated:"JupyterLab 4.1"},{old:".jp-Notebook:focus",new:".jp-Notebook.jp-mod-commandMode :focus:not(:read-write)",versionDeprecated:"JupyterLab 4.1"},{old:"[data-jp-traversable]:focus",new:".jp-Notebook.jp-mod-commandMode :focus:not(:read-write)",versionDeprecated:"JupyterLab 4.1"},{old:"[data-jp-kernel-user]:focus",new:"[data-jp-kernel-user] :focus:not(:read-write)",versionDeprecated:"JupyterLab 4.1"}],s=e.map((e=>{const s=e.selector;let i=s;for(const r of n)s.includes(r.old)&&!a.has(s)&&(i=s.replace(r.old,r.new),t.add(`"${r.old}" was replaced with "${r.new}" in ${r.versionDeprecated} (present in "${s}")`),a.add(s));return e.selector=i,e}));return t.size>0&&console.warn("Deprecated shortcut selectors: "+[...t].join("\n")+"\n\nThe selectors will be substituted transparently this time, but need to be updated at source before next major release."),s}}(Em||(Em={}));var Om;!function(e){const t="@jupyterlab/statedb:StateDB",n=`${t}:beacon`,s=Math.floor(200+300*Math.random()),i=`${t}:window`;let r=null,o=null;const a=new _.PromiseDelegate,l={};let c=null,u=!1;function h(e){if(null===e)return;const{localStorage:t}=window;t.setItem(i,`${e}-${(new Date).getTime()}`)}function d(){u=!0,r=null,a.reject(`Window name candidate "${o}" already exists`)}e.resolve=function(e){if(u)return a.promise;if(o=e,o in l)return d(),a.promise;const{localStorage:t,setTimeout:i}=window;return i((()=>{if(!u){if(!o||o in l)return d();u=!0,r=null,a.resolve(c=o),h(c)}}),s),r=`${Math.random()}-${(new Date).getTime()}`,t.setItem(n,r),a.promise},window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(null===s)return;if(t===n&&s!==r&&null!==o)return void h(u?c:o);if(u||t!==i)return;const a=s.replace(/\-\d+$/,"");l[a]=null,o&&!(o in l)||d()}))}(Om||(Om={}));class Mm extends Dg{}!function(e){e.createInterruptButton=qg.createInterruptButton,e.createKernelNameItem=qg.createKernelNameItem,e.createKernelStatusItem=qg.createKernelStatusItem,e.createRestartButton=qg.createRestartButton,e.createSpacerItem=Dg.createSpacerItem}(Mm||(Mm={}));const Tm=Math.floor,Dm=(Math.ceil,Math.abs),Pm=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),Am=(e,t)=>e>t?e:t,Rm=(Number.isNaN,Math.pow,Math.sign,e=>0!==e?e<0:1/e<0),jm=64,Im=128,Nm=127,Lm=2147483647,Bm=(Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&Tm(e)===e)),$m=(Number.isNaN,Number.parseInt,()=>new Set),Fm=e=>e[e.length-1],Um=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},zm=Array.from,Vm=Array.isArray,qm=String.fromCharCode,Hm=(String.fromCodePoint,qm(65535),/^\s*/g),Wm=/([A-Z])/g,Km=(e,t)=>(e=>e.replace(Hm,""))(e.replace(Wm,(e=>`${t}${(e=>e.toLowerCase())(e)}`))),Gm="undefined"!=typeof TextEncoder?new TextEncoder:null,Jm=Gm?e=>Gm.encode(e):e=>{const t=unescape(encodeURIComponent(e)),n=t.length,s=new Uint8Array(n);for(let i=0;i<n;i++)s[i]=t.codePointAt(i);return s};let Ym="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Ym&&1===Ym.decode(new Uint8Array).length&&(Ym=null);class Xm{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Zm=()=>new Xm,Qm=e=>{const t=new Uint8Array((e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t})(e));let n=0;for(let s=0;s<e.bufs.length;s++){const i=e.bufs[s];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},e_=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},t_=e_,n_=(e,t)=>{for(;t>Nm;)e_(e,Im|Nm&t),t=Tm(t/128);e_(e,Nm&t)},s_=(e,t)=>{const n=Rm(t);for(n&&(t=-t),e_(e,(t>63?Im:0)|(n?jm:0)|63&t),t=Tm(t/64);t>0;)e_(e,(t>Nm?Im:0)|Nm&t),t=Tm(t/128)},i_=new Uint8Array(3e4),r_=i_.length/3,o_=Gm&&Gm.encodeInto?(e,t)=>{if(t.length<r_){const n=Gm.encodeInto(t,i_).written||0;n_(e,n);for(let t=0;t<n;t++)e_(e,i_[t])}else l_(e,Jm(t))}:(e,t)=>{const n=unescape(encodeURIComponent(t)),s=n.length;n_(e,s);for(let i=0;i<s;i++)e_(e,n.codePointAt(i))},a_=(e,t)=>{const n=e.cbuf.length,s=e.cpos,i=Pm(n-s,t.length),r=t.length-i;e.cbuf.set(t.subarray(0,i),s),e.cpos+=i,r>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(Am(2*n,r)),e.cbuf.set(t.subarray(i)),e.cpos=r)},l_=(e,t)=>{n_(e,t.byteLength),a_(e,t)},c_=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*Am(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},u_=new DataView(new ArrayBuffer(4)),h_=(e,t)=>{switch(typeof t){case"string":e_(e,119),o_(e,t);break;case"number":Bm(t)&&Dm(t)<=Lm?(e_(e,125),s_(e,t)):(n=t,u_.setFloat32(0,n),u_.getFloat32(0)===n?(e_(e,124),((e,t)=>{c_(e,4).setFloat32(0,t,!1)})(e,t)):(e_(e,123),((e,t)=>{c_(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":e_(e,122),((e,t)=>{c_(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)e_(e,126);else if(Vm(t)){e_(e,117),n_(e,t.length);for(let n=0;n<t.length;n++)h_(e,t[n])}else if(t instanceof Uint8Array)e_(e,116),l_(e,t);else{e_(e,118);const n=Object.keys(t);n_(e,n.length);for(let s=0;s<n.length;s++){const i=n[s];o_(e,i),h_(e,t[i])}}break;case"boolean":e_(e,t?120:121);break;default:e_(e,127)}var n};class d_ extends Xm{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&n_(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const p_=e=>{e.count>0&&(s_(e.encoder,1===e.count?e.s:-e.s),e.count>1&&n_(e.encoder,e.count-2))};class f_{constructor(){this.encoder=new Xm,this.s=0,this.count=0}write(e){this.s===e?this.count++:(p_(this),this.count=1,this.s=e)}toUint8Array(){return p_(this),Qm(this.encoder)}}const g_=e=>{if(e.count>0){const t=2*e.diff+(1===e.count?0:1);s_(e.encoder,t),e.count>1&&n_(e.encoder,e.count-2)}};class m_{constructor(){this.encoder=new Xm,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(g_(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return g_(this),Qm(this.encoder)}}class __{constructor(){this.sarr=[],this.s="",this.lensE=new f_}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Xm;return this.sarr.push(this.s),this.s="",o_(e,this.sarr.join("")),a_(e,this.lensE.toUint8Array()),Qm(e)}}const v_=e=>new Error(e),b_=()=>{throw v_("Method unimplemented")},y_=()=>{throw v_("Unexpected case")};v_("Unexpected end of array"),v_("Integer out of Range");const w_=Date.now,x_=()=>new Map,S_=e=>{const t=x_();return e.forEach(((e,n)=>{t.set(n,e)})),t},C_=(e,t,n)=>{let s=e.get(t);return void 0===s&&e.set(t,s=n()),s};class k_{constructor(){this._observers=x_()}on(e,t){C_(this._observers,e,$m).add(t)}once(e,t){const n=(...s)=>{this.off(e,n),t(...s)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return zm((this._observers.get(e)||x_()).values()).forEach((e=>e(...t)))}destroy(){this._observers=x_()}}const E_=Object.assign,O_=Object.keys,M_=e=>O_(e).length,T_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),D_=(e,t)=>e===t||M_(e)===M_(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,((e,n)=>(void 0!==e||T_(t,n))&&t[n]===e)),P_=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&P_(e,t,n+1)}},A_=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!A_(e.get(n),t.get(n)))return!1;break;case Object:if(M_(e)!==M_(t))return!1;for(const n in e)if(!T_(e,n)||!A_(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!A_(e[n],t[n]))return!1;break;default:return!1}return!0},R_=3e4;class j_ extends k_{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval((()=>{const e=w_();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach(((n,s)=>{s!==this.clientID&&R_<=e-n.lastUpdated&&this.states.has(s)&&t.push(s)})),t.length>0&&I_(this,t,"timeout")}),Tm(3e3)),e.on("destroy",(()=>{this.destroy()})),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),s=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:s,lastUpdated:w_()});const r=[],o=[],a=[],l=[];null===e?l.push(t):null==i?null!=e&&r.push(t):(o.push(t),A_(i,e)||a.push(t)),(r.length>0||a.length>0||l.length>0)&&this.emit("change",[{added:r,updated:a,removed:l},"local"]),this.emit("update",[{added:r,updated:o,removed:l},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const I_=(e,t,n)=>{const s=[];for(let i=0;i<t.length;i++){const n=t[i];if(e.states.has(n)){if(e.states.delete(n),n===e.clientID){const t=e.meta.get(n);e.meta.set(n,{clock:t.clock+1,lastUpdated:w_()})}s.push(n)}}s.length>0&&(e.emit("change",[{added:[],updated:[],removed:s},n]),e.emit("update",[{added:[],updated:[],removed:s},n]))},N_=(crypto.subtle,crypto.getRandomValues.bind(crypto)),L_=(Math.random,()=>N_(new Uint32Array(1))[0]),B_=[1e7]+-1e3+-4e3+-8e3+-1e11,$_=()=>B_.replace(/[018]/g,(e=>(e^L_()&15>>e/4).toString(16))),F_=e=>new Promise(e),U_=(Promise.all.bind(Promise),e=>void 0===e?null:e);let z_=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},V_=!0;try{"undefined"!=typeof localStorage&&localStorage&&(z_=localStorage,V_=!1)}catch(rU){}const q_=z_,H_="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let W_;const K_=[],G_=()=>{if(void 0===W_)if(H_){W_=x_();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const s=e[n];"-"===s[0]?(null!==t&&W_.set(t,""),t=s):null!==t?(W_.set(t,s),t=null):K_.push(s)}null!==t&&W_.set(t,"")}else"object"==typeof location?(W_=x_(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");W_.set(`--${Km(t,"-")}`,n),W_.set(`-${Km(t,"-")}`,n)}}))):W_=x_();return W_},J_=e=>G_().has(e),Y_=e=>U_(H_?process.env[e.toUpperCase()]:q_.getItem(e));J_("--"+(X_="production"))||Y_(X_);var X_;const Z_=H_&&(Q_=process.env.FORCE_COLOR,["true","1","2"].includes(Q_));var Q_;const ev=!J_("no-colors")&&(!H_||process.stdout.isTTY||Z_)&&(!H_||J_("color")||Z_||null!==Y_("COLORTERM")||(Y_("TERM")||"").includes("color"));class tv{constructor(e,t){this.left=e,this.right=t}}const nv=(e,t)=>new tv(e,t),sv="undefined"!=typeof document?document:{},iv=("undefined"!=typeof DOMParser&&new DOMParser,e=>((e,t)=>{const n=[];for(const[s,i]of e)n.push(t(i,s));return n})(e,((e,t)=>`${t}:${e};`)).join(""));sv.ELEMENT_NODE,sv.TEXT_NODE,sv.CDATA_SECTION_NODE,sv.COMMENT_NODE,sv.DOCUMENT_NODE,sv.DOCUMENT_TYPE_NODE,sv.DOCUMENT_FRAGMENT_NODE,JSON.stringify,JSON.parse;const rv=e=>class{constructor(e){this._=e}destroy(){e(this._)}},ov=(rv(clearTimeout),rv(clearInterval),rv((e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e))),rv((e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e))),Symbol),av=ov(),lv=ov(),cv=ov(),uv=ov(),hv=ov(),dv=ov(),pv=ov(),fv=ov(),gv=ov();w_();const mv={[av]:nv("font-weight","bold"),[lv]:nv("font-weight","normal"),[cv]:nv("color","blue"),[hv]:nv("color","green"),[uv]:nv("color","grey"),[dv]:nv("color","red"),[pv]:nv("color","purple"),[fv]:nv("color","orange"),[gv]:nv("color","black")},_v=ev?e=>{const t=[],n=[],s=x_();let i=[],r=0;for(;r<e.length;r++){const i=e[r],o=mv[i];if(void 0!==o)s.set(o.left,o.right);else{if(i.constructor!==String&&i.constructor!==Number)break;{const e=iv(s);r>0||e.length>0?(t.push("%c"+i),n.push(e)):t.push(i)}}}for(r>0&&(i=n,i.unshift(t.join("")));r<e.length;r++){const t=e[r];t instanceof Symbol||i.push(t)}return i}:e=>{const t=[],n=[];let s=0;for(;s<e.length;s++){const i=e[s];i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},vv=(...e)=>{console.log(..._v(e)),bv.forEach((t=>t.print(e)))},bv=$m();const yv=e=>({[Symbol.iterator](){return this},next:e}),wv=(e,t)=>yv((()=>{const{done:n,value:s}=e.next();return{done:n,value:n?void 0:t(s)}}));class xv{constructor(e,t){this.clock=e,this.len=t}}class Sv{constructor(){this.clients=new Map}}const Cv=(e,t,n)=>t.clients.forEach(((t,s)=>{const i=e.doc.store.clients.get(s);for(let r=0;r<t.length;r++){const s=t[r];pb(e,i,s.clock,s.len,n)}})),kv=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,s=e.length-1;for(;n<=s;){const i=Tm((n+s)/2),r=e[i],o=r.clock;if(o<=t){if(t<o+r.len)return i;n=i+1}else s=i-1}return null})(n,t.clock)},Ev=e=>{e.clients.forEach((e=>{let t,n;for(e.sort(((e,t)=>e.clock-t.clock)),t=1,n=1;t<e.length;t++){const s=e[n-1],i=e[t];s.clock+s.len>=i.clock?s.len=Am(s.len,i.clock+i.len-s.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},Ov=e=>{const t=new Sv;for(let n=0;n<e.length;n++)e[n].clients.forEach(((s,i)=>{if(!t.clients.has(i)){const r=s.slice();for(let t=n+1;t<e.length;t++)Um(r,e[t].clients.get(i)||[]);t.clients.set(i,r)}}));return Ev(t),t},Mv=(e,t,n,s)=>{C_(e.clients,t,(()=>[])).push(new xv(n,s))},Tv=()=>new Sv,Dv=(e,t)=>{n_(e.restEncoder,t.clients.size),zm(t.clients.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([t,n])=>{e.resetDsCurVal(),n_(e.restEncoder,t);const s=n.length;n_(e.restEncoder,s);for(let i=0;i<s;i++){const t=n[i];e.writeDsClock(t.clock),e.writeDsLen(t.len)}}))},Pv=L_;class Av extends k_{constructor({guid:e=$_(),collectionid:t=null,gc:n=!0,gcFilter:s=(()=>!0),meta:i=null,autoLoad:r=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=Pv(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new ib,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=r,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=F_((e=>{this.on("load",(()=>{this.isLoaded=!0,e(this)}))}));const a=()=>F_((e=>{const t=n=>{void 0!==n&&!0!==n||(this.off("sync",t),e())};this.on("sync",t)}));this.on("sync",(e=>{!1===e&&this.isSynced&&(this.whenSynced=a()),this.isSynced=void 0===e||!0===e,this.isSynced&&!this.isLoaded&&this.emit("load",[])})),this.whenSynced=a()}load(){const e=this._item;null===e||this.shouldLoad||wb(e.parent.doc,(e=>{e.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(zm(this.subdocs).map((e=>e.guid)))}transact(e,t=null){return wb(this,e,t)}get(e,t=Ib){const n=C_(this.share,e,(()=>{const e=new t;return e._integrate(this,null),e})),s=n.constructor;if(t!==Ib&&s!==t){if(s===Ib){const s=new t;s._map=n._map,n._map.forEach((e=>{for(;null!==e;e=e.left)e.parent=s})),s._start=n._start;for(let e=s._start;null!==e;e=e.right)e.parent=s;return s._length=n._length,this.share.set(e,s),s._integrate(this,null),s}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,Qb)}getText(e=""){return this.get(e,_y)}getMap(e=""){return this.get(e,ty)}getXmlFragment(e=""){return this.get(e,by)}toJSON(){const e={};return this.share.forEach(((t,n)=>{e[n]=t.toJSON()})),e}destroy(){zm(this.subdocs).forEach((e=>e.destroy()));const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new Av({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,wb(e.parent.doc,(n=>{const s=t.doc;e.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class Rv{constructor(){this.restEncoder=Zm()}toUint8Array(){return Qm(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){n_(this.restEncoder,e)}writeDsLen(e){n_(this.restEncoder,e)}}class jv extends Rv{writeLeftID(e){n_(this.restEncoder,e.client),n_(this.restEncoder,e.clock)}writeRightID(e){n_(this.restEncoder,e.client),n_(this.restEncoder,e.clock)}writeClient(e){n_(this.restEncoder,e)}writeInfo(e){t_(this.restEncoder,e)}writeString(e){o_(this.restEncoder,e)}writeParentInfo(e){n_(this.restEncoder,e?1:0)}writeTypeRef(e){n_(this.restEncoder,e)}writeLen(e){n_(this.restEncoder,e)}writeAny(e){h_(this.restEncoder,e)}writeBuf(e){l_(this.restEncoder,e)}writeJSON(e){o_(this.restEncoder,JSON.stringify(e))}writeKey(e){o_(this.restEncoder,e)}}class Iv{constructor(){this.restEncoder=Zm(),this.dsCurrVal=0}toUint8Array(){return Qm(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,n_(this.restEncoder,t)}writeDsLen(e){0===e&&y_(),n_(this.restEncoder,e-1),this.dsCurrVal+=e}}class Nv extends Iv{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new m_,this.clientEncoder=new f_,this.leftClockEncoder=new m_,this.rightClockEncoder=new m_,this.infoEncoder=new d_(t_),this.stringEncoder=new __,this.parentInfoEncoder=new d_(t_),this.typeRefEncoder=new f_,this.lenEncoder=new f_}toUint8Array(){const e=Zm();return n_(e,0),l_(e,this.keyClockEncoder.toUint8Array()),l_(e,this.clientEncoder.toUint8Array()),l_(e,this.leftClockEncoder.toUint8Array()),l_(e,this.rightClockEncoder.toUint8Array()),l_(e,Qm(this.infoEncoder)),l_(e,this.stringEncoder.toUint8Array()),l_(e,Qm(this.parentInfoEncoder)),l_(e,this.typeRefEncoder.toUint8Array()),l_(e,this.lenEncoder.toUint8Array()),a_(e,Qm(this.restEncoder)),Qm(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){h_(this.restEncoder,e)}writeBuf(e){l_(this.restEncoder,e)}writeJSON(e){h_(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}const Lv=(e,t,n)=>{const s=new Map;n.forEach(((e,n)=>{ob(t,n)>e&&s.set(n,e)})),rb(t).forEach(((e,t)=>{n.has(t)||s.set(t,0)})),n_(e.restEncoder,s.size),zm(s.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([n,s])=>{((e,t,n,s)=>{s=Am(s,t[0].id.clock);const i=lb(t,s);n_(e.restEncoder,t.length-i),e.writeClient(n),n_(e.restEncoder,s);const r=t[i];r.write(e,s-r.id.clock);for(let o=i+1;o<t.length;o++)t[o].write(e,0)})(e,t.clients.get(n),n,s)}))};class Bv{constructor(){this.l=[]}}const $v=()=>new Bv,Fv=(e,t)=>e.l.push(t),Uv=(e,t)=>{const n=e.l,s=n.length;e.l=n.filter((e=>t!==e)),s===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},zv=(e,t,n)=>P_(e.l,[t,n]);class Vv{constructor(e,t){this.client=e,this.clock=t}}const qv=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Hv=(e,t)=>new Vv(e,t),Wv=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw y_()},Kv=(e,t)=>{for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1};class Gv{constructor(e,t,n,s=0){this.type=e,this.tname=t,this.item=n,this.assoc=s}}const Jv=e=>{const t={};return e.type&&(t.type=e.type),e.tname&&(t.tname=e.tname),e.item&&(t.item=e.item),null!=e.assoc&&(t.assoc=e.assoc),t},Yv=e=>new Gv(null==e.type?null:Hv(e.type.client,e.type.clock),e.tname||null,null==e.item?null:Hv(e.item.client,e.item.clock),null==e.assoc?0:e.assoc);class Xv{constructor(e,t,n=0){this.type=e,this.index=t,this.assoc=n}}const Zv=(e,t,n)=>{let s=null,i=null;return null===e._item?i=Wv(e):s=Hv(e._item.id.client,e._item.id.clock),new Gv(s,i,t,n)},Qv=(e,t)=>{const n=t.store,s=e.item,i=e.type,r=e.tname,o=e.assoc;let a=null,l=0;if(null!==s){if(ob(n,s.client)<=s.clock)return null;const e=By(n,s),t=e.item;if(!(t instanceof Vy))return null;if(a=t.parent,null===a._item||!a._item.deleted){l=t.deleted||!t.countable?0:e.diff+(o>=0?0:1);let n=t.left;for(;null!==n;)!n.deleted&&n.countable&&(l+=n.length),n=n.left}}else{if(null!==r)a=t.get(r);else{if(null===i)throw y_();{if(ob(n,i.client)<=i.clock)return null;const{item:e}=By(n,i);if(!(e instanceof Vy&&e.content instanceof Ly))return null;a=e.content.type}}l=o>=0?a._length:0}return((e,t,n=0)=>new Xv(e,t,n))(a,l,e.assoc)};class eb{constructor(e,t){this.ds=e,this.sv=t}}const tb=(e,t)=>new eb(e,t),nb=(tb(Tv(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!kv(t.ds,e.id)),sb=(e,t)=>{const n=C_(e.meta,sb,$m),s=e.doc.store;n.has(t)||(t.sv.forEach(((t,n)=>{t<ob(s,n)&&hb(e,Hv(n,t))})),Cv(e,t.ds,(e=>{})),n.add(t))};class ib{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const rb=e=>{const t=new Map;return e.clients.forEach(((e,n)=>{const s=e[e.length-1];t.set(n,s.id.clock+s.length)})),t},ob=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const s=n[n.length-1];return s.id.clock+s.length},ab=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw y_()}n.push(t)},lb=(e,t)=>{let n=0,s=e.length-1,i=e[s],r=i.id.clock;if(r===t)return s;let o=Tm(t/(r+i.length-1)*s);for(;n<=s;){if(i=e[o],r=i.id.clock,r<=t){if(t<r+i.length)return o;n=o+1}else s=o-1;o=Tm((n+s)/2)}throw y_()},cb=(e,t)=>{const n=e.clients.get(t.client);return n[lb(n,t.clock)]},ub=(e,t,n)=>{const s=lb(t,n),i=t[s];return i.id.clock<n&&i instanceof Vy?(t.splice(s+1,0,Fy(e,i,n-i.id.clock)),s+1):s},hb=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[ub(e,n,t.clock)]},db=(e,t,n)=>{const s=t.clients.get(n.client),i=lb(s,n.clock),r=s[i];return n.clock!==r.id.clock+r.length-1&&r.constructor!==Sy&&s.splice(i+1,0,Fy(e,r,n.clock-r.id.clock+1)),r},pb=(e,t,n,s,i)=>{if(0===s)return;const r=n+s;let o,a=ub(e,t,n);do{o=t[a++],r<o.id.clock+o.length&&ub(e,t,r),i(o)}while(a<t.length&&t[a].id.clock<r)};class fb{constructor(e,t,n){this.doc=e,this.deleteSet=new Sv,this.beforeState=rb(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const gb=(e,t)=>!(0===t.deleteSet.clients.size&&!((e,t)=>{for(const[n,s]of e)if(t(s,n))return!0;return!1})(t.afterState,((e,n)=>t.beforeState.get(n)!==e)))&&(Ev(t.deleteSet),((e,t)=>{Lv(e,t.doc.store,t.beforeState)})(e,t),Dv(e,t.deleteSet),!0),mb=(e,t,n)=>{const s=t._item;(null===s||s.id.clock<(e.beforeState.get(s.id.client)||0)&&!s.deleted)&&C_(e.changed,t,$m).add(n)},_b=(e,t)=>{let n=e[t],s=e[t-1],i=t;for(;i>0&&(s.deleted===n.deleted&&s.constructor===n.constructor&&s.mergeWith(n));n=s,s=e[--i-1])n instanceof Vy&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,s);const r=t-i;return r&&e.splice(t+1-r,r),r},vb=(e,t,n)=>{for(const[s,i]of e.clients.entries()){const e=t.clients.get(s);for(let s=i.length-1;s>=0;s--){const r=i[s],o=r.clock+r.len;for(let s=lb(e,r.clock),i=e[s];s<e.length&&i.id.clock<o;i=e[++s]){const i=e[s];if(r.clock+r.len<=i.id.clock)break;i instanceof Vy&&i.deleted&&!i.keep&&n(i)&&i.gc(t,!1)}}}},bb=(e,t)=>{e.clients.forEach(((e,n)=>{const s=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=Pm(s.length-1,1+lb(s,n.clock+n.len-1)),t=s[e];e>0&&t.id.clock>=n.clock;t=s[e])e-=1+_b(s,e)}}))},yb=(e,t)=>{if(t<e.length){const n=e[t],s=n.doc,i=s.store,r=n.deleteSet,o=n._mergeStructs;try{Ev(r),n.afterState=rb(n.doc.store),s.emit("beforeObserverCalls",[n,s]);const e=[];n.changed.forEach(((t,s)=>e.push((()=>{null!==s._item&&s._item.deleted||s._callObserver(n,t)})))),e.push((()=>{n.changedParentTypes.forEach(((e,t)=>{t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&((e=e.filter((e=>null===e.target._item||!e.target._item.deleted))).forEach((e=>{e.currentTarget=t,e._path=null})),e.sort(((e,t)=>e.path.length-t.path.length)),zv(t._dEH,e,n))}))})),e.push((()=>s.emit("afterTransaction",[n,s]))),P_(e,[]),n._needFormattingCleanup&&fy(n)}finally{s.gc&&vb(r,i,s.gcFilter),bb(r,i),n.afterState.forEach(((e,t)=>{const s=n.beforeState.get(t)||0;if(s!==e){const e=i.clients.get(t),n=Am(lb(e,s),1);for(let t=e.length-1;t>=n;)t-=1+_b(e,t)}}));for(let e=o.length-1;e>=0;e--){const{client:t,clock:n}=o[e].id,s=i.clients.get(t),r=lb(s,n);r+1<s.length&&_b(s,r+1)>1||r>0&&_b(s,r)}if(n.local||n.afterState.get(s.clientID)===n.beforeState.get(s.clientID)||(vv(fv,av,"[yjs] ",lv,dv,"Changed the client-id because another client seems to be using it."),s.clientID=Pv()),s.emit("afterTransactionCleanup",[n,s]),s._observers.has("update")){const e=new jv;gb(e,n)&&s.emit("update",[e.toUint8Array(),n.origin,s,n])}if(s._observers.has("updateV2")){const e=new Nv;gb(e,n)&&s.emit("updateV2",[e.toUint8Array(),n.origin,s,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach((e=>{e.clientID=s.clientID,null==e.collectionid&&(e.collectionid=s.collectionid),s.subdocs.add(e)})),c.forEach((e=>s.subdocs.delete(e))),s.emit("subdocs",[{loaded:l,added:a,removed:c},s,n]),c.forEach((e=>e.destroy()))),e.length<=t+1?(s._transactionCleanups=[],s.emit("afterAllTransactions",[s,e])):yb(e,t+1)}}},wb=(e,t,n=null,s=!0)=>{const i=e._transactionCleanups;let r=!1,o=null;null===e._transaction&&(r=!0,e._transaction=new fb(e,n,s),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{o=t(e._transaction)}finally{if(r){const t=e._transaction===i[0];e._transaction=null,t&&yb(i,0)}}return o};class xb{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}const Sb=(e,t,n)=>{Cv(e,n.deletions,(e=>{e instanceof Vy&&t.scope.some((t=>Kv(t,e)))&&$y(e,!1)}))},Cb=(e,t,n)=>{let s=null,i=null;const r=e.doc,o=e.scope;if(wb(r,(n=>{for(;t.length>0&&null===s;){const i=r.store,a=t.pop(),l=new Set,c=[];let u=!1;Cv(n,a.insertions,(e=>{if(e instanceof Vy){if(null!==e.redone){let{item:t,diff:s}=By(i,e.id);s>0&&(t=hb(n,Hv(t.id.client,t.id.clock+s))),e=t}!e.deleted&&o.some((t=>Kv(t,e)))&&c.push(e)}})),Cv(n,a.deletions,(e=>{e instanceof Vy&&o.some((t=>Kv(t,e)))&&!kv(a.insertions,e.id)&&l.add(e)})),l.forEach((t=>{u=null!==zy(n,t,l,a.insertions,e.ignoreRemoteMapChanges,e)||u}));for(let t=c.length-1;t>=0;t--){const s=c[t];e.deleteFilter(s)&&(s.delete(n),u=!0)}s=u?a:null}n.changed.forEach(((e,t)=>{e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),i=n}),e),null!=s){const t=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:t},e])}return s};class kb extends k_{constructor(e,{captureTimeout:t=500,captureTransaction:n=(e=>!0),deleteFilter:s=(()=>!0),trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:r=!1,doc:o=(Vm(e)?e[0].doc:e.doc)}={}){super(),this.scope=[],this.doc=o,this.addToScope(e),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.lastChange=0,this.ignoreRemoteMapChanges=r,this.captureTimeout=t,this.afterTransactionHandler=e=>{if(!(this.captureTransaction(e)&&this.scope.some((t=>e.changedParentTypes.has(t)))&&(this.trackedOrigins.has(e.origin)||e.origin&&this.trackedOrigins.has(e.origin.constructor))))return;const t=this.undoing,n=this.redoing,s=t?this.redoStack:this.undoStack;t?this.stopCapturing():n||this.clear(!1,!0);const i=new Sv;e.afterState.forEach(((t,n)=>{const s=e.beforeState.get(n)||0,r=t-s;r>0&&Mv(i,n,s,r)}));const r=w_();let o=!1;if(this.lastChange>0&&r-this.lastChange<this.captureTimeout&&s.length>0&&!t&&!n){const t=s[s.length-1];t.deletions=Ov([t.deletions,e.deleteSet]),t.insertions=Ov([t.insertions,i])}else s.push(new xb(e.deleteSet,i)),o=!0;t||n||(this.lastChange=r),Cv(e,e.deleteSet,(e=>{e instanceof Vy&&this.scope.some((t=>Kv(t,e)))&&$y(e,!0)}));const a=[{stackItem:s[s.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},this];o?this.emit("stack-item-added",a):this.emit("stack-item-updated",a)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",(()=>{this.destroy()}))}addToScope(e){(e=Vm(e)?e:[e]).forEach((e=>{this.scope.every((t=>t!==e))&&(e.doc!==this.doc&&((...e)=>{console.warn(..._v(e)),e.unshift(fv),bv.forEach((t=>t.print(e)))})("[yjs#509] Not same Y.Doc"),this.scope.push(e))}))}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact((n=>{e&&(this.undoStack.forEach((e=>Sb(n,this,e))),this.undoStack=[]),t&&(this.redoStack.forEach((e=>Sb(n,this,e))),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])}))}stopCapturing(){this.lastChange=0}undo(){let e;this.undoing=!0;try{e=Cb(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){let e;this.redoing=!0;try{e=Cb(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}const Eb="You must not compute changes after the event-handler fired.";class Ob{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Mb(this.currentTarget,this.target))}deletes(e){return kv(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw v_(Eb);const e=new Map,t=this.target;this.transaction.changed.get(t).forEach((n=>{if(null!==n){const s=t._map.get(n);let i,r;if(this.adds(s)){let e=s.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(s)){if(null===e||!this.deletes(e))return;i="delete",r=Fm(e.content.getContent())}else null!==e&&this.deletes(e)?(i="update",r=Fm(e.content.getContent())):(i="add",r=void 0)}else{if(!this.deletes(s))return;i="delete",r=Fm(s.content.getContent())}e.set(n,{action:i,oldValue:r})}})),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){if(0===this.transaction.doc._transactionCleanups.length)throw v_(Eb);const t=this.target,n=$m(),s=$m(),i=[];e={added:n,deleted:s,delta:i,keys:this.keys};if(this.transaction.changed.get(t).has(null)){let e=null;const r=()=>{e&&i.push(e)};for(let i=t._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==e&&void 0!==e.delete||(r(),e={delete:0}),e.delete+=i.length,s.add(i)):this.adds(i)?(null!==e&&void 0!==e.insert||(r(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),n.add(i)):(null!==e&&void 0!==e.retain||(r(),e={retain:0}),e.retain+=i.length);null!==e&&void 0===e.retain&&r()}this._changes=e}return e}}const Mb=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,s=t._item.parent._start;for(;s!==t._item&&null!==s;)s.deleted||e++,s=s.right;n.unshift(e)}t=t._item.parent}return n};let Tb=0;class Db{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=Tb++}}const Pb=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Tb++},Ab=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce(((e,n)=>Dm(t-e.index)<Dm(t-n.index)?e:n));let s=e._start,i=0;for(null!==n&&(s=n.p,i=n.index,(e=>{e.timestamp=Tb++})(n));null!==s.right&&i<t;){if(!s.deleted&&s.countable){if(t<i+s.length)break;i+=s.length}s=s.right}for(;null!==s.left&&i>t;)s=s.left,!s.deleted&&s.countable&&(i-=s.length);for(;null!==s.left&&s.left.id.client===s.id.client&&s.left.id.clock+s.left.length===s.id.clock;)s=s.left,!s.deleted&&s.countable&&(i-=s.length);return null!==n&&Dm(n.index-i)<s.parent.length/80?(Pb(n,s,i),n):((e,t,n)=>{if(e.length>=80){const s=e.reduce(((e,t)=>e.timestamp<t.timestamp?e:t));return Pb(s,t,n),s}{const s=new Db(t,n);return e.push(s),s}})(e._searchMarker,s,i)},Rb=(e,t,n)=>{for(let s=e.length-1;s>=0;s--){const i=e[s];if(n>0){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){e.splice(s,1);continue}i.p=t,t.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=Am(t,i.index+n))}},jb=(e,t,n)=>{const s=e,i=t.changedParentTypes;for(;C_(i,e,(()=>[])).push(n),null!==e._item;)e=e._item.parent;zv(s._eH,n,t)};class Ib{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$v(),this._dEH=$v(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw b_()}clone(){throw b_()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Fv(this._eH,e)}observeDeep(e){Fv(this._dEH,e)}unobserve(e){Uv(this._eH,e)}unobserveDeep(e){Uv(this._dEH,e)}toJSON(){}}const Nb=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let s=n-t;const i=[];let r=e._start;for(;null!==r&&s>0;){if(r.countable&&!r.deleted){const e=r.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&s>0;n++)i.push(e[n]),s--;t=0}}r=r.right}return i},Lb=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},Bb=(e,t)=>{let n=0,s=e._start;for(;null!==s;){if(s.countable&&!s.deleted){const i=s.content.getContent();for(let s=0;s<i.length;s++)t(i[s],n++,e)}s=s.right}},$b=(e,t)=>{const n=[];return Bb(e,((s,i)=>{n.push(t(s,i,e))})),n},Fb=e=>{let t=e._start,n=null,s=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),s=0,t=t.right}const e=n[s++];return n.length<=s&&(n=null),{done:!1,value:e}}}},Ub=(e,t)=>{const n=Ab(e,t);let s=e._start;for(null!==n&&(s=n.p,t-=n.index);null!==s;s=s.right)if(!s.deleted&&s.countable){if(t<s.length)return s.content.getContent()[t];t-=s.length}},zb=(e,t,n,s)=>{let i=n;const r=e.doc,o=r.clientID,a=r.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new Vy(Hv(o,ob(a,o)),i,i&&i.lastId,l,l&&l.id,t,null,new Dy(c)),i.integrate(e,0),c=[])};s.forEach((n=>{if(null===n)c.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:i=new Vy(Hv(o,ob(a,o)),i,i&&i.lastId,l,l&&l.id,t,null,new Cy(new Uint8Array(n))),i.integrate(e,0);break;case Av:i=new Vy(Hv(o,ob(a,o)),i,i&&i.lastId,l,l&&l.id,t,null,new Oy(n)),i.integrate(e,0);break;default:if(!(n instanceof Ib))throw new Error("Unexpected content type in insert operation");i=new Vy(Hv(o,ob(a,o)),i,i&&i.lastId,l,l&&l.id,t,null,new Ly(n)),i.integrate(e,0)}}})),u()},Vb=()=>v_("Length exceeded!"),qb=(e,t,n,s)=>{if(n>t._length)throw Vb();if(0===n)return t._searchMarker&&Rb(t._searchMarker,n,s.length),zb(e,t,null,s);const i=n,r=Ab(t,n);let o=t._start;for(null!==r&&(o=r.p,0===(n-=r.index)&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));null!==o;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&hb(e,Hv(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&Rb(t._searchMarker,i,s.length),zb(e,t,o,s)},Hb=(e,t,n,s)=>{if(0===s)return;const i=n,r=s,o=Ab(t,n);let a=t._start;for(null!==o&&(a=o.p,n-=o.index);null!==a&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&hb(e,Hv(a.id.client,a.id.clock+n)),n-=a.length);for(;s>0&&null!==a;)a.deleted||(s<a.length&&hb(e,Hv(a.id.client,a.id.clock+s)),a.delete(e),s-=a.length),a=a.right;if(s>0)throw Vb();t._searchMarker&&Rb(t._searchMarker,i,-r+s)},Wb=(e,t,n)=>{const s=t._map.get(n);void 0!==s&&s.delete(e)},Kb=(e,t,n,s)=>{const i=t._map.get(n)||null,r=e.doc,o=r.clientID;let a;if(null==s)a=new Dy([s]);else switch(s.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Dy([s]);break;case Uint8Array:a=new Cy(s);break;case Av:a=new Oy(s);break;default:if(!(s instanceof Ib))throw new Error("Unexpected content type");a=new Ly(s)}new Vy(Hv(o,ob(r.store,o)),i,i&&i.lastId,null,null,t,n,a).integrate(e,0)},Gb=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Jb=e=>{const t={};return e._map.forEach(((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},Yb=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Xb=e=>((e,t)=>yv((()=>{let n;do{n=e.next()}while(!n.done&&!t(n.value));return n})))(e.entries(),(e=>!e[1].deleted));class Zb extends Ob{constructor(e,t){super(e,t),this._transaction=t}}class Qb extends Ib{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new Qb;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Qb}clone(){const e=new Qb;return e.insert(0,this.toArray().map((e=>e instanceof Ib?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),jb(this,e,new Zb(this,e))}insert(e,t){null!==this.doc?wb(this.doc,(n=>{qb(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?wb(this.doc,(t=>{((e,t,n)=>{let s=(t._searchMarker||[]).reduce(((e,t)=>t.index>e.index?t:e),{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;zb(e,t,s,n)})(t,this,e)})):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?wb(this.doc,(n=>{Hb(n,this,e,t)})):this._prelimContent.splice(e,t)}get(e){return Ub(this,e)}toArray(){return Lb(this)}slice(e=0,t=this.length){return Nb(this,e,t)}toJSON(){return this.map((e=>e instanceof Ib?e.toJSON():e))}map(e){return $b(this,e)}forEach(e){Bb(this,e)}[Symbol.iterator](){return Fb(this)}_write(e){e.writeTypeRef(Ay)}}class ey extends Ob{constructor(e,t,n){super(e,t),this.keysChanged=n}}class ty extends Ib{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach(((e,t)=>{this.set(t,e)})),this._prelimContent=null}_copy(){return new ty}clone(){const e=new ty;return this.forEach(((t,n)=>{e.set(n,t instanceof Ib?t.clone():t)})),e}_callObserver(e,t){jb(this,e,new ey(this,e,t))}toJSON(){const e={};return this._map.forEach(((t,n)=>{if(!t.deleted){const s=t.content.getContent()[t.length-1];e[n]=s instanceof Ib?s.toJSON():s}})),e}get size(){return[...Xb(this._map)].length}keys(){return wv(Xb(this._map),(e=>e[0]))}values(){return wv(Xb(this._map),(e=>e[1].content.getContent()[e[1].length-1]))}entries(){return wv(Xb(this._map),(e=>[e[0],e[1].content.getContent()[e[1].length-1]]))}forEach(e){this._map.forEach(((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}))}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?wb(this.doc,(t=>{Wb(t,this,e)})):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?wb(this.doc,(n=>{Kb(n,this,e,t)})):this._prelimContent.set(e,t),t}get(e){return Gb(this,e)}has(e){return Yb(this,e)}clear(){null!==this.doc?wb(this.doc,(e=>{this.forEach((function(t,n,s){Wb(e,s,n)}))})):this._prelimContent.clear()}_write(e){e.writeTypeRef(Ry)}}const ny=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&D_(e,t);class sy{constructor(e,t,n,s){this.left=e,this.right=t,this.index=n,this.currentAttributes=s}forward(){if(null===this.right&&y_(),this.right.content.constructor===Ty)this.right.deleted||ay(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}const iy=(e,t,n)=>{for(;null!==t.right&&n>0;){if(t.right.content.constructor===Ty)t.right.deleted||ay(t.currentAttributes,t.right.content);else t.right.deleted||(n<t.right.length&&hb(e,Hv(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);t.left=t.right,t.right=t.right.right}return t},ry=(e,t,n)=>{const s=new Map,i=Ab(t,n);if(i){const t=new sy(i.p.left,i.p,i.index,s);return iy(e,t,n-i.index)}{const i=new sy(null,t._start,0,s);return iy(e,i,n)}},oy=(e,t,n,s)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Ty&&ny(s.get(n.right.content.key),n.right.content.value));)n.right.deleted||s.delete(n.right.content.key),n.forward();const i=e.doc,r=i.clientID;s.forEach(((s,o)=>{const a=n.left,l=n.right,c=new Vy(Hv(r,ob(i.store,r)),a,a&&a.lastId,l,l&&l.id,t,null,new Ty(o,s));c.integrate(e,0),n.right=c,n.forward()}))},ay=(e,t)=>{const{key:n,value:s}=t;null===s?e.delete(n):e.set(n,s)},ly=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Ty&&ny(t[e.right.content.key]||null,e.right.content.value));)e.forward()},cy=(e,t,n,s)=>{const i=e.doc,r=i.clientID,o=new Map;for(const a in s){const l=s[a],c=n.currentAttributes.get(a)||null;if(!ny(c,l)){o.set(a,c);const{left:s,right:u}=n;n.right=new Vy(Hv(r,ob(i.store,r)),s,s&&s.lastId,u,u&&u.id,t,null,new Ty(a,l)),n.right.integrate(e,0),n.forward()}}return o},uy=(e,t,n,s,i)=>{n.currentAttributes.forEach(((e,t)=>{void 0===i[t]&&(i[t]=null)}));const r=e.doc,o=r.clientID;ly(n,i);const a=cy(e,t,n,i),l=s.constructor===String?new Py(s):s instanceof Ib?new Ly(s):new My(s);let{left:c,right:u,index:h}=n;t._searchMarker&&Rb(t._searchMarker,n.index,l.getLength()),u=new Vy(Hv(o,ob(r.store,o)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=h,n.forward(),oy(e,t,n,a)},hy=(e,t,n,s,i)=>{const r=e.doc,o=r.clientID;ly(n,i);const a=cy(e,t,n,i);e:for(;null!==n.right&&(s>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Ty));){if(!n.right.deleted)switch(n.right.content.constructor){case Ty:{const{key:t,value:r}=n.right.content,o=i[t];if(void 0!==o){if(ny(o,r))a.delete(t);else{if(0===s)break e;a.set(t,r)}n.right.delete(e)}else n.currentAttributes.set(t,r);break}default:s<n.right.length&&hb(e,Hv(n.right.id.client,n.right.id.clock+s)),s-=n.right.length}n.forward()}if(s>0){let i="";for(;s>0;s--)i+="\n";n.right=new Vy(Hv(o,ob(r.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Py(i)),n.right.integrate(e,0),n.forward()}oy(e,t,n,a)},dy=(e,t,n,s,i)=>{let r=t;const o=x_();for(;r&&(!r.countable||r.deleted);){if(!r.deleted&&r.content.constructor===Ty){const e=r.content;o.set(e.key,e)}r=r.right}let a=0,l=!1;for(;t!==r;){if(n===t&&(l=!0),!t.deleted){const n=t.content;switch(n.constructor){case Ty:{const{key:r,value:c}=n,u=s.get(r)||null;o.get(r)===n&&u!==c||(t.delete(e),a++,l||(i.get(r)||null)!==c||u===c||(null===u?i.delete(r):i.set(r,u))),l||t.deleted||ay(i,n);break}}}t=t.right}return a},py=e=>{let t=0;return wb(e.doc,(n=>{let s=e._start,i=e._start,r=x_();const o=S_(r);for(;i;){if(!1===i.deleted)if(i.content.constructor===Ty)ay(o,i.content);else t+=dy(n,s,i,r,o),r=S_(o),s=i;i=i.right}})),t},fy=e=>{const t=new Set,n=e.doc;for(const[s,i]of e.afterState.entries()){const r=e.beforeState.get(s)||0;i!==r&&pb(e,n.store.clients.get(s),r,i,(e=>{e.deleted||e.content.constructor!==Ty||e.constructor===Sy||t.add(e.parent)}))}wb(n,(n=>{Cv(e,e.deleteSet,(e=>{if(e instanceof Sy||!e.parent._hasFormatting||t.has(e.parent))return;const s=e.parent;e.content.constructor===Ty?t.add(s):((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Ty){const s=t.content.key;n.has(s)?t.delete(e):n.add(s)}t=t.left}})(n,e)}));for(const e of t)py(e)}))},gy=(e,t,n)=>{const s=n,i=S_(t.currentAttributes),r=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case Ly:case My:case Py:n<t.right.length&&hb(e,Hv(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}r&&dy(e,r,t.right,i,t.currentAttributes);const o=(t.left||t.right).parent;return o._searchMarker&&Rb(o._searchMarker,t.index,-s+n),t};class my extends Ob{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)}))}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];wb(e,(e=>{const n=new Map,s=new Map;let i=this.target._start,r=null;const o={};let a="",l=0,c=0;const u=()=>{if(null!==r){let e=null;switch(r){case"delete":c>0&&(e={delete:c}),c=0;break;case"insert":("object"==typeof a||a.length>0)&&(e={insert:a},n.size>0&&(e.attributes={},n.forEach(((t,n)=>{null!==t&&(e.attributes[n]=t)})))),a="";break;case"retain":l>0&&(e={retain:l},(e=>{for(const t in e)return!1;return!0})(o)||(e.attributes=E_({},o))),l=0}e&&t.push(e),r=null}};for(;null!==i;){switch(i.content.constructor){case Ly:case My:this.adds(i)?this.deletes(i)||(u(),r="insert",a=i.content.getContent()[0],u()):this.deletes(i)?("delete"!==r&&(u(),r="delete"),c+=1):i.deleted||("retain"!==r&&(u(),r="retain"),l+=1);break;case Py:this.adds(i)?this.deletes(i)||("insert"!==r&&(u(),r="insert"),a+=i.content.str):this.deletes(i)?("delete"!==r&&(u(),r="delete"),c+=i.length):i.deleted||("retain"!==r&&(u(),r="retain"),l+=i.length);break;case Ty:{const{key:t,value:a}=i.content;if(this.adds(i)){if(!this.deletes(i)){const l=n.get(t)||null;ny(l,a)?null!==a&&i.delete(e):("retain"===r&&u(),ny(a,s.get(t)||null)?delete o[t]:o[t]=a)}}else if(this.deletes(i)){s.set(t,a);const e=n.get(t)||null;ny(e,a)||("retain"===r&&u(),o[t]=e)}else if(!i.deleted){s.set(t,a);const n=o[t];void 0!==n&&(ny(n,a)?null!==n&&i.delete(e):("retain"===r&&u(),null===a?delete o[t]:o[t]=a))}i.deleted||("insert"===r&&u(),ay(n,i.content));break}}i=i.right}for(u();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}})),this._delta=t}return this._delta}}class _y extends Ib{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach((e=>e()))}catch(rU){console.error(rU)}this._pending=null}_copy(){return new _y}clone(){const e=new _y;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new my(this,e,t);jb(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===Py&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?wb(this.doc,(n=>{const s=new sy(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const r=e[i];if(void 0!==r.insert){const o=t||"string"!=typeof r.insert||i!==e.length-1||null!==s.right||"\n"!==r.insert.slice(-1)?r.insert:r.insert.slice(0,-1);("string"!=typeof o||o.length>0)&&uy(n,this,s,o,r.attributes||{})}else void 0!==r.retain?hy(n,this,s,r.retain,r.attributes||{}):void 0!==r.delete&&gy(n,s,r.delete)}})):this._pending.push((()=>this.applyDelta(e)))}toDelta(e,t,n){const s=[],i=new Map,r=this.doc;let o="",a=this._start;function l(){if(o.length>0){const e={};let t=!1;i.forEach(((n,s)=>{t=!0,e[s]=n}));const n={insert:o};t&&(n.attributes=e),s.push(n),o=""}}const c=()=>{for(;null!==a;){if(nb(a,e)||void 0!==t&&nb(a,t))switch(a.content.constructor){case Py:{const s=i.get("ychange");void 0===e||nb(a,e)?void 0===t||nb(a,t)?void 0!==s&&(l(),i.delete("ychange")):void 0!==s&&s.user===a.id.client&&"added"===s.type||(l(),i.set("ychange",n?n("added",a.id):{type:"added"})):void 0!==s&&s.user===a.id.client&&"removed"===s.type||(l(),i.set("ychange",n?n("removed",a.id):{type:"removed"})),o+=a.content.str;break}case Ly:case My:{l();const e={insert:a.content.getContent()[0]};if(i.size>0){const t={};e.attributes=t,i.forEach(((e,n)=>{t[n]=e}))}s.push(e);break}case Ty:nb(a,e)&&(l(),ay(i,a.content))}a=a.right}l()};return e||t?wb(r,(n=>{e&&sb(n,e),t&&sb(n,t),c()}),"cleanup"):c(),s}insert(e,t,n){if(t.length<=0)return;const s=this.doc;null!==s?wb(s,(s=>{const i=ry(s,this,e);n||(n={},i.currentAttributes.forEach(((e,t)=>{n[t]=e}))),uy(s,this,i,t,n)})):this._pending.push((()=>this.insert(e,t,n)))}insertEmbed(e,t,n={}){const s=this.doc;null!==s?wb(s,(s=>{const i=ry(s,this,e);uy(s,this,i,t,n)})):this._pending.push((()=>this.insertEmbed(e,t,n)))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?wb(n,(n=>{gy(n,ry(n,this,e),t)})):this._pending.push((()=>this.delete(e,t)))}format(e,t,n){if(0===t)return;const s=this.doc;null!==s?wb(s,(s=>{const i=ry(s,this,e);null!==i.right&&hy(s,this,i,t,n)})):this._pending.push((()=>this.format(e,t,n)))}removeAttribute(e){null!==this.doc?wb(this.doc,(t=>{Wb(t,this,e)})):this._pending.push((()=>this.removeAttribute(e)))}setAttribute(e,t){null!==this.doc?wb(this.doc,(n=>{Kb(n,this,e,t)})):this._pending.push((()=>this.setAttribute(e,t)))}getAttribute(e){return Gb(this,e)}getAttributes(){return Jb(this)}_write(e){e.writeTypeRef(jy)}}class vy{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==yy&&t.constructor!==by||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class by extends Ib{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new by}clone(){const e=new by;return e.insert(0,this.toArray().map((e=>e instanceof Ib?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new vy(this,e)}querySelector(e){e=e.toUpperCase();const t=new vy(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),zm(new vy(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)))}_callObserver(e,t){jb(this,e,new wy(this,t,e))}toString(){return $b(this,(e=>e.toString())).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const s=e.createDocumentFragment();return void 0!==n&&n._createAssociation(s,this),Bb(this,(i=>{s.insertBefore(i.toDOM(e,t,n),null)})),s}insert(e,t){null!==this.doc?wb(this.doc,(n=>{qb(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)wb(this.doc,(n=>{const s=e&&e instanceof Ib?e._item:e;zb(n,this,s,t)}));else{const n=this._prelimContent,s=null===e?0:n.findIndex((t=>t===e))+1;if(0===s&&null!==e)throw v_("Reference item not found");n.splice(s,0,...t)}}delete(e,t=1){null!==this.doc?wb(this.doc,(n=>{Hb(n,this,e,t)})):this._prelimContent.splice(e,t)}toArray(){return Lb(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Ub(this,e)}slice(e=0,t=this.length){return Nb(this,e,t)}forEach(e){Bb(this,e)}_write(e){e.writeTypeRef(Ny)}}class yy extends by{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach(((e,t)=>{this.setAttribute(t,e)})),this._prelimAttrs=null}_copy(){return new yy(this.nodeName)}clone(){const e=new yy(this.nodeName);return((e,t)=>{for(const n in e)t(e[n],n)})(this.getAttributes(),((t,n)=>{"string"==typeof t&&e.setAttribute(n,t)})),e.insert(0,this.toArray().map((e=>e instanceof Ib?e.clone():e))),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const r in e)n.push(r);n.sort();const s=n.length;for(let r=0;r<s;r++){const s=n[r];t.push(s+'="'+e[s]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(e){null!==this.doc?wb(this.doc,(t=>{Wb(t,this,e)})):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?wb(this.doc,(n=>{Kb(n,this,e,t)})):this._prelimAttrs.set(e,t)}getAttribute(e){return Gb(this,e)}hasAttribute(e){return Yb(this,e)}getAttributes(e){return e?((e,t)=>{const n={};return e._map.forEach(((e,s)=>{let i=e;for(;null!==i&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;null!==i&&nb(i,t)&&(n[s]=i.content.getContent()[i.length-1])})),n})(this,e):Jb(this)}toDOM(e=document,t={},n){const s=e.createElement(this.nodeName),i=this.getAttributes();for(const r in i){const e=i[r];"string"==typeof e&&s.setAttribute(r,e)}return Bb(this,(i=>{s.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef(Iy),e.writeKey(this.nodeName)}}class wy extends Ob{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach((e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)}))}}class xy{constructor(e,t){this.id=e,this.length=t}get deleted(){throw b_()}mergeWith(e){return!1}write(e,t,n){throw b_()}integrate(e,t){throw b_()}}class Sy extends xy{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),ab(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class Cy{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Cy(this.content)}splice(e){throw b_()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class ky{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ky(this.len)}splice(e){const t=new ky(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){Mv(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const Ey=(e,t)=>new Av({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Oy{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Oy(Ey(this.doc.guid,this.opts))}splice(e){throw b_()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class My{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new My(this.embed)}splice(e){throw b_()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class Ty{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ty(this.key,this.value)}splice(e){throw b_()}mergeWith(e){return!1}integrate(e,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class Dy{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Dy(this.arr)}splice(e){const t=new Dy(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let s=t;s<n;s++){const t=this.arr[s];e.writeAny(t)}}getRef(){return 8}}class Py{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Py(this.str)}splice(e){const t=new Py(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\ufffd",t.str="\ufffd"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const Ay=0,Ry=1,jy=2,Iy=3,Ny=4;class Ly{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ly(this.type._copy())}splice(e){throw b_()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((t=>{for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const By=(e,t)=>{let n,s=t,i=0;do{i>0&&(s=Hv(s.client,s.clock+i)),n=cb(e,s),i=s.clock-n.id.clock,s=n.redone}while(null!==s&&n instanceof Vy);return{item:n,diff:i}},$y=(e,t)=>{for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},Fy=(e,t,n)=>{const{client:s,clock:i}=t.id,r=new Vy(Hv(s,i+n),t,Hv(s,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&r.markDeleted(),t.keep&&(r.keep=!0),null!==t.redone&&(r.redone=Hv(t.redone.client,t.redone.clock+n)),t.right=r,null!==r.right&&(r.right.left=r),e._mergeStructs.push(r),null!==r.parentSub&&null===r.right&&r.parent._map.set(r.parentSub,r),t.length=n,r},Uy=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1})(e,(e=>kv(e.deletions,t))),zy=(e,t,n,s,i,r)=>{const o=e.doc,a=o.store,l=o.clientID,c=t.redone;if(null!==c)return hb(e,c);let u,h=t.parent._item,d=null;if(null!==h&&!0===h.deleted){if(null===h.redone&&(!n.has(h)||null===zy(e,h,n,s,i,r)))return null;for(;null!==h.redone;)h=hb(e,h.redone)}const p=null===h?t.parent:h.content.type;if(null===t.parentSub){for(d=t.left,u=t;null!==d;){let t=d;for(;null!==t&&t.parent._item!==h;)t=null===t.redone?null:hb(e,t.redone);if(null!==t&&t.parent._item===h){d=t;break}d=d.left}for(;null!==u;){let t=u;for(;null!==t&&t.parent._item!==h;)t=null===t.redone?null:hb(e,t.redone);if(null!==t&&t.parent._item===h){u=t;break}u=u.right}}else if(u=null,t.right&&!i){for(d=t;null!==d&&null!==d.right&&(d.right.redone||kv(s,d.right.id)||Uy(r.undoStack,d.right.id)||Uy(r.redoStack,d.right.id));)for(d=d.right;d.redone;)d=hb(e,d.redone);if(d&&null!==d.right)return null}else d=p._map.get(t.parentSub)||null;const f=ob(a,l),g=Hv(l,f),m=new Vy(g,d,d&&d.lastId,u,u&&u.id,p,t.parentSub,t.content.copy());return t.redone=g,$y(m,!0),m.integrate(e,0),m};class Vy extends xy{constructor(e,t,n,s,i,r,o,a){super(e,a.getLength()),this.origin=n,this.left=t,this.right=s,this.rightOrigin=i,this.parent=r,this.parentSub=o,this.redone=null,this.content=a,this.info=this.content.isCountable()?2:0}set marker(e){(8&this.info)>0!==e&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=ob(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=ob(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Vv&&this.id.client!==this.parent.client&&this.parent.clock>=ob(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=db(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=hb(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Sy||this.right&&this.right.constructor===Sy)this.parent=null;else if(this.parent){if(this.parent.constructor===Vv){const e=cb(t,this.parent);e.constructor===Sy?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===Vy&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Vy&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=db(e,e.doc.store,Hv(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const s=new Set,i=new Set;for(;null!==t&&t!==this.right;){if(i.add(t),s.add(t),qv(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,s.clear();else if(qv(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!i.has(cb(e.doc.store,t.origin)))break;s.has(cb(e.doc.store,t.origin))||(n=t,s.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ab(e.doc.store,this),this.content.integrate(e,this),mb(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new Sy(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:Hv(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&qv(e.origin,this.lastId)&&this.right===e&&qv(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach((t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),Mv(e.deleteSet,this.id.client,this.id.clock,this.length),mb(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw y_();this.content.gc(e),t?((e,t,n)=>{const s=e.clients.get(t.id.client);s[lb(s,t.id.clock)]=n})(e,this,new Sy(this.id,this.length)):this.content=new ky(this.length)}write(e,t){const n=t>0?Hv(this.id.client,this.id.clock+t-1):this.origin,s=this.rightOrigin,i=this.parentSub,r=31&this.content.getRef()|(null===n?0:Im)|(null===s?0:jm)|(null===i?0:32);if(e.writeInfo(r),null!==n&&e.writeLeftID(n),null!==s&&e.writeRightID(s),null===n&&null===s){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=Wv(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===Vv?(e.writeParentInfo(!1),e.writeLeftID(t)):y_();null!==i&&e.writeString(i)}this.content.write(e,t)}}const qy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Hy="__ $YJS$ __";!0===qy[Hy]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),qy[Hy]=!0;class Wy{constructor(e){var t;this.onStateChanged=e=>{const t=new Array;e.keysChanged.forEach((n=>{const s=e.changes.keys.get(n);s&&t.push({name:n,oldValue:s.oldValue,newValue:this.ystate.get(n)})})),this._changed.emit({stateChange:t})},this._changed=new f.Signal(this),this._isDisposed=!1,this._disposed=new f.Signal(this),this._ydoc=null!==(t=null==e?void 0:e.ydoc)&&void 0!==t?t:new Av,this._ystate=this._ydoc.getMap("state"),this._undoManager=new kb([],{trackedOrigins:new Set([this]),doc:this._ydoc}),this._awareness=new j_(this._ydoc),this._ystate.observe(this.onStateChanged)}get ydoc(){return this._ydoc}get ystate(){return this._ystate}get undoManager(){return this._undoManager}get awareness(){return this._awareness}get changed(){return this._changed}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get state(){return _.JSONExt.deepCopy(this.ystate.toJSON())}canUndo(){return this.undoManager.undoStack.length>0}canRedo(){return this.undoManager.redoStack.length>0}dispose(){this._isDisposed||(this._isDisposed=!0,this.ystate.unobserve(this.onStateChanged),this.awareness.destroy(),this.undoManager.destroy(),this.ydoc.destroy(),this._disposed.emit(),f.Signal.clearData(this))}getState(e){const t=this.ystate.get(e);return void 0===t?t:_.JSONExt.deepCopy(t)}setState(e,t){_.JSONExt.deepEqual(this.ystate.get(e),t)||this.ystate.set(e,t)}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}clearUndoHistory(){this.undoManager.clear()}transact(e,t=!0){this.ydoc.transact(e,t?this:null)}}class Ky extends Wy{constructor(){super(),this.version="1.0.0",this.ysource=this.ydoc.getText("source"),this._modelObserver=e=>{this._changed.emit({sourceChange:e.changes.delta})},this.undoManager.addToScope(this.ysource),this.ysource.observe(this._modelObserver)}static create(){return new Ky}get source(){return this.getSource()}set source(e){this.setSource(e)}dispose(){this.isDisposed||(this.ysource.unobserve(this._modelObserver),super.dispose())}getSource(){return this.ysource.toString()}setSource(e){this.transact((()=>{const t=this.ysource;t.delete(0,t.length),t.insert(0,e)}))}updateSource(e,t,n=""){this.transact((()=>{const s=this.ysource;s.insert(e,n),s.delete(e+n.length,t-e)}))}}const Gy=(e,t)=>{var n,s;const i=new ty,r=new _y,o=new ty;let a;switch(i.set("source",r),i.set("metadata",o),i.set("cell_type",e.cell_type),i.set("id",null!==(n=e.id)&&void 0!==n?n:_.UUID.uuid4()),e.cell_type){case"markdown":a=new ew(i,r,{notebook:t},o),null!=e.attachments&&a.setAttachments(e.attachments);break;case"code":{const n=new Qb;i.set("outputs",n),a=new Xy(i,r,n,{notebook:t},o);const l=e;a.execution_count=null!==(s=l.execution_count)&&void 0!==s?s:null,l.outputs&&a.setOutputs(l.outputs);break}default:a=new Qy(i,r,{notebook:t},o),e.attachments&&a.setAttachments(e.attachments)}return null!=e.metadata&&a.setMetadata(e.metadata),null!=e.source&&a.setSource("string"==typeof e.source?e.source:e.source.join("")),a},Jy=e=>Gy(e);class Yy{static create(e){return Gy({id:e,cell_type:this.prototype.cell_type})}constructor(e,t,n={},s){if(this._modelObserver=e=>{this._changed.emit(this.getChanges(e))},this._metadataChanged=new f.Signal(this),this._notebook=null,this._changed=new f.Signal(this),this._disposed=new f.Signal(this),this._isDisposed=!1,this._undoManager=null,this.ymodel=e,this._ysource=t,this._ymetadata=null!=s?s:this.ymodel.get("metadata"),this._prevSourceLength=t?t.length:0,this._notebook=null,this._awareness=null,this._undoManager=null,n.notebook)this._notebook=n.notebook;else{const e=new Av;e.getArray().insert(0,[this.ymodel]),this._awareness=new j_(e),this._undoManager=new kb([this.ymodel],{trackedOrigins:new Set([this])})}this.ymodel.observeDeep(this._modelObserver)}get awareness(){var e,t,n;return null!==(n=null!==(e=this._awareness)&&void 0!==e?e:null===(t=this.notebook)||void 0===t?void 0:t.awareness)&&void 0!==n?n:null}get cell_type(){throw new Error("A YBaseCell must not be constructed")}get changed(){return this._changed}get disposed(){return this._disposed}get id(){return this.getId()}get isDisposed(){return this._isDisposed}get isStandalone(){return null!==this._notebook}get metadata(){return this.getMetadata()}set metadata(e){this.setMetadata(e)}get metadataChanged(){return this._metadataChanged}get notebook(){return this._notebook}get source(){return this.getSource()}set source(e){this.setSource(e)}get undoManager(){var e;return this.notebook?(null===(e=this.notebook)||void 0===e?void 0:e.disableDocumentWideUndoRedo)?this._undoManager:this.notebook.undoManager:this._undoManager}setUndoManager(){if(this._undoManager)throw new Error("The cell undo manager is already set.");this._notebook&&this._notebook.disableDocumentWideUndoRedo&&(this._undoManager=new kb([this.ymodel],{trackedOrigins:new Set([this])}))}get ysource(){return this._ysource}canUndo(){return!!this.undoManager&&this.undoManager.undoStack.length>0}canRedo(){return!!this.undoManager&&this.undoManager.redoStack.length>0}clearUndoHistory(){var e;null===(e=this.undoManager)||void 0===e||e.clear()}undo(){var e;null===(e=this.undoManager)||void 0===e||e.undo()}redo(){var e;null===(e=this.undoManager)||void 0===e||e.redo()}dispose(){var e;if(!this._isDisposed){if(this._isDisposed=!0,this.ymodel.unobserveDeep(this._modelObserver),this._awareness){const e=this._awareness.doc;this._awareness.destroy(),e.destroy()}this._undoManager&&(this._undoManager===(null===(e=this.notebook)||void 0===e?void 0:e.undoManager)?this._undoManager=null:this._undoManager.destroy()),this._disposed.emit(),f.Signal.clearData(this)}}getId(){return this.ymodel.get("id")}getSource(){return this.ysource.toString()}setSource(e){this.transact((()=>{this.ysource.delete(0,this.ysource.length),this.ysource.insert(0,e)}))}updateSource(e,t,n=""){this.transact((()=>{const s=this.ysource;s.insert(e,n),s.delete(e+n.length,t-e)}))}deleteMetadata(e){void 0!==this.getMetadata(e)&&this.transact((()=>{this._ymetadata.delete(e);const t=this.getMetadata("jupyter");if("collapsed"===e&&t){const{outputs_hidden:e,...n}=t;0===Object.keys(n).length?this._ymetadata.delete("jupyter"):this._ymetadata.set("jupyter",n)}else"jupyter"===e&&this._ymetadata.delete("collapsed")}),!1)}getMetadata(e){const t=this._ymetadata;if(void 0!==t){if("string"==typeof e){return void 0===t.get(e)?void 0:_.JSONExt.deepCopy(t.get(e))}return _.JSONExt.deepCopy(t.toJSON())}}setMetadata(e,t){var n,s;if("string"==typeof e){if(void 0===t)throw new TypeError(`Metadata value for ${e} cannot be 'undefined'; use deleteMetadata.`);const s=e;if(_.JSONExt.deepEqual(null!==(n=this.getMetadata(s))&&void 0!==n?n:null,t))return;this.transact((()=>{var e;if(this._ymetadata.set(s,t),"collapsed"===s){const n=null!==(e=this.getMetadata("jupyter"))&&void 0!==e?e:{};n.outputs_hidden!==t&&this.setMetadata("jupyter",{...n,outputs_hidden:t})}else if("jupyter"===s){const e=t.outputs_hidden;void 0!==e?this.getMetadata("collapsed")!==e&&this.setMetadata("collapsed",e):this.deleteMetadata("collapsed")}}),!1)}else{const t=_.JSONExt.deepCopy(e);null!=t.collapsed?(t.jupyter=t.jupyter||{},t.jupyter.outputs_hidden=t.collapsed):null!=(null===(s=null==t?void 0:t.jupyter)||void 0===s?void 0:s.outputs_hidden)&&(t.collapsed=t.jupyter.outputs_hidden),_.JSONExt.deepEqual(t,this.getMetadata())||this.transact((()=>{for(const[e,n]of Object.entries(t))this._ymetadata.set(e,n)}),!1)}}toJSON(){return{id:this.getId(),cell_type:this.cell_type,source:this.getSource(),metadata:this.getMetadata()}}transact(e,t=!0){!this.notebook||this.notebook.disableDocumentWideUndoRedo?null==this.ymodel.doc?e():this.ymodel.doc.transact(e,t?this:null):this.notebook.transact(e,t)}getChanges(e){const t={},n=e.find((e=>e.target===this.ymodel.get("source")));n&&(t.sourceChange=n.changes.delta);const s=e.find((e=>e.target===this._ymetadata));s&&(t.metadataChange=s.changes.keys,s.changes.keys.forEach(((e,t)=>{switch(e.action){case"add":this._metadataChanged.emit({key:t,newValue:this._ymetadata.get(t),type:"add"});break;case"delete":this._metadataChanged.emit({key:t,oldValue:e.oldValue,type:"remove"});break;case"update":{const n=this._ymetadata.get(t),s=e.oldValue;let i=!0;i="object"==typeof s&&"object"==typeof n?_.JSONExt.deepEqual(s,n):s===n,i||this._metadataChanged.emit({key:t,type:"change",oldValue:s,newValue:n})}}})));const i=e.find((e=>e.target===this.ymodel)),r=this.ymodel.get("source");return i&&i.keysChanged.has("source")&&(t.sourceChange=[{delete:this._prevSourceLength},{insert:r.toString()}]),this._prevSourceLength=r.length,t}}class Xy extends Yy{static create(e){return super.create(e)}constructor(e,t,n,s={},i){super(e,t,s,i),this._youtputs=n}get cell_type(){return"code"}get execution_count(){return this.ymodel.get("execution_count")||null}set execution_count(e){this.ymodel.get("execution_count")!==e&&this.transact((()=>{this.ymodel.set("execution_count",e)}),!1)}get outputs(){return this.getOutputs()}set outputs(e){this.setOutputs(e)}getOutputs(){return _.JSONExt.deepCopy(this._youtputs.toArray())}setOutputs(e){this.transact((()=>{this._youtputs.delete(0,this._youtputs.length),this._youtputs.insert(0,e)}),!1)}updateOutputs(e,t,n=[]){const s=t<this._youtputs.length?t-e:this._youtputs.length-e;this.transact((()=>{this._youtputs.delete(e,s),this._youtputs.insert(e,n)}),!1)}toJSON(){return{...super.toJSON(),outputs:this.getOutputs(),execution_count:this.execution_count}}getChanges(e){const t=super.getChanges(e),n=e.find((e=>e.target===this.ymodel.get("outputs")));n&&(t.outputsChange=n.changes.delta);const s=e.find((e=>e.target===this.ymodel));if(s&&s.keysChanged.has("execution_count")){const e=s.changes.keys.get("execution_count");t.executionCountChange={oldValue:e.oldValue,newValue:this.ymodel.get("execution_count")}}return t}}class Zy extends Yy{get attachments(){return this.getAttachments()}set attachments(e){this.setAttachments(e)}getAttachments(){return this.ymodel.get("attachments")}setAttachments(e){this.transact((()=>{null==e?this.ymodel.delete("attachments"):this.ymodel.set("attachments",e)}),!1)}getChanges(e){const t=super.getChanges(e),n=e.find((e=>e.target===this.ymodel));if(n&&n.keysChanged.has("attachments")){const e=n.changes.keys.get("attachments");t.executionCountChange={oldValue:e.oldValue,newValue:this.ymodel.get("attachments")}}return t}}class Qy extends Zy{static create(e){return super.create(e)}get cell_type(){return"raw"}toJSON(){return{id:this.getId(),cell_type:"raw",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}}class ew extends Zy{static create(e){return super.create(e)}get cell_type(){return"markdown"}toJSON(){return{id:this.getId(),cell_type:"markdown",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}}var tw,nw;!function(e){e.defaultMimeType="text/plain"}(tw||(tw={})),function(e){e.Model=class{constructor(e={}){var t,n;this.standaloneModel=!1,this._isDisposed=!1,this._selections=new g,this._mimeType=tw.defaultMimeType,this._mimeTypeChanged=new f.Signal(this),this.standaloneModel=void 0===e.sharedModel,this.sharedModel=null!==(t=e.sharedModel)&&void 0!==t?t:new Ky,this._mimeType=null!==(n=e.mimeType)&&void 0!==n?n:tw.defaultMimeType}get mimeTypeChanged(){return this._mimeTypeChanged}get selections(){return this._selections}get mimeType(){return this._mimeType}set mimeType(e){const t=this.mimeType;t!==e&&(this._mimeType=e,this._mimeTypeChanged.emit({name:"mimeType",oldValue:t,newValue:e}))}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._selections.dispose(),this.standaloneModel&&this.sharedModel.dispose(),f.Signal.clearData(this))}}}(nw||(nw={}));function sw(e){return"execute_result"===e.output_type}function iw(e){return"display_data"===e.output_type}function rw(e){return"stream"===e.output_type}class ow{constructor(e={}){if(this._array=[],this._isDisposed=!1,this._changed=new f.Signal(this),e.values)for(const t of e.values)this._array.push(t);this._itemCmp=e.itemCmp||aw.itemCmp}get type(){return"List"}get changed(){return this._changed}get length(){return this._array.length}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,f.Signal.clearData(this),this.clear())}[Symbol.iterator](){return this._array[Symbol.iterator]()}get(e){return this._array[e]}set(e,t){const n=this._array[e];if(void 0===t)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,t)||(this._array[e]=t,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[n],newValues:[t]}))}push(e){const t=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),t}insert(e,t){e===this._array.length?this._array.push(t):pa.ArrayExt.insert(this._array,e,t),this._changed.emit({type:"add",oldIndex:-2,newIndex:e,oldValues:[],newValues:[t]})}removeValue(e){const t=this._itemCmp,n=pa.ArrayExt.findFirstIndex(this._array,(n=>t(n,e)));return this.remove(n),n}remove(e){const t=pa.ArrayExt.removeAt(this._array,e);if(void 0!==t)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[t]}),t}clear(){const e=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:e})}move(e,t){if(this.length<=1||e===t)return;const n=[this._array[e]];pa.ArrayExt.move(this._array,e,t),this._changed.emit({type:"move",oldIndex:e,newIndex:t,oldValues:n,newValues:n})}pushAll(e){const t=this.length;for(const n of e)this._array.push(n);return this._changed.emit({type:"add",oldIndex:-1,newIndex:t,oldValues:[],newValues:Array.from(e)}),this.length}insertAll(e,t){const n=e;for(const s of t)pa.ArrayExt.insert(this._array,e++,s);this._changed.emit({type:"add",oldIndex:-2,newIndex:n,oldValues:[],newValues:Array.from(t)})}removeRange(e,t){const n=this._array.slice(e,t);for(let s=e;s<t;s++)pa.ArrayExt.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:n,newValues:[]}),this.length}}var aw,lw,cw,uw;!function(e){e.itemCmp=function(e,t){return e===t}}(aw||(aw={}));class hw{constructor(e={}){if(this._map=new Map,this._changed=new f.Signal(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||lw.itemCmp,e.values)for(const t in e.values)this._map.set(t,e.values[t])}get type(){return"Map"}get changed(){return this._changed}get isDisposed(){return this._isDisposed}get size(){return this._map.size}set(e,t){const n=this._map.get(e);if(void 0===t)throw Error("Cannot set an undefined value, use remove");const s=this._itemCmp;return void 0!==n&&s(n,t)||(this._map.set(e,t),this._changed.emit({type:n?"change":"add",key:e,oldValue:n,newValue:t})),n}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){const e=[];return this._map.forEach(((t,n)=>{e.push(n)})),e}values(){const e=[];return this._map.forEach(((t,n)=>{e.push(t)})),e}delete(e){const t=this._map.get(e);return this._map.delete(e)&&this._changed.emit({type:"remove",key:e,oldValue:t,newValue:void 0}),t}clear(){const e=this.keys();for(let t=0;t<e.length;t++)this.delete(e[t])}dispose(){this.isDisposed||(this._isDisposed=!0,f.Signal.clearData(this),this._map.clear())}}!function(e){e.itemCmp=function(e,t){return e===t}}(lw||(lw={}));class dw extends hw{constructor(e={}){super({itemCmp:_.JSONExt.deepEqual,values:e.values})}toJSON(){const e=Object.create(null),t=this.keys();for(const n of t){const t=this.get(n);void 0!==t&&(e[n]=_.JSONExt.deepCopy(t))}return e}}!function(e){class t extends v.Message{constructor(e,t){super(e),this.args=t}}e.ChangeMessage=t}(dw||(dw={}));class pw{constructor(e){this._changed=new f.Signal(this),this._raw={};const{data:t,metadata:n,trusted:s}=cw.getBundleOptions(e);this._data=new dw({values:t}),this._rawData=t,this._metadata=new dw({values:n}),this._rawMetadata=n,this.trusted=s;const i=e.value;for(const r in i)switch(r){case"data":case"metadata":break;default:this._raw[r]=cw.extract(i,r)}this.type=i.output_type,sw(i)?this.executionCount=i.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){this._data.dispose(),this._metadata.dispose(),f.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){const e={};for(const t in this._raw)e[t]=cw.extract(this._raw,t);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata}return delete e.transient,e}_updateObservable(e,t){const n=e.keys(),s=Object.keys(t);for(const i of n)-1===s.indexOf(i)&&e.delete(i);for(const i of s){const n=e.get(i),s=t[i];n!==s&&e.set(i,s)}}}!function(e){e.getData=function(e){return cw.getData(e)},e.getMetadata=function(e){return cw.getMetadata(e)}}(pw||(pw={})),function(e){function t(e){let t={};if(sw(e)||iw(e)||function(e){return"update_display_data"===e.output_type}(e))t=e.data;else if(rw(e))"stderr"===e.name?t["application/vnd.jupyter.stderr"]=e.text:t["application/vnd.jupyter.stdout"]=e.text;else if(function(e){return"error"===e.output_type}(e)){t["application/vnd.jupyter.error"]=e;const n=e.traceback.join("\n");t["application/vnd.jupyter.stderr"]=n||`${e.ename}: ${e.evalue}`}return function(e){const t=Object.create(null);for(const n in e)t[n]=s(e,n);return t}(t)}function n(e){const t=Object.create(null);if(sw(e)||iw(e))for(const n in e.metadata)t[n]=s(e.metadata,n);return t}function s(e,t){const n=e[t];return void 0===n||_.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}e.getData=t,e.getMetadata=n,e.getBundleOptions=function(e){return{data:t(e.value),metadata:n(e.value),trusted:!!e.trusted}},e.extract=s}(cw||(cw={}));class fw{constructor(e={}){if(this.clearNext=!1,this._lastStream="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new f.Signal(this),this._changed=new f.Signal(this),this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||fw.defaultContentFactory,this.list=new ow,e.values)for(const t of e.values){const e=this._add(t)-1;this.list.get(e).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;const t=this._trusted=e;for(let n=0;n<this.list.length;n++){const e=this.list.get(n),s=e.toJSON(),i=this._createItem({value:s,trusted:t});this.list.set(n,i),e.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),f.Signal.clearData(this))}get(e){return this.list.get(e)}set(e,t){t=_.JSONExt.deepCopy(t),uw.normalize(t);const n=this._createItem({value:t,trusted:this._trusted});this.list.set(e,n)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}clear(e=!1){if(this._lastStream="",e)this.clearNext=!0;else{for(const e of this.list)e.dispose();this.list.clear()}}fromJSON(e){this.clear();for(const t of e)this._add(t)}toJSON(){return Array.from((0,pa.map)(this.list,(e=>e.toJSON())))}_add(e){const t=this._trusted;if(e=_.JSONExt.deepCopy(e),uw.normalize(e),rw(e)&&this._lastStream&&e.name===this._lastName&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){this._lastStream+=e.text,this._lastStream=uw.removeOverwrittenChars(this._lastStream),e.text=this._lastStream;const n=this._createItem({value:e,trusted:t}),s=this.length-1,i=this.list.get(s);return this.list.set(s,n),i.dispose(),this.length}rw(e)&&(e.text=uw.removeOverwrittenChars(e.text));const n=this._createItem({value:e,trusted:t});return rw(e)?(this._lastStream=e.text,this._lastName=e.name):this._lastStream="",this.list.push(n)}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,t){switch(t.type){case"add":t.newValues.forEach((e=>{e.changed.connect(this._onGenericChange,this)}));break;case"remove":t.oldValues.forEach((e=>{e.changed.disconnect(this._onGenericChange,this)}));break;case"set":t.newValues.forEach((e=>{e.changed.connect(this._onGenericChange,this)})),t.oldValues.forEach((e=>{e.changed.disconnect(this._onGenericChange,this)}))}this._changed.emit(t)}_onGenericChange(e){let t,n=null;for(t=0;t<this.list.length&&(n=this.list.get(t),n!==e);t++);null!=n&&(this._stateChanged.emit(t),this._changed.emit({type:"set",newIndex:t,oldIndex:t,oldValues:[n],newValues:[n]}))}}!function(e){class t{createOutputModel(e){return new pw(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(fw||(fw={})),function(e){e.normalize=function(e){rw(e)&&Array.isArray(e.text)&&(e.text=e.text.join("\n"))},e.removeOverwrittenChars=function(e){return function(e){for(e=e.replace(/\r+\n/gm,"\n");e.search(/\r[^$]/g)>-1;){const t=e.match(/^(.*)\r+/m)[1];let n=e.match(/\r+(.*)$/m)[1];n+=t.slice(n.length,t.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return e}(function(e){let t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(e))}}(uw||(uw={}));const gw=(()=>{let e=!0;return t=>{if(e){e=!1;try{t()}finally{e=!0}}}})();class mw extends nw.Model{constructor(e={}){const{cell_type:t,sharedModel:n,...s}=e;super({sharedModel:null!=n?n:Jy({cell_type:null!=t?t:"raw",id:e.id}),...s}),this.contentChanged=new f.Signal(this),this.stateChanged=new f.Signal(this),this._metadataChanged=new f.Signal(this),this._trusted=!1,this.standaloneModel=void 0===e.sharedModel,this.trusted=!!this.getMetadata("trusted")||!!e.trusted,this.sharedModel.changed.connect(this.onGenericChange,this),this.sharedModel.metadataChanged.connect(this._onMetadataChanged,this)}get metadataChanged(){return this._metadataChanged}get id(){return this.sharedModel.getId()}get metadata(){return this.sharedModel.metadata}get trusted(){return this._trusted}set trusted(e){const t=this.trusted;t!==e&&(this._trusted=e,this.onTrustedChanged(this,{newValue:e,oldValue:t}))}dispose(){this.isDisposed||(this.sharedModel.changed.disconnect(this.onGenericChange,this),this.sharedModel.metadataChanged.disconnect(this._onMetadataChanged,this),super.dispose())}onTrustedChanged(e,t){}deleteMetadata(e){return this.sharedModel.deleteMetadata(e)}getMetadata(e){return this.sharedModel.getMetadata(e)}setMetadata(e,t){void 0===t?this.sharedModel.deleteMetadata(e):this.sharedModel.setMetadata(e,t)}toJSON(){return this.sharedModel.toJSON()}onGenericChange(){this.contentChanged.emit(void 0)}_onMetadataChanged(e,t){this._metadataChanged.emit(t)}}class _w extends mw{constructor(e){var t;super(e);const n=null!==(t=e.contentFactory)&&void 0!==t?t:_w.defaultContentFactory,s=this.sharedModel.getAttachments();this._attachments=n.createAttachmentsModel({values:s}),this._attachments.stateChanged.connect(this.onGenericChange,this),this._attachments.changed.connect(this._onAttachmentsChange,this),this.sharedModel.changed.connect(this._onSharedModelChanged,this)}get attachments(){return this._attachments}dispose(){this.isDisposed||(this._attachments.stateChanged.disconnect(this.onGenericChange,this),this._attachments.changed.disconnect(this._onAttachmentsChange,this),this._attachments.dispose(),this.sharedModel.changed.disconnect(this._onSharedModelChanged,this),super.dispose())}toJSON(){return super.toJSON()}_onAttachmentsChange(e,t){const n=this.sharedModel;gw((()=>n.setAttachments(e.toJSON())))}_onSharedModelChanged(e,t){if(t.attachmentsChange){const e=this.sharedModel;gw((()=>{var t;return this._attachments.fromJSON(null!==(t=e.getAttachments())&&void 0!==t?t:{})}))}}}!function(e){class t{createAttachmentsModel(e){return new $(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(_w||(_w={}));class vw extends mw{constructor(e={}){var t;super({cell_type:"code",...e}),this._executedCode="",this._isDirty=!1;const n=null!==(t=null==e?void 0:e.contentFactory)&&void 0!==t?t:vw.defaultContentFactory,s=this.trusted,i=this.sharedModel.getOutputs();this._outputs=n.createOutputArea({trusted:s,values:i}),this.sharedModel.changed.connect(this._onSharedModelChanged,this),this._outputs.changed.connect(this.onGenericChange,this),this._outputs.changed.connect(this.onOutputsChange,this)}get type(){return"code"}get executionCount(){return this.sharedModel.execution_count||null}set executionCount(e){this.sharedModel.execution_count=e||null}get isDirty(){return this._isDirty}get outputs(){return this._outputs}clearExecution(){this.outputs.clear(),this.executionCount=null,this._setDirty(!1),this.sharedModel.deleteMetadata("execution"),this.trusted=!0}dispose(){this.isDisposed||(this.sharedModel.changed.disconnect(this._onSharedModelChanged,this),this._outputs.changed.disconnect(this.onGenericChange,this),this._outputs.changed.disconnect(this.onOutputsChange,this),this._outputs.dispose(),this._outputs=null,super.dispose())}onTrustedChanged(e,t){const n=t.newValue;if(this._outputs&&(this._outputs.trusted=n),n){const e=this.sharedModel,t=e.getMetadata();t.trusted=!0,e.setMetadata(t)}this.stateChanged.emit({name:"trusted",oldValue:t.oldValue,newValue:n})}toJSON(){return super.toJSON()}onOutputsChange(e,t){const n=this.sharedModel;gw((()=>{switch(t.type){case"add":{const e=t.newValues.map((e=>e.toJSON()));n.updateOutputs(t.newIndex,t.newIndex,e);break}case"set":{const e=t.newValues.map((e=>e.toJSON()));n.updateOutputs(t.oldIndex,t.oldIndex+e.length,e);break}case"remove":n.updateOutputs(t.oldIndex,t.oldValues.length);break;default:throw new Error(`Invalid event type: ${t.type}`)}}))}_onSharedModelChanged(e,t){t.outputsChange&&gw((()=>{this.outputs.clear(),e.getOutputs().forEach((e=>this._outputs.add(e)))})),t.executionCountChange&&(!t.executionCountChange.newValue||!this.isDirty&&t.executionCountChange.oldValue||this._setDirty(!1),this.stateChanged.emit({name:"executionCount",oldValue:t.executionCountChange.oldValue,newValue:t.executionCountChange.newValue})),t.sourceChange&&null!==this.executionCount&&this._setDirty(this._executedCode!==this.sharedModel.getSource().trim())}_setDirty(e){e||(this._executedCode=this.sharedModel.getSource().trim()),e!==this._isDirty&&(this._isDirty=e,this.stateChanged.emit({name:"isDirty",oldValue:!e,newValue:e}))}}!function(e){class t{createOutputArea(e){return new fw(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(vw||(vw={}));var bw=n(78120),yw=n(59119),ww=n(41113);function xw(e,t){return({state:n,dispatch:s})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(s(n.update(i)),!0)}}const Sw=xw(Tw,0),Cw=xw(Mw,0),kw=xw(((e,t)=>Mw(e,t,function(e){let t=[];for(let n of e.selection.ranges){let s=e.doc.lineAt(n.from),i=n.to<=s.to?s:e.doc.lineAt(n.to),r=t.length-1;r>=0&&t[r].to>s.from?t[r].to=i.to:t.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:i.to})}return t}(t))),0);function Ew(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const Ow=50;function Mw(e,t,n=t.selection.ranges){let s=n.map((e=>Ew(t,e.from).block));if(!s.every((e=>e)))return null;let i=n.map(((e,n)=>function(e,{open:t,close:n},s,i){let r,o,a=e.sliceDoc(s-Ow,s),l=e.sliceDoc(i,i+Ow),c=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-c;if(a.slice(h-t.length,h)==t&&l.slice(u,u+n.length)==n)return{open:{pos:s-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-s<=2*Ow?r=o=e.sliceDoc(s,i):(r=e.sliceDoc(s,s+Ow),o=e.sliceDoc(i-Ow,i));let d=/^\s*/.exec(r)[0].length,p=/\s*$/.exec(o)[0].length,f=o.length-p-n.length;return r.slice(d,d+t.length)==t&&o.slice(f,f+n.length)==n?{open:{pos:s+d+t.length,margin:/\s/.test(r.charAt(d+t.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(o.charAt(f-1))?1:0}}:null}(t,s[n],e.from,e.to)));if(2!=e&&!i.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>i[t]?[]:[{from:e.from,insert:s[t].open+" "},{from:e.to,insert:" "+s[t].close}])))};if(1!=e&&i.some((e=>e))){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=s[n],{open:r,close:o}=t;e.push({from:r.pos-i.open.length,to:r.pos+r.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:e}}return null}function Tw(e,t,n=t.selection.ranges){let s=[],i=-1;for(let{from:r,to:o}of n){let e=s.length,n=1e9,a=Ew(t,r).line;if(a){for(let e=r;e<=o;){let l=t.doc.lineAt(e);if(l.from>i&&(r==o||o>l.from)){i=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,r=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<n&&(n=e),s.push({line:l,comment:r,token:a,indent:e,empty:t,single:!1})}e=l.to+1}if(n<1e9)for(let t=e;t<s.length;t++)s[t].indent<s[t].line.text.length&&(s[t].indent=n);s.length==e+1&&(s[e].single=!0)}}if(2!=e&&s.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:i,indent:r,empty:o,single:a}of s)!a&&o||e.push({from:t.from+r,insert:i+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&s.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:i}of s)if(n>=0){let s=t.from+n,r=s+i.length;" "==t.text[r-t.from]&&r++,e.push({from:s,to:r})}return{changes:e}}return null}const Dw=bw.Annotation.define(),Pw=bw.Facet.define();class Aw{constructor(e,t,n,s,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=s,this.selectionsAfter=i}setSelAfter(e){return new Aw(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Aw(e.changes&&bw.ChangeSet.fromJSON(e.changes),[],e.mapped&&bw.ChangeDesc.fromJSON(e.mapped),e.startSelection&&bw.EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(bw.EditorSelection.fromJSON))}static fromTransaction(e,t){let n=Iw;for(let s of e.startState.facet(Pw)){let t=s(e);t.length&&(n=n.concat(t))}return!n.length&&e.changes.empty?null:new Aw(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Iw)}static selection(e){return new Aw(void 0,Iw,void 0,void 0,e)}}function Rw(e,t,n,s){let i=t+1>n+20?t-n-1:0,r=e.slice(i,t);return r.push(s),r}function jw(e,t){return e.length?t.length?e.concat(t):e:t}const Iw=[],Nw=200;function Lw(e,t){if(e.length){let n=e[e.length-1],s=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Nw));return s.length&&s[s.length-1].eq(t)?e:(s.push(t),Rw(e,e.length-1,1e9,n.setSelAfter(s)))}return[Aw.selection([t])]}function Bw(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function $w(e,t){if(!e.length)return e;let n=e.length,s=Iw;for(;n;){let i=Fw(e[n-1],t,s);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,s=i.selectionsAfter}return s.length?[Aw.selection(s)]:Iw}function Fw(e,t,n){let s=jw(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Iw,n);if(!e.changes)return Aw.selection(s);let i=e.changes.map(t),r=t.mapDesc(e.changes,!0),o=e.mapped?e.mapped.composeDesc(r):r;return new Aw(i,bw.StateEffect.mapEffects(e.effects,t),o,e.startSelection.map(r),s)}const Uw=/^(input\.type|delete)($|\.)/;class zw{constructor(e,t,n=0,s=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new zw(this.done,this.undone):this}addChanges(e,t,n,s,i){let r=this.done,o=r[r.length-1];return r=o&&o.changes&&!o.changes.empty&&e.changes&&(!n||Uw.test(n))&&(!o.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(i,function(e,t){let n=[],s=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,i,r)=>{for(let o=0;o<n.length;){let e=n[o++],t=n[o++];r>=e&&i<=t&&(s=!0)}})),s}(o.changes,e.changes))||"input.type.compose"==n)?Rw(r,r.length-1,s.minDepth,new Aw(e.changes.compose(o.changes),jw(e.effects,o.effects),o.mapped,o.startSelection,Iw)):Rw(r,r.length,s.minDepth,e),new zw(r,Iw,t,n)}addSelection(e,t,n,s){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Iw;return i.length>0&&t-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(r=i[i.length-1],o=e,r.ranges.length==o.ranges.length&&0===r.ranges.filter(((e,t)=>e.empty!=o.ranges[t].empty)).length)?this:new zw(Lw(this.done,e),this.undone,t,n);var r,o}addMapping(e){return new zw($w(this.done,e),$w(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let s=0==e?this.done:this.undone;if(0==s.length)return null;let i=s[s.length-1],r=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Dw.of({side:e,rest:Bw(s),selection:r}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==s.length?Iw:s.slice(0,s.length-1);return i.mapped&&(n=$w(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Dw.of({side:e,rest:n,selection:r}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}zw.empty=new zw(Iw,Iw);function Vw(e,t){return bw.EditorSelection.create(e.ranges.map(t),e.mainIndex)}function qw(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Hw({state:e,dispatch:t},n){let s=Vw(e.selection,n);return!s.eq(e.selection,!0)&&(t(qw(e,s)),!0)}function Ww(e,t){return bw.EditorSelection.cursor(t?e.to:e.from)}function Kw(e,t){return Hw(e,(n=>n.empty?e.moveByChar(n,t):Ww(n,t)))}function Gw(e){return e.textDirectionAt(e.state.selection.main.head)==p.Direction.LTR}const Jw=e=>Kw(e,!Gw(e)),Yw=e=>Kw(e,Gw(e));function Xw(e,t){return Hw(e,(n=>n.empty?e.moveByGroup(n,t):Ww(n,t)))}"undefined"!=typeof Intl&&Intl.Segmenter;function Zw(e,t,n){if(t.type.prop(n))return!0;let s=t.to-t.from;return s&&(s>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Qw(e,t,n){let s,i,r=(0,yw.syntaxTree)(e).resolveInner(t.head),o=n?ww.NodeProp.closedBy:ww.NodeProp.openedBy;for(let a=t.head;;){let t=n?r.childAfter(a):r.childBefore(a);if(!t)break;Zw(e,t,o)?r=t:a=n?t.to:t.from}return i=r.type.prop(o)&&(s=n?(0,yw.matchBrackets)(e,r.from,1):(0,yw.matchBrackets)(e,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,bw.EditorSelection.cursor(i,n?-1:1)}function ex(e,t){return Hw(e,(n=>{if(!n.empty)return Ww(n,t);let s=e.moveVertically(n,t);return s.head!=n.head?s:e.moveToLineBoundary(n,t)}))}const tx=e=>ex(e,!1),nx=e=>ex(e,!0);function sx(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,s=0,i=0;if(n){for(let t of e.state.facet(p.EditorView.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(s=Math.max(null==n?void 0:n.top,s)),(null==n?void 0:n.bottom)&&(i=Math.max(null==n?void 0:n.bottom,i))}t=e.scrollDOM.clientHeight-s-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:s,marginBottom:i,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function ix(e,t){let n,s=sx(e),{state:i}=e,r=Vw(i.selection,(n=>n.empty?e.moveVertically(n,t,s.height):Ww(n,t)));if(r.eq(i.selection))return!1;if(s.selfScroll){let t=e.coordsAtPos(i.selection.main.head),o=e.scrollDOM.getBoundingClientRect(),a=o.top+s.marginTop,l=o.bottom-s.marginBottom;t&&t.top>a&&t.bottom<l&&(n=p.EditorView.scrollIntoView(r.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(qw(i,r),{effects:n}),!0}const rx=e=>ix(e,!1),ox=e=>ix(e,!0);function ax(e,t,n){let s=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?s.to:s.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==s.from&&s.length){let n=/^\s*/.exec(e.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;n&&t.head!=s.from+n&&(i=bw.EditorSelection.cursor(s.from+n))}return i}function lx(e,t,n){let s=!1,i=Vw(e.selection,(t=>{let i=(0,yw.matchBrackets)(e,t.head,-1)||(0,yw.matchBrackets)(e,t.head,1)||t.head>0&&(0,yw.matchBrackets)(e,t.head-1,1)||t.head<e.doc.length&&(0,yw.matchBrackets)(e,t.head+1,-1);if(!i||!i.end)return t;s=!0;let r=i.start.from==t.head?i.end.to:i.end.from;return n?bw.EditorSelection.range(t.anchor,r):bw.EditorSelection.cursor(r)}));return!!s&&(t(qw(e,i)),!0)}function cx(e,t){let n=Vw(e.state.selection,(e=>{let n=t(e);return bw.EditorSelection.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(qw(e.state,n)),!0)}function ux(e,t){return cx(e,(n=>e.moveByChar(n,t)))}const hx=e=>ux(e,!Gw(e)),dx=e=>ux(e,Gw(e));function px(e,t){return cx(e,(n=>e.moveByGroup(n,t)))}function fx(e,t){return cx(e,(n=>e.moveVertically(n,t)))}const gx=e=>fx(e,!1),mx=e=>fx(e,!0);function _x(e,t){return cx(e,(n=>e.moveVertically(n,t,sx(e).height)))}const vx=e=>_x(e,!1),bx=e=>_x(e,!0),yx=({state:e,dispatch:t})=>(t(qw(e,{anchor:0})),!0),wx=({state:e,dispatch:t})=>(t(qw(e,{anchor:e.doc.length})),!0),xx=({state:e,dispatch:t})=>(t(qw(e,{anchor:e.selection.main.anchor,head:0})),!0),Sx=({state:e,dispatch:t})=>(t(qw(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function Cx(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:s}=e,i=s.changeByRange((s=>{let{from:i,to:r}=s;if(i==r){let o=t(s);o<i?(n="delete.backward",o=kx(e,o,!1)):o>i&&(n="delete.forward",o=kx(e,o,!0)),i=Math.min(i,o),r=Math.max(r,o)}else i=kx(e,i,!1),r=kx(e,r,!0);return i==r?{range:s}:{changes:{from:i,to:r},range:bw.EditorSelection.cursor(i,i<s.head?-1:1)}}));return!i.changes.empty&&(e.dispatch(s.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?p.EditorView.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function kx(e,t,n){if(e instanceof p.EditorView)for(let s of e.state.facet(p.EditorView.atomicRanges).map((t=>t(e))))s.between(t,t,((e,s)=>{e<t&&s>t&&(t=n?s:e)}));return t}const Ex=(e,t)=>Cx(e,(n=>{let s,i,r=n.from,{state:o}=e,a=o.doc.lineAt(r);if(!t&&r>a.from&&r<a.from+200&&!/[^ \t]/.test(s=a.text.slice(0,r-a.from))){if("\t"==s[s.length-1])return r-1;let e=(0,bw.countColumn)(s,o.tabSize)%(0,yw.getIndentUnit)(o)||(0,yw.getIndentUnit)(o);for(let t=0;t<e&&" "==s[s.length-1-t];t++)r--;i=r}else i=(0,bw.findClusterBreak)(a.text,r-a.from,t,t)+a.from,i==r&&a.number!=(t?o.doc.lines:1)?i+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(i-a.from,r-a.from))&&(i=(0,bw.findClusterBreak)(a.text,i-a.from,!1,!1)+a.from);return i})),Ox=e=>Ex(e,!1),Mx=e=>Ex(e,!0),Tx=(e,t)=>Cx(e,(n=>{let s=n.head,{state:i}=e,r=i.doc.lineAt(s),o=i.charCategorizer(s);for(let e=null;;){if(s==(t?r.to:r.from)){s==n.head&&r.number!=(t?i.doc.lines:1)&&(s+=t?1:-1);break}let a=(0,bw.findClusterBreak)(r.text,s-r.from,t)+r.from,l=r.text.slice(Math.min(s,a)-r.from,Math.max(s,a)-r.from),c=o(l);if(null!=e&&c!=e)break;" "==l&&s==n.head||(e=c),s=a}return s})),Dx=e=>Tx(e,!1);function Px(e){let t=[],n=-1;for(let s of e.selection.ranges){let i=e.doc.lineAt(s.from),r=e.doc.lineAt(s.to);if(s.empty||s.to!=r.from||(r=e.doc.lineAt(s.to-1)),n>=i.number){let e=t[t.length-1];e.to=r.to,e.ranges.push(s)}else t.push({from:i.from,to:r.to,ranges:[s]});n=r.number+1}return t}function Ax(e,t,n){if(e.readOnly)return!1;let s=[],i=[];for(let r of Px(e)){if(n?r.to==e.doc.length:0==r.from)continue;let t=e.doc.lineAt(n?r.to+1:r.from-1),o=t.length+1;if(n){s.push({from:r.to,to:t.to},{from:r.from,insert:t.text+e.lineBreak});for(let t of r.ranges)i.push(bw.EditorSelection.range(Math.min(e.doc.length,t.anchor+o),Math.min(e.doc.length,t.head+o)))}else{s.push({from:t.from,to:r.from},{from:r.to,insert:e.lineBreak+t.text});for(let e of r.ranges)i.push(bw.EditorSelection.range(e.anchor-o,e.head-o))}}return!!s.length&&(t(e.update({changes:s,scrollIntoView:!0,selection:bw.EditorSelection.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Rx(e,t,n){if(e.readOnly)return!1;let s=[];for(let i of Px(e))n?s.push({from:i.from,insert:e.doc.slice(i.from,i.to)+e.lineBreak}):s.push({from:i.to,insert:e.lineBreak+e.doc.slice(i.from,i.to)});return t(e.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const jx=Nx(!1),Ix=Nx(!0);function Nx(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let s=t.changeByRange((n=>{let{from:s,to:i}=n,r=t.doc.lineAt(s),o=!e&&s==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,s=(0,yw.syntaxTree)(e).resolveInner(t),i=s.childBefore(t),r=s.childAfter(t);return i&&r&&i.to<=t&&r.from>=t&&(n=i.type.prop(ww.NodeProp.closedBy))&&n.indexOf(r.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(r.from).from&&!/\S/.test(e.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}(t,s);e&&(s=i=(i<=r.to?r:t.doc.lineAt(i)).to);let a=new yw.IndentContext(t,{simulateBreak:s,simulateDoubleBreak:!!o}),l=(0,yw.getIndentation)(a,s);for(null==l&&(l=(0,bw.countColumn)(/^\s*/.exec(t.doc.lineAt(s).text)[0],t.tabSize));i<r.to&&/\s/.test(r.text[i-r.from]);)i++;o?({from:s,to:i}=o):s>r.from&&s<r.from+100&&!/\S/.test(r.text.slice(0,s))&&(s=r.from);let c=["",(0,yw.indentString)(t,l)];return o&&c.push((0,yw.indentString)(t,a.lineIndent(r.from,-1))),{changes:{from:s,to:i,insert:bw.Text.of(c)},range:bw.EditorSelection.cursor(s+1+c[1].length)}}));return n(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function Lx(e,t){let n=-1;return e.changeByRange((s=>{let i=[];for(let o=s.from;o<=s.to;){let r=e.doc.lineAt(o);r.number>n&&(s.empty||s.to>r.from)&&(t(r,i,s),n=r.number),o=r.to+1}let r=e.changes(i);return{changes:i,range:bw.EditorSelection.range(r.mapPos(s.anchor,1),r.mapPos(s.head,1))}}))}const Bx=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Lx(e,((t,n)=>{n.push({from:t.from,insert:e.facet(yw.indentUnit)})})),{userEvent:"input.indent"})),!0),$x=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Lx(e,((t,n)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let i=(0,bw.countColumn)(s,e.tabSize),r=0,o=(0,yw.indentString)(e,Math.max(0,i-(0,yw.getIndentUnit)(e)));for(;r<s.length&&r<o.length&&s.charCodeAt(r)==o.charCodeAt(r);)r++;n.push({from:t.from+r,to:t.from+s.length,insert:o.slice(r)})})),{userEvent:"delete.dedent"})),!0),Fx=[{key:"Ctrl-b",run:Jw,shift:hx,preventDefault:!0},{key:"Ctrl-f",run:Yw,shift:dx},{key:"Ctrl-p",run:tx,shift:gx},{key:"Ctrl-n",run:nx,shift:mx},{key:"Ctrl-a",run:e=>Hw(e,(t=>bw.EditorSelection.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>cx(e,(t=>bw.EditorSelection.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Hw(e,(t=>bw.EditorSelection.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>cx(e,(t=>bw.EditorSelection.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:Mx},{key:"Ctrl-h",run:Ox},{key:"Ctrl-k",run:e=>Cx(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Dx},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:bw.Text.of(["",""])},range:bw.EditorSelection.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,s=e.doc.lineAt(n),i=n==s.from?n-1:(0,bw.findClusterBreak)(s.text,n-s.from,!1)+s.from,r=n==s.to?n+1:(0,bw.findClusterBreak)(s.text,n-s.from,!0)+s.from;return{changes:{from:i,to:r,insert:e.doc.slice(n,r).append(e.doc.slice(i,n))},range:bw.EditorSelection.cursor(r)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:ox}],Ux=[{key:"ArrowLeft",run:Jw,shift:hx,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Xw(e,!Gw(e)),shift:e=>px(e,!Gw(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Hw(e,(t=>ax(e,t,!Gw(e)))),shift:e=>cx(e,(t=>ax(e,t,!Gw(e)))),preventDefault:!0},{key:"ArrowRight",run:Yw,shift:dx,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Xw(e,Gw(e)),shift:e=>px(e,Gw(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Hw(e,(t=>ax(e,t,Gw(e)))),shift:e=>cx(e,(t=>ax(e,t,Gw(e)))),preventDefault:!0},{key:"ArrowUp",run:tx,shift:gx,preventDefault:!0},{mac:"Cmd-ArrowUp",run:yx,shift:xx},{mac:"Ctrl-ArrowUp",run:rx,shift:vx},{key:"ArrowDown",run:nx,shift:mx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:wx,shift:Sx},{mac:"Ctrl-ArrowDown",run:ox,shift:bx},{key:"PageUp",run:rx,shift:vx},{key:"PageDown",run:ox,shift:bx},{key:"Home",run:e=>Hw(e,(t=>ax(e,t,!1))),shift:e=>cx(e,(t=>ax(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:yx,shift:xx},{key:"End",run:e=>Hw(e,(t=>ax(e,t,!0))),shift:e=>cx(e,(t=>ax(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:wx,shift:Sx},{key:"Enter",run:jx},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Ox,shift:Ox},{key:"Delete",run:Mx},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Dx},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Tx(e,!0)},{mac:"Mod-Backspace",run:e=>Cx(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>Cx(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat(Fx.map((e=>({mac:e.key,run:e.run,shift:e.shift})))),zx=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Hw(e,(t=>Qw(e.state,t,!Gw(e)))),shift:e=>cx(e,(t=>Qw(e.state,t,!Gw(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Hw(e,(t=>Qw(e.state,t,Gw(e)))),shift:e=>cx(e,(t=>Qw(e.state,t,Gw(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Ax(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Rx(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Ax(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Rx(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,s=null;return n.ranges.length>1?s=bw.EditorSelection.create([n.main]):n.main.empty||(s=bw.EditorSelection.create([bw.EditorSelection.cursor(n.main.head)])),!!s&&(t(qw(e,s)),!0)}},{key:"Mod-Enter",run:Ix},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=Px(e).map((({from:t,to:n})=>bw.EditorSelection.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:bw.EditorSelection.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=Vw(e.selection,(t=>{var n;for(let s=(0,yw.syntaxTree)(e).resolveStack(t.from,1);s;s=s.next){let{node:e}=s;if((e.from<t.from&&e.to>=t.to||e.to>t.to&&e.from<=t.from)&&(null===(n=e.parent)||void 0===n?void 0:n.parent))return bw.EditorSelection.range(e.to,e.from)}return t}));return t(qw(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:$x},{key:"Mod-]",run:Bx},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),s=new yw.IndentContext(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=Lx(e,((t,i,r)=>{let o=(0,yw.getIndentation)(s,t.from);if(null==o)return;/\S/.test(t.text)||(o=0);let a=/^\s*/.exec(t.text)[0],l=(0,yw.indentString)(e,o);(a!=l||r.from<t.from+a.length)&&(n[t.from]=o,i.push({from:t.from,to:t.from+a.length,insert:l}))}));return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(Px(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),s=Vw(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>lx(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),s=Ew(e.state,n.from);return s.line?Sw(e):!!s.block&&kw(e)}},{key:"Alt-A",run:Cw}].concat(Ux);var Vx;!function(e){e.indentMoreOrInsertTab=function(e){const t={state:e.state,dispatch:e.dispatch},n=e.state.selection.main.from;if(n!=e.state.selection.main.to)return Bx(t);const s=e.state.doc.lineAt(n),i=e.state.doc.slice(s.from,n).toString();return/^\s*$/.test(i)?Bx(t):(({state:e,dispatch:t})=>e.selection.ranges.some((e=>!e.empty))?Bx({state:e,dispatch:t}):(t(e.update(e.replaceSelection("\t"),{scrollIntoView:!0,userEvent:"input"})),!0))(t)}}(Vx||(Vx={}));var qx=n(34790);const Hx=bw.Facet.define({combine:e=>(0,bw.combineConfig)(e,{fontFamily:null,fontSize:null,lineHeight:null},{fontFamily:(e,t)=>null!=e?e:t,fontSize:(e,t)=>null!=e?e:t,lineHeight:(e,t)=>null!=e?e:t})});function Wx(e){const{fontFamily:t,fontSize:n,lineHeight:s}=e.state.facet(Hx);let i="";return n&&(i+=`font-size: ${n}px !important;`),t&&(i+=`font-family: ${t} !important;`),s&&(i+=`line-height: ${s.toString()} !important`),{style:i}}var Kx=n(35524);const Gx="InlineMathDollar",Jx="InlineMathBracket",Yx="BlockMathDollar",Xx="BlockMathBracket",Zx={[Gx]:1,[Jx]:3,[Yx]:2,[Xx]:3};Object.keys(Zx).reduce(((e,t)=>(e[t]={mark:`${t}Mark`,resolve:t},e)),{});const Qx="cm-rulers",eS=p.EditorView.baseTheme({[`.${Qx}`]:{borderRight:"1px dotted gray",opacity:.7}}),tS=bw.Facet.define({combine:e=>e.reduce(((e,t)=>e.concat(t.filter(((n,s)=>!e.includes(n)&&s==t.lastIndexOf(n))))),[])}),nS=p.ViewPlugin.fromClass(class{constructor(e){this.rulersContainer=e.dom.appendChild(document.createElement("div")),this.rulersContainer.style.cssText="\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                overflow: hidden;\n            ";const t=e.defaultCharacterWidth,n=e.state.facet(tS);this.rulers=n.map((e=>{const n=this.rulersContainer.appendChild(document.createElement("div"));return n.classList.add(Qx),n.style.cssText=`\n                position: absolute;\n                left: ${e*t}px;\n                height: 100%;\n            `,n.style.width="6px",n}))}update(e){const t=e.view.state.facet(tS);if(e.viewportChanged||!_.JSONExt.deepEqual(t,e.startState.facet(tS))){const n=e.view.defaultCharacterWidth;this.rulers.forEach(((e,s)=>{e.style.left=t[s]*n+"px"}))}}destroy(){this.rulers.forEach((e=>{e.remove()})),this.rulersContainer.remove()}});class sS{constructor(e,t){this.yanchor=e,this.yhead=t}toJSON(){return{yanchor:Jv(this.yanchor),yhead:Jv(this.yhead)}}static fromJSON(e){return new sS(Yv(e.yanchor),Yv(e.yhead))}}class iS{constructor(e){this.ytext=e}toYPos(e,t=0){return((e,t,n=0)=>{let s=e._start;if(n<0){if(0===t)return Zv(e,null,n);t--}for(;null!==s;){if(!s.deleted&&s.countable){if(s.length>t)return Zv(e,Hv(s.id.client,s.id.clock+t),n);t-=s.length}if(null===s.right&&n<0)return Zv(e,s.lastId,n);s=s.right}return Zv(e,null,n)})(this.ytext,e,t)}fromYPos(e){const t=Qv(Yv(e),this.ytext.doc);if(null==t||t.type!==this.ytext)throw new Error("[y-codemirror] The position you want to retrieve was created by a different document");return{pos:t.index,assoc:t.assoc}}toYRange(e){const t=e.assoc,n=this.toYPos(e.anchor,t),s=this.toYPos(e.head,t);return new sS(n,s)}fromYRange(e){const t=this.fromYPos(e.yanchor),n=this.fromYPos(e.yhead);return t.pos===n.pos?bw.EditorSelection.cursor(n.pos,n.assoc):bw.EditorSelection.range(t.pos,n.pos)}}const rS=bw.Facet.define({combine:e=>e[e.length-1]}),oS=bw.Annotation.define(),aS=p.ViewPlugin.fromClass(class{constructor(e){this.conf=e.state.facet(rS),this._observer=(t,n)=>{var s;if(n.origin!==this.conf){const n=t.delta,i=[];let r=0;for(let e=0;e<n.length;e++){const t=n[e];null!=t.insert?i.push({from:r,to:r,insert:t.insert}):null!=t.delete?(i.push({from:r,to:r+t.delete,insert:""}),r+=t.delete):r+=null!==(s=t.retain)&&void 0!==s?s:0}e.dispatch({changes:i,annotations:[oS.of(this.conf)]})}},this._ytext=this.conf.ytext,this._ytext.observe(this._observer)}update(e){if(!e.docChanged||e.transactions.length>0&&e.transactions[0].annotation(oS)===this.conf)return;const t=this.conf.ytext;t.doc.transact((()=>{let n=0;e.changes.iterChanges(((e,s,i,r,o)=>{const a=o.sliceString(0,o.length,"\n");e!==s&&t.delete(e+n,s-e),a.length>0&&t.insert(e+n,a),n+=a.length-(s-e)}))}),this.conf)}destroy(){this._ytext.unobserve(this._observer)}});class lS{constructor({baseConfiguration:e,config:t,defaultExtensions:n}={}){this._configChanged=new f.Signal(this),this._disposed=new f.Signal(this),this._isDisposed=!1,this._immutables=new Set,this._baseConfig=null!=e?e:{},this._config=null!=t?t:{},this._configurableBuilderMap=new Map(n);const s=Object.keys(this._config).concat(Object.keys(this._baseConfig));this._immutables=new Set([...this._configurableBuilderMap.keys()].filter((e=>!s.includes(e))))}get configChanged(){return this._configChanged}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),f.Signal.clearData(this))}getOption(e){var t;return null!==(t=this._config[e])&&void 0!==t?t:this._baseConfig[e]}hasOption(e){return Object.keys(this._config).includes(e)||Object.keys(this._baseConfig).includes(e)}setOption(e,t){this._config[e]!==t&&(this._config[e]=t,this._configChanged.emit({[e]:t}))}setBaseOptions(e){const t=this._getChangedOptions(e,this._baseConfig);if(t.length>0){this._baseConfig=e;const n=Object.keys(this._config),s=t.filter((e=>!n.includes(e)));s.length>0&&this._configChanged.emit(s.reduce(((e,t)=>(e[t]=this._baseConfig[t],e)),{}))}}setOptions(e){const t=this._getChangedOptions(e,this._config);t.length>0&&(this._config={...e},this._configChanged.emit(t.reduce(((e,t)=>{var n;return e[t]=null!==(n=this._config[t])&&void 0!==n?n:this._baseConfig[t],e}),{})))}reconfigureExtension(e,t,n){const s=this.getEffect(e.state,t,n);s&&e.dispatch({effects:[s]})}reconfigureExtensions(e,t){const n=Object.keys(t).filter((e=>this.has(e))).map((n=>this.getEffect(e.state,n,t[n])));e.dispatch({effects:n.filter((e=>null!==e))})}injectExtension(e,t){e.dispatch({effects:bw.StateEffect.appendConfig.of(t)})}getInitialExtensions(){const e={...this._baseConfig,...this._config},t=[...this._immutables].map((e=>{var t;return null===(t=this.get(e))||void 0===t?void 0:t.instance(void 0)})).filter((e=>e));for(const n of Object.keys(e)){const s=this.get(n);if(s){const i=e[n];t.push(s.instance(i))}}return t}get(e){return this._configurableBuilderMap.get(e)}has(e){return this._configurableBuilderMap.has(e)}getEffect(e,t,n){var s;const i=this.get(t);return null!==(s=null==i?void 0:i.reconfigure(n))&&void 0!==s?s:null}_getChangedOptions(e,t){const n=new Array,s=new Array;for(const[i,r]of Object.entries(e))s.push(i),t[i]!==r&&n.push(i);return n.push(...Object.keys(t).filter((e=>!s.includes(e)))),n}}class cS{constructor(){this.configurationBuilder=new Map,this.configurationSchema={},this.defaultOptions={},this.handlers=new Set,this.immutableExtensions=new Set,this._baseConfiguration={}}get baseConfiguration(){return{...this.defaultOptions,...this._baseConfiguration}}set baseConfiguration(e){if(!_.JSONExt.deepEqual(e,this._baseConfiguration)){this._baseConfiguration=e;for(const e of this.handlers)e.setBaseOptions(this.baseConfiguration)}}get defaultConfiguration(){return Object.freeze({...this.defaultOptions})}get settingsSchema(){return Object.freeze(_.JSONExt.deepCopy(this.configurationSchema))}addExtension(e){var t;if(this.configurationBuilder.has(e.name))throw new Error(`Extension named ${e.name} is already registered.`);this.configurationBuilder.set(e.name,e),void 0!==e.default&&(this.defaultOptions[e.name]=e.default),e.schema&&(this.configurationSchema[e.name]={default:null!==(t=e.default)&&void 0!==t?t:null,...e.schema},this.defaultOptions[e.name]=this.configurationSchema[e.name].default)}createNew(e){const t=new Array;for(const[s,i]of this.configurationBuilder.entries()){const n=i.factory(e);n&&t.push([s,n])}const n=new lS({baseConfiguration:this.baseConfiguration,config:e.config,defaultExtensions:t});return this.handlers.add(n),n.disposed.connect((()=>{this.handlers.delete(n)})),n}}!function(e){class t{constructor(e){this._compartment=new bw.Compartment,this._builder=e}instance(e){return this._compartment.of(this._builder(e))}reconfigure(e){return this._compartment.reconfigure(this._builder(e))}}class n{constructor(e){this._extension=e}instance(){return this._extension}reconfigure(){return null}}function s(e){return new t(e)}function i(e,n=[]){return new t((t=>t?e:n))}e.createConfigurableExtension=s,e.createConditionalExtension=i,e.createImmutableExtension=function(e){return new n(e)},e.getDefaultExtensions=function(e={}){const{themes:t,translator:n}=e,r=(null!=n?n:S).load("jupyterlab"),o=[Object.freeze({name:"autoClosingBrackets",default:!1,factory:()=>i((0,qx.closeBrackets)()),schema:{type:"boolean",title:r.__("Auto Closing Brackets")}}),Object.freeze({name:"codeFolding",default:!1,factory:()=>i((0,yw.foldGutter)()),schema:{type:"boolean",title:r.__("Code Folding")}}),Object.freeze({name:"cursorBlinkRate",default:1200,factory:()=>s((e=>(0,p.drawSelection)({cursorBlinkRate:e}))),schema:{type:"number",title:r.__("Cursor blinking rate"),description:r.__("Half-period in milliseconds used for cursor blinking. The default blink rate is 1200ms. By setting this to zero, blinking can be disabled.")}}),Object.freeze({name:"highlightActiveLine",default:!1,factory:()=>i((0,p.highlightActiveLine)()),schema:{type:"boolean",title:r.__("Highlight the active line")}}),Object.freeze({name:"highlightTrailingWhitespace",default:!1,factory:()=>i((0,p.highlightTrailingWhitespace)()),schema:{type:"boolean",title:r.__("Highlight trailing white spaces")}}),Object.freeze({name:"highlightWhitespace",default:!1,factory:()=>i((0,p.highlightWhitespace)()),schema:{type:"boolean",title:r.__("Highlight white spaces")}}),Object.freeze({name:"indentUnit",default:"4",factory:()=>s((e=>"Tab"==e?yw.indentUnit.of("\t"):yw.indentUnit.of(" ".repeat(parseInt(e,10))))),schema:{type:"string",title:r.__("Indentation unit"),description:r.__("The indentation is a `Tab` or the number of spaces. This defaults to 4 spaces."),enum:["Tab","1","2","4","8"]}}),Object.freeze({name:"keymap",default:[...zx,{key:"Tab",run:Vx.indentMoreOrInsertTab,shift:$x}],factory:()=>s((e=>p.keymap.of(e)))}),Object.freeze({name:"lineNumbers",default:!0,factory:()=>i((0,p.lineNumbers)()),schema:{type:"boolean",title:r.__("Line Numbers")}}),Object.freeze({name:"lineWrap",factory:()=>i(p.EditorView.lineWrapping),default:!0,schema:{type:"boolean",title:r.__("Line Wrap")}}),Object.freeze({name:"matchBrackets",default:!0,factory:()=>i((0,yw.bracketMatching)()),schema:{type:"boolean",title:r.__("Match Brackets")}}),Object.freeze({name:"rectangularSelection",default:!0,factory:()=>i([(0,p.rectangularSelection)(),(0,p.crosshairCursor)()]),schema:{type:"boolean",title:r.__("Rectangular selection"),description:r.__("Rectangular (block) selection can be created by dragging the mouse pointer while holding the left mouse button and the Alt key. When the Alt key is pressed, a crosshair cursor will appear, indicating that the rectangular selection mode is active.")}}),Object.freeze({name:"readOnly",default:!1,factory:()=>s((e=>[bw.EditorState.readOnly.of(e),e?p.EditorView.editorAttributes.of({class:"jp-mod-readOnly"}):[]]))}),Object.freeze({name:"rulers",default:[],factory:()=>s((e=>e.length>0?function(e){return[eS,tS.of(e),nS]}(e):[])),schema:{type:"array",title:r.__("Rulers"),items:{type:"number",minimum:0}}}),Object.freeze({name:"scrollPastEnd",default:!1,factory:e=>e.inline?null:i((0,p.scrollPastEnd)())}),Object.freeze({name:"smartIndent",default:!0,factory:()=>i((0,yw.indentOnInput)()),schema:{type:"boolean",title:r.__("Smart Indentation")}}),Object.freeze({name:"tabSize",default:4,factory:()=>s((e=>bw.EditorState.tabSize.of(e))),schema:{type:"number",title:r.__("Tab size")}}),Object.freeze({name:"allowMultipleSelections",default:!0,factory:()=>s((e=>bw.EditorState.allowMultipleSelections.of(e))),schema:{type:"boolean",title:r.__("Multiple selections")}}),Object.freeze({name:"customStyles",factory:()=>s((e=>function(e){return[Hx.of(e),p.EditorView.editorAttributes.of(Wx)]}(e))),default:{fontFamily:null,fontSize:null,lineHeight:null},schema:{title:r.__("Custom editor styles"),type:"object",properties:{fontFamily:{type:["string","null"],title:r.__("Font Family")},fontSize:{type:["number","null"],minimum:1,maximum:100,title:r.__("Font Size")},lineHeight:{type:["number","null"],title:r.__("Line Height")}},additionalProperties:!1}})];return t&&o.push(Object.freeze({name:"theme",default:"jupyter",factory:()=>s((e=>t.getTheme(e))),schema:{type:"string",title:r.__("Theme"),description:r.__("CodeMirror theme")}})),n&&o.push(Object.freeze({name:"translation",default:{"Control character":r.__("Control character"),"Selection deleted":r.__("Selection deleted"),"Folded lines":r.__("Folded lines"),"Unfolded lines":r.__("Unfolded lines"),to:r.__("to"),"folded code":r.__("folded code"),unfold:r.__("unfold"),"Fold line":r.__("Fold line"),"Unfold line":r.__("Unfold line"),"Go to line":r.__("Go to line"),go:r.__("go"),Find:r.__("Find"),Replace:r.__("Replace"),next:r.__("next"),previous:r.__("previous"),all:r.__("all"),"match case":r.__("match case"),replace:r.__("replace"),"replace all":r.__("replace all"),close:r.__("close"),"current match":r.__("current match"),"replaced $ matches":r.__("replaced $ matches"),"replaced match on line $":r.__("replaced match on line $"),"on line":r.__("on line"),Completions:r.__("Completions"),Diagnostics:r.__("Diagnostics"),"No diagnostics":r.__("No diagnostics")},factory:()=>s((e=>bw.EditorState.phrases.of(e)))})),o}}(cS||(cS={}));var uS=n(24831),hS=n(53105);class dS{constructor(e){this.start=e}}class pS extends dS{constructor(e,t,n,s,i,r,o,a,l,c,u,h,d,p,f){super(e),this.rules=t,this.topRules=n,this.tokens=s,this.localTokens=i,this.context=r,this.externalTokens=o,this.externalSpecializers=a,this.externalPropSources=l,this.precedences=c,this.mainSkip=u,this.scopedSkip=h,this.dialects=d,this.externalProps=p,this.autoDelim=f}toString(){return Object.values(this.rules).join("\n")}}class fS extends dS{constructor(e,t,n,s,i){super(e),this.id=t,this.props=n,this.params=s,this.expr=i}toString(){return this.id.name+(this.params.length?`<${this.params.join()}>`:"")+" -> "+this.expr}}class gS extends dS{constructor(e,t){super(e),this.items=t}}class mS extends dS{constructor(e,t){super(e),this.items=t}}class _S extends dS{constructor(e,t,n){super(e),this.a=t,this.b=n}}class vS extends dS{constructor(e,t,n,s,i){super(e),this.precedences=t,this.conflicts=n,this.rules=s,this.literals=i}}class bS extends dS{constructor(e,t,n,s){super(e),this.precedences=t,this.rules=n,this.fallback=s}}class yS extends dS{constructor(e,t,n){super(e),this.literal=t,this.props=n}}class wS extends dS{constructor(e,t,n){super(e),this.id=t,this.source=n}}class xS extends dS{constructor(e,t,n,s){super(e),this.id=t,this.source=n,this.tokens=s}}class SS extends dS{constructor(e,t,n,s,i,r){super(e),this.type=t,this.token=n,this.id=s,this.source=i,this.tokens=r}}class CS extends dS{constructor(e,t,n){super(e),this.id=t,this.source=n}}class kS extends dS{constructor(e,t,n,s){super(e),this.id=t,this.externalID=n,this.source=s}}class ES extends dS{constructor(e,t){super(e),this.name=t}toString(){return this.name}}class OS extends dS{walk(e){return e(this)}eq(e){return!1}}OS.prototype.prec=10;class MS extends OS{constructor(e,t,n){super(e),this.id=t,this.args=n}toString(){return this.id.name+(this.args.length?`<${this.args.join()}>`:"")}eq(e){return this.id.name==e.id.name&&zS(this.args,e.args)}walk(e){let t=BS(this.args,e);return e(t==this.args?this:new MS(this.start,this.id,t))}}class TS extends OS{constructor(e,t,n,s,i){super(e),this.type=t,this.props=n,this.token=s,this.content=i}toString(){return`@${this.type}[${this.props.join(",")}]<${this.token}, ${this.content}>`}eq(e){return this.type==e.type&&VS.eqProps(this.props,e.props)&&US(this.token,e.token)&&US(this.content,e.content)}walk(e){let t=this.token.walk(e),n=this.content.walk(e);return e(t==this.token&&n==this.content?this:new TS(this.start,this.type,this.props,t,n))}}class DS extends OS{constructor(e,t){super(e),this.rule=t}toString(){let e=this.rule;return`${e.id}${e.props.length?`[${e.props.join(",")}]`:""} { ${e.expr} }`}eq(e){let t=this.rule,n=e.rule;return US(t.expr,n.expr)&&t.id.name==n.id.name&&VS.eqProps(t.props,n.props)}walk(e){let t=this.rule,n=t.expr.walk(e);return e(n==t.expr?this:new DS(this.start,new fS(t.start,t.id,t.props,[],n)))}}class PS extends OS{constructor(e,t){super(e),this.exprs=t}toString(){return this.exprs.map((e=>HS(e,this))).join(" | ")}eq(e){return zS(this.exprs,e.exprs)}walk(e){let t=BS(this.exprs,e);return e(t==this.exprs?this:new PS(this.start,t))}}PS.prototype.prec=1;class AS extends OS{constructor(e,t,n,s=!1){super(e),this.exprs=t,this.markers=n,this.empty=s}toString(){return this.empty?"()":this.exprs.map((e=>HS(e,this))).join(" ")}eq(e){return zS(this.exprs,e.exprs)&&this.markers.every(((t,n)=>{let s=e.markers[n];return t.length==s.length&&t.every(((e,t)=>e.eq(s[t])))}))}walk(e){let t=BS(this.exprs,e);return e(t==this.exprs?this:new AS(this.start,t,this.markers,this.empty&&!t.length))}}AS.prototype.prec=2;class RS extends dS{constructor(e,t,n){super(e),this.id=t,this.type=n}toString(){return("ambig"==this.type?"~":"!")+this.id.name}eq(e){return this.id.name==e.id.name&&this.type==e.type}}class jS extends OS{constructor(e,t,n){super(e),this.expr=t,this.kind=n}toString(){return HS(this.expr,this)+this.kind}eq(e){return US(this.expr,e.expr)&&this.kind==e.kind}walk(e){let t=this.expr.walk(e);return e(t==this.expr?this:new jS(this.start,t,this.kind))}}jS.prototype.prec=3;class IS extends OS{constructor(e,t){super(e),this.value=t}toString(){return JSON.stringify(this.value)}eq(e){return this.value==e.value}}class NS extends OS{constructor(e,t,n){super(e),this.ranges=t,this.inverted=n}toString(){return`[${this.inverted?"^":""}${this.ranges.map((([e,t])=>String.fromCodePoint(e)+(t==e+1?"":"-"+String.fromCodePoint(t))))}]`}eq(e){return this.inverted==e.inverted&&this.ranges.length==e.ranges.length&&this.ranges.every((([t,n],s)=>{let[i,r]=e.ranges[s];return t==i&&n==r}))}}class LS extends OS{constructor(e){super(e)}toString(){return"_"}eq(){return!0}}function BS(e,t){let n=null;for(let s=0;s<e.length;s++){let i=e[s].walk(t);i==e[s]||n||(n=e.slice(0,s)),n&&n.push(i)}return n||e}const $S={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]],eof:[[65535,65535]]};class FS extends OS{constructor(e,t){super(e),this.type=t}toString(){return"@"+this.type}eq(e){return this.type==e.type}}function US(e,t){return e.constructor==t.constructor&&e.eq(t)}function zS(e,t){return e.length==t.length&&e.every(((e,n)=>US(e,t[n])))}class VS extends dS{constructor(e,t,n,s){super(e),this.at=t,this.name=n,this.value=s}eq(e){return this.name==e.name&&this.value.length==e.value.length&&this.value.every(((t,n)=>t.value==e.value[n].value&&t.name==e.value[n].name))}toString(){let e=(this.at?"@":"")+this.name;if(this.value.length){e+="=";for(let{name:t,value:n}of this.value)e+=t?`{${t}}`:/[^\w-]/.test(n)?JSON.stringify(n):n}return e}static eqProps(e,t){return e.length==t.length&&e.every(((e,n)=>e.eq(t[n])))}}class qS extends dS{constructor(e,t,n){super(e),this.value=t,this.name=n}}function HS(e,t){return e.prec<t.prec?"("+e.toString()+")":e.toString()}class WS extends Error{}function KS(e){for(let t in e)return!0;return!1}let GS=0;class JS{constructor(e,t,n,s={}){this.name=e,this.flags=t,this.nodeName=n,this.props=s,this.hash=++GS,this.id=-1,this.rules=[]}toString(){return this.name}get nodeType(){return this.top||null!=this.nodeName||KS(this.props)||this.repeated}get terminal(){return(1&this.flags)>0}get eof(){return(4&this.flags)>0}get error(){return"error"in this.props}get top(){return(2&this.flags)>0}get interesting(){return this.flags>0||null!=this.nodeName}get repeated(){return(16&this.flags)>0}set preserve(e){this.flags=e?8|this.flags:-9&this.flags}get preserve(){return(8&this.flags)>0}set inline(e){this.flags=e?32|this.flags:-33&this.flags}get inline(){return(32&this.flags)>0}cmp(e){return this.hash-e.hash}}class YS{constructor(){this.terms=[],this.names=Object.create(null),this.tops=[],this.eof=this.term("\u2404",null,5),this.error=this.term("\u26a0","\u26a0",8)}term(e,t,n=0,s={}){let i=new JS(e,n,t,s);return this.terms.push(i),this.names[e]=i,i}makeTop(e,t){const n=this.term("@top",e,2,t);return this.tops.push(n),n}makeTerminal(e,t,n={}){return this.term(e,t,1,n)}makeNonTerminal(e,t,n={}){return this.term(e,t,0,n)}makeRepeat(e){return this.term(e,null,16)}uniqueName(e){for(let t=0;;t++){let n=t?`${e}-${t}`:e;if(!this.names[n])return n}}finish(e){for(let r of e)r.name.rules.push(r);this.terms=this.terms.filter((t=>t.terminal||t.preserve||e.some((e=>e.name==t||e.parts.includes(t)))));let t={},n=[this.error];this.error.id=0;let s=1;for(let r of this.terms)r.id<0&&r.nodeType&&!r.repeated&&(r.id=s++,n.push(r));let i=s;for(let r of this.terms)r.repeated&&(r.id=s++,n.push(r));this.eof.id=s++;for(let r of this.terms)r.id<0&&(r.id=s++),r.name&&(t[r.id]=r.name);if(s>=65534)throw new WS("Too many terms");return{nodeTypes:n,names:t,minRepeatTerm:i,maxTerm:s-1}}}function XS(e,t,n){if(e.length!=t.length)return e.length-t.length;for(let s=0;s<e.length;s++){let i=n(e[s],t[s]);if(i)return i}return 0}const ZS=[];class QS{constructor(e,t=ZS,n=0){this.precedence=e,this.ambigGroups=t,this.cut=n}join(e){return this==QS.none||this==e?e:e==QS.none?this:new QS(Math.max(this.precedence,e.precedence),eC(this.ambigGroups,e.ambigGroups),Math.max(this.cut,e.cut))}cmp(e){return this.precedence-e.precedence||XS(this.ambigGroups,e.ambigGroups,((e,t)=>e<t?-1:e>t?1:0))||this.cut-e.cut}}function eC(e,t){if(0==e.length||e==t)return t;if(0==t.length)return e;let n=e.slice();for(let s of t)e.includes(s)||n.push(s);return n.sort()}QS.none=new QS(0);let tC=0;class nC{constructor(e,t,n,s){this.name=e,this.parts=t,this.conflicts=n,this.skip=s,this.id=tC++}cmp(e){return this.id-e.id}cmpNoName(e){return this.parts.length-e.parts.length||this.skip.hash-e.skip.hash||this.parts.reduce(((t,n,s)=>t||n.cmp(e.parts[s])),0)||XS(this.conflicts,e.conflicts,((e,t)=>e.cmp(t)))}toString(){return this.name+" -> "+this.parts.join(" ")}get isRepeatWrap(){return this.name.repeated&&2==this.parts.length&&this.parts[0]==this.name}sameReduce(e){return this.name==e.name&&this.parts.length==e.parts.length&&this.isRepeatWrap==e.isRepeatWrap}}const sC=65535;class iC{constructor(e,t,n){this.from=e,this.to=t,this.target=n}toString(){return`-> ${this.target.id}[label=${JSON.stringify(this.from<0?"\u03b5":rC(this.from)+(this.to>this.from+1?"-"+rC(this.to-1):""))}]`}}function rC(e){return e>sC?"\u221e":10==e?"\\n":13==e?"\\r":e<32||e>=55296&&e<57343?"\\u{"+e.toString(16)+"}":String.fromCharCode(e)}function oC(e,t,n){if(e.edges.length!=t.edges.length)return!1;for(let s=0;s<e.edges.length;s++){let i=e.edges[s],r=t.edges[s];if(i.from!=r.from||i.to!=r.to||n[i.target.id]!=n[r.target.id])return!1}return!0}function aC(e,t,n){for(let s of e)for(let e=0;e<s.edges.length;e++){let t=s.edges[e],i=n[t.target.id][0];i!=t.target&&(s.edges[e]=new iC(t.from,t.to,i))}return n[t.id][0]}let lC=1,cC=class e{constructor(e=[],t=lC++){this.accepting=e,this.id=t,this.edges=[]}edge(e,t,n){this.edges.push(new iC(e,t,n))}nullEdge(e){this.edge(-1,-1,e)}compile(){let t=Object.create(null),n=0,s=function s(i){let r=t[dC(i)]=new e(i.reduce(((e,t)=>eC(e,t.accepting)),[]),n++),o=[];for(let e of i)for(let t of e.edges)t.from>=0&&o.push(t);let a=function(e){let t=[],n=[];for(let i of e)t.includes(i.from)||t.push(i.from),t.includes(i.to)||t.push(i.to);t.sort(((e,t)=>e-t));for(let i=1;i<t.length;i++){let s=t[i-1],r=t[i],o=[];for(let t of e)if(t.to>s&&t.from<r)for(let e of t.target.closure())o.includes(e)||o.push(e);o.length&&n.push(new pC(s,r,o))}let s=e.filter((e=>65535==e.from&&65535==e.to));if(s.length){let e=[];for(let t of s)for(let n of t.target.closure())e.includes(n)||e.push(n);e.length&&n.push(new pC(65535,65535,e))}return n}(o);for(let e of a){let n=e.targets.sort(((e,t)=>e.id-t.id));r.edge(e.from,e.to,t[dC(n)]||s(n))}return r}(this.closure().sort(((e,t)=>e.id-t.id)));return function(e,t){let n=Object.create(null),s=Object.create(null);for(let i of e){let e=dC(i.accepting),t=s[e]||(s[e]=[]);t.push(i),n[i.id]=t}for(;;){let s=!1,i=Object.create(null);for(let t of e){if(i[t.id])continue;let e=n[t.id];if(1==e.length){i[e[0].id]=e;continue}let r=[];e:for(let t of e){for(let e of r)if(oC(t,e[0],n)){e.push(t);continue e}r.push([t])}r.length>1&&(s=!0);for(let t of r)for(let e of t)i[e.id]=t}if(!s)return aC(e,t,n);n=i}}(Object.values(t),s)}closure(){let e=[],t=Object.create(null);return function n(s){if(!t[s.id]){t[s.id]=!0,(s.edges.some((e=>e.from>=0))||s.accepting.length>0&&!s.edges.some((e=>function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}(s.accepting,e.target.accepting))))&&e.push(s);for(let e of s.edges)e.from<0&&n(e.target)}}(this),e}findConflicts(e){let t=[],n=this.cycleTerms();function s(e,n,s,i,r){e.id<n.id&&([e,n]=[n,e],s=-s);let o=t.find((t=>t.a==e&&t.b==n));o?o.soft!=s&&(o.soft=0):t.push(new uC(e,n,s,hC(i),r&&hC(r)))}return this.reachable(((t,i)=>{if(0!=t.accepting.length){for(let e=0;e<t.accepting.length;e++)for(let n=e+1;n<t.accepting.length;n++)s(t.accepting[e],t.accepting[n],0,i);t.reachable(((r,o)=>{if(r!=t)for(let a of r.accepting){let r=n.includes(a);for(let l of t.accepting)a!=l&&s(a,l,r||n.includes(l)||!e(a,l)?0:1,i,i.concat(o))}}))}})),t}cycleTerms(){let e=[];this.reachable((t=>{for(let{target:n}of t.edges)e.push(t,n)}));let t=new Map,n=[];for(let i=0;i<e.length;){let s=e[i++],r=e[i++],o=t.get(s);if(o||t.set(s,o=[]),!o.includes(r))if(s==r)n.includes(s)||n.push(s);else{for(let t of o)e.push(s,t);o.push(r)}}let s=[];for(let i of n)for(let e of i.accepting)s.includes(e)||s.push(e);return s}reachable(e){let t=[],n=[];!function s(i){e(i,n),t.push(i);for(let e of i.edges)t.includes(e.target)||(n.push(e),s(e.target),n.pop())}(this)}toString(){let e="digraph {\n";return this.reachable((t=>{t.accepting.length&&(e+=`  ${t.id} [label=${JSON.stringify(t.accepting.join())}];\n`);for(let n of t.edges)e+=`  ${t.id} ${n};\n`})),e+"}"}toArray(e,t){let n=[],s=[];this.reachable((i=>{let r=s.length,o=r+3+2*i.accepting.length;n[i.id]=r,s.push(i.stateMask(e),o,i.edges.length),i.accepting.sort(((e,n)=>t.indexOf(e.id)-t.indexOf(n.id)));for(let t of i.accepting)s.push(t.id,e[t.id]||65535);for(let e of i.edges)s.push(e.from,e.to,-e.target.id-1)}));for(let i=0;i<s.length;i++)s[i]<0&&(s[i]=n[-s[i]-1]);if(s.length>Math.pow(2,16))throw new WS("Tokenizer tables too big to represent with 16-bit offsets.");return Uint16Array.from(s)}stateMask(e){let t=0;return this.reachable((n=>{for(let s of n.accepting)t|=e[s.id]||65535})),t}},uC=class{constructor(e,t,n,s,i){this.a=e,this.b=t,this.soft=n,this.exampleA=s,this.exampleB=i}};function hC(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n].from);return t}function dC(e){let t="";for(let n of e)t.length&&(t+="-"),t+=n.id;return t}class pC{constructor(e,t,n){this.from=e,this.to=t,this.targets=n}}let fC=/[\w_-]+/gy;try{fC=/[\p{Alphabetic}\d_-]+/guy}catch(oU){}const gC=[];class mC{constructor(e,t=null){this.string=e,this.fileName=t,this.type="sof",this.value=null,this.start=0,this.end=0,this.next()}lineInfo(e){for(let t=1,n=0;;){let s=this.string.indexOf("\n",n);if(!(s>-1&&s<e))return{line:t,ch:e-n};++t,n=s+1}}message(e,t=-1){let n=this.fileName||"";if(t>-1){let e=this.lineInfo(t);n+=(n?" ":"")+e.line+":"+e.ch}return n?e+` (${n})`:e}raise(e,t=-1){throw new WS(this.message(e,t))}match(e,t){let n=t.exec(this.string.slice(e));return n?e+n[0].length:-1}next(){let e=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(e==this.string.length)return this.set("eof",null,e,e);let t=this.string[e];if('"'==t){let t=this.match(e+1,/^(\\.|[^"\\])*"/);return-1==t&&this.raise("Unterminated string literal",e),this.set("string",$C(this.string.slice(e+1,t-1)),e,t)}if("'"==t){let t=this.match(e+1,/^(\\.|[^'\\])*'/);return-1==t&&this.raise("Unterminated string literal",e),this.set("string",$C(this.string.slice(e+1,t-1)),e,t)}if("@"==t){fC.lastIndex=e+1;let t=fC.exec(this.string);return t?this.set("at",t[0],e,e+1+t[0].length):this.raise("@ without a name",e)}if("$"!=t&&"!"!=t||"["!=this.string[e+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(t))return this.set(t,null,e,e+1);{fC.lastIndex=e;let n=fC.exec(this.string);return n?this.set("id",n[0],e,e+n[0].length):this.raise("Unexpected character "+JSON.stringify(t),e)}}{let t=this.match(e+2,/^(?:\\.|[^\]\\])*\]/);return-1==t&&this.raise("Unterminated character set",e),this.set("set",this.string.slice(e+2,t-1),e,t)}}set(e,t,n,s){this.type=e,this.value=t,this.start=n,this.end=s}eat(e,t=null){return this.type==e&&(null==t||this.value===t)&&(this.next(),!0)}unexpected(){return this.raise(`Unexpected token '${this.string.slice(this.start,this.end)}'`,this.start)}expect(e,t=null){let n=this.value;return(this.type!=e||null!=t&&n!==t)&&this.unexpected(),this.next(),n}parse(){return function(e){let t=e.start,n=[],s=null,i=null,r=[],o=null,a=[],l=[],c=null,u=[],h=[],d=[],p=[],f=[],g=!1,m=!1;for(;"eof"!=e.type;){let t=e.start;if(e.eat("at","top"))"id"!=e.type&&e.raise("Top rules must have a name",e.start),f.push(_C(e,MC(e))),g=!0;else if("at"==e.type&&"tokens"==e.value)i?e.raise("Multiple @tokens declaractions",e.start):i=DC(e);else if(e.eat("at","local"))e.expect("id","tokens"),r.push(PC(e,t));else if(e.eat("at","context")){c&&e.raise("Multiple @context declarations",t);let n=MC(e);e.expect("id","from");let s=e.expect("string");c=new wS(t,n,s)}else if(e.eat("at","external"))e.eat("id","tokens")?u.push(IC(e,t)):e.eat("id","prop")?d.push(BC(e,t)):e.eat("id","extend")?h.push(NC(e,"extend",t)):e.eat("id","specialize")?h.push(NC(e,"specialize",t)):e.eat("id","propSource")?p.push(LC(e,t)):e.unexpected();else if(e.eat("at","dialects")){e.expect("{");for(let t=!0;!e.eat("}");t=!1)t||e.eat(","),l.push(MC(e))}else if("at"==e.type&&"precedence"==e.value)s&&e.raise("Multiple precedence declarations",e.start),s=TC(e);else if(e.eat("at","detectDelim"))m=!0;else if(e.eat("at","skip")){let t=yC(e);if("{"==e.type){e.next();let n=[],s=[];for(;!e.eat("}");)e.eat("at","top")?(s.push(_C(e,MC(e))),g=!0):n.push(_C(e));a.push({expr:t,topRules:s,rules:n})}else o&&e.raise("Multiple top-level skip declarations",e.start),o=t}else n.push(_C(e))}return g?new pS(t,n,f,i,r,c,u,h,p,s,o,a,l,d,m):e.raise("Missing @top declaration")}(this)}}function _C(e,t){let n=t?t.start:e.start,s=t||MC(e),i=vC(e),r=[];if(e.eat("<"))for(;!e.eat(">");)r.length&&e.expect(","),r.push(MC(e));let o=yC(e);return new fS(n,s,i,r,o)}function vC(e){if("["!=e.type)return gC;let t=[];for(e.expect("[");!e.eat("]");)t.length&&e.expect(","),t.push(bC(e));return t}function bC(e){let t=e.start,n=[],s=e.value,i="at"==e.type;if(e.eat("at")||e.eat("id")||e.unexpected(),e.eat("="))for(;;)if("string"==e.type||"id"==e.type)n.push(new qS(e.start,e.value,null)),e.next();else if(e.eat("."))n.push(new qS(e.start,".",null));else{if(!e.eat("{"))break;n.push(new qS(e.start,null,e.expect("id"))),e.expect("}")}return new VS(t,i,s,n)}function yC(e){e.expect("{");let t=OC(e);return e.expect("}"),t}const wC="\ufdda";function xC(e){let t=e.start;if(e.eat("(")){if(e.eat(")"))return new AS(t,gC,[gC,gC]);let n=OC(e);return e.expect(")"),n}if("string"==e.type){let n=e.value;return e.next(),0==n.length?new AS(t,gC,[gC,gC]):new IS(t,n)}if(e.eat("id","_"))return new LS(t);if("set"==e.type){let n=e.value,s="!"==e.string[e.start],i=$C(n.replace(/\\.|-|"/g,(e=>"-"==e?wC:'"'==e?'\\"':e))),r=[];for(let t=0;t<i.length;){let n=i.codePointAt(t);if(t+=n>65535?2:1,t<i.length-1&&i[t]==wC){let s=i.codePointAt(t+1);t+=s>65535?3:2,s<n&&e.raise("Invalid character range",e.start),SC(e,r,n,s+1)}else n==wC.charCodeAt(0)&&(n=45),SC(e,r,n,n+1)}return e.next(),new NS(t,r.sort(((e,t)=>e[0]-t[0])),s)}if("at"!=e.type||"specialize"!=e.value&&"extend"!=e.value){if("at"==e.type&&$S.hasOwnProperty(e.value)){let t=new FS(e.start,e.value);return e.next(),t}if("["==e.type){let n=_C(e,new ES(t,"_anon"));return n.params.length&&e.raise("Inline rules can't have parameters",n.start),new DS(t,n)}{let n=MC(e);if("["==e.type||"{"==e.type){let s=_C(e,n);return s.params.length&&e.raise("Inline rules can't have parameters",s.start),new DS(t,s)}if(e.eat(".")&&"std"==n.name&&$S.hasOwnProperty(e.value)){let n=new FS(t,e.value);return e.next(),n}return new MS(t,n,function(e){let t=[];if(e.eat("<"))for(;!e.eat(">");)t.length&&e.expect(","),t.push(OC(e));return t}(e))}}{let{start:t,value:n}=e;e.next();let s=vC(e);e.expect("<");let i,r=OC(e);return e.eat(",")?i=OC(e):r instanceof IS?i=r:e.raise(`@${n} requires two arguments when its first argument isn't a literal string`),e.expect(">"),new TS(t,n,s,r,i)}}function SC(e,t,n,s){t.every((([e,t])=>t<=n||e>=s))||e.raise("Overlapping character range",e.start),t.push([n,s])}function CC(e){let t=e.start,n=xC(e);for(;;){let s=e.type;if(!(e.eat("*")||e.eat("?")||e.eat("+")))return n;n=new jS(t,n,s)}}function kC(e){return"}"==e.type||")"==e.type||"|"==e.type||"/"==e.type||"/\\"==e.type||"{"==e.type||","==e.type||">"==e.type}function EC(e){let t=e.start,n=[],s=[gC];do{for(;;){let t,n=e.start;if(e.eat("~"))t="ambig";else{if(!e.eat("!"))break;t="prec"}s[s.length-1]=s[s.length-1].concat(new RS(n,MC(e),t))}if(kC(e))break;n.push(CC(e)),s.push(gC)}while(!kC(e));return 1==n.length&&s.every((e=>0==e.length))?n[0]:new AS(t,n,s,!n.length)}function OC(e){let t=e.start,n=EC(e);if(!e.eat("|"))return n;let s=[n];do{s.push(EC(e))}while(e.eat("|"));let i=s.find((e=>e instanceof AS&&e.empty));return i&&e.raise("Empty expression in choice operator. If this is intentional, use () to make it explicit.",i.start),new PS(t,s)}function MC(e){"id"!=e.type&&e.unexpected();let t=e.start,n=e.value;return e.next(),new ES(t,n)}function TC(e){let t=e.start;e.next(),e.expect("{");let n=[];for(;!e.eat("}");)n.length&&e.eat(","),n.push({id:MC(e),type:e.eat("at","left")?"left":e.eat("at","right")?"right":e.eat("at","cut")?"cut":null});return new gS(t,n)}function DC(e){let t=e.start;e.next(),e.expect("{");let n=[],s=[],i=[],r=[];for(;!e.eat("}");)"at"==e.type&&"precedence"==e.value?i.push(AC(e)):"at"==e.type&&"conflict"==e.value?r.push(RC(e)):"string"==e.type?s.push(new yS(e.start,e.expect("string"),vC(e))):n.push(_C(e));return new vS(t,i,r,n,s)}function PC(e,t){e.expect("{");let n=[],s=[],i=null;for(;!e.eat("}");)"at"==e.type&&"precedence"==e.value?s.push(AC(e)):e.eat("at","else")&&!i?i={id:MC(e),props:vC(e)}:n.push(_C(e));return new bS(t,s,n,i)}function AC(e){let t=e.start;e.next(),e.expect("{");let n=[];for(;!e.eat("}");){n.length&&e.eat(",");let t=xC(e);t instanceof IS||t instanceof MS?n.push(t):e.raise("Invalid expression in token precedences",t.start)}return new mS(t,n)}function RC(e){let t=e.start;e.next(),e.expect("{");let n=xC(e);n instanceof IS||n instanceof MS||e.raise("Invalid expression in token conflict",n.start),e.eat(",");let s=xC(e);return s instanceof IS||s instanceof MS||e.raise("Invalid expression in token conflict",s.start),e.expect("}"),new _S(t,n,s)}function jC(e){let t=[];for(e.expect("{");!e.eat("}");){t.length&&e.eat(",");let n=MC(e),s=vC(e);t.push({id:n,props:s})}return t}function IC(e,t){let n=MC(e);e.expect("id","from");let s=e.expect("string");return new xS(t,n,s,jC(e))}function NC(e,t,n){let s=yC(e),i=MC(e);e.expect("id","from");let r=e.expect("string");return new SS(n,t,s,i,r,jC(e))}function LC(e,t){let n=MC(e);return e.expect("id","from"),new CS(t,n,e.expect("string"))}function BC(e,t){let n=MC(e),s=e.eat("id","as")?MC(e):n;e.expect("id","from");let i=e.expect("string");return new kS(t,s,n,i)}function $C(e){let t,n=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|[^]/giy,s="";for(;t=n.exec(e);){let[e,n,i,r,o,a]=t;s+=n||i||r?String.fromCodePoint(parseInt(n||i||r,16)):o?"n"==o?"\n":"t"==o?"\t":"0"==o?"\0":"r"==o?"\r":"f"==o?"\f":"\b":a||e}return s}function FC(e,t){return(e<<5)+e+t}function UC(e,t){for(let n=0;n<t.length;n++)e=FC(e,t.charCodeAt(n));return e}const zC="undefined"!=typeof process&&process.env.LOG||"",VC=/\btime\b/.test(zC),qC=VC?(e,t)=>{let n=Date.now(),s=t();return console.log(`${e} (${((Date.now()-n)/1e3).toFixed(2)}s)`),s}:(e,t)=>t();class HC{constructor(e,t,n,s,i,r){this.rule=e,this.pos=t,this.ahead=n,this.ambigAhead=s,this.skipAhead=i,this.via=r,this.hash=0}finish(){let e=FC(FC(this.rule.id,this.pos),this.skipAhead.hash);for(let t of this.ahead)e=FC(e,t.hash);for(let t of this.ambigAhead)e=UC(e,t);return this.hash=e,this}get next(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}advance(){return new HC(this.rule,this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this.via).finish()}get skip(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}cmp(e){return this.rule.cmp(e.rule)||this.pos-e.pos||this.skipAhead.hash-e.skipAhead.hash||XS(this.ahead,e.ahead,((e,t)=>e.cmp(t)))||XS(this.ambigAhead,e.ambigAhead,GC)}eqSimple(e){return e.rule==this.rule&&e.pos==this.pos}toString(){let e=this.rule.parts.map((e=>e.name));return e.splice(this.pos,0,"\xb7"),`${this.rule.name} -> ${e.join(" ")}`}eq(e){return this==e||this.hash==e.hash&&this.rule==e.rule&&this.pos==e.pos&&this.skipAhead==e.skipAhead&&XC(this.ahead,e.ahead)&&XC(this.ambigAhead,e.ambigAhead)}trail(e=60){let t=[];for(let s=this;s;s=s.via)for(let e=s.pos-1;e>=0;e--)t.push(s.rule.parts[e]);let n=t.reverse().join(" ");return n.length>e&&(n=n.slice(n.length-e).replace(/.*? /,"\u2026 ")),n}conflicts(e=this.pos){let t=this.rule.conflicts[e];return e==this.rule.parts.length&&this.ambigAhead.length&&(t=t.join(new QS(0,this.ambigAhead))),t}static addOrigins(e,t){let n=e.slice();for(let s=0;s<n.length;s++){let e=n[s];if(0==e.pos)for(let s of t)s.next!=e.rule.name||n.includes(s)||n.push(s)}return n}}function WC(e){let t=QS.none;for(let n of e)t=t.join(n.conflicts());return t}function KC(e,t){for(let n of e)if(n.rule.name.repeated)for(let e of t)if(e.rule.name==n.rule.name){if(n.rule.isRepeatWrap&&2==n.pos)return 1;if(e.rule.isRepeatWrap&&2==e.pos)return-1}return 0}function GC(e,t){return e<t?-1:e>t?1:0}function JC(e,t,n,s){let i=[];for(let r=t+1;r<e.parts.length;r++){let t=e.parts[r],n=!1;if(t.terminal)nk(t,i);else for(let e of s[t.name])null==e?n=!0:nk(e,i);if(!n)return i}for(let r of n)nk(r,i);return i}function YC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}function XC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}class ZC{constructor(e,t){this.term=e,this.target=t}eq(e){return e instanceof ZC&&this.term==e.term&&e.target.id==this.target.id}cmp(e){return e instanceof QC?-1:this.term.id-e.term.id||this.target.id-e.target.id}matches(e,t){return e instanceof ZC&&t[e.target.id]==t[this.target.id]}toString(){return"s"+this.target.id}map(e,t){let n=t[e[this.target.id]];return n==this.target?this:new ZC(this.term,n)}}class QC{constructor(e,t){this.term=e,this.rule=t}eq(e){return e instanceof QC&&this.term==e.term&&e.rule.sameReduce(this.rule)}cmp(e){return e instanceof ZC?1:this.term.id-e.term.id||this.rule.name.id-e.rule.name.id||this.rule.parts.length-e.rule.parts.length}matches(e,t){return e instanceof QC&&e.rule.sameReduce(this.rule)}toString(){return`${this.rule.name.name}(${this.rule.parts.length})`}map(){return this}}function ek(e){let t=5381;for(let n of e)t=FC(t,n.hash);return t}class tk{constructor(e,t,n=0,s,i=ek(t),r=null){this.id=e,this.set=t,this.flags=n,this.skip=s,this.hash=i,this.startRule=r,this.actions=[],this.actionPositions=[],this.goto=[],this.tokenGroup=-1,this.defaultReduce=null,this._actionsByTerm=null}toString(){let e=this.actions.map((e=>e.term+"="+e)).join(",")+(this.goto.length?" | "+this.goto.map((e=>e.term+"="+e)).join(","):"");return this.id+": "+this.set.filter((e=>e.pos>0)).join()+(this.defaultReduce?`\n  always ${this.defaultReduce.name}(${this.defaultReduce.parts.length})`:e.length?"\n  "+e:"")}addActionInner(e,t){e:for(let n=0;n<this.actions.length;n++){let s=this.actions[n];if(s.term==e.term){if(s.eq(e))return null;let i=HC.addOrigins(t,this.set),r=HC.addOrigins(this.actionPositions[n],this.set),o=WC(i),a=WC(r),l=KC(i,r)||o.precedence-a.precedence;if(l>0){this.actions.splice(n,1),this.actionPositions.splice(n,1),n--;continue e}if(l<0)return null;if(o.ambigGroups.some((e=>a.ambigGroups.includes(e))))continue e;return s}}return this.actions.push(e),this.actionPositions.push(t),null}addAction(e,t,n){let s=this.addActionInner(e,t);if(s){let i,r=this.actionPositions[this.actions.indexOf(s)][0],o=[t[0].rule.name,r.rule.name];if(n.some((e=>e.rules.some((e=>o.includes(e))))))return;i=s instanceof ZC?`shift/reduce conflict between\n  ${r}\nand\n  ${t[0].rule}`:`reduce/reduce conflict between\n  ${r.rule}\nand\n  ${t[0].rule}`,i+=`\nWith input:\n  ${t[0].trail(70)} \xb7 ${e.term} \u2026`,i+=function(e,t){if(e.eqSimple(t))return"";function n(e,t){let n=[];for(let s=t.via;!s.eqSimple(e);s=s.via)n.push(s);return n.length?(n.unshift(t),n.reverse().map(((e,n)=>"\n"+"  ".repeat(n+1)+(e==t?"":"via ")+e)).join("")):""}for(let s=e;s;s=s.via)for(let i=t;i;i=i.via)if(s.eqSimple(i))return"\nShared origin: "+s+n(s,e)+n(s,t);return""}(r,t[0]),n.push(new ik(i,o))}}getGoto(e){return this.goto.find((t=>t.term==e))}hasSet(e){return YC(this.set,e)}actionsByTerm(){let e=this._actionsByTerm;if(!e){this._actionsByTerm=e=Object.create(null);for(let t of this.actions)(e[t.term.id]||(e[t.term.id]=[])).push(t)}return e}finish(){if(this.actions.length){let e=this.actions[0];if(e instanceof QC){let{rule:t}=e;this.actions.every((e=>e instanceof QC&&e.rule.sameReduce(t)))&&(this.defaultReduce=t)}}this.actions.sort(((e,t)=>e.cmp(t))),this.goto.sort(((e,t)=>e.cmp(t)))}eq(e){let t=this.defaultReduce,n=e.defaultReduce;return t||n?!(!t||!n)&&t.sameReduce(n):this.skip==e.skip&&this.tokenGroup==e.tokenGroup&&YC(this.actions,e.actions)&&YC(this.goto,e.goto)}}function nk(e,t){t.includes(e)||t.push(e)}class sk{constructor(e,t){this.set=e,this.state=t}}class ik{constructor(e,t){this.error=e,this.rules=t}}function rk(e,t,n){let s=[],i={},r={},o=Date.now();function a(e,t){if(0==e.length)return null;let a,l=ek(e),c=r[l];for(let n of e)if(a){if(a!=n.skip)throw new WS("Inconsistent skip sets after "+n.trail())}else a=n.skip;if(c)for(let n of c)if(YC(e,n.set)){if(n.state.skip!=a)throw new WS("Inconsistent skip sets after "+n.set[0].trail());return n.state}let u,h=function(e,t){let n=[],s=[];function i(t,i,r,o,a){for(let l of t.rules){let t=n.find((e=>e.rule==l));if(!t){let s=e.find((e=>0==e.pos&&e.rule==l));t=s?new HC(l,0,s.ahead.slice(),s.ambigAhead,s.skipAhead,s.via):new HC(l,0,[],hk,o,a),n.push(t)}if(t.skipAhead!=o)throw new WS("Inconsistent skip sets after "+a.trail());t.ambigAhead=eC(t.ambigAhead,r);for(let e of i)t.ahead.includes(e)||(t.ahead.push(e),t.rule.parts.length&&!t.rule.parts[0].terminal&&nk(t,s))}}for(let o of e){let e=o.next;e&&!e.terminal&&i(e,JC(o.rule,o.pos,o.ahead,t),o.conflicts(o.pos+1).ambigGroups,o.pos==o.rule.parts.length-1?o.skipAhead:o.rule.skip,o)}for(;s.length;){let e=s.pop();i(e.rule.parts[0],JC(e.rule,0,e.ahead,t),eC(e.rule.conflicts[1].ambigGroups,1==e.rule.parts.length?e.ambigAhead:hk),1==e.rule.parts.length?e.skipAhead:e.rule.skip,e)}let r=e.slice();for(let o of n){o.ahead.sort(((e,t)=>e.hash-t.hash)),o.finish();let t=e.findIndex((e=>0==e.pos&&e.rule==o.rule));t>-1?r[t]=o:r.push(o)}return r.sort(((e,t)=>e.cmp(t)))}(e,n),d=ek(h),p=i[d]||(i[d]=[]);if(!t)for(let n of p)n.hasSet(h)&&(u=n);return u||(u=new tk(s.length,h,0,a,d,t),p.push(u),s.push(u),VC&&s.length%500==0&&console.log(`${s.length} states after ${((Date.now()-o)/1e3).toFixed(2)}s`)),(r[l]||(r[l]=[])).push(new sk(e,u)),u}for(const c of t){const t=c.rules.length?c.rules[0].skip:e.names["%noskip"];a(c.rules.map((n=>new HC(n,0,[e.eof],hk,t,null).finish())),c)}let l=[];for(let c=0;c<s.length;c++){let e=s[c],t=[],i=[],r=[];for(let n of e.set)if(n.pos==n.rule.parts.length)n.rule.name.top||r.push(n);else{let e=n.rule.parts[n.pos],s=t.indexOf(e);s<0?(t.push(e),i.push([n])):i[s].push(n)}for(let n=0;n<t.length;n++){let s=t[n],r=i[n].map((e=>e.advance()));if(s.terminal){let t=a(ok(r));t&&e.addAction(new ZC(s,t),i[n],l)}else{let t=a(r);t&&e.goto.push(new ZC(s,t))}}let o=!1;for(let n of r)for(let t of n.ahead){let s=e.actions.length;e.addAction(new QC(t,n.rule),[n],l),e.actions.length==s&&(o=!0)}if(o)for(let s=0;s<e.goto.length;s++){n[e.goto[s].term.name].some((t=>e.actions.some((e=>e.term==t&&e instanceof ZC))))||e.goto.splice(s--,1)}}if(l.length)throw new WS(l.map((e=>e.error)).join("\n\n"));for(let c of s)c.finish();return VC&&console.log(`${s.length} states total.`),s}function ok(e){let t=null,n=1;for(let s of e){let e=s.rule.conflicts[s.pos-1].cut;e<n||((!t||e>n)&&(n=e,t=[]),t.push(s))}return t||e}function ak(e,t,n){for(let i of e.goto)for(let e of t.goto)if(i.term==e.term&&n[i.target.id]!=n[e.target.id])return!1;let s=t.actionsByTerm();for(let i of e.actions){let t=s[i.term.id];if(t&&t.some((e=>!e.matches(i,n)))){if(1==t.length)return!1;let s=e.actionsByTerm()[i.term.id];if(s.length!=t.length||s.some((e=>!t.some((t=>e.matches(t,n))))))return!1}}return!0}function lk(e,t){let n=[];for(let s of e){let e=t[s.id];n[e]||(n[e]=new tk(e,s.set,0,s.skip,s.hash,s.startRule),n[e].tokenGroup=s.tokenGroup,n[e].defaultReduce=s.defaultReduce)}for(let s of e){let e=n[t[s.id]];e.flags|=s.flags;for(let i=0;i<s.actions.length;i++){let r=s.actions[i].map(t,n);e.actions.some((e=>e.eq(r)))||(e.actions.push(r),e.actionPositions.push(s.actionPositions[i]))}for(let i of s.goto){let s=i.map(t,n);e.goto.some((e=>e.eq(s)))||e.goto.push(s)}}return n}class ck{constructor(e,t){this.origin=e,this.members=[t]}}function uk(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eqSimple(t[n]))return!1;return!0}const hk=[];function dk(e){return function(e){for(let t=1;;t++){let n=[],s=!1,i=Date.now(),r=[];for(let t=0;t<e.length;t++){let i=e[t],o=r.findIndex((e=>i.eq(e)));if(o<0)n[t]=r.length,r.push(i);else{n[t]=o,s=!0;let e=r[o],a=null;for(let t of i.set)e.set.some((e=>e.eqSimple(t)))||(a||(a=[])).push(t);a&&(e.set=a.concat(e.set).sort(((e,t)=>e.cmp(t))))}}if(VC&&console.log(`Merge identical pass ${t}${s?"":", done"} (${((Date.now()-i)/1e3).toFixed(2)}s)`),!s)return e;for(let e of r)e.defaultReduce||(e.actions=e.actions.map((e=>e.map(n,r))),e.goto=e.goto.map((e=>e.map(n,r))));for(let e=0;e<r.length;e++)r[e].id=e;e=r}}(function(e){let t=[],n=[];e:for(let i=0;i<e.length;i++){let s=e[i];if(!s.startRule)for(let r=0;r<n.length;r++){let o=n[r],a=e[o.members[0]];if(s.tokenGroup==a.tokenGroup&&s.skip==a.skip&&!a.startRule&&uk(s.set,a.set)){o.members.push(i),t.push(r);continue e}}t.push(n.length),n.push(new ck(n.length,i))}function s(s,i){let r=n[s],o=e[r.members[i]],a=r.members.pop();i!=r.members.length&&(r.members[i]=a);for(let l=s+1;l<n.length;l++)if(t[o.id]=l,n[l].origin==r.origin&&n[l].members.every((n=>ak(o,e[n],t))))return void n[l].members.push(o.id);t[o.id]=n.length,n.push(new ck(r.origin,o.id))}for(let i=1;;i++){let r=!1,o=Date.now();for(let i=0,a=n.length;i<a;i++){let o=n[i];for(let n=0;n<o.members.length-1;n++)for(let a=n+1;a<o.members.length;a++){let l=o.members[n],c=o.members[a];ak(e[l],e[c],t)||(r=!0,s(i,a--))}}if(VC&&console.log(`Collapse pass ${i}${r?"":", done"} (${((Date.now()-o)/1e3).toFixed(2)}s)`),!r)return lk(e,t)}}(e))}function pk(e){let t=e+32;return t>=34&&t++,t>=92&&t++,String.fromCharCode(t)}function fk(e,t=65535){if(e>t)throw new Error("Trying to encode a number that's too big: "+e);if(65535==e)return String.fromCharCode(126);let n="";for(let s=46;;s=0){let t=e%46,i=e-t;if(n=pk(t+s)+n,0==i)break;e=i/46}return n}function gk(e,t=65535){let n='"'+fk(e.length,4294967295);for(let s=0;s<e.length;s++)n+=fk(e[s],t);return n+='"',n}const mk=[];class _k{constructor(e,t){this.terms=e,this.conflicts=t}concat(e){if(this==_k.none)return e;if(e==_k.none)return this;let t=null;if(this.conflicts||e.conflicts){t=this.conflicts?this.conflicts.slice():this.ensureConflicts();let n=e.ensureConflicts();t[t.length-1]=t[t.length-1].join(n[0]);for(let e=1;e<n.length;e++)t.push(n[e])}return new _k(this.terms.concat(e.terms),t)}withConflicts(e,t){if(t==QS.none)return this;let n=this.conflicts?this.conflicts.slice():this.ensureConflicts();return n[e]=n[e].join(t),new _k(this.terms,n)}ensureConflicts(){if(this.conflicts)return this.conflicts;let e=[];for(let t=0;t<=this.terms.length;t++)e.push(QS.none);return e}}function vk(...e){return new _k(e,null)}_k.none=new _k(mk,null);class bk{constructor(e,t,n){this.id=e,this.args=t,this.term=n}matches(e){return this.id==e.id.name&&zS(e.args,this.args)}matchesRepeat(e){return"+"==this.id&&US(e.expr,this.args[0])}}class yk{constructor(e,t){this.options=t,this.terms=new YS,this.specialized=Object.create(null),this.tokenOrigins=Object.create(null),this.rules=[],this.built=[],this.ruleNames=Object.create(null),this.namespaces=Object.create(null),this.namedTerms=Object.create(null),this.termTable=Object.create(null),this.knownProps=Object.create(null),this.dynamicRulePrecedences=[],this.definedGroups=[],this.astRules=[],this.currentSkip=[],qC("Parse",(()=>{this.input=new mC(e,t.fileName),this.ast=this.input.parse()}));let n=ww.NodeProp;for(let s in n)n[s]instanceof ww.NodeProp&&!n[s].perNode&&(this.knownProps[s]={prop:n[s],source:{name:s,from:null}});for(let s of this.ast.externalProps)this.knownProps[s.id.name]={prop:this.options.externalProp?this.options.externalProp(s.id.name):new ww.NodeProp,source:{name:s.externalID.name,from:s.source}};this.dialects=this.ast.dialects.map((e=>e.name)),this.tokens=new Rk(this,this.ast.tokens),this.localTokens=this.ast.localTokens.map((e=>new jk(this,e))),this.externalTokens=this.ast.externalTokens.map((e=>new Wk(this,e))),this.externalSpecializers=this.ast.externalSpecializers.map((e=>new Kk(this,e))),qC("Build rules",(()=>{let e=this.newName("%noskip",!0);this.defineRule(e,[]);let t=this.ast.mainSkip?this.newName("%mainskip",!0):e,n=[],s=[];for(let i of this.ast.rules)this.astRules.push({skip:t,rule:i});for(let i of this.ast.topRules)s.push({skip:t,rule:i});for(let i of this.ast.scopedSkip){let r=e,o=this.ast.scopedSkip.findIndex(((e,t)=>t<n.length&&US(e.expr,i.expr)));o>-1?r=n[o]:this.ast.mainSkip&&US(i.expr,this.ast.mainSkip)?r=t:zk(i.expr)||(r=this.newName("%skip",!0)),n.push(r);for(let e of i.rules)this.astRules.push({skip:r,rule:e});for(let e of i.topRules)s.push({skip:r,rule:e})}for(let{rule:i}of this.astRules)this.unique(i.id);this.currentSkip.push(e),this.skipRules=t==e?[t]:[e,t],t!=e&&this.defineRule(t,this.normalizeExpr(this.ast.mainSkip));for(let i=0;i<this.ast.scopedSkip.length;i++){let t=n[i];this.skipRules.includes(t)||(this.skipRules.push(t),t!=e&&this.defineRule(t,this.normalizeExpr(this.ast.scopedSkip[i].expr)))}this.currentSkip.pop();for(let{rule:i,skip:r}of s.sort(((e,t)=>e.rule.start-t.rule.start))){this.unique(i.id),this.used(i.id.name),this.currentSkip.push(r);let{name:e,props:t}=this.nodeInfo(i.props,"a",i.id.name,mk,mk,i.expr),n=this.terms.makeTop(e,t);this.namedTerms[e]=n,this.defineRule(n,this.normalizeExpr(i.expr)),this.currentSkip.pop()}for(let i of this.externalSpecializers)i.finish();for(let{skip:i,rule:r}of this.astRules)this.ruleNames[r.id.name]&&Yk(r)&&!r.params.length&&(this.buildRule(r,[],i,!1),r.expr instanceof AS&&0==r.expr.exprs.length&&this.used(r.id.name))}));for(let s in this.ruleNames){let e=this.ruleNames[s];e&&this.warn(`Unused rule '${e.name}'`,e.start)}this.tokens.takePrecedences(),this.tokens.takeConflicts();for(let s of this.localTokens)s.takePrecedences();for(let{name:s,group:i,rule:r}of this.definedGroups)this.defineGroup(s,i,r);this.checkGroups()}unique(e){e.name in this.ruleNames&&this.raise(`Duplicate definition of rule '${e.name}'`,e.start),this.ruleNames[e.name]=e}used(e){this.ruleNames[e]=null}newName(e,t=null,n={}){for(let s=t?0:1;;s++){let i=s?`${e}-${s}`:e;if(!this.terms.names[i])return this.terms.makeNonTerminal(i,!0===t?null:t,n)}}prepareParser(){let e=qC("Simplify rules",(()=>function(e,t){return function(e){let t,n=Object.create(null);for(let i=0;i<e.length;){let s=i,r=e[i++].name;for(;i<e.length&&e[i].name==r;)i++;let o=i-s;if(!r.interesting)for(let a=i;a<e.length;){let i=a,l=e[a++].name;for(;a<e.length&&e[a].name==l;)a++;if(a-i!=o||l.interesting)continue;let c=!0;for(let t=0;t<o&&c;t++){let n=e[s+t],r=e[i+t];0!=n.cmpNoName(r)&&(c=!1)}c&&(t=n[r.name]=l)}}if(!t)return e;let s=[];for(let i of e)n[i.name.name]||s.push(i.parts.every((e=>!n[e.name]))?i:new nC(i.name,i.parts.map((e=>n[e.name]||e)),i.conflicts,i.skip));return s}(function(e,t){for(let n=0;;n++){let s,i=Object.create(null);if(0==n)for(let o of e)if(o.name.inline&&!i[o.name.name]){let a=e.filter((e=>e.name==o.name));if(a.some((e=>e.parts.includes(o.name))))continue;s=i[o.name.name]=a}for(let l=0;l<e.length;l++){let c=e[l];c.name.interesting||c.parts.includes(c.name)||!(c.parts.length<3)||t.includes(c.name)||1!=c.parts.length&&!e.every((e=>e.skip==c.skip||!e.parts.includes(c.name)))||c.parts.some((e=>!!i[e.name]))||e.some(((e,t)=>t!=l&&e.name==c.name))||(s=i[c.name.name]=[c])}if(!s)return e;let r=[];for(let u of e){function h(e,t,n){if(e==u.parts.length)return void r.push(new nC(u.name,n,t,u.skip));let s=u.parts[e],o=i[s.name];if(o)for(let i of o)h(e+1,t.slice(0,t.length-1).concat(t[e].join(i.conflicts[0])).concat(i.conflicts.slice(1,i.conflicts.length-1)).concat(u.conflicts[e+1].join(i.conflicts[i.conflicts.length-1])),n.concat(i.parts));else h(e+1,t.concat(u.conflicts[e+1]),n.concat(s))}i[u.name.name]||(u.parts.some((e=>!!i[e.name]))?h(0,[u.conflicts[0]],[]):r.push(u))}e=r}}(e,t))}(this.rules,[...this.skipRules,...this.terms.tops]))),{nodeTypes:t,names:n,minRepeatTerm:s,maxTerm:i}=this.terms.finish(e);for(let O in this.namedTerms)this.termTable[O]=this.namedTerms[O].id;/\bgrammar\b/.test(zC)&&console.log(e.join("\n"));let r=this.terms.tops.slice(),o=function(e){let t=Object.create(null);for(let n of e.terms)n.terminal||(t[n.name]=[]);for(;;){let n=!1;for(let s of e.terms)if(!s.terminal)for(let e of s.rules){let i=t[s.name],r=!1,o=i.length;for(let n of e.parts){if(r=!0,n.terminal)nk(n,i);else for(let e of t[n.name])null==e?r=!1:nk(e,i);if(r)break}r||nk(null,i),i.length>o&&(n=!0)}if(!n)return t}}(this.terms),a=this.skipRules.map(((e,t)=>{let n=[],s=[],i=[];for(let r of e.rules){if(!r.parts.length)continue;let e=r.parts[0];for(let t of e.terminal?[e]:o[e.name]||[])s.includes(t)||s.push(t);e.terminal&&1==r.parts.length&&!i.some((t=>t!=r&&t.parts[0]==e))?n.push(e):i.push(r)}return e.rules=i,i.length&&r.push(e),{skip:n,rule:i.length?e:null,startTokens:s,id:t}})),l=qC("Build full automaton",(()=>rk(this.terms,r,o))),c=this.localTokens.map(((e,t)=>e.buildLocalGroup(l,a,t))),{tokenGroups:u,tokenPrec:h,tokenData:d}=qC("Build token groups",(()=>this.tokens.buildTokenGroups(l,a,c.length))),p=qC("Finish automaton",(()=>dk(l))),f=function(e,t){let n=Object.create(null),s=[],i=e=>{n[e.id]||(n[e.id]=!0,s.push(e))};for(let r of e)r.startRule&&t.includes(r.startRule)&&i(r);for(let r=0;r<s.length;r++){for(let e of s[r].actions)e instanceof ZC&&i(e.target);for(let e of s[r].goto)i(e.target)}return e=>!n[e]}(p,this.terms.tops);/\blr\b/.test(zC)&&console.log(p.join("\n"));let g=[];for(let O of this.externalSpecializers)g.push(O);for(let O in this.specialized)g.push({token:this.terms.names[O],table:Sk(this.specialized[O])});let m=e=>e instanceof Wk?e.ast.start:this.tokens.ast?this.tokens.ast.start:-1,_=u.concat(this.externalTokens).sort(((e,t)=>m(e)-m(t))).concat(c),v=new kk,b=a.map((e=>{let t=[];for(let n of e.skip)t.push(n.id,0,4);if(e.rule){let n=p.find((t=>t.startRule==e.rule));for(let e of n.actions)t.push(e.term.id,n.id,2)}return t.push(65535,0),v.storeArray(t)})),y=qC("Finish states",(()=>{let e=new Uint32Array(6*p.length),t=this.computeForceReductions(p,a),n=new wk(_,v,e,b,a,p,this);for(let s of p)n.finish(s,f(s.id),t[s.id]);return e})),w=Object.create(null);for(let O=0;O<this.dialects.length;O++)w[this.dialects[O]]=v.storeArray((this.tokens.byDialect[O]||mk).map((e=>e.id)).concat(65535));let x=null;if(this.dynamicRulePrecedences.length){x=Object.create(null);for(let{rule:e,prec:t}of this.dynamicRulePrecedences)x[e.id]=t}let S=Object.create(null);for(let O of this.terms.tops)S[O.nodeName]=[p.find((e=>e.startRule==O)).id,O.id];let C=v.storeArray(h.concat(65535)),{nodeProps:k,skippedTypes:E}=this.gatherNodeProps(t);return{states:y,stateData:v.finish(),goto:Ek(p),nodeNames:t.filter((e=>e.id<s)).map((e=>e.nodeName)).join(" "),nodeProps:k,skippedTypes:E,maxTerm:i,repeatNodeCount:t.length-s,tokenizers:_,tokenData:d,topRules:S,dialects:w,dynamicPrecedences:x,specialized:g,tokenPrec:C,termNames:n}}getParser(){let{states:e,stateData:t,goto:n,nodeNames:s,nodeProps:i,skippedTypes:r,maxTerm:o,repeatNodeCount:a,tokenizers:l,tokenData:c,topRules:u,dialects:h,dynamicPrecedences:d,specialized:p,tokenPrec:f,termNames:g}=this.prepareParser(),m=p.map((e=>{if(e instanceof Kk){let t=this.options.externalSpecializer(e.ast.id.name,this.termTable);return{term:e.term.id,get:(n,s)=>t(n,s)<<1|("extend"==e.ast.type?1:0),external:t,extend:"extend"==e.ast.type}}return{term:e.token.id,get:t=>e.table[t]||-1}}));return hS.LRParser.deserialize({version:14,states:e,stateData:t,goto:n,nodeNames:s,maxTerm:o,repeatNodeCount:a,nodeProps:i.map((({prop:e,terms:t})=>[this.knownProps[e].prop,...t])),propSources:this.options.externalPropSource?this.ast.externalPropSources.map((e=>this.options.externalPropSource(e.id.name))):void 0,skippedNodes:r,tokenData:c,tokenizers:l.map((e=>e.create())),context:this.ast.context?"function"==typeof this.options.contextTracker?this.options.contextTracker(this.termTable):this.options.contextTracker:void 0,topRules:u,dialects:h,dynamicPrecedences:d,specialized:m,tokenPrec:f,termNames:g})}getParserFile(){let{states:e,stateData:t,goto:n,nodeNames:s,nodeProps:i,skippedTypes:r,maxTerm:o,repeatNodeCount:a,tokenizers:l,tokenData:c,topRules:u,dialects:h,dynamicPrecedences:d,specialized:p,tokenPrec:f,termNames:g}=this.prepareParser(),m=this.options.moduleStyle||"es",_="// This file was generated by lezer-generator. You probably shouldn't edit it.\n",v=_,b={},y=Object.create(null),w=Object.create(null);for(let N of Jk)w[N]=!0;let x=this.options.exportName||"parser";w[x]=!0;let S=e=>{for(let t=0;;t++){let n=e+(t?"_"+t:"");if(!w[n])return n}},C=(e,t,n=e)=>{let s=e+" from "+t;if(y[s])return y[s];let i=JSON.stringify(t),r=e;return e in w&&(r=S(n),e+=`${"cjs"==m?":":" as"} ${r}`),w[r]=!0,(b[i]||(b[i]=[])).push(e),y[s]=r},k=C("LRParser","@lezer/lr"),E=l.map((e=>e.createSource(C))),O=this.ast.context?C(this.ast.context.id.name,this.ast.context.source):null,M=i.map((({prop:e,terms:t})=>{let{source:n}=this.knownProps[e];return`[${n.from?C(n.name,n.from):JSON.stringify(n.name)}, ${t.map(A).join(",")}]`}));let T="",D=p.map((e=>{if(e instanceof Kk){let t=C(e.ast.id.name,e.ast.source),n=this.options.typeScript?": any":"";return`{term: ${e.term.id}, get: (value${n}, stack${n}) => (${t}(value, stack) << 1)${"extend"==e.ast.type?" | 1":""}, external: ${t}${"extend"==e.ast.type?", extend: true":""}}`}{let n=S("spec_"+e.token.name.replace(/\W/g,""));w[n]=!0,T+=`const ${n} = ${t=e.table,"{__proto__:null,"+Object.keys(t).map((e=>`${/^(\d+|[a-zA-Z_]\w*)$/.test(e)?e:JSON.stringify(e)}:${t[e]}`)).join(", ")+"}"}\n`;let s=this.options.typeScript?`: keyof typeof ${n}`:"";return`{term: ${e.token.id}, get: (value${s}) => ${n}[value] || -1}`}var t})),P=this.ast.externalPropSources.map((e=>C(e.id.name,e.source)));for(let N in b)v+="cjs"==m?`const {${b[N].join(", ")}} = require(${N})\n`:`import {${b[N].join(", ")}} from ${N}\n`;function A(e){return"string"!=typeof e||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(e)?e:JSON.stringify(e)}v+=T;let R=Object.keys(h).map((e=>`${e}: ${h[e]}`)),j=`${k}.deserialize({\n  version: 14,\n  states: ${gk(e,4294967295)},\n  stateData: ${gk(t)},\n  goto: ${gk(n)},\n  nodeNames: ${JSON.stringify(s)},\n  maxTerm: ${o}${O?`,\n  context: ${O}`:""}${M.length?`,\n  nodeProps: [\n    ${M.join(",\n    ")}\n  ]`:""}${P.length?`,\n  propSources: [${P.join()}]`:""}${r.length?`,\n  skippedNodes: ${JSON.stringify(r)}`:""},\n  repeatNodeCount: ${a},\n  tokenData: ${gk(c)},\n  tokenizers: [${E.join(", ")}],\n  topRules: ${JSON.stringify(u)}${R.length?`,\n  dialects: {${R.join(", ")}}`:""}${d?`,\n  dynamicPrecedences: ${JSON.stringify(d)}`:""}${D.length?`,\n  specialized: [${D.join(",")}]`:""},\n  tokenPrec: ${f}${this.options.includeNames?`,\n  termNames: ${JSON.stringify(g)}`:""}\n})`,I=[];for(let N in this.termTable){let e=N;if(Jk.includes(e))for(let t=1;e="_".repeat(t)+N,e in this.termTable;t++);I.push(`${e}${"cjs"==m?":":" ="} ${this.termTable[N]}`)}for(let N=0;N<this.dialects.length;N++)I.push(`Dialect_${this.dialects[N]}${"cjs"==m?":":" ="} ${N}`);return{parser:v+("cjs"==m?`exports.${x} = ${j}\n`:`export const ${x} = ${j}\n`),terms:"cjs"==m?`${_}module.exports = {\n  ${I.join(",\n  ")}\n}`:`${_}export const\n  ${I.join(",\n  ")}\n`}}gatherNonSkippedNodes(){let e=Object.create(null),t=[],n=n=>{e[n.id]||(e[n.id]=!0,t.push(n))};this.terms.tops.forEach(n);for(let s=0;s<t.length;s++)for(let e of t[s].rules)for(let t of e.parts)n(t);return e}gatherNodeProps(e){let t=this.gatherNonSkippedNodes(),n=[],s=[];for(let i of e){t[i.id]||i.error||n.push(i.id);for(let e in i.props){let t=this.knownProps[e];if(!t)throw new WS("No known prop type for "+e);if(null==t.source.from&&("repeated"==t.source.name||"error"==t.source.name))continue;let n=s.find((t=>t.prop==e));n||s.push(n={prop:e,values:{}}),(n.values[i.props[e]]||(n.values[i.props[e]]=[])).push(i.id)}}return{nodeProps:s.map((({prop:e,values:t})=>{let n=[];for(let s in t){let e=t[s];if(1==e.length)n.push(e[0],s);else{n.push(-e.length);for(let t of e)n.push(t);n.push(s)}}return{prop:e,terms:n}})),skippedTypes:n}}makeTerminal(e,t,n){return this.terms.makeTerminal(this.terms.uniqueName(e),t,n)}computeForceReductions(e,t){let n=[],s=[],i=Object.create(null);for(let a of e){n.push(0);for(let e of a.goto){let t=i[e.term.id]||(i[e.term.id]=[]),n=t.find((t=>t.target==e.target.id));n?n.parents.push(a.id):t.push({parents:[a.id],target:e.target.id})}s[a.id]=a.set.filter((e=>e.pos>0&&!e.rule.name.top)).sort(((e,t)=>t.pos-e.pos||e.rule.parts.length-t.rule.parts.length))}let r=Object.create(null);function o(e,t,n=null){let s=i[e];return!!s&&s.some((e=>{let s=n?n.filter((t=>e.parents.includes(t))):e.parents;if(0==s.length)return!1;if(e.target==t)return!0;let i=r[e.target];return null!=i&&o(i,t,s)}))}for(let a of e)a.defaultReduce&&a.defaultReduce.parts.length>0&&(n[a.id]=Ck(a.defaultReduce,t),1==a.defaultReduce.parts.length&&(r[a.id]=a.defaultReduce.name.id));for(let a=1;;a++){let i=!0;for(let l of e){if(l.defaultReduce)continue;let e=s[l.id];if(e.length==a){for(let s of e)if(1!=s.pos||!o(s.rule.name.id,l.id)){n[l.id]=Ck(s.rule,t,s.pos),1==s.pos&&(r[l.id]=s.rule.name.id);break}}else e.length>a&&(i=!1)}if(i)break}return n}substituteArgs(e,t,n){return 0==t.length?e:e.walk((e=>{let s;if(e instanceof MS&&(s=n.findIndex((t=>t.name==e.id.name)))>-1){let n=t[s];if(e.args.length){if(n instanceof MS&&!n.args.length)return new MS(e.start,n.id,e.args);this.raise("Passing arguments to a parameter that already has arguments",e.start)}return n}if(e instanceof DS){let s=e.rule,i=this.substituteArgsInProps(s.props,t,n);return i==s.props?e:new DS(e.start,new fS(s.start,s.id,i,s.params,s.expr))}if(e instanceof TS){let s=this.substituteArgsInProps(e.props,t,n);return s==e.props?e:new TS(e.start,e.type,s,e.token,e.content)}return e}))}substituteArgsInProps(e,t,n){let s=e=>{let s=e;for(let i=0;i<e.length;i++){let r=e[i];if(!r.name)continue;let o=n.findIndex((e=>e.name==r.name));if(o<0)continue;s==e&&(s=e.slice());let a=t[o];a instanceof MS&&!a.args.length?s[i]=new qS(r.start,a.id.name,null):a instanceof IS?s[i]=new qS(r.start,a.value,null):this.raise(`Trying to interpolate expression '${a}' into a prop`,r.start)}return s},i=e;for(let r=0;r<e.length;r++){let t=e[r],n=s(t.value);n!=t.value&&(i==e&&(i=e.slice()),i[r]=new VS(t.start,t.at,t.name,n))}return i}conflictsFor(e){let t=QS.none,n=QS.none;for(let s of e)if("ambig"==s.type)t=t.join(new QS(0,[s.id.name]));else{let e=this.ast.precedences,i=e?e.items.findIndex((e=>e.id.name==s.id.name)):-1;i<0&&this.raise(`Reference to unknown precedence: '${s.id.name}'`,s.id.start);let r=e.items[i],o=e.items.length-i;"cut"==r.type?t=t.join(new QS(0,mk,o)):(t=t.join(new QS(o<<2)),n=n.join(new QS((o<<2)+("left"==r.type?1:"right"==r.type?-1:0))))}return{here:t,atEnd:n}}raise(e,t=1){return this.input.raise(e,t)}warn(e,t=-1){let n=this.input.message(e,t);this.options.warn?this.options.warn(n):console.warn(n)}defineRule(e,t){let n=this.currentSkip[this.currentSkip.length-1];for(let s of t)this.rules.push(new nC(e,s.terms,s.ensureConflicts(),n))}resolve(e){for(let s of this.built)if(s.matches(e))return[vk(s.term)];let t=this.tokens.getToken(e);if(t)return[vk(t)];for(let s of this.localTokens){let t=s.getToken(e);if(t)return[vk(t)]}for(let s of this.externalTokens){let t=s.getToken(e);if(t)return[vk(t)]}for(let s of this.externalSpecializers){let t=s.getToken(e);if(t)return[vk(t)]}let n=this.astRules.find((t=>t.rule.id.name==e.id.name));return n?(n.rule.params.length!=e.args.length&&this.raise(`Wrong number or arguments for '${e.id.name}'`,e.start),this.used(n.rule.id.name),[vk(this.buildRule(n.rule,e.args,n.skip))]):this.raise(`Reference to undefined rule '${e.id.name}'`,e.start)}normalizeRepeat(e){let t=this.built.find((t=>t.matchesRepeat(e)));if(t)return vk(t.term);let n=e.expr.prec<e.prec?`(${e.expr})+`:`${e.expr}+`,s=this.terms.makeRepeat(this.terms.uniqueName(n));return this.built.push(new bk("+",[e.expr],s)),this.defineRule(s,this.normalizeExpr(e.expr).concat(vk(s,s))),vk(s)}normalizeSequence(e){let t=e.exprs.map((e=>this.normalizeExpr(e))),n=this;return function s(i,r,o){let{here:a,atEnd:l}=n.conflictsFor(e.markers[r]);if(r==t.length)return[i.withConflicts(i.terms.length,a.join(o))];let c=[];for(let e of t[r])for(let t of s(i.concat(e).withConflicts(i.terms.length,a),r+1,o.join(l)))c.push(t);return c}(_k.none,0,QS.none)}normalizeExpr(e){if(e instanceof jS&&"?"==e.kind)return[_k.none,...this.normalizeExpr(e.expr)];if(e instanceof jS){let t=this.normalizeRepeat(e);return"+"==e.kind?[t]:[_k.none,t]}return e instanceof PS?e.exprs.reduce(((e,t)=>e.concat(this.normalizeExpr(t))),[]):e instanceof AS?this.normalizeSequence(e):e instanceof IS?[vk(this.tokens.getLiteral(e))]:e instanceof MS?this.resolve(e):e instanceof TS?[vk(this.resolveSpecialization(e))]:e instanceof DS?[vk(this.buildRule(e.rule,mk,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise(`This type of expression ('${e}') may not occur in non-token rules`,e.start)}buildRule(e,t,n,s=!1){let i=this.substituteArgs(e.expr,t,e.params),{name:r,props:o,dynamicPrec:a,inline:l,group:c,exported:u}=this.nodeInfo(e.props||mk,s?"pg":"pgi",e.id.name,t,e.params,e.expr);u&&e.params.length&&this.warn("Can't export parameterized rules",e.start),u&&s&&this.warn("Can't export inline rule",e.start);let h=this.newName(e.id.name+(t.length?"<"+t.join(",")+">":""),r||!0,o);return l&&(h.inline=!0),a&&this.registerDynamicPrec(h,a),(h.nodeType||u)&&0==e.params.length&&(r||(h.preserve=!0),s||(this.namedTerms[u||e.id.name]=h)),s||this.built.push(new bk(e.id.name,t,h)),this.currentSkip.push(n),this.defineRule(h,this.normalizeExpr(i)),this.currentSkip.pop(),c&&this.definedGroups.push({name:h,group:c,rule:e}),h}nodeInfo(e,t,n=null,s=mk,i=mk,r,o){let a={},l=n&&(t.indexOf("a")>-1||!function(e){let t=e[0];return"_"==t||t.toUpperCase()!=t}(n))&&!/ /.test(n)?n:null,c=null,u=0,h=!1,d=null,p=null;for(let f of e)if(f.at)if("name"==f.name)l=this.finishProp(f,s,i),/ /.test(l)&&this.raise(`Node names cannot have spaces ('${l}')`,f.start);else if("dialect"==f.name){t.indexOf("d")<0&&this.raise("Can't specify a dialect on non-token rules",e[0].start),1==f.value.length||f.value[0].value||this.raise("The '@dialect' rule prop must hold a plain string value");let n=this.dialects.indexOf(f.value[0].value);n<0&&this.raise(`Unknown dialect '${f.value[0].value}'`,f.value[0].start),c=n}else"dynamicPrecedence"==f.name?(t.indexOf("p")<0&&this.raise("Dynamic precedence can only be specified on nonterminals"),1==f.value.length&&/^-?(?:10|\d)$/.test(f.value[0].value)||this.raise("The '@dynamicPrecedence' rule prop must hold an integer between -10 and 10"),u=+f.value[0].value):"inline"==f.name?(f.value.length&&this.raise("'@inline' doesn't take a value",f.value[0].start),t.indexOf("i")<0&&this.raise("Inline can only be specified on nonterminals"),h=!0):"isGroup"==f.name?(t.indexOf("g")<0&&this.raise("'@isGroup' can only be specified on nonterminals"),d=f.value.length?this.finishProp(f,s,i):n):"export"==f.name?p=f.value.length?this.finishProp(f,s,i):n:this.raise(`Unknown built-in prop name '@${f.name}'`,f.start);else{if(!this.knownProps[f.name]){let e=["name","dialect","dynamicPrecedence","export","isGroup"].includes(f.name)?` (did you mean '@${f.name}'?)`:"";this.raise(`Unknown prop name '${f.name}'${e}`,f.start)}a[f.name]=this.finishProp(f,s,i)}if(r&&this.ast.autoDelim&&(l||KS(a))){let e=this.findDelimiters(r);e&&(xk(e[0],"closedBy",e[1].nodeName),xk(e[1],"openedBy",e[0].nodeName))}if(o&&KS(o))for(let f in o)f in a||(a[f]=o[f]);return KS(a)&&!l&&this.raise("Node has properties but no name",e.length?e[0].start:r.start),h&&(KS(a)||c||u)&&this.raise("Inline nodes can't have props, dynamic precedence, or a dialect",e[0].start),h&&l&&(l=null),{name:l,props:a,dialect:c,dynamicPrec:u,inline:h,group:d,exported:p}}finishProp(e,t,n){return e.value.map((e=>{if(e.value)return e.value;let s=n.findIndex((t=>t.name==e.name));s<0&&this.raise(`Property refers to '${e.name}', but no parameter by that name is in scope`,e.start);let i=t[s];return i instanceof MS&&!i.args.length?i.id.name:i instanceof IS?i.value:this.raise(`Expression '${i}' can not be used as part of a property value`,e.start)})).join("")}resolveSpecialization(e){let t,n=e.type,{name:s,props:i,dialect:r}=this.nodeInfo(e.props,"d"),o=this.normalizeExpr(e.token);if(1==o.length&&1==o[0].terms.length&&o[0].terms[0].terminal||this.raise(`The first argument to '${n}' must resolve to a token`,e.token.start),e.content instanceof IS)t=[e.content.value];else{if(!(e.content instanceof PS&&e.content.exprs.every((e=>e instanceof IS))))return this.raise(`The second argument to '${e.type}' must be a literal or choice of literals`,e.content.start);t=e.content.exprs.map((e=>e.value))}let a=o[0].terms[0],l=null,c=this.specialized[a.name]||(this.specialized[a.name]=[]);for(let u of t){let t=c.find((e=>e.value==u));null==t?(l||(l=this.makeTerminal(a.name+"/"+JSON.stringify(u),s,i),null!=r&&(this.tokens.byDialect[r]||(this.tokens.byDialect[r]=[])).push(l)),c.push({value:u,term:l,type:n,dialect:r,name:s}),this.tokenOrigins[l.name]={spec:a}):(t.type!=n&&this.raise(`Conflicting specialization types for ${JSON.stringify(u)} of ${a.name} (${n} vs ${t.type})`,e.start),t.dialect!=r&&this.raise(`Conflicting dialects for specialization ${JSON.stringify(u)} of ${a.name}`,e.start),t.name!=s&&this.raise(`Conflicting names for specialization ${JSON.stringify(u)} of ${a.name}`,e.start),l&&t.term!=l&&this.raise(`Conflicting specialization tokens for ${JSON.stringify(u)} of ${a.name}`,e.start),l=t.term)}return l}findDelimiters(e){if(!(e instanceof AS)||e.exprs.length<2)return null;let t=e=>{if(e instanceof IS)return{term:this.tokens.getLiteral(e),str:e.value};if(e instanceof MS&&0==e.args.length){let n=this.ast.rules.find((t=>t.id.name==e.id.name));if(n)return t(n.expr);let s=this.tokens.rules.find((t=>t.id.name==e.id.name));if(s&&s.expr instanceof IS)return{term:this.tokens.getToken(e),str:s.expr.value}}return null},n=t(e.exprs[e.exprs.length-1]);if(!n||!n.term.nodeName)return null;let s=["()","[]","{}","<>"].find((e=>n.str.indexOf(e[1])>-1&&n.str.indexOf(e[0])<0));if(!s)return null;let i=t(e.exprs[0]);return!i||!i.term.nodeName||i.str.indexOf(s[0])<0||i.str.indexOf(s[1])>-1?null:[i.term,n.term]}registerDynamicPrec(e,t){this.dynamicRulePrecedences.push({rule:e,prec:t}),e.preserve=!0}defineGroup(e,t,n){var s;let i=[],r=e=>{if(e.nodeName)return[e];i.includes(e)&&this.raise(`Rule '${n.id.name}' cannot define a group because it contains a non-named recursive rule ('${e.name}')`,n.start);let t=[];i.push(e);for(let s of this.rules)if(s.name==e){let e=s.parts.map(r).filter((e=>e.length));if(e.length>1&&this.raise(`Rule '${n.id.name}' cannot define a group because some choices produce multiple named nodes`,n.start),1==e.length)for(let n of e[0])t.push(n)}return i.pop(),t};for(let o of r(e))o.props.group=((null===(s=o.props.group)||void 0===s?void 0:s.split(" "))||[]).concat(t).sort().join(" ")}checkGroups(){let e=Object.create(null),t=Object.create(null);for(let s of this.terms.terms)if(s.nodeName&&(t[s.nodeName]=!0,s.props.group))for(let t of s.props.group.split(" "))(e[t]||(e[t]=[])).push(s);let n=Object.keys(e);for(let s=0;s<n.length;s++){let i=n[s],r=e[i];t[i]&&this.warn(`Group name '${i}' conflicts with a node of the same name`);for(let t=s+1;t<n.length;t++){let s=e[n[t]];r.some((e=>s.includes(e)))&&(r.length>s.length?s.some((e=>!r.includes(e))):r.some((e=>!s.includes(e))))&&this.warn(`Groups '${i}' and '${n[t]}' overlap without one being a superset of the other`)}}}}class wk{constructor(e,t,n,s,i,r,o){this.tokenizers=e,this.data=t,this.stateArray=n,this.skipData=s,this.skipInfo=i,this.states=r,this.builder=o,this.sharedActions=[]}findSharedActions(e){if(e.actions.length<5)return null;let t=null;for(let r of this.sharedActions)(!t||r.actions.length>t.actions.length)&&r.actions.every((t=>e.actions.some((e=>e.eq(t)))))&&(t=r);if(t)return t;let n=null,s=[];for(let r=e.id+1;r<this.states.length;r++){let t=this.states[r],i=0;if(!(t.defaultReduce||t.actions.length<5)){for(let n of e.actions)for(let e of t.actions)n.eq(e)&&(s[i++]=n);i>=5&&(!n||n.length<i)&&(n=s,s=[])}}if(!n)return null;let i={actions:n,addr:this.storeActions(n,-1,null)};return this.sharedActions.push(i),i}storeActions(e,t,n){if(t<0&&n&&n.actions.length==e.length)return n.addr;let s=[];for(let i of e)if(!n||!n.actions.some((e=>e.eq(i))))if(i instanceof ZC)s.push(i.term.id,i.target.id,0);else{let e=Ck(i.rule,this.skipInfo);e!=t&&s.push(i.term.id,65535&e,e>>16)}return s.push(65535),t>-1?s.push(2,65535&t,t>>16):n?s.push(1,65535&n.addr,n.addr>>16):s.push(0),this.data.storeArray(s)}finish(e,t,n){let s=this.builder,i=s.skipRules.indexOf(e.skip),r=this.skipData[i],o=this.skipInfo[i].startTokens,a=e.defaultReduce?Ck(e.defaultReduce,this.skipInfo):0,l=t?1:0,c=-1,u=null;if(0==a){if(t)for(const t of e.actions)t instanceof QC&&t.term.eof&&(c=Ck(t.rule,this.skipInfo));c<0&&(u=this.findSharedActions(e))}e.set.some((e=>e.rule.name.top&&e.pos==e.rule.parts.length))&&(l|=2);let h=[];for(let f=0;f<e.actions.length+o.length;f++){let t=f<e.actions.length?e.actions[f].term:o[f-e.actions.length];for(;;){let e=s.tokenOrigins[t.name];if(!e||!e.spec){e&&e.external instanceof Wk&&Mk(h,e.external);break}t=e.spec}}let d=0;for(let f=0;f<this.tokenizers.length;f++){let t=this.tokenizers[f];(h.includes(t)||t.groupID==e.tokenGroup)&&(d|=1<<f)}let p=6*e.id;this.stateArray[p+0]=l,this.stateArray[p+1]=this.storeActions(a?mk:e.actions,c,u),this.stateArray[p+2]=r,this.stateArray[p+3]=d,this.stateArray[p+4]=a,this.stateArray[p+5]=n}}function xk(e,t,n){let s=e.props[t];(!s||s.split(" ").indexOf(n)<0)&&(e.props[t]=s?s+" "+n:n)}function Sk(e){let t=Object.create(null);for(let{value:n,term:s,type:i}of e){let e="specialize"==i?0:1;t[n]=s.id<<1|e}return t}function Ck(e,t,n=e.parts.length){return 65536|e.name.id|(e.isRepeatWrap&&n==e.parts.length?131072:0)|(t.some((t=>t.rule==e.name))?262144:0)|n<<19}class kk{constructor(){this.data=[]}storeArray(e){let t=function(e,t){e:for(let n=0;;){let s=e.indexOf(t[0],n);if(-1==s||s+t.length>e.length)break;for(let i=1;i<t.length;i++)if(t[i]!=e[s+i]){n=s+1;continue e}return s}return-1}(this.data,e);if(t>-1)return t;let n=this.data.length;for(let s of e)this.data.push(s);return n}finish(){return Uint16Array.from(this.data)}}function Ek(e){let t={},n=0;for(let o of e)for(let e of o.goto){n=Math.max(e.term.id,n);let s=t[e.term.id]||(t[e.term.id]={});(s[e.target.id]||(s[e.target.id]=[])).push(o.id)}let s=new kk,i=[],r=n+2;for(let o=0;o<=n;o++){let e=t[o];if(!e){i.push(1);continue}let n=[],a=Object.keys(e);for(let t of a){let s=e[t];n.push((t==a[a.length-1]?1:0)+(s.length<<1)),n.push(+t);for(let e of s)n.push(e)}i.push(s.storeArray(n)+r)}if(i.some((e=>e>65535)))throw new WS("Goto table too large");return Uint16Array.from([n+1,...i,...s.data])}class Ok{constructor(e,t){this.tokens=e,this.groupID=t}create(){return this.groupID}createSource(){return String(this.groupID)}}function Mk(e,t){e.includes(t)||e.push(t)}function Tk(e){let t=Object.create(null);for(let n of e){let e=1<<n.groupID;for(let s of n.tokens)t[s.id]=(t[s.id]||0)|e}return t}class Dk{constructor(e,t,n){this.name=e,this.expr=t,this.scope=n}}class Pk{constructor(e,t,n,s){this.name=e,this.start=t,this.to=n,this.args=s}}class Ak{constructor(e,t){this.b=e,this.ast=t,this.startState=new cC,this.built=[],this.building=[],this.byDialect=Object.create(null),this.precedenceRelations=[],this.rules=t?t.rules:mk;for(let n of this.rules)e.unique(n.id)}getToken(e){for(let l of this.built)if(l.matches(e))return l.term;let t=e.id.name,n=this.rules.find((e=>e.id.name==t));if(!n)return null;let{name:s,props:i,dialect:r,exported:o}=this.b.nodeInfo(n.props,"d",t,e.args,n.params.length!=e.args.length?mk:n.params),a=this.b.makeTerminal(e.toString(),s,i);return null!=r&&(this.byDialect[r]||(this.byDialect[r]=[])).push(a),(a.nodeType||o)&&0==n.params.length&&(a.nodeType||(a.preserve=!0),this.b.namedTerms[o||t]=a),this.buildRule(n,e,this.startState,new cC([a])),this.built.push(new bk(t,e.args,a)),a}buildRule(e,t,n,s,i=mk){let r=t.id.name;e.params.length!=t.args.length&&this.b.raise(`Incorrect number of arguments for token '${r}'`,t.start);let o=this.building.find((e=>e.name==r&&zS(t.args,e.args)));if(o){if(o.to==s)return void n.nullEdge(o.start);let e=this.building.length-1;for(;this.building[e].name!=r;)e--;this.b.raise(`Invalid (non-tail) recursion in token rules: ${this.building.slice(e).map((e=>e.name)).join(" -> ")}`,t.start)}this.b.used(e.id.name);let a=new cC;n.nullEdge(a),this.building.push(new Pk(r,a,s,t.args)),this.build(this.b.substituteArgs(e.expr,t.args,e.params),a,s,t.args.map(((t,n)=>new Dk(e.params[n].name,t,i)))),this.building.pop()}build(e,t,n,s){if(e instanceof MS){let i,r=e.id.name,o=s.find((e=>e.name==r));if(o)return this.build(o.expr,t,n,o.scope);for(let e=0,t=this.b.localTokens;e<=t.length;e++){i=(e==t.length?this.b.tokens:t[e]).rules.find((e=>e.id.name==r))}if(!i)return this.b.raise(`Reference to token rule '${e.id.name}', which isn't found`,e.start);this.buildRule(i,e,t,n,s)}else if(e instanceof FS)for(let[i,r]of $S[e.type])t.edge(i,r,n);else if(e instanceof PS)for(let i of e.exprs)this.build(i,t,n,s);else if(zk(e))t.nullEdge(n);else if(e instanceof AS){let i=e.markers.find((e=>e.length>0));i&&this.b.raise("Conflict marker in token expression",i[0].start);for(let r=0;r<e.exprs.length;r++){let i=r==e.exprs.length-1?n:new cC;this.build(e.exprs[r],t,i,s),t=i}}else if(e instanceof jS)if("*"==e.kind){let i=new cC;t.nullEdge(i),this.build(e.expr,i,i,s),i.nullEdge(n)}else if("+"==e.kind){let i=new cC;this.build(e.expr,t,i,s),this.build(e.expr,i,i,s),i.nullEdge(n)}else t.nullEdge(n),this.build(e.expr,t,n,s);else if(e instanceof NS)for(let[i,r]of e.inverted?function(e){let t=0,n=[];for(let[s,i]of e)s>t&&n.push([t,s]),t=i;t<=Bk&&n.push([t,Bk+1]);return n}(e.ranges):e.ranges)Uk(t,n,i,r);else if(e instanceof IS)for(let i=0;i<e.value.length;i++){let s=e.value.charCodeAt(i),r=i==e.value.length-1?n:new cC;t.edge(s,s+1,r),t=r}else{if(!(e instanceof LS))return this.b.raise("Unrecognized expression type in token",e.start);{let e=new cC;t.edge(0,56320,n),t.edge(56320,65536,n),t.edge(55296,56320,e),e.edge(56320,57344,n)}}}takePrecedences(){let e=this.precedenceRelations=[];if(this.ast)for(let t of this.ast.precedences){let n=[];for(let s of t.items){let t=[];if(s instanceof MS)for(let e of this.built)(s.args.length?e.matches(s):e.id==s.id.name)&&t.push(e.term);else{let e=JSON.stringify(s.value),n=this.built.find((t=>t.id==e));n&&t.push(n.term)}t.length||this.b.warn(`Precedence specified for unknown token ${s}`,s.start);for(let s of t)Hk(e,s,n);n=n.concat(t)}}}precededBy(e,t){let n=this.precedenceRelations.find((t=>t.term==e));return n&&n.after.includes(t)}buildPrecTable(e){let t=[],n=this.precedenceRelations.slice();for(let{a:s,b:i,soft:r}of e)if(r){if(!n.some((e=>e.term==s))||!n.some((e=>e.term==i)))continue;r<0&&([s,i]=[i,s]),Hk(n,i,[s]),Hk(n,s,[])}e:for(;n.length;){for(let e=0;e<n.length;e++){let s=n[e];if(s.after.every((e=>t.includes(e.id)))){if(t.push(s.term.id),1==n.length)break e;n[e]=n.pop();continue e}}this.b.raise(`Cyclic token precedence relation between ${n.map((e=>e.term)).join(", ")}`)}return t}}class Rk extends Ak{constructor(){super(...arguments),this.explicitConflicts=[]}getLiteral(e){let t=JSON.stringify(e.value);for(let l of this.built)if(l.id==t)return l.term;let n=null,s={},i=null,r=null,o=this.ast?this.ast.literals.find((t=>t.literal==e.value)):null;o&&({name:n,props:s,dialect:i,exported:r}=this.b.nodeInfo(o.props,"da",e.value));let a=this.b.makeTerminal(t,n,s);return null!=i&&(this.byDialect[i]||(this.byDialect[i]=[])).push(a),r&&(this.b.namedTerms[r]=a),this.build(e,this.startState,new cC([a]),mk),this.built.push(new bk(t,mk,a)),a}takeConflicts(){var e;let t=e=>{if(e instanceof MS){for(let t of this.built)if(t.matches(e))return t.term}else{let t=JSON.stringify(e.value),n=this.built.find((e=>e.id==t));if(n)return n.term}return this.b.warn(`Precedence specified for unknown token ${e}`,e.start),null};for(let n of(null===(e=this.ast)||void 0===e?void 0:e.conflicts)||[]){let e=t(n.a),s=t(n.b);e&&s&&(e.id<s.id&&([e,s]=[s,e]),this.explicitConflicts.push({a:e,b:s}))}}buildTokenGroups(e,t,n){let s=this.startState.compile();s.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${s.accepting[0].name}')`,this.rules.find((e=>e.id.name==s.accepting[0].name)).start),/\btokens\b/.test(zC)&&console.log(s.toString());let i=s.findConflicts(function(e,t,n){let s=Object.create(null);function i(e,s){return e.actions.some((e=>e.term==s))||n[t.skipRules.indexOf(e.skip)].startTokens.includes(s)}return(t,n)=>{t.id<n.id&&([t,n]=[n,t]);let r=t.id|n.id<<16,o=s[r];return null!=o?o:s[r]=e.some((e=>i(e,t)&&i(e,n)))}}(e,this.b,t)).filter((({a:e,b:t})=>!this.precededBy(e,t)&&!this.precededBy(t,e)));for(let{a:u,b:h}of this.explicitConflicts)i.some((e=>e.a==u&&e.b==h))||i.push(new uC(u,h,0,"",""));let r=i.filter((e=>e.soft)),o=i.filter((e=>!e.soft)),a=[],l=[];for(let u of e){if(u.defaultReduce||u.tokenGroup>-1)continue;let e=[],s=[],i=t[this.b.skipRules.indexOf(u.skip)].startTokens;for(let t of i)u.actions.some((e=>e.term==t))&&this.b.raise(`Use of token ${t.name} conflicts with skip rule`);let r=[];for(let t=0;t<u.actions.length+(i?i.length:0);t++){let e=t<u.actions.length?u.actions[t].term:i[t-u.actions.length],n=this.b.tokenOrigins[e.name];if(n&&n.spec)e=n.spec;else if(n&&n.external)continue;Mk(r,e)}if(0==r.length)continue;for(let t of r)for(let n of o){let i=n.a==t?n.b:n.b==t?n.a:null;if(i){if(r.includes(i)&&!a.some((e=>e.conflict==n))){let e=n.exampleA?` (example: ${JSON.stringify(n.exampleA)}${n.exampleB?` vs ${JSON.stringify(n.exampleB)}`:""})`:"";a.push({error:`Overlapping tokens ${t.name} and ${i.name} used in same context${e}\nAfter: ${u.set[0].trail()}`,conflict:n})}Mk(e,t),Mk(s,i)}}let c=null;for(let t of l)if(!s.some((e=>t.tokens.includes(e)))){for(let n of e)Mk(t.tokens,n);c=t;break}c||(c=new Ok(e,l.length+n),l.push(c)),u.tokenGroup=c.groupID}a.length&&this.b.raise(a.map((e=>e.error)).join("\n\n")),l.length+n>16&&this.b.raise(`Too many different token groups (${l.length}) to represent them as a 16-bit bitfield`);let c=this.buildPrecTable(r);return{tokenGroups:l,tokenPrec:c,tokenData:s.toArray(Tk(l),c)}}}class jk extends Ak{constructor(e,t){super(e,t),this.fallback=null,t.fallback&&e.unique(t.fallback.id)}getToken(e){let t=null;if(this.ast.fallback&&this.ast.fallback.id.name==e.id.name){if(e.args.length&&this.b.raise(`Incorrect number of arguments for ${e.id.name}`,e.start),!this.fallback){let{name:t,props:n,exported:s}=this.b.nodeInfo(this.ast.fallback.props,"",e.id.name,mk,mk),i=this.fallback=this.b.makeTerminal(e.id.name,t,n);(i.nodeType||s)&&(i.nodeType||(i.preserve=!0),this.b.namedTerms[s||e.id.name]=i),this.b.used(e.id.name)}t=this.fallback}else t=super.getToken(e);return t&&!this.b.tokenOrigins[t.name]&&(this.b.tokenOrigins[t.name]={group:this}),t}buildLocalGroup(e,t,n){let s=this.startState.compile();s.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${s.accepting[0].name}')`,this.rules.find((e=>e.id.name==s.accepting[0].name)).start);for(let{a:l,b:c,exampleA:u}of s.findConflicts((()=>!0)))this.precededBy(l,c)||this.precededBy(c,l)||this.b.raise(`Overlapping tokens ${l.name} and ${c.name} in local token group${u?` (example: ${JSON.stringify(u)})`:""}`);for(let l of e){if(l.defaultReduce)continue;let e=null,s=t[this.b.skipRules.indexOf(l.skip)].startTokens[0];for(let{term:t}of l.actions){let n=this.b.tokenOrigins[t.name];(null==n?void 0:n.group)==this?e=t:s=t}e&&(s&&this.b.raise(`Tokens from a local token group used together with other tokens (${e.name} with ${s.name})`),l.tokenGroup=n)}let i=this.buildPrecTable(mk),r=s.toArray({[n]:65535},i),o=r.length,a=new Uint16Array(r.length+i.length+1);return a.set(r,0),a.set(i,o),a[a.length-1]=65535,{groupID:n,create:()=>new hS.LocalTokenGroup(a,o,this.fallback?this.fallback.id:void 0),createSource:e=>`new ${e("LocalTokenGroup","@lezer/lr")}(${gk(a)}, ${o}${this.fallback?`, ${this.fallback.id}`:""})`}}}const Ik=65536,Nk=55296,Lk=57344,Bk=1114111,$k=56320,Fk=57343;function Uk(e,t,n,s){if(n<Ik&&(n<Nk&&e.edge(n,Math.min(s,Nk),t),s>Lk&&e.edge(Math.max(n,Lk),Math.min(s,65536),t),n=Ik),s<=Ik)return;let i=String.fromCodePoint(n),r=String.fromCodePoint(s-1),o=i.charCodeAt(0),a=i.charCodeAt(1),l=r.charCodeAt(0),c=r.charCodeAt(1);if(o==l){let n=new cC;e.edge(o,o+1,n),n.edge(a,c+1,t)}else{let n=o,s=l;if(a>$k){n++;let s=new cC;e.edge(o,o+1,s),s.edge(a,Fk+1,t)}if(c<Fk){s--;let n=new cC;e.edge(l,l+1,n),n.edge($k,c+1,t)}if(n<=s){let i=new cC;e.edge(n,s+1,i),i.edge($k,Fk+1,t)}}}function zk(e){return e instanceof AS&&0==e.exprs.length}function Vk(e,t){let n=Object.create(null);for(let s of t){e.unique(s.id);let{name:t,props:i,dialect:r}=e.nodeInfo(s.props,"d",s.id.name),o=e.makeTerminal(s.id.name,t,i);null!=r&&(e.tokens.byDialect[r]||(e.tokens.byDialect[r]=[])).push(o),e.namedTerms[s.id.name]=n[s.id.name]=o}return n}function qk(e,t,n){let s=t[n.id.name];return s?(n.args.length&&e.raise("External tokens cannot take arguments",n.args[0].start),e.used(n.id.name),s):null}function Hk(e,t,n){let s=e.findIndex((e=>e.term==t));s<0?e.push({term:t,after:n}):e[s]={term:t,after:e[s].after.concat(n)}}class Wk{constructor(e,t){this.b=e,this.ast=t,this.tokens=Vk(e,t.tokens);for(let n in this.tokens)this.b.tokenOrigins[this.tokens[n].name]={external:this}}getToken(e){return qk(this.b,this.tokens,e)}create(){return this.b.options.externalTokenizer(this.ast.id.name,this.b.termTable)}createSource(e){let{source:t,id:{name:n}}=this.ast;return e(n,t)}}class Kk{constructor(e,t){this.b=e,this.ast=t,this.term=null,this.tokens=Vk(e,t.tokens)}finish(){let e=this.b.normalizeExpr(this.ast.token);1==e.length&&1==e[0].terms.length&&e[0].terms[0].terminal||this.b.raise(`The token expression to '@external ${this.ast.type}' must resolve to a token`,this.ast.token.start),this.term=e[0].terms[0];for(let t in this.tokens)this.b.tokenOrigins[this.tokens[t].name]={spec:this.term,external:this}}getToken(e){return qk(this.b,this.tokens,e)}}function Gk(e,t={}){let n=new yk(e,t),s=n.getParser();return s.termTable=n.termTable,s}const Jk=["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","while","with","null","true","false","instanceof","typeof","void","delete","new","in","this","const","class","extends","export","import","super","enum","implements","interface","let","package","private","protected","public","static","yield","require"];function Yk(e){return e.props.some((e=>e.at&&"export"==e.name))}const Xk=p.EditorView.theme({"&":{background:"var(--jp-layout-color0)",color:"var(--jp-content-font-color1)"},".jp-CodeConsole &, .jp-Notebook &":{background:"transparent"},".cm-content":{caretColor:"var(--jp-editor-cursor-color)"},".cm-scroller":{fontFamily:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeft:"var(--jp-code-cursor-width0) solid var(--jp-editor-cursor-color)"},".cm-selectionBackground, .cm-content ::selection":{backgroundColor:"var(--jp-editor-selected-background)"},"&.cm-focused .cm-selectionBackground":{backgroundColor:"var(--jp-editor-selected-focused-background)"},".cm-gutters":{borderRight:"1px solid var(--jp-border-color2)",backgroundColor:"var(--jp-layout-color2)"},".cm-gutter, .cm-activeLine":{backgroundColor:"var(--jp-layout-color2)"},".cm-lineNumbers":{color:"var(--jp-ui-font-color2)"},".cm-searchMatch":{backgroundColor:"var(--jp-search-unselected-match-background-color)",color:"var(--jp-search-unselected-match-color)"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"var(--jp-search-selected-match-background-color) !important",color:"var(--jp-search-selected-match-color) !important"}}),Zk=yw.HighlightStyle.define([{tag:Kx.tags.meta,color:"var(--jp-mirror-editor-meta-color)"},{tag:Kx.tags.heading,color:"var(--jp-mirror-editor-header-color)"},{tag:[Kx.tags.heading1,Kx.tags.heading2,Kx.tags.heading3,Kx.tags.heading4],color:"var(--jp-mirror-editor-header-color)",fontWeight:"bold"},{tag:Kx.tags.keyword,color:"var(--jp-mirror-editor-keyword-color)",fontWeight:"bold"},{tag:Kx.tags.atom,color:"var(--jp-mirror-editor-atom-color)"},{tag:Kx.tags.number,color:"var(--jp-mirror-editor-number-color)"},{tag:[Kx.tags.definition(Kx.tags.name),Kx.tags.function(Kx.tags.definition(Kx.tags.variableName))],color:"var(--jp-mirror-editor-def-color)"},{tag:Kx.tags.standard(Kx.tags.variableName),color:"var(--jp-mirror-editor-builtin-color)"},{tag:[Kx.tags.special(Kx.tags.variableName),Kx.tags.self],color:"var(--jp-mirror-editor-variable-2-color)"},{tag:Kx.tags.punctuation,color:"var(--jp-mirror-editor-punctuation-color)"},{tag:Kx.tags.propertyName,color:"var(--jp-mirror-editor-property-color)"},{tag:Kx.tags.operator,color:"var(--jp-mirror-editor-operator-color)",fontWeight:"bold"},{tag:Kx.tags.comment,color:"var(--jp-mirror-editor-comment-color)",fontStyle:"italic"},{tag:Kx.tags.string,color:"var(--jp-mirror-editor-string-color)"},{tag:[Kx.tags.labelName,Kx.tags.monospace,Kx.tags.special(Kx.tags.string)],color:"var(--jp-mirror-editor-string-2-color)"},{tag:Kx.tags.bracket,color:"var(--jp-mirror-editor-bracket-color)"},{tag:Kx.tags.tagName,color:"var(--jp-mirror-editor-tag-color)"},{tag:Kx.tags.attributeName,color:"var(--jp-mirror-editor-attribute-color)"},{tag:Kx.tags.quote,color:"var(--jp-mirror-editor-quote-color)"},{tag:Kx.tags.link,color:"var(--jp-mirror-editor-link-color)",textDecoration:"underline"},{tag:[Kx.tags.separator,Kx.tags.derefOperator,Kx.tags.paren],color:""},{tag:Kx.tags.strong,fontWeight:"bold"},{tag:Kx.tags.emphasis,fontStyle:"italic"},{tag:Kx.tags.strikethrough,textDecoration:"line-through"},{tag:Kx.tags.bool,color:"var(--jp-mirror-editor-keyword-color)",fontWeight:"bold"}]),Qk=[Xk,(0,yw.syntaxHighlighting)(Zk)];class eE{constructor(){this._themeMap=new Map([["jupyter",Object.freeze({name:"jupyter",theme:Qk})]])}get themes(){return Array.from(this._themeMap.values())}defaultTheme(){return this._themeMap.get("jupyter").theme}addTheme(e){if(this._themeMap.has(e.name))throw new Error(`A theme named '${e.name}' is already registered.`);this._themeMap.set(e.name,{displayName:e.name,...e})}getTheme(e){var t;const n=null===(t=this._themeMap.get(e))||void 0===t?void 0:t.theme;return null!=n?n:this.defaultTheme()}}!function(e){e.getDefaultThemes=function(e){const t=(null!=e?e:S).load("jupyterlab");return[Object.freeze({name:"codemirror",displayName:t.__("codemirror"),theme:[p.EditorView.baseTheme({}),(0,yw.syntaxHighlighting)(yw.defaultHighlightStyle)]})]}}(eE||(eE={}));class tE{constructor(){this._modeList=[],this.addLanguage({name:"none",mime:"text/plain",support:new yw.LanguageSupport(yw.LRLanguage.define({parser:Gk("@top Program { }")}))})}addLanguage(e){var t;if(null!==(t=this.findByName(e.name))&&void 0!==t?t:this.findByMIME(e.mime,!0))throw new Error(`${e.mime} already registered`);this._modeList.push(this.makeSpec(e))}async getLanguage(e){const t=this.findBest(e);return t&&!t.support&&(t.support=await t.load()),t}getLanguages(){return[...this._modeList]}findByMIME(e,t=!1){if(Array.isArray(e)){for(let t=0;t<e.length;t++){const n=this.findByMIME(e[t]);if(n)return n}return null}e=e.toLowerCase();for(let n=0;n<this._modeList.length;n++){let t=this._modeList[n];if(Array.isArray(t.mime)){for(let n=0;n<t.mime.length;n++)if(t.mime[n]==e)return t}else if(t.mime==e)return t}if(!t){if(/\+xml$/.test(e))return this.findByMIME("application/xml");if(/\+json$/.test(e))return this.findByMIME("application/json")}return null}findByName(e){e=e.toLowerCase();for(let t=0;t<this._modeList.length;t++){let n=this._modeList[t];if(n.name.toLowerCase()==e)return n;if(n.alias)for(let t=0;t<n.alias.length;t++)if(n.alias[t].toLowerCase()==e)return n}return null}findByExtension(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){const n=this.findByExtension(e[t]);if(n)return n}return null}e=e.toLowerCase();for(let t=0;t<this._modeList.length;t++){let n=this._modeList[t];for(let t=0;t<n.extensions.length;t++)if(n.extensions[t].toLowerCase()==e)return n}return null}findByFileName(e){const t=uS.PathExt.basename(e);for(let i=0;i<this._modeList.length;i++){let e=this._modeList[i];if(e.filename&&e.filename.test(t))return e}let n=t.lastIndexOf("."),s=n>-1&&t.substring(n+1,t.length);return s?this.findByExtension(s):null}findBest(e,t=!0){var n,s,i,r;const o="string"==typeof e?e:e.name,a="string"!=typeof e?e.mime:o,l="string"!=typeof e&&null!==(n=e.extensions)&&void 0!==n?n:[];return null!==(r=null!==(i=null!==(s=o?this.findByName(o):null)&&void 0!==s?s:a?this.findByMIME(a):null)&&void 0!==i?i:this.findByExtension(l))&&void 0!==r?r:t?this.findByMIME(tw.defaultMimeType):null}async highlight(e,t,n){var s;t&&await this.getLanguage(t);const i=null===(s=null==t?void 0:t.support)||void 0===s?void 0:s.language;if(!i)return void n.appendChild(document.createTextNode(e));const r=i.parser.parse(e);let o=0;(0,Kx.highlightTree)(r,Zk,((t,s,i)=>{t>o&&n.appendChild(document.createTextNode(e.slice(o,t)));const r=n.appendChild(document.createElement("span"));r.className=i,r.appendChild(document.createTextNode(e.slice(t,s))),o=s})),o<r.length-1&&n.appendChild(document.createTextNode(e.slice(o,r.length)))}makeSpec(e){let t=yw.LanguageDescription.of(e);return t.mime=e.mime,t.displayName=e.displayName,t}}!function(e){function t(e){return new yw.LanguageSupport(yw.StreamLanguage.define(e))}async function s(e){const t=await n.e(1390).then(n.bind(n,21390));return t.sql({dialect:t[e]})}e.legacy=t,e.getDefaultLanguages=function(e){const i=(null!=e?e:S).load("jupyterlab");return[{name:"C",displayName:i.__("C"),mime:"text/x-csrc",extensions:["c","h","ino"],load:async()=>(await n.e(1639).then(n.bind(n,31639))).cpp()},{name:"C++",displayName:i.__("C++"),mime:"text/x-c++src",extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load:async()=>(await n.e(1639).then(n.bind(n,31639))).cpp()},{name:"CQL",displayName:i.__("CQL"),mime:"text/x-cassandra",extensions:["cql"],load:()=>s("Cassandra")},{name:"CSS",displayName:i.__("CSS"),mime:"text/css",extensions:["css"],load:async()=>(await n.e(8592).then(n.bind(n,48120))).css()},{name:"HTML",displayName:i.__("HTML"),alias:["xhtml"],mime:"text/html",extensions:["html","htm","handlebars","hbs"],load:async()=>(await Promise.all([n.e(8592),n.e(2261)]).then(n.bind(n,82261))).html()},{name:"Java",displayName:i.__("Java"),mime:"text/x-java",extensions:["java"],load:async()=>(await n.e(310).then(n.bind(n,60310))).java()},{name:"Javascript",displayName:i.__("Javascript"),alias:["ecmascript","js","node"],mime:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],extensions:["js","mjs","cjs"],load:async()=>(await n.e(8592).then(n.bind(n,122))).javascript()},{name:"JSON",displayName:i.__("JSON"),alias:["json5"],mime:["application/json","application/x-json"],extensions:["json","map"],load:async()=>(await n.e(9155).then(n.bind(n,9155))).json()},{name:"JSX",displayName:i.__("JSX"),mime:"text/jsx",extensions:["jsx"],load:async()=>(await n.e(8592).then(n.bind(n,122))).javascript({jsx:!0})},{name:"MariaDB SQL",displayName:i.__("MariaDB SQL"),mime:"text/x-mariadb",load:()=>s("MariaSQL")},{name:"Markdown",displayName:i.__("Markdown"),mime:"text/x-markdown",extensions:["md","markdown","mkd"],async load(){return(await Promise.all([n.e(8592),n.e(2261),n.e(8825)]).then(n.bind(n,48825))).markdown({codeLanguages:this._modeList})}},{name:"MS SQL",displayName:i.__("MS SQL"),mime:"text/x-mssql",load:()=>s("MSSQL")},{name:"MySQL",displayName:i.__("MySQL"),mime:"text/x-mysql",load:()=>s("MySQL")},{name:"PHP",displayName:i.__("PHP"),mime:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],extensions:["php","php3","php4","php5","php7","phtml"],load:async()=>(await Promise.all([n.e(8592),n.e(2261),n.e(2386)]).then(n.bind(n,12386))).php()},{name:"PLSQL",displayName:i.__("PLSQL"),mime:"text/x-plsql",extensions:["pls"],load:()=>s("PLSQL")},{name:"PostgreSQL",displayName:i.__("PostgreSQL"),mime:"text/x-pgsql",load:()=>s("PostgreSQL")},{name:"Python",displayName:i.__("Python"),mime:"text/x-python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load:async()=>(await n.e(5057).then(n.bind(n,55057))).python()},{name:"ipython",displayName:i.__("ipython"),mime:"text/x-ipython",load:async()=>(await n.e(5057).then(n.bind(n,55057))).python()},{name:"Rust",displayName:i.__("Rust"),mime:"text/x-rustsrc",extensions:["rs"],load:async()=>(await n.e(2200).then(n.bind(n,52200))).rust()},{name:"SQL",displayName:i.__("SQL"),mime:"text/x-sql",extensions:["sql"],load:()=>s("StandardSQL")},{name:"SQLite",displayName:i.__("SQLite"),mime:"text/x-sqlite",load:()=>s("SQLite")},{name:"TSX",displayName:i.__("TSX"),alias:["TypeScript-JSX"],mime:"text/typescript-jsx",extensions:["tsx"],load:async()=>(await n.e(8592).then(n.bind(n,122))).javascript({jsx:!0,typescript:!0})},{name:"TypeScript",displayName:i.__("TypeScript"),alias:["ts"],mime:"application/typescript",extensions:["ts"],load:async()=>(await n.e(8592).then(n.bind(n,122))).javascript({typescript:!0})},{name:"WebAssembly",displayName:i.__("WebAssembly"),mime:"text/webassembly",extensions:["wat","wast"],load:async()=>(await n.e(9972).then(n.bind(n,9972))).wast()},{name:"XML",displayName:i.__("XML"),alias:["rss","wsdl","xsd"],mime:["application/xml","text/xml"],extensions:["xml","xsl","xsd","svg"],load:async()=>(await n.e(8813).then(n.bind(n,68813))).xml()},{name:"APL",displayName:i.__("APL"),mime:"text/apl",extensions:["dyalog","apl"],load:async()=>t((await n.e(870).then(n.bind(n,90870))).apl)},{name:"PGP",displayName:i.__("PGP"),alias:["asciiarmor"],mime:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],extensions:["asc","pgp","sig"],load:async()=>t((await n.e(8029).then(n.bind(n,58029))).asciiArmor)},{name:"ASN.1",displayName:i.__("ASN.1"),mime:"text/x-ttcn-asn",extensions:["asn","asn1"],load:async()=>t((await n.e(3203).then(n.bind(n,93203))).asn1({}))},{name:"Asterisk",displayName:i.__("Asterisk"),mime:"text/x-asterisk",filename:/^extensions\.conf$/i,load:async()=>t((await n.e(5648).then(n.bind(n,15648))).asterisk)},{name:"Brainfuck",displayName:i.__("Brainfuck"),mime:"text/x-brainfuck",extensions:["b","bf"],load:async()=>t((await n.e(2675).then(n.bind(n,2675))).brainfuck)},{name:"Cobol",displayName:i.__("Cobol"),mime:"text/x-cobol",extensions:["cob","cpy"],load:async()=>t((await n.e(8915).then(n.bind(n,68915))).cobol)},{name:"C#",displayName:i.__("C#"),alias:["csharp","cs"],mime:"text/x-csharp",extensions:["cs"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).csharp)},{name:"Clojure",displayName:i.__("Clojure"),mime:"text/x-clojure",extensions:["clj","cljc","cljx"],load:async()=>t((await n.e(2406).then(n.bind(n,72406))).clojure)},{name:"ClojureScript",displayName:i.__("ClojureScript"),mime:"text/x-clojurescript",extensions:["cljs"],load:async()=>t((await n.e(2406).then(n.bind(n,72406))).clojure)},{name:"Closure Stylesheets (GSS)",displayName:i.__("Closure Stylesheets (GSS)"),mime:"text/x-gss",extensions:["gss"],load:async()=>t((await n.e(2136).then(n.bind(n,62136))).gss)},{name:"CMake",displayName:i.__("CMake"),mime:"text/x-cmake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load:async()=>t((await n.e(889).then(n.bind(n,70889))).cmake)},{name:"CoffeeScript",displayName:i.__("CoffeeScript"),alias:["coffee","coffee-script"],mime:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],extensions:["coffee"],load:async()=>t((await n.e(9558).then(n.bind(n,29558))).coffeeScript)},{name:"Common Lisp",displayName:i.__("Common Lisp"),alias:["lisp"],mime:"text/x-common-lisp",extensions:["cl","lisp","el"],load:async()=>t((await n.e(1446).then(n.bind(n,61446))).commonLisp)},{name:"Cypher",displayName:i.__("Cypher"),mime:"application/x-cypher-query",extensions:["cyp","cypher"],load:async()=>t((await n.e(673).then(n.bind(n,20673))).cypher)},{name:"Cython",displayName:i.__("Cython"),mime:"text/x-cython",extensions:["pyx","pxd","pxi"],load:async()=>t((await n.e(4323).then(n.bind(n,74323))).cython)},{name:"Crystal",displayName:i.__("Crystal"),mime:"text/x-crystal",extensions:["cr"],load:async()=>t((await n.e(2602).then(n.bind(n,62602))).crystal)},{name:"D",displayName:i.__("D"),mime:"text/x-d",extensions:["d"],load:async()=>t((await n.e(1660).then(n.bind(n,11660))).d)},{name:"Dart",displayName:i.__("Dart"),mime:["application/dart","text/x-dart"],extensions:["dart"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).dart)},{name:"diff",displayName:i.__("diff"),mime:"text/x-diff",extensions:["diff","patch"],load:async()=>t((await n.e(7475).then(n.bind(n,87475))).diff)},{name:"Dockerfile",displayName:i.__("Dockerfile"),mime:"text/x-dockerfile",filename:/^Dockerfile$/,load:async()=>t((await n.e(4812).then(n.bind(n,34812))).dockerFile)},{name:"DTD",displayName:i.__("DTD"),mime:"application/xml-dtd",extensions:["dtd"],load:async()=>t((await n.e(6991).then(n.bind(n,76991))).dtd)},{name:"Dylan",displayName:i.__("Dylan"),mime:"text/x-dylan",extensions:["dylan","dyl","intr"],load:async()=>t((await n.e(4144).then(n.bind(n,24144))).dylan)},{name:"EBNF",displayName:i.__("EBNF"),mime:"text/x-ebnf",load:async()=>t((await n.e(2040).then(n.bind(n,82040))).ebnf)},{name:"ECL",displayName:i.__("ECL"),mime:"text/x-ecl",extensions:["ecl"],load:async()=>t((await n.e(7315).then(n.bind(n,37315))).ecl)},{name:"edn",displayName:i.__("edn"),mime:"application/edn",extensions:["edn"],load:async()=>t((await n.e(2406).then(n.bind(n,72406))).clojure)},{name:"Eiffel",displayName:i.__("Eiffel"),mime:"text/x-eiffel",extensions:["e"],load:async()=>t((await n.e(7525).then(n.bind(n,87525))).eiffel)},{name:"Elm",displayName:i.__("Elm"),mime:"text/x-elm",extensions:["elm"],load:async()=>t((await n.e(8770).then(n.bind(n,28770))).elm)},{name:"Erlang",displayName:i.__("Erlang"),mime:"text/x-erlang",extensions:["erl"],load:async()=>t((await n.e(7590).then(n.bind(n,53482))).erlang)},{name:"Esper",displayName:i.__("Esper"),mime:"text/x-esper",load:async()=>t((await n.e(9607).then(n.bind(n,54050))).esper)},{name:"Factor",displayName:i.__("Factor"),mime:"text/x-factor",extensions:["factor"],load:async()=>t((await n.e(7001).then(n.bind(n,87001))).factor)},{name:"FCL",displayName:i.__("FCL"),mime:"text/x-fcl",load:async()=>t((await n.e(7663).then(n.bind(n,77663))).fcl)},{name:"Forth",displayName:i.__("Forth"),mime:"text/x-forth",extensions:["forth","fth","4th"],load:async()=>t((await n.e(8393).then(n.bind(n,68393))).forth)},{name:"Fortran",displayName:i.__("Fortran"),mime:"text/x-fortran",extensions:["f","for","f77","f90","f95"],load:async()=>t((await n.e(8283).then(n.bind(n,8283))).fortran)},{name:"F#",displayName:i.__("F#"),alias:["fsharp"],mime:"text/x-fsharp",extensions:["fs"],load:async()=>t((await n.e(6121).then(n.bind(n,96121))).fSharp)},{name:"Gas",displayName:i.__("Gas"),mime:"text/x-gas",extensions:["s"],load:async()=>t((await n.e(9781).then(n.bind(n,39781))).gas)},{name:"Gherkin",displayName:i.__("Gherkin"),mime:"text/x-feature",extensions:["feature"],load:async()=>t((await n.e(2542).then(n.bind(n,2542))).gherkin)},{name:"Go",displayName:i.__("Go"),mime:"text/x-go",extensions:["go"],load:async()=>t((await n.e(8910).then(n.bind(n,48910))).go)},{name:"Groovy",displayName:i.__("Groovy"),mime:"text/x-groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load:async()=>t((await n.e(3883).then(n.bind(n,23883))).groovy)},{name:"Haskell",displayName:i.__("Haskell"),mime:"text/x-haskell",extensions:["hs"],load:async()=>t((await n.e(5372).then(n.bind(n,95372))).haskell)},{name:"Haxe",displayName:i.__("Haxe"),mime:"text/x-haxe",extensions:["hx"],load:async()=>t((await n.e(3509).then(n.bind(n,63509))).haxe)},{name:"HXML",displayName:i.__("HXML"),mime:"text/x-hxml",extensions:["hxml"],load:async()=>t((await n.e(3509).then(n.bind(n,63509))).hxml)},{name:"HTTP",displayName:i.__("HTTP"),mime:"message/http",load:async()=>t((await n.e(6395).then(n.bind(n,36395))).http)},{name:"IDL",displayName:i.__("IDL"),mime:"text/x-idl",extensions:["pro"],load:async()=>t((await n.e(2314).then(n.bind(n,22314))).idl)},{name:"JSON-LD",displayName:i.__("JSON-LD"),alias:["jsonld"],mime:"application/ld+json",extensions:["jsonld"],load:async()=>t((await n.e(9296).then(n.bind(n,59296))).jsonld)},{name:"Jinja2",displayName:i.__("Jinja2"),mime:"text/jinja2",extensions:["j2","jinja","jinja2"],load:async()=>t((await n.e(1084).then(n.bind(n,41084))).jinja2)},{name:"Julia",displayName:i.__("Julia"),mime:"text/x-julia",extensions:["jl"],load:async()=>t((await n.e(6092).then(n.bind(n,76092))).julia)},{name:"Kotlin",displayName:i.__("Kotlin"),mime:"text/x-kotlin",extensions:["kt"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).kotlin)},{name:"LESS",displayName:i.__("LESS"),mime:"text/x-less",extensions:["less"],load:async()=>t((await n.e(2136).then(n.bind(n,62136))).less)},{name:"LiveScript",displayName:i.__("LiveScript"),alias:["ls"],mime:"text/x-livescript",extensions:["ls"],load:async()=>t((await n.e(402).then(n.bind(n,60402))).liveScript)},{name:"Lua",displayName:i.__("Lua"),mime:"text/x-lua",extensions:["lua"],load:async()=>t((await n.e(3519).then(n.bind(n,3519))).lua)},{name:"mIRC",displayName:i.__("mIRC"),mime:"text/mirc",load:async()=>t((await n.e(5134).then(n.bind(n,65134))).mirc)},{name:"Mathematica",displayName:i.__("Mathematica"),mime:"text/x-mathematica",extensions:["m","nb","wl","wls"],load:async()=>t((await n.e(7213).then(n.bind(n,37213))).mathematica)},{name:"Modelica",displayName:i.__("Modelica"),mime:"text/x-modelica",extensions:["mo"],load:async()=>t((await n.e(305).then(n.bind(n,40305))).modelica)},{name:"MUMPS",displayName:i.__("MUMPS"),mime:"text/x-mumps",extensions:["mps"],load:async()=>t((await n.e(7988).then(n.bind(n,17988))).mumps)},{name:"mbox",displayName:i.__("mbox"),mime:"application/mbox",extensions:["mbox"],load:async()=>t((await n.e(9121).then(n.bind(n,29121))).mbox)},{name:"Nginx",displayName:i.__("Nginx"),mime:"text/x-nginx-conf",filename:/nginx.*\.conf$/i,load:async()=>t((await n.e(8561).then(n.bind(n,78561))).nginx)},{name:"NSIS",displayName:i.__("NSIS"),mime:"text/x-nsis",extensions:["nsh","nsi"],load:async()=>t((await n.e(7370).then(n.bind(n,67370))).nsis)},{name:"NTriples",displayName:i.__("NTriples"),mime:["application/n-triples","application/n-quads","text/n-triples"],extensions:["nt","nq"],load:async()=>t((await n.e(3314).then(n.bind(n,43314))).ntriples)},{name:"Objective-C",displayName:i.__("Objective-C"),alias:["objective-c","objc"],mime:"text/x-objectivec",extensions:["m"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).objectiveC)},{name:"Objective-C++",displayName:i.__("Objective-C++"),alias:["objective-c++","objc++"],mime:"text/x-objectivec++",extensions:["mm"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).objectiveCpp)},{name:"OCaml",displayName:i.__("OCaml"),mime:"text/x-ocaml",extensions:["ml","mli","mll","mly"],load:async()=>t((await n.e(6121).then(n.bind(n,96121))).oCaml)},{name:"Octave",displayName:i.__("Octave"),mime:"text/x-octave",extensions:["m"],load:async()=>t((await n.e(3283).then(n.bind(n,33283))).octave)},{name:"Oz",displayName:i.__("Oz"),mime:"text/x-oz",extensions:["oz"],load:async()=>t((await n.e(4796).then(n.bind(n,94796))).oz)},{name:"Pascal",displayName:i.__("Pascal"),mime:"text/x-pascal",extensions:["p","pas"],load:async()=>t((await n.e(4163).then(n.bind(n,44163))).pascal)},{name:"Perl",displayName:i.__("Perl"),mime:"text/x-perl",extensions:["pl","pm"],load:async()=>t((await n.e(4293).then(n.bind(n,94293))).perl)},{name:"Pig",displayName:i.__("Pig"),mime:"text/x-pig",extensions:["pig"],load:async()=>t((await n.e(3482).then(n.bind(n,33482))).pig)},{name:"PowerShell",displayName:i.__("PowerShell"),mime:"application/x-powershell",extensions:["ps1","psd1","psm1"],load:async()=>t((await n.e(7421).then(n.bind(n,37421))).powerShell)},{name:"Properties files",displayName:i.__("Properties files"),alias:["ini","properties"],mime:"text/x-properties",extensions:["properties","ini","in"],load:async()=>t((await n.e(9071).then(n.bind(n,69071))).properties)},{name:"ProtoBuf",displayName:i.__("ProtoBuf"),mime:"text/x-protobuf",extensions:["proto"],load:async()=>t((await n.e(8142).then(n.bind(n,78142))).protobuf)},{name:"Puppet",displayName:i.__("Puppet"),mime:"text/x-puppet",extensions:["pp"],load:async()=>t((await n.e(3993).then(n.bind(n,83993))).puppet)},{name:"Q",displayName:i.__("Q"),mime:"text/x-q",extensions:["q"],load:async()=>t((await n.e(228).then(n.bind(n,10228))).q)},{name:"R",displayName:i.__("R"),alias:["rscript"],mime:"text/x-rsrc",extensions:["r","R"],load:async()=>t((await n.e(7365).then(n.bind(n,57365))).r)},{name:"RPM Changes",displayName:i.__("RPM Changes"),mime:"text/x-rpm-changes",load:async()=>t((await n.e(8171).then(n.bind(n,48171))).rpmChanges)},{name:"RPM Spec",displayName:i.__("RPM Spec"),mime:"text/x-rpm-spec",extensions:["spec"],load:async()=>t((await n.e(8171).then(n.bind(n,48171))).rpmSpec)},{name:"Ruby",displayName:i.__("Ruby"),alias:["jruby","macruby","rake","rb","rbx"],mime:"text/x-ruby",extensions:["rb"],load:async()=>t((await n.e(4439).then(n.bind(n,24439))).ruby)},{name:"SAS",displayName:i.__("SAS"),mime:"text/x-sas",extensions:["sas"],load:async()=>t((await n.e(1770).then(n.bind(n,1770))).sas)},{name:"Scala",displayName:i.__("Scala"),mime:"text/x-scala",extensions:["scala"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).scala)},{name:"Scheme",displayName:i.__("Scheme"),mime:"text/x-scheme",extensions:["scm","ss"],load:async()=>t((await n.e(5879).then(n.bind(n,95879))).scheme)},{name:"SCSS",displayName:i.__("SCSS"),mime:"text/x-scss",extensions:["scss"],load:async()=>t((await n.e(2136).then(n.bind(n,62136))).sCSS)},{name:"Shell",displayName:i.__("Shell"),alias:["bash","sh","zsh"],mime:["text/x-sh","application/x-sh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load:async()=>t((await n.e(4879).then(n.bind(n,44879))).shell)},{name:"Sieve",displayName:i.__("Sieve"),mime:"application/sieve",extensions:["siv","sieve"],load:async()=>t((await n.e(9713).then(n.bind(n,9713))).sieve)},{name:"Smalltalk",displayName:i.__("Smalltalk"),mime:"text/x-stsrc",extensions:["st"],load:async()=>t((await n.e(1873).then(n.bind(n,11873))).smalltalk)},{name:"Solr",displayName:i.__("Solr"),mime:"text/x-solr",load:async()=>t((await n.e(7762).then(n.bind(n,17762))).solr)},{name:"SML",displayName:i.__("SML"),mime:"text/x-sml",extensions:["sml","sig","fun","smackspec"],load:async()=>t((await n.e(6121).then(n.bind(n,96121))).sml)},{name:"SPARQL",displayName:i.__("SPARQL"),alias:["sparul"],mime:"application/sparql-query",extensions:["rq","sparql"],load:async()=>t((await n.e(370).then(n.bind(n,70370))).sparql)},{name:"Spreadsheet",displayName:i.__("Spreadsheet"),alias:["excel","formula"],mime:"text/x-spreadsheet",load:async()=>t((await n.e(7601).then(n.bind(n,97601))).spreadsheet)},{name:"Squirrel",displayName:i.__("Squirrel"),mime:"text/x-squirrel",extensions:["nut"],load:async()=>t((await n.e(7917).then(n.bind(n,67917))).squirrel)},{name:"Stylus",displayName:i.__("Stylus"),mime:"text/x-styl",extensions:["styl"],load:async()=>t((await n.e(8007).then(n.bind(n,28007))).stylus)},{name:"Swift",displayName:i.__("Swift"),mime:"text/x-swift",extensions:["swift"],load:async()=>t((await n.e(6062).then(n.bind(n,66062))).swift)},{name:"sTeX",displayName:i.__("sTeX"),mime:"text/x-stex",load:async()=>t((await n.e(6732).then(n.bind(n,86732))).stex)},{name:"LaTeX",displayName:i.__("LaTeX"),alias:["tex"],mime:"text/x-latex",extensions:["text","ltx","tex"],load:async()=>t((await n.e(6732).then(n.bind(n,86732))).stex)},{name:"SystemVerilog",displayName:i.__("SystemVerilog"),mime:"text/x-systemverilog",extensions:["v","sv","svh"],load:async()=>t((await n.e(2119).then(n.bind(n,52119))).verilog)},{name:"Tcl",displayName:i.__("Tcl"),mime:"text/x-tcl",extensions:["tcl"],load:async()=>t((await n.e(3465).then(n.bind(n,43465))).tcl)},{name:"Textile",displayName:i.__("Textile"),mime:"text/x-textile",extensions:["textile"],load:async()=>t((await n.e(177).then(n.bind(n,90177))).textile)},{name:"TiddlyWiki",displayName:i.__("TiddlyWiki"),mime:"text/x-tiddlywiki",load:async()=>t((await n.e(4511).then(n.bind(n,34511))).tiddlyWiki)},{name:"Tiki wiki",displayName:i.__("Tiki wiki"),mime:"text/tiki",load:async()=>t((await n.e(6471).then(n.bind(n,36471))).tiki)},{name:"TOML",displayName:i.__("TOML"),mime:"text/x-toml",extensions:["toml"],load:async()=>t((await n.e(6443).then(n.bind(n,96443))).toml)},{name:"troff",displayName:i.__("troff"),mime:"text/troff",extensions:["1","2","3","4","5","6","7","8","9"],load:async()=>t((await n.e(1920).then(n.bind(n,71920))).troff)},{name:"TTCN",displayName:i.__("TTCN"),mime:"text/x-ttcn",extensions:["ttcn","ttcn3","ttcnpp"],load:async()=>t((await n.e(6665).then(n.bind(n,66665))).ttcn)},{name:"TTCN_CFG",displayName:i.__("TTCN_CFG"),mime:"text/x-ttcn-cfg",extensions:["cfg"],load:async()=>t((await n.e(9831).then(n.bind(n,29831))).ttcnCfg)},{name:"Turtle",displayName:i.__("Turtle"),mime:"text/turtle",extensions:["ttl"],load:async()=>t((await n.e(5815).then(n.bind(n,15815))).turtle)},{name:"Web IDL",displayName:i.__("Web IDL"),mime:"text/x-webidl",extensions:["webidl"],load:async()=>t((await n.e(6692).then(n.bind(n,26692))).webIDL)},{name:"VB.NET",displayName:i.__("VB.NET"),mime:"text/x-vb",extensions:["vb"],load:async()=>t((await n.e(4212).then(n.bind(n,44212))).vb)},{name:"VBScript",displayName:i.__("VBScript"),mime:"text/vbscript",extensions:["vbs"],load:async()=>t((await n.e(1650).then(n.bind(n,31650))).vbScript)},{name:"Velocity",displayName:i.__("Velocity"),mime:"text/velocity",extensions:["vtl"],load:async()=>t((await n.e(5860).then(n.bind(n,90617))).velocity)},{name:"Verilog",displayName:i.__("Verilog"),mime:"text/x-verilog",extensions:["v"],load:async()=>t((await n.e(2119).then(n.bind(n,52119))).verilog)},{name:"VHDL",displayName:i.__("VHDL"),mime:"text/x-vhdl",extensions:["vhd","vhdl"],load:async()=>t((await n.e(5819).then(n.bind(n,5819))).vhdl)},{name:"XQuery",displayName:i.__("XQuery"),mime:"application/xquery",extensions:["xy","xquery"],load:async()=>t((await n.e(5753).then(n.bind(n,35753))).xQuery)},{name:"Yacas",displayName:i.__("Yacas"),mime:"text/x-yacas",extensions:["ys"],load:async()=>t((await n.e(9232).then(n.bind(n,69232))).yacas)},{name:"YAML",displayName:i.__("YAML"),alias:["yml"],mime:["text/x-yaml","text/yaml"],extensions:["yaml","yml"],load:async()=>t((await n.e(2877).then(n.bind(n,82877))).yaml)},{name:"Z80",displayName:i.__("Z80"),mime:"text/x-z80",extensions:["z80"],load:async()=>t((await n.e(1053).then(n.bind(n,21053))).z80)},{name:"mscgen",displayName:i.__("mscgen"),mime:"text/x-mscgen",extensions:["mscgen","mscin","msc"],load:async()=>t((await n.e(758).then(n.bind(n,30758))).mscgen)},{name:"xu",displayName:i.__("xu"),mime:"text/x-xu",extensions:["xu"],load:async()=>t((await n.e(758).then(n.bind(n,30758))).xu)},{name:"msgenny",displayName:i.__("msgenny"),mime:"text/x-msgenny",extensions:["msgenny"],load:async()=>t((await n.e(758).then(n.bind(n,30758))).msgenny)}]}}(tE||(tE={}));class nE{constructor(e){var t,n,s,i,r,o;this.edgeRequested=new f.Signal(this),this._isDisposed=!1,this._language=new bw.Compartment,this._uuid="",this._languages=null!==(t=e.languages)&&void 0!==t?t:new tE,this._configurator=null!==(i=null===(n=e.extensionsRegistry)||void 0===n?void 0:n.createNew({...e,inline:null!==(s=e.inline)&&void 0!==s&&s}))&&void 0!==i?i:new lS;const a=this.host=e.host;a.classList.add("jp-CodeMirrorEditor"),a.classList.add("jp-Editor"),a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),a.addEventListener("scroll",this,!0),this._uuid=null!==(r=e.uuid)&&void 0!==r?r:_.UUID.uuid4();const l=this._model=e.model,c=p.EditorView.domEventHandlers({keydown:(e,t)=>this.onKeydown(e)}),u=p.EditorView.updateListener.of((e=>{this._onDocChanged(e)}));this._editor=sE.createEditor(a,this._configurator,[bw.Prec.high(c),u,this._language.of([]),...null!==(o=e.extensions)&&void 0!==o?o:[]],l.sharedModel.source),this._onMimeTypeChanged(),this._onCursorActivity(),this._configurator.configChanged.connect(this.onConfigChanged,this),l.mimeTypeChanged.connect(this._onMimeTypeChanged,this)}get uuid(){return this._uuid}set uuid(e){this._uuid=e}get editor(){return this._editor}get doc(){return this._editor.state.doc}get lineCount(){return this.doc.lines}get model(){return this._model}get lineHeight(){return this._editor.defaultLineHeight}get charWidth(){return this._editor.defaultCharacterWidth}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.host.removeEventListener("focus",this,!0),this.host.removeEventListener("blur",this,!0),this.host.removeEventListener("scroll",this,!0),this._configurator.dispose(),f.Signal.clearData(this),this.editor.destroy())}getOption(e){return this._configurator.getOption(e)}hasOption(e){return this._configurator.hasOption(e)}setOption(e,t){this._configurator.setOption(e,t)}setOptions(e){this._configurator.setOptions(e)}injectExtension(e){this._configurator.injectExtension(this._editor,e)}getLine(e){return(e+=1)<=this.doc.lines?this.doc.line(e).text:void 0}getOffsetAt(e){return this.doc.line(e.line+1).from+e.column}getPositionAt(e){const t=this.doc.lineAt(e);return{line:t.number-1,column:e-t.from}}undo(){this.model.sharedModel.undo()}redo(){this.model.sharedModel.redo()}clearHistory(){this.model.sharedModel.clearUndoHistory()}focus(){this._editor.focus()}hasFocus(){return this._editor.hasFocus}blur(){this._editor.contentDOM.blur()}get state(){return this._editor.state}firstLine(){return 0}lastLine(){return this.doc.lines-1}cursorCoords(e,t){const n=this.state.selection.main,s=e?n.from:n.to;return this.editor.coordsAtPos(s)}getRange(e,t,n){const s=this.getOffsetAt(this._toPosition(e)),i=this.getOffsetAt(this._toPosition(t));return this.state.sliceDoc(s,i)}revealPosition(e){const t=this.getOffsetAt(e);this._editor.dispatch({effects:p.EditorView.scrollIntoView(t)})}revealSelection(e){const t=this.getOffsetAt(e.start),n=this.getOffsetAt(e.end);this._editor.dispatch({effects:p.EditorView.scrollIntoView(bw.EditorSelection.range(t,n))})}getCoordinateForPosition(e){const t=this.getOffsetAt(e);return this.editor.coordsAtPos(t)}getPositionForCoordinate(e){const t=this.editor.posAtCoords({x:e.left,y:e.top});return this.getPositionAt(t)||null}getCursorPosition(){const e=this.state.selection.main.head;return this.getPositionAt(e)}setCursorPosition(e,t){const n=this.getOffsetAt(e);this.editor.dispatch({selection:{anchor:n},scrollIntoView:!0}),this.editor.hasFocus||this.model.selections.set(this.uuid,this.getSelections())}getSelection(){return this.getSelections()[0]}setSelection(e){this.setSelections([e])}getSelections(){const e=this.state.selection.ranges;if(e.length>0){return e.map((e=>({anchor:this._toCodeMirrorPosition(this.getPositionAt(e.from)),head:this._toCodeMirrorPosition(this.getPositionAt(e.to))}))).map((e=>this._toSelection(e)))}const t=this._toCodeMirrorPosition(this.getPositionAt(this.state.selection.main.head));return[this._toSelection({anchor:t,head:t})]}setSelections(e){const t=e.length?e.map((e=>bw.EditorSelection.range(this.getOffsetAt(e.start),this.getOffsetAt(e.end)))):[bw.EditorSelection.range(0,0)];this.editor.dispatch({selection:bw.EditorSelection.create(t)})}replaceSelection(e){const t=this.getSelections()[0];this.model.sharedModel.updateSource(this.getOffsetAt(t.start),this.getOffsetAt(t.end),e);const n=this.getPositionAt(this.getOffsetAt(t.start)+e.length);this.setSelection({start:n,end:n})}getTokens(){const e=[],t=(0,yw.ensureSyntaxTree)(this.state,this.doc.length);return t&&t.iterate({enter:t=>(null===t.node.firstChild&&e.push({value:this.state.sliceDoc(t.from,t.to),offset:t.from,type:t.name}),!0)}),e}getTokenAt(e){const t=(0,yw.ensureSyntaxTree)(this.state,e);let n=null;return t&&t.iterate({enter:t=>!n&&(!!t.node.firstChild||(!(e>=t.from&&e<=t.to)||(n={value:this.state.sliceDoc(t.from,t.to),offset:t.from,type:t.name},!1)))}),n||{offset:e,value:""}}getTokenAtCursor(){return this.getTokenAt(this.state.selection.main.head)}newIndentedLine(){jx({state:this.state,dispatch:this.editor.dispatch})}execCommand(e){e(this.editor)}onConfigChanged(e,t){e.reconfigureExtensions(this._editor,t)}onKeydown(e){const t=this.state.selection.main.head;if(0===t&&38===e.keyCode)return e.shiftKey||this.edgeRequested.emit("top"),!1;if(1===this.doc.lineAt(t).number&&38===e.keyCode)return e.shiftKey||this.edgeRequested.emit("topLine"),!1;return t===this.doc.length&&40===e.keyCode&&(e.shiftKey||this.edgeRequested.emit("bottom"),!1)}_onMimeTypeChanged(){this._languages.getLanguage(this._model.mimeType).then((e=>{var t;this._editor.dispatch({effects:this._language.reconfigure(null!==(t=null==e?void 0:e.support)&&void 0!==t?t:[])})})).catch((e=>{console.log(`Failed to load language for '${this._model.mimeType}'.`,e),this._editor.dispatch({effects:this._language.reconfigure([])})}))}_onCursorActivity(){if(this._editor.hasFocus){const e=this.getSelections();this.model.selections.set(this.uuid,e)}}_toSelection(e){return{uuid:this.uuid,start:this._toPosition(e.anchor),end:this._toPosition(e.head)}}_toPosition(e){return{line:e.line,column:e.ch}}_toCodeMirrorPosition(e){return{line:e.line,ch:e.column}}_onDocChanged(e){e.transactions.length&&e.transactions[0].selection&&this._onCursorActivity()}handleEvent(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e)}}_evtFocus(e){this.host.classList.add("jp-mod-focused"),this._onCursorActivity()}_evtBlur(e){this.host.classList.remove("jp-mod-focused")}}var sE;function iE(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var i=n[s];"string"==typeof i?e.setAttribute(s,i):null!=i&&(e[s]=i)}t++}for(;t<arguments.length;t++)rE(e,arguments[t]);return e}function rE(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)rE(e,t[n])}}!function(e){e.createEditor=function(e,t,n,s){const i=t.getInitialExtensions();return i.push(...n),new p.EditorView({state:bw.EditorState.create({doc:s,extensions:i}),parent:e})}}(sE||(sE={}));const oE="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class aE{constructor(e,t,n=0,s=e.length,i,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=i?e=>i(oE(e)):oE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,bw.codePointAt)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,bw.fromCodePoint)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,bw.codePointSize)(e);let s=this.normalize(t);for(let i=0,r=n;;i++){let e=s.charCodeAt(i),o=this.match(e,r);if(i==s.length-1){if(o)return this.value=o,this;break}r==n&&i<t.length&&t.charCodeAt(i)==e&&r++}}}match(e,t){let n=null;for(let s=0;s<this.matches.length;s+=2){let i=this.matches[s],r=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[s+1],to:t+1}:(this.matches[s]++,r=!0)),r||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(aE.prototype[Symbol.iterator]=function(){return this});const lE={from:-1,to:-1,match:/.*/.exec("")},cE="gm"+(null==/x/.unicode?"":"u");class uE{constructor(e,t,n,s=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=lE,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new pE(e,t,n,s,i);this.re=new RegExp(t,cE+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=fE(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,s=n+t[0].length;if(this.matchPos=fE(this.text,s+(n==s?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<s||n>this.value.to)&&(!this.test||this.test(n,s,t)))return this.value={from:n,to:s,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const hE=new WeakMap;class dE{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let s=hE.get(e);if(!s||s.from>=n||s.to<=t){let s=new dE(t,e.sliceString(t,n));return hE.set(e,s),s}if(s.from==t&&s.to==n)return s;let{text:i,from:r}=s;return r>t&&(i=e.sliceString(t,r)+i,r=t),s.to<n&&(i+=e.sliceString(s.to,n)),hE.set(e,new dE(r,i)),new dE(t,i.slice(t-r,n-r))}}class pE{constructor(e,t,n,s,i){this.text=e,this.to=i,this.done=!1,this.value=lE,this.matchPos=fE(e,s),this.re=new RegExp(t,cE+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=dE.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=fE(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=dE.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function fE(e,t){if(t>=e.length)return t;let n,s=e.lineAt(t);for(;t<s.to&&(n=s.text.charCodeAt(t-s.from))>=56320&&n<57344;)t++;return t}function gE(e){let t=iE("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:s}=e,i=s.doc.lineAt(s.selection.main.head),[,r,o,a,l]=n,c=a?+a.slice(1):0,u=o?+o:i.number;if(o&&l){let e=u/100;r&&(e=e*("-"==r?-1:1)+i.number/s.doc.lines),u=Math.round(s.doc.lines*e)}else o&&r&&(u=u*("-"==r?-1:1)+i.number);let h=s.doc.line(Math.max(1,Math.min(s.doc.lines,u))),d=bw.EditorSelection.cursor(h.from+Math.max(0,Math.min(c,h.length)));e.dispatch({effects:[mE.of(!1),p.EditorView.scrollIntoView(d.from,{y:"center"})],selection:d}),e.focus()}return{dom:iE("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:mE.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},iE("label",e.state.phrase("Go to line"),": ",t)," ",iE("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(uE.prototype[Symbol.iterator]=pE.prototype[Symbol.iterator]=function(){return this});const mE=bw.StateEffect.define(),_E=bw.StateField.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(mE)&&(e=n.value);return e},provide:e=>p.showPanel.from(e,(e=>e?gE:null))}),vE=p.EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}});const bE=bw.Facet.define({combine:e=>(0,bw.combineConfig)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new GE(e),scrollToMatch:e=>p.EditorView.scrollIntoView(e)})});class yE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,cE),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new OE(this):new SE(this)}getCursor(e,t=0,n){let s=e.doc?e:bw.EditorState.create({doc:e});return null==n&&(n=s.doc.length),this.regexp?CE(this,s,t,n):xE(this,s,t,n)}}class wE{constructor(e){this.spec=e}}function xE(e,t,n,s){return new aE(t.doc,e.unquoted,n,s,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,s,i,r)=>((r>n||r+i.length<s)&&(r=Math.max(0,n-2),i=e.sliceString(r,Math.min(e.length,s+2))),!(t(kE(i,n-r))==bw.CharCategory.Word&&t(EE(i,n-r))==bw.CharCategory.Word||t(EE(i,s-r))==bw.CharCategory.Word&&t(kE(i,s-r))==bw.CharCategory.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class SE extends wE{constructor(e){super(e)}nextMatch(e,t,n){let s=xE(this.spec,e,n,e.doc.length).nextOverlapping();return s.done&&(s=xE(this.spec,e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=n;;){let n=Math.max(t,s-1e4-this.spec.unquoted.length),i=xE(this.spec,e,n,s),r=null;for(;!i.nextOverlapping().done;)r=i.value;if(r)return r;if(n==t)return null;s-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=xE(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let i=xE(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)s(i.value.from,i.value.to)}}function CE(e,t,n,s){return new uE(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(i(kE(n.input,n.index))!=bw.CharCategory.Word||i(EE(n.input,n.index))!=bw.CharCategory.Word)&&(i(EE(n.input,n.index+n[0].length))!=bw.CharCategory.Word||i(kE(n.input,n.index+n[0].length))!=bw.CharCategory.Word)):void 0},n,s);var i}function kE(e,t){return e.slice((0,bw.findClusterBreak)(e,t,!1),t)}function EE(e,t){return e.slice(t,(0,bw.findClusterBreak)(e,t))}class OE extends wE{nextMatch(e,t,n){let s=CE(this.spec,e,n,e.doc.length).next();return s.done&&(s=CE(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,n){for(let s=1;;s++){let i=Math.max(t,n-1e4*s),r=CE(this.spec,e,i,n),o=null;for(;!r.next().done;)o=r.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=CE(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=t)return null;s.push(n.value)}return s}highlight(e,t,n,s){let i=CE(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)s(i.value.from,i.value.to)}}const ME=bw.StateEffect.define(),TE=bw.StateEffect.define(),DE=bw.StateField.define({create:e=>new PE(zE(e).create(),null),update(e,t){for(let n of t.effects)n.is(ME)?e=new PE(n.value.create(),e.panel):n.is(TE)&&(e=new PE(e.query,n.value?UE:null));return e},provide:e=>p.showPanel.from(e,(e=>e.panel))});class PE{constructor(e,t){this.query=e,this.panel=t}}const AE=p.Decoration.mark({class:"cm-searchMatch"}),RE=p.Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jE=p.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(DE))}update(e){let t=e.state.field(DE);(t!=e.startState.field(DE)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return p.Decoration.none;let{view:n}=this,s=new bw.RangeSetBuilder;for(let i=0,r=n.visibleRanges,o=r.length;i<o;i++){let{from:t,to:a}=r[i];for(;i<o-1&&a>r[i+1].from-500;)a=r[++i].to;e.highlight(n.state,t,a,((e,t)=>{let i=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));s.add(e,t,i?RE:AE)}))}return s.finish()}},{decorations:e=>e.decorations});function IE(e){return t=>{let n=t.state.field(DE,!1);return n&&n.query.spec.valid?e(t,n):HE(t)}}const NE=IE(((e,{query:t})=>{let{to:n}=e.state.selection.main,s=t.nextMatch(e.state,n,n);if(!s)return!1;let i=bw.EditorSelection.single(s.from,s.to),r=e.state.facet(bE);return e.dispatch({selection:i,effects:[ZE(e,s),r.scrollToMatch(i.main,e)],userEvent:"select.search"}),qE(e),!0})),LE=IE(((e,{query:t})=>{let{state:n}=e,{from:s}=n.selection.main,i=t.prevMatch(n,s,s);if(!i)return!1;let r=bw.EditorSelection.single(i.from,i.to),o=e.state.facet(bE);return e.dispatch({selection:r,effects:[ZE(e,i),o.scrollToMatch(r.main,e)],userEvent:"select.search"}),qE(e),!0})),BE=IE(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:bw.EditorSelection.create(n.map((e=>bw.EditorSelection.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),$E=IE(((e,{query:t})=>{let{state:n}=e,{from:s,to:i}=n.selection.main;if(n.readOnly)return!1;let r=t.nextMatch(n,s,s);if(!r)return!1;let o,a,l=[],c=[];if(r.from==s&&r.to==i&&(a=n.toText(t.getReplacement(r)),l.push({from:r.from,to:r.to,insert:a}),r=t.nextMatch(n,r.from,r.to),c.push(p.EditorView.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(s).number)+"."))),r){let t=0==l.length||l[0].from>=r.to?0:r.to-r.from-a.length;o=bw.EditorSelection.single(r.from-t,r.to-t),c.push(ZE(e,r)),c.push(n.facet(bE).scrollToMatch(o.main,e))}return e.dispatch({changes:l,selection:o,effects:c,userEvent:"input.replace"}),!0})),FE=IE(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:s}=e;return{from:n,to:s,insert:t.getReplacement(e)}}));if(!n.length)return!1;let s=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:p.EditorView.announce.of(s),userEvent:"input.replace.all"}),!0}));function UE(e){return e.state.facet(bE).createPanel(e)}function zE(e,t){var n,s,i,r,o;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(bE);return new yE({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(s=null==t?void 0:t.caseSensitive)&&void 0!==s?s:c.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(r=null==t?void 0:t.regexp)&&void 0!==r?r:c.regexp,wholeWord:null!==(o=null==t?void 0:t.wholeWord)&&void 0!==o?o:c.wholeWord})}function VE(e){let t=(0,p.getPanel)(e,UE);return t&&t.dom.querySelector("[main-field]")}function qE(e){let t=VE(e);t&&t==e.root.activeElement&&t.select()}const HE=e=>{let t=e.state.field(DE,!1);if(t&&t.panel){let n=VE(e);if(n&&n!=e.root.activeElement){let s=zE(e.state,t.query.spec);s.valid&&e.dispatch({effects:ME.of(s)}),n.focus(),n.select()}}else e.dispatch({effects:[TE.of(!0),t?ME.of(zE(e.state,t.query.spec)):bw.StateEffect.appendConfig.of(eO)]});return!0},WE=e=>{let t=e.state.field(DE,!1);if(!t||!t.panel)return!1;let n=(0,p.getPanel)(e,UE);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:TE.of(!1)}),!0},KE=[{key:"Mod-f",run:HE,scope:"editor search-panel"},{key:"F3",run:NE,shift:LE,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:NE,shift:LE,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:WE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:s,to:i}=n.main,r=[],o=0;for(let a=new aE(e.doc,e.sliceDoc(s,i));!a.next().done;){if(r.length>1e3)return!1;a.value.from==s&&(o=r.length),r.push(bw.EditorSelection.range(a.value.from,a.value.to))}return t(e.update({selection:bw.EditorSelection.create(r,o),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=(0,p.getPanel)(e,gE);if(!t){let n=[mE.of(!0)];null==e.state.field(_E,!1)&&n.push(bw.StateEffect.appendConfig.of([_E,vE])),e.dispatch({effects:n}),t=(0,p.getPanel)(e,gE)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,s=bw.EditorSelection.create(n.ranges.map((t=>e.wordAt(t.head)||bw.EditorSelection.cursor(t.head))),n.mainIndex);return!s.eq(n)&&(t(e.update({selection:s})),!0)})({state:e,dispatch:t});let s=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=s)))return!1;let i=function(e,t){let{main:n,ranges:s}=e.selection,i=e.wordAt(n.head),r=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new aE(e.doc,t,s[s.length-1].to);;){if(a.next(),!a.done){if(o&&s.some((e=>e.from==a.value.from)))continue;if(r){let t=e.wordAt(a.value.from);if(!t||t.from!=a.value.from||t.to!=a.value.to)continue}return a.value}if(o)return null;a=new aE(e.doc,t,0,Math.max(0,s[s.length-1].from-1)),o=!0}}(e,s);return!!i&&(t(e.update({selection:e.selection.addRange(bw.EditorSelection.range(i.from,i.to),!1),effects:p.EditorView.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class GE{constructor(e){this.view=e;let t=this.query=e.state.field(DE).query.spec;function n(e,t,n){return iE("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=iE("input",{value:t.search,placeholder:JE(e,"Find"),"aria-label":JE(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=iE("input",{value:t.replace,placeholder:JE(e,"Replace"),"aria-label":JE(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=iE("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=iE("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=iE("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=iE("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>NE(e)),[JE(e,"next")]),n("prev",(()=>LE(e)),[JE(e,"previous")]),n("select",(()=>BE(e)),[JE(e,"all")]),iE("label",null,[this.caseField,JE(e,"match case")]),iE("label",null,[this.reField,JE(e,"regexp")]),iE("label",null,[this.wordField,JE(e,"by word")]),...e.state.readOnly?[]:[iE("br"),this.replaceField,n("replace",(()=>$E(e)),[JE(e,"replace")]),n("replaceAll",(()=>FE(e)),[JE(e,"replace all")])],iE("button",{name:"close",onclick:()=>WE(e),"aria-label":JE(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new yE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ME.of(e)}))}keydown(e){(0,p.runScopeHandlers)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?LE:NE)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),$E(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(ME)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(bE).top}}function JE(e,t){return e.state.phrase(t)}const YE=30,XE=/[\s\.,:;?!]/;function ZE(e,{from:t,to:n}){let s=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,r=Math.max(s.from,t-YE),o=Math.min(i,n+YE),a=e.state.sliceDoc(r,o);if(r!=s.from)for(let l=0;l<YE;l++)if(!XE.test(a[l+1])&&XE.test(a[l])){a=a.slice(l);break}if(o!=i)for(let l=a.length-1;l>a.length-YE;l--)if(!XE.test(a[l-1])&&XE.test(a[l])){a=a.slice(0,l);break}return p.EditorView.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${s.number}.`)}const QE=p.EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),eO=[DE,bw.Prec.low(jE),QE];class tO{constructor(e={}){var t,n,s;this.newInlineEditor=e=>{var t;return e.host.dataset.type="inline",this.newEditor({...e,config:{...this.inlineCodeMirrorConfig,...e.config||{}},inline:!0,extensions:[p.keymap.of(KE)].concat(null!==(t=e.extensions)&&void 0!==t?t:[])})},this.newDocumentEditor=e=>{var t,n;return e.host.dataset.type="document",this.newEditor({...e,config:{...this.documentCodeMirrorConfig,...null!==(t=e.config)&&void 0!==t?t:{}},inline:!1,extensions:[p.keymap.of([{key:"Shift-Enter",run:e=>!0}])].concat(null!==(n=e.extensions)&&void 0!==n?n:[])})},this.languages=null!==(t=e.languages)&&void 0!==t?t:new tE,this.extensions=null!==(n=e.extensions)&&void 0!==n?n:new cS,this.translator=null!==(s=e.translator)&&void 0!==s?s:S,this.inlineCodeMirrorConfig={},this.documentCodeMirrorConfig={lineNumbers:!0,scrollPastEnd:!0}}newEditor(e){return new nE({extensionsRegistry:this.extensions,languages:this.languages,translator:this.translator,...e})}}class nO{constructor(e){this.languages=e}getMimeTypeByLanguage(e){const t=e.file_extension||"",n=this.languages.findBest(e.codemirror_mode||{mimetype:e.mimetype,name:e.name,ext:[t.split(".").slice(-1)[0]]});return n?n.mime:tw.defaultMimeType}getMimeTypeByFilePath(e){var t;const n=uS.PathExt.extname(e);if(".ipy"===n)return"text/x-python";if(".md"===n)return"text/x-ipythongfm";const s=this.languages.findByFileName(e);return s?Array.isArray(s.mime)?null!==(t=s.mime[0])&&void 0!==t?t:tw.defaultMimeType:s.mime:tw.defaultMimeType}}class sO{static search(e,t){if(!(t instanceof Node))return console.warn("Unable to search with HTMLSearchEngine the provided object.",t),Promise.resolve([]);e.global||(e=new RegExp(e.source,e.flags+"g"));const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:n=>{let s=n.parentElement;for(;s!==t;){if(s.nodeName in sO.UNSUPPORTED_ELEMENTS)return NodeFilter.FILTER_REJECT;s=s.parentElement}return e.test(n.textContent)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let i=null;for(;null!==(i=s.nextNode());){e.lastIndex=0;let t=null;for(;null!==(t=e.exec(i.textContent));)n.push({text:t[0],position:t.index,node:i})}return Promise.resolve(n)}}sO.UNSUPPORTED_ELEMENTS={BASE:!0,HEAD:!0,LINK:!0,META:!0,STYLE:!0,TITLE:!0,BODY:!0,AREA:!0,AUDIO:!0,IMG:!0,MAP:!0,TRACK:!0,VIDEO:!0,APPLET:!0,EMBED:!0,IFRAME:!0,NOEMBED:!0,OBJECT:!0,PARAM:!0,PICTURE:!0,SOURCE:!0,CANVAS:!0,NOSCRIPT:!0,SCRIPT:!0,SVG:!0};var iO;!function(e){e.findNext=function(e,t,n=0,s=1/0){for(s=Math.min(e.length-1,s);n<=s;){let i=Math.floor(.5*(n+s));const r=e[i].position;if(r<t){if((n=i+1)<e.length&&e[n].position>t)return n}else{if(!(r>t))return i;if((s=i-1)>0&&e[s].position<t)return i}}const i=n>0?n-1:0;return e[i].position>=t?i:null}}(iO||(iO={}));new _.Token("@jupyterlab/codemirror:IEditorExtensionRegistry","A registry for CodeMirror extension factories."),new _.Token("@jupyterlab/codemirror:IEditorLanguageRegistry","A registry for CodeMirror languages."),new _.Token("@jupyterlab/codemirror:IEditorThemeRegistry","A registry for CodeMirror theme.");function rO(e){const t=document.createElement("span");return t.textContent=e,t.innerHTML}class oO{constructor(){this._current=null,this._cursor=null,this._isDisposed=!1,this._completionItems=[],this._processedItemsCache=null,this._original=null,this._query="",this._subsetMatch=!1,this._typeMap={},this._orderedTypes=[],this._stateChanged=new f.Signal(this),this._queryChanged=new f.Signal(this),this._resolvingItem=0}get stateChanged(){return this._stateChanged}get queryChanged(){return this._queryChanged}get original(){return this._original}set original(e){this._original===e||this._original&&e&&_.JSONExt.deepEqual(e,this._original)||(this._reset(),this._current=this._original=e,this._stateChanged.emit(void 0))}get current(){return this._current}set current(e){if(this._current===e||this._current&&e&&_.JSONExt.deepEqual(e,this._current))return;const t=this._original;if(!t)return;const n=this._cursor;if(!n)return;const s=this._current=e;if(!s)return void this._stateChanged.emit(void 0);const i=t.text.split("\n")[t.line],r=s.text.split("\n")[s.line];if(!this._subsetMatch&&r.length<i.length)return void this.reset(!0);const{start:o,end:a}=n;let l=s.text.substring(o);const c=t.text.substring(a);l=l.substring(0,l.lastIndexOf(c)),this._query=l,this._processedItemsCache=null,this._queryChanged.emit({newValue:this._query,origin:"editorUpdate"}),this._stateChanged.emit(void 0)}get cursor(){return this._cursor}set cursor(e){this.original&&(this._cursor=e)}get query(){return this._query}set query(e){this._query=e,this._processedItemsCache=null,this._queryChanged.emit({newValue:this._query,origin:"setter"})}get subsetMatch(){return this._subsetMatch}set subsetMatch(e){this._subsetMatch=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,f.Signal.clearData(this))}completionItems(){if(!this._processedItemsCache){let e=this._query;this._processedItemsCache=e?this._markup(e):this._completionItems.map((e=>this._escapeItemLabel(e)))}return this._processedItemsCache}setCompletionItems(e){_.JSONExt.deepEqual(e,this._completionItems)||(this._completionItems=e,this._orderedTypes=aO.findOrderedCompletionItemTypes(this._completionItems),this._processedItemsCache=null,this._stateChanged.emit(void 0))}typeMap(){return this._typeMap}orderedTypes(){return this._orderedTypes}handleCursorChange(e){if(!this._original)return;const{column:t,line:n}=e,{current:s,original:i}=this;if(!i)return;if(n!==i.line)return void this.reset(!0);if(t<i.column)return void this.reset(!0);const{cursor:r}=this;if(!r||!s)return;const o=r.end-r.start,a=i.text.split("\n")[i.line],l=s.text.split("\n")[s.line].length-a.length;t>i.column+o+l&&this.reset(!0)}handleTextChange(e){const t=this._original;if(!t)return;const{text:n,column:s,line:i}=e,r=n.split("\n")[i][s-1];r&&r.match(/\S/)||e.column>=t.column?this.current=e:this.reset(!1)}createPatch(e){const t=this._original,n=this._cursor,s=this._current;if(!t||!n||!s)return;let{start:i,end:r}=n;return r+=s.text.length-t.text.length,{start:i,end:r,value:e}}reset(e=!1){!e&&this._subsetMatch||(this._reset(),this._stateChanged.emit(void 0))}_markup(e){var t;const n=this._completionItems;let s=[];for(let i of n){const n=i.label.indexOf("("),r=n>-1?i.label.substring(0,n):i.label,o=pa.StringExt.matchSumOfSquares(rO(r),e);if(o){let e=pa.StringExt.highlight(rO(i.label),o.indices,aO.mark);const n=Object.assign({},i);n.label=e.join(""),n.insertText=null!==(t=i.insertText)&&void 0!==t?t:i.label,s.push({item:n,score:o.score})}}return s.sort(aO.scoreCmp),s.map((e=>e.item))}resolveItem(e){const t=++this._resolvingItem;let n;if(!this.completionItems)return;let s=this._completionItems;if(!s||!s[e])return;let i=s[e];if(i.resolve){let e;i.insertText&&(e=this.createPatch(i.insertText)),n=i.resolve(e)}else n=Promise.resolve(i);return n.then((e=>(this._escapeItemLabel(e,!0),Object.keys(e).forEach((t=>{i[t]=e[t]})),i.resolve=void 0,t!==this._resolvingItem?Promise.resolve(null):e))).catch((e=>(console.error(e),Promise.resolve(i))))}_escapeItemLabel(e,t=!1){var n;const s=rO(e.label);if(s!==e.label){const i=t?e:Object.assign({},e);return i.insertText=null!==(n=e.insertText)&&void 0!==n?n:e.label,i.label=s,i}return e}_reset(){const e=this._query;this._current=null,this._cursor=null,this._completionItems=[],this._original=null,this._query="",this._processedItemsCache=null,this._subsetMatch=!1,this._typeMap={},this._orderedTypes=[],e&&this._queryChanged.emit({newValue:this._query,origin:"reset"})}}var aO;!function(e){const t=["function","instance","class","module","keyword"],n=t.reduce(((e,t)=>(e[t]=null,e)),{});e.mark=function(e){return`<mark>${e}</mark>`},e.scoreCmp=function(e,t){var n,s,i;const r=e.score-t.score;return 0!==r?r:null!==(i=null===(n=e.item.insertText)||void 0===n?void 0:n.localeCompare(null!==(s=t.item.insertText)&&void 0!==s?s:""))&&void 0!==i?i:0},e.findOrderedCompletionItemTypes=function(e){const n=new Set;e.forEach((e=>{!e.type||t.includes(e.type)||n.has(e.type)||n.add(e.type)}));const s=Array.from(n);return s.sort(((e,t)=>e.localeCompare(t))),t.concat(s)},e.findOrderedTypes=function(e){const s=Object.keys(e).map((t=>e[t])).filter((e=>!!e&&!(e in n))).sort(((e,t)=>e.localeCompare(t)));return t.concat(s)}}(aO||(aO={}));class lO{static reg(e){return new RegExp("^"+e+"$","i")}}lO.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},lO.B={angle:`(${lO.N.number}(deg|rad|grad|turn)|0)`,frequency:`${lO.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${lO.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${lO.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${lO.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${lO.N.number}%`,percentage_pos:`${lO.N.number_pos}%`,percentage_zero_hundred:`${lO.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${lO.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},lO.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},lO._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${lO.N.integer_zero_ff}|${lO.N.number_zero_one}|${lO.B.percentage_zero_hundred})\s*\)`},lO._C={alpha:`${lO.N.integer_zero_ff}|${lO.N.number_zero_one}|${lO.B.percentage_zero_hundred}`,alphavalue:lO.N.number_zero_one,bg_position:`((${lO.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${lO.B.length_pos}|${lO.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${lO.B.length}`,bottom:`${lO.B.length}|auto`,color:`${lO._COLOR.hex}|${lO._COLOR.rgb}|${lO._COLOR.rgba}|${lO._COLOR.name}`,color_stop_length:`(${lO.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${lO.B.len_or_perc}`,family_name:`${lO.B.string}|(${lO.B.ident}\\s*)+`,image_decl:lO.B.url,left:`${lO.B.length}|auto`,loose_quotable_words:`(${lO.B.ident})+`,margin_width:`${lO.B.len_or_perc}|auto`,padding_width:`${lO.B.length_pos}|${lO.B.percentage_pos}`,page_url:lO.B.url,position:`((${lO.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${lO.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${lO.B.length}|(${lO.B.len_or_perc})\\s+(${lO.B.len_or_perc})`,top:`${lO.B.length}|auto`},lO._C1={image_list:`image\\(\\s*(${lO.B.url})*\\s*(${lO.B.url}|${lO._C.color})\\s*\\)`,linear_color_stop:`(${lO._C.color})(\\s*${lO._C.color_stop_length})?`,shadow:`((${lO._C.color})\\s+((${lO.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${lO.B.length})\\s*){2,4}\\s*(${lO._C.color})?)`},lO._C2={color_stop_list:`((${lO._C1.linear_color_stop})(\\s*(${lO._C.linear_color_hint}))?\\s*,\\s*)+(${lO._C1.linear_color_stop})`,shape:`rect\\(\\s*(${lO._C.top})\\s*,\\s*(${lO._C.right})\\s*,\\s*(${lO._C.bottom})\\s*,\\s*(${lO._C.left})\\s*\\)`},lO._C3={linear_gradient:`linear-gradient\\((((${lO.B.angle})|to\\s+(${lO.A.side_or_corner}))\\s*,\\s*)?\\s*(${lO._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${lO.A.ending_shape})|(${lO._C.size}))\\s*)*\\s*(at\\s+${lO._C.position})?\\s*,\\s*)?\\s*(${lO._C2.color_stop_list})\\s*\\)`},lO._C4={image:`${lO.B.url}|${lO._C3.linear_gradient}|${lO._C3.radial_gradient}|${lO._C1.image_list}`,bg_image:`(${lO.B.url}|${lO._C3.linear_gradient}|${lO._C3.radial_gradient}|${lO._C1.image_list})|none`},lO.C={...lO._C,...lO._C1,...lO._C2,...lO._C3,...lO._C4},lO.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},lO._CP={background_attachment:`${lO.A.attachment}(,\\s*${lO.A.attachment})*`,background_color:lO.C.color,background_origin:`${lO.A.box}(,\\s*${lO.A.box})*`,background_repeat:`${lO.A.repeat_style}(,\\s*${lO.A.repeat_style})*`,border:`((${lO.C.border_width}|${lO.A.border_style}|${lO.C.color})\\s*){1,3}`,border_radius:`((${lO.B.len_or_perc})\\s*){1,4}(\\/\\s*((${lO.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${lO.B.length}\\s*(${lO.B.length})?`,border_top_color:lO.C.color,border_top_style:lO.A.border_style,border_width:`((${lO.C.border_width})\\s*){1,4}`,color:lO.C.color,cursor:`(${lO.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${lO.A.display_inside}|${lO.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:lO.A.display_outside,elevation:`${lO.B.angle}|below|level|above|higher|lower`,font_family:`(${lO.C.family_name}|${lO.A.generic_family})(,\\s*(${lO.C.family_name}|${lO.A.generic_family}))*`,height:`${lO.B.length}|${lO.B.percentage}|auto`,letter_spacing:`normal|${lO.B.length}`,list_style_image:`${lO.C.image}|none`,margin_right:lO.C.margin_width,max_height:`${lO.B.length_pos}|${lO.B.percentage_pos}|none|auto`,min_height:`${lO.B.length_pos}|${lO.B.percentage_pos}|auto`,opacity:lO.C.alphavalue,outline_color:`${lO.C.color}|invert`,outline_width:lO.C.border_width,padding:`((${lO.C.padding_width})\\s*){1,4}`,padding_top:lO.C.padding_width,pitch_range:lO.N.number,right:`${lO.B.length}|${lO.B.percentage}|auto`,stress:lO.N.number,text_indent:`${lO.B.length}|${lO.B.percentage}`,text_shadow:`none|${lO.C.shadow}(,\\s*(${lO.C.shadow}))*`,volume:`${lO.N.number_pos}|${lO.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:lO.AP.overflow_wrap,zoom:`normal|${lO.N.number_pos}|${lO.B.percentage_pos}`,backface_visibility:lO.AP.visibility,background_clip:`${lO.A.box}(,\\s*(${lO.A.box}))*`,background_position:`${lO.C.bg_position}(,\\s*(${lO.C.bg_position}))*`,border_bottom_color:lO.C.color,border_bottom_style:lO.A.border_style,border_color:`((${lO.C.color})\\s*){1,4}`,border_left_color:lO.C.color,border_right_color:lO.C.color,border_style:`((${lO.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${lO.B.length}|${lO.B.percentage})(\\s*(${lO.B.length}|${lO.B.percentage}))?`,border_top_width:lO.C.border_width,box_shadow:`none|${lO.C.shadow}(,\\s*(${lO.C.shadow}))*`,clip:`${lO.C.shape}|auto`,display_inside:lO.A.display_inside,font_size:`${lO.A.absolute_size}|${lO.A.relative_size}|${lO.B.length_pos}|${lO.B.percentage_pos}`,line_height:`normal|${lO.N.number_pos}|${lO.B.length_pos}|${lO.B.percentage_pos}`,margin_left:lO.C.margin_width,max_width:`${lO.B.length_pos}|${lO.B.percentage_pos}|none|auto`,outline_style:lO.A.border_style,padding_bottom:lO.C.padding_width,padding_right:lO.C.padding_width,perspective:`none|${lO.B.length}`,richness:lO.N.number,text_overflow:`((clip|ellipsis|${lO.B.string})\\s*){1,2}`,top:`${lO.B.length}|${lO.B.percentage}|auto`,width:`${lO.B.length_pos}|${lO.B.percentage_pos}|auto`,z_index:`auto|${lO.B.z_index}`,background:`(((${lO.C.bg_position}\\s*(\\/\\s*${lO.C.bg_size})?)|(${lO.A.repeat_style})|(${lO.A.attachment})|(${lO.A.bg_origin})|(${lO.C.bg_image})|(${lO.C.color}))\\s*)+`,background_size:`${lO.C.bg_size}(,\\s*${lO.C.bg_size})*`,border_bottom_left_radius:`(${lO.B.length}|${lO.B.percentage})(\\s*(${lO.B.length}|${lO.B.percentage}))?`,border_bottom_width:lO.C.border_width,border_left_style:lO.A.border_style,border_right_style:lO.A.border_style,border_top:`((${lO.C.border_width}|${lO.A.border_style}|${lO.C.color})\\s*){1,3}`,bottom:`${lO.B.len_or_perc}|auto`,list_style:`((${lO.AP.list_style_type}|${lO.AP.list_style_position}|${lO.C.image}|none})\\s*){1,3}`,margin_top:lO.C.margin_width,outline:`((${lO.C.color}|invert|${lO.A.border_style}|${lO.C.border_width})\\s*){1,3}`,overflow_y:lO.AP.overflow_x,pitch:`${lO.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${lO.B.len_or_perc}`,word_spacing:`normal|${lO.B.length}`,background_image:`${lO.C.bg_image}(,\\s*${lO.C.bg_image})*`,border_bottom_right_radius:`(${lO.B.length}|${lO.B.percentage})(\\s*(${lO.B.length}|${lO.B.percentage}))?`,border_left_width:lO.C.border_width,border_right_width:lO.C.border_width,left:`${lO.B.len_or_perc}|auto`,margin_bottom:lO.C.margin_width,pause_after:`${lO.B.time}|${lO.B.percentage}`,speech_rate:`${lO.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${lO.B.time}(,\\s*${lO.B.time})*`,border_bottom:`((${lO.C.border_width}|${lO.A.border_style}|${lO.C.color})\\s*){1,3}`,border_right:`((${lO.C.border_width}|${lO.A.border_style}|${lO.C.color})\\s*){1,3}`,margin:`((${lO.C.margin_width})\\s*){1,4}`,padding_left:lO.C.padding_width,border_left:`((${lO.C.border_width}|${lO.A.border_style}|${lO.C.color})\\s*){1,3}`,quotes:`(${lO.B.string}\\s*${lO.B.string})+|none`,border_top_right_radius:`(${lO.B.length}|${lO.B.percentage})(\\s*(${lO.B.length}|${lO.B.percentage}))?`,min_width:`${lO.B.length_pos}|${lO.B.percentage_pos}|auto`},lO._CP1={font:`(((((${lO.AP.font_style}|${lO.AP.font_variant}|${lO.AP.font_weight})\\s*){1,3})?\\s*(${lO._CP.font_size})\\s*(\\/\\s*(${lO._CP.line_height}))?\\s+(${lO._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},lO.CP={...lO._CP,...lO._CP1},lO.BORDER_COLLAPSE=lO.reg(lO.AP.border_collapse),lO.BOX=lO.reg(lO.AP.box),lO.BOX_SIZING=lO.reg(lO.AP.box_sizing),lO.CAPTION_SIDE=lO.reg(lO.AP.caption_side),lO.CLEAR=lO.reg(lO.AP.clear),lO.DIRECTION=lO.reg(lO.AP.direction),lO.EMPTY_CELLS=lO.reg(lO.AP.empty_cells),lO.FLOAT=lO.reg(lO.AP.float),lO.FONT_STRETCH=lO.reg(lO.AP.font_stretch),lO.FONT_STYLE=lO.reg(lO.AP.font_style),lO.FONT_VARIANT=lO.reg(lO.AP.font_variant),lO.FONT_WEIGHT=lO.reg(lO.AP.font_weight),lO.LIST_STYLE_POSITION=lO.reg(lO.AP.list_style_position),lO.LIST_STYLE_TYPE=lO.reg(lO.AP.list_style_type),lO.OVERFLOW=lO.reg(lO.AP.overflow),lO.OVERFLOW_WRAP=lO.reg(lO.AP.overflow_wrap),lO.OVERFLOW_X=lO.reg(lO.AP.overflow_x),lO.PAGE_BREAK_AFTER=lO.reg(lO.AP.page_break_after),lO.PAGE_BREAK_BEFORE=lO.reg(lO.AP.page_break_before),lO.PAGE_BREAK_INSIDE=lO.reg(lO.AP.page_break_inside),lO.POSITION=lO.reg(lO.AP.position),lO.RESIZE=lO.reg(lO.AP.resize),lO.SPEAK=lO.reg(lO.AP.speak),lO.SPEAK_HEADER=lO.reg(lO.AP.speak_header),lO.SPEAK_NUMERAL=lO.reg(lO.AP.speak_numeral),lO.SPEAK_PUNCTUATION=lO.reg(lO.AP.speak_punctuation),lO.TABLE_LAYOUT=lO.reg(lO.AP.table_layout),lO.TEXT_ALIGN=lO.reg(lO.AP.text_align),lO.TEXT_DECORATION=lO.reg(lO.AP.text_decoration),lO.TEXT_TRANSFORM=lO.reg(lO.AP.text_transform),lO.TEXT_WRAP=lO.reg(lO.AP.text_wrap),lO.UNICODE_BIDI=lO.reg(lO.AP.unicode_bidi),lO.VISIBILITY=lO.reg(lO.AP.visibility),lO.WHITE_SPACE=lO.reg(lO.AP.white_space),lO.WORD_BREAK=lO.reg(lO.AP.word_break),lO.BACKGROUND_ATTACHMENT=lO.reg(lO.CP.background_attachment),lO.BACKGROUND_COLOR=lO.reg(lO.CP.background_color),lO.BACKGROUND_ORIGIN=lO.reg(lO.CP.background_origin),lO.BACKGROUND_REPEAT=lO.reg(lO.CP.background_repeat),lO.BORDER=lO.reg(lO.CP.border),lO.BORDER_RADIUS=lO.reg(lO.CP.border_radius),lO.BORDER_SPACING=lO.reg(lO.CP.border_spacing),lO.BORDER_TOP_COLOR=lO.reg(lO.CP.border_top_color),lO.BORDER_TOP_STYLE=lO.reg(lO.CP.border_top_style),lO.BORDER_WIDTH=lO.reg(lO.CP.border_width),lO.COLOR=lO.reg(lO.CP.color),lO.CURSOR=lO.reg(lO.CP.cursor),lO.DISPLAY=lO.reg(lO.CP.display),lO.DISPLAY_OUTSIDE=lO.reg(lO.CP.display_outside),lO.ELEVATION=lO.reg(lO.CP.elevation),lO.FONT_FAMILY=lO.reg(lO.CP.font_family),lO.HEIGHT=lO.reg(lO.CP.height),lO.LETTER_SPACING=lO.reg(lO.CP.letter_spacing),lO.LIST_STYLE_IMAGE=lO.reg(lO.CP.list_style_image),lO.MARGIN_RIGHT=lO.reg(lO.CP.margin_right),lO.MAX_HEIGHT=lO.reg(lO.CP.max_height),lO.MIN_HEIGHT=lO.reg(lO.CP.min_height),lO.OPACITY=lO.reg(lO.CP.opacity),lO.OUTLINE_COLOR=lO.reg(lO.CP.outline_color),lO.OUTLINE_WIDTH=lO.reg(lO.CP.outline_width),lO.PADDING=lO.reg(lO.CP.padding),lO.PADDING_TOP=lO.reg(lO.CP.padding_top),lO.PITCH_RANGE=lO.reg(lO.CP.pitch_range),lO.RIGHT=lO.reg(lO.CP.right),lO.STRESS=lO.reg(lO.CP.stress),lO.TEXT_INDENT=lO.reg(lO.CP.text_indent),lO.TEXT_SHADOW=lO.reg(lO.CP.text_shadow),lO.VOLUME=lO.reg(lO.CP.volume),lO.WORD_WRAP=lO.reg(lO.CP.word_wrap),lO.ZOOM=lO.reg(lO.CP.zoom),lO.BACKFACE_VISIBILITY=lO.reg(lO.CP.backface_visibility),lO.BACKGROUND_CLIP=lO.reg(lO.CP.background_clip),lO.BACKGROUND_POSITION=lO.reg(lO.CP.background_position),lO.BORDER_BOTTOM_COLOR=lO.reg(lO.CP.border_bottom_color),lO.BORDER_BOTTOM_STYLE=lO.reg(lO.CP.border_bottom_style),lO.BORDER_COLOR=lO.reg(lO.CP.border_color),lO.BORDER_LEFT_COLOR=lO.reg(lO.CP.border_left_color),lO.BORDER_RIGHT_COLOR=lO.reg(lO.CP.border_right_color),lO.BORDER_STYLE=lO.reg(lO.CP.border_style),lO.BORDER_TOP_LEFT_RADIUS=lO.reg(lO.CP.border_top_left_radius),lO.BORDER_TOP_WIDTH=lO.reg(lO.CP.border_top_width),lO.BOX_SHADOW=lO.reg(lO.CP.box_shadow),lO.CLIP=lO.reg(lO.CP.clip),lO.DISPLAY_INSIDE=lO.reg(lO.CP.display_inside),lO.FONT_SIZE=lO.reg(lO.CP.font_size),lO.LINE_HEIGHT=lO.reg(lO.CP.line_height),lO.MARGIN_LEFT=lO.reg(lO.CP.margin_left),lO.MAX_WIDTH=lO.reg(lO.CP.max_width),lO.OUTLINE_STYLE=lO.reg(lO.CP.outline_style),lO.PADDING_BOTTOM=lO.reg(lO.CP.padding_bottom),lO.PADDING_RIGHT=lO.reg(lO.CP.padding_right),lO.PERSPECTIVE=lO.reg(lO.CP.perspective),lO.RICHNESS=lO.reg(lO.CP.richness),lO.TEXT_OVERFLOW=lO.reg(lO.CP.text_overflow),lO.TOP=lO.reg(lO.CP.top),lO.WIDTH=lO.reg(lO.CP.width),lO.Z_INDEX=lO.reg(lO.CP.z_index),lO.BACKGROUND=lO.reg(lO.CP.background),lO.BACKGROUND_SIZE=lO.reg(lO.CP.background_size),lO.BORDER_BOTTOM_LEFT_RADIUS=lO.reg(lO.CP.border_bottom_left_radius),lO.BORDER_BOTTOM_WIDTH=lO.reg(lO.CP.border_bottom_width),lO.BORDER_LEFT_STYLE=lO.reg(lO.CP.border_left_style),lO.BORDER_RIGHT_STYLE=lO.reg(lO.CP.border_right_style),lO.BORDER_TOP=lO.reg(lO.CP.border_top),lO.BOTTOM=lO.reg(lO.CP.bottom),lO.LIST_STYLE=lO.reg(lO.CP.list_style),lO.MARGIN_TOP=lO.reg(lO.CP.margin_top),lO.OUTLINE=lO.reg(lO.CP.outline),lO.OVERFLOW_Y=lO.reg(lO.CP.overflow_y),lO.PITCH=lO.reg(lO.CP.pitch),lO.VERTICAL_ALIGN=lO.reg(lO.CP.vertical_align),lO.WORD_SPACING=lO.reg(lO.CP.word_spacing),lO.BACKGROUND_IMAGE=lO.reg(lO.CP.background_image),lO.BORDER_BOTTOM_RIGHT_RADIUS=lO.reg(lO.CP.border_bottom_right_radius),lO.BORDER_LEFT_WIDTH=lO.reg(lO.CP.border_left_width),lO.BORDER_RIGHT_WIDTH=lO.reg(lO.CP.border_right_width),lO.LEFT=lO.reg(lO.CP.left),lO.MARGIN_BOTTOM=lO.reg(lO.CP.margin_bottom),lO.PAUSE_AFTER=lO.reg(lO.CP.pause_after),lO.SPEECH_RATE=lO.reg(lO.CP.speech_rate),lO.TRANSITION_DURATION=lO.reg(lO.CP.transition_duration),lO.BORDER_BOTTOM=lO.reg(lO.CP.border_bottom),lO.BORDER_RIGHT=lO.reg(lO.CP.border_right),lO.MARGIN=lO.reg(lO.CP.margin),lO.PADDING_LEFT=lO.reg(lO.CP.padding_left),lO.BORDER_LEFT=lO.reg(lO.CP.border_left),lO.FONT=lO.reg(lO.CP.font),lO.QUOTES=lO.reg(lO.CP.quotes),lO.BORDER_TOP_RIGHT_RADIUS=lO.reg(lO.CP.border_top_right_radius),lO.MIN_WIDTH=lO.reg(lO.CP.min_width);class cO{constructor(){this._autolink=!0,this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[lO.BACKFACE_VISIBILITY],background:[lO.BACKGROUND],"background-attachment":[lO.BACKGROUND_ATTACHMENT],"background-clip":[lO.BACKGROUND_CLIP],"background-color":[lO.BACKGROUND_COLOR],"background-image":[lO.BACKGROUND_IMAGE],"background-origin":[lO.BACKGROUND_ORIGIN],"background-position":[lO.BACKGROUND_POSITION],"background-repeat":[lO.BACKGROUND_REPEAT],"background-size":[lO.BACKGROUND_SIZE],border:[lO.BORDER],"border-bottom":[lO.BORDER_BOTTOM],"border-bottom-color":[lO.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[lO.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[lO.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[lO.BORDER_BOTTOM_STYLE],"border-bottom-width":[lO.BORDER_BOTTOM_WIDTH],"border-collapse":[lO.BORDER_COLLAPSE],"border-color":[lO.BORDER_COLOR],"border-left":[lO.BORDER_LEFT],"border-left-color":[lO.BORDER_LEFT_COLOR],"border-left-style":[lO.BORDER_LEFT_STYLE],"border-left-width":[lO.BORDER_LEFT_WIDTH],"border-radius":[lO.BORDER_RADIUS],"border-right":[lO.BORDER_RIGHT],"border-right-color":[lO.BORDER_RIGHT_COLOR],"border-right-style":[lO.BORDER_RIGHT_STYLE],"border-right-width":[lO.BORDER_RIGHT_WIDTH],"border-spacing":[lO.BORDER_SPACING],"border-style":[lO.BORDER_STYLE],"border-top":[lO.BORDER_TOP],"border-top-color":[lO.BORDER_TOP_COLOR],"border-top-left-radius":[lO.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[lO.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[lO.BORDER_TOP_STYLE],"border-top-width":[lO.BORDER_TOP_WIDTH],"border-width":[lO.BORDER_WIDTH],bottom:[lO.BOTTOM],box:[lO.BOX],"box-shadow":[lO.BOX_SHADOW],"box-sizing":[lO.BOX_SIZING],"caption-side":[lO.CAPTION_SIDE],clear:[lO.CLEAR],clip:[lO.CLIP],color:[lO.COLOR],cursor:[lO.CURSOR],direction:[lO.DIRECTION],display:[lO.DISPLAY],"display-inside":[lO.DISPLAY_INSIDE],"display-outside":[lO.DISPLAY_OUTSIDE],elevation:[lO.ELEVATION],"empty-cells":[lO.EMPTY_CELLS],float:[lO.FLOAT],font:[lO.FONT],"font-family":[lO.FONT_FAMILY],"font-size":[lO.FONT_SIZE],"font-stretch":[lO.FONT_STRETCH],"font-style":[lO.FONT_STYLE],"font-variant":[lO.FONT_VARIANT],"font-weight":[lO.FONT_WEIGHT],height:[lO.HEIGHT],left:[lO.LEFT],"letter-spacing":[lO.LETTER_SPACING],"line-height":[lO.LINE_HEIGHT],"list-style":[lO.LIST_STYLE],"list-style-image":[lO.LIST_STYLE_IMAGE],"list-style-position":[lO.LIST_STYLE_POSITION],"list-style-type":[lO.LIST_STYLE_TYPE],margin:[lO.MARGIN],"margin-bottom":[lO.MARGIN_BOTTOM],"margin-left":[lO.MARGIN_LEFT],"margin-right":[lO.MARGIN_RIGHT],"margin-top":[lO.MARGIN_TOP],"max-height":[lO.MAX_HEIGHT],"max-width":[lO.MAX_WIDTH],"min-height":[lO.MIN_HEIGHT],"min-width":[lO.MIN_WIDTH],opacity:[lO.OPACITY],outline:[lO.OUTLINE],"outline-color":[lO.OUTLINE_COLOR],"outline-style":[lO.OUTLINE_STYLE],"outline-width":[lO.OUTLINE_WIDTH],overflow:[lO.OVERFLOW],"overflow-wrap":[lO.OVERFLOW_WRAP],"overflow-x":[lO.OVERFLOW_X],"overflow-y":[lO.OVERFLOW_Y],padding:[lO.PADDING],"padding-bottom":[lO.PADDING_BOTTOM],"padding-left":[lO.PADDING_LEFT],"padding-right":[lO.PADDING_RIGHT],"padding-top":[lO.PADDING_TOP],"page-break-after":[lO.PAGE_BREAK_AFTER],"page-break-before":[lO.PAGE_BREAK_BEFORE],"page-break-inside":[lO.PAGE_BREAK_INSIDE],"pause-after":[lO.PAUSE_AFTER],perspective:[lO.PERSPECTIVE],pitch:[lO.PITCH],"pitch-range":[lO.PITCH_RANGE],position:[lO.POSITION],quotes:[lO.QUOTES],resize:[lO.RESIZE],richness:[lO.RICHNESS],right:[lO.RIGHT],speak:[lO.SPEAK],"speak-header":[lO.SPEAK_HEADER],"speak-numeral":[lO.SPEAK_NUMERAL],"speak-punctuation":[lO.SPEAK_PUNCTUATION],"speech-rate":[lO.SPEECH_RATE],stress:[lO.STRESS],"table-layout":[lO.TABLE_LAYOUT],"text-align":[lO.TEXT_ALIGN],"text-decoration":[lO.TEXT_DECORATION],"text-indent":[lO.TEXT_INDENT],"text-overflow":[lO.TEXT_OVERFLOW],"text-shadow":[lO.TEXT_SHADOW],"text-transform":[lO.TEXT_TRANSFORM],"text-wrap":[lO.TEXT_WRAP],top:[lO.TOP],"unicode-bidi":[lO.UNICODE_BIDI],"vertical-align":[lO.VERTICAL_ALIGN],visibility:[lO.VISIBILITY],volume:[lO.VOLUME],"white-space":[lO.WHITE_SPACE],width:[lO.WIDTH],"word-break":[lO.WORD_BREAK],"word-spacing":[lO.WORD_SPACING],"word-wrap":[lO.WORD_WRAP],"z-index":[lO.Z_INDEX],zoom:[lO.ZOOM]}},transformTags:{a:de().simpleTransform("a",{rel:"nofollow"}),input:de().simpleTransform("input",{disabled:"disabled"})},allowedSchemes:[...de().defaults.allowedSchemes],allowedSchemesByTag:{img:de().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return de()(e,{...this._options,...t||{}})}getAutolink(){return this._autolink}setAllowedSchemes(e){this._options.allowedSchemes=[...e]}setAutolink(e){this._autolink=e}}var uO=n(99776);const hO="$",dO=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function pO(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}async function fO(e){const{host:t,source:n,markdownParser:s,...i}=e;if(!n)return void(t.textContent="");let r="";if(s){const e=function(e){const t=[];let n,s=null,i=null,r=null,o=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":hO))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(dO);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=pO(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=pO(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:e===hO||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=pO(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(n);r=await s.render(e.text),o=r,a=e.math,r=o.replace(/@@(\d+)@@/g,((e,t)=>{let n=a[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}else r=`<pre>${n}</pre>`;var o,a;await function(e){let{host:t,source:n,trusted:s,sanitizer:i,resolver:r,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=e;c=c||S;const u=null==c?void 0:c.load("jupyterlab");let h,d=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(d=`${n}`,n=i.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)mO.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=d,mO.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return mO.handleDefaults(t,r),h=r?mO.handleUrls(t,r,o):Promise.resolve(void 0),h.then((()=>{a&&l&&l.typeset(t)}))}({host:t,source:r,...i}),mO.headerAnchors(t)}var gO,mO;!function(e){e.createHeaderId=function(e){var t;return(null!==(t=e.textContent)&&void 0!==t?t:"").replace(/ /g,"-")}}(fO||(fO={})),function(e){const t="\\u0000-\\u0020\\u007f-\\u009f";e.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?])","ug");const n=new RegExp(`(${/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/.source}|${/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/.source})`),s=navigator.userAgent.indexOf("Windows")>=0;e.pathLinkRegex=new RegExp(`(?<path>${s?n.source:/((?:\~|\.)?(?:\/[\w\.-]*)+)/.source})${/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/.source}`,"g")}(gO||(gO={}));class _O{constructor(){this.regex=gO.webLinkRegex}createAnchor(e,t){const n=document.createElement("a");return n.href=e.startsWith("www.")?"https://"+e:e,n.rel="noopener",n.target="_blank",n.appendChild(document.createTextNode(t)),n}processPath(e){const t=e.slice(-1),n=-1!==[">","<"].indexOf(t)?e.length-1:e.length;return e=e.slice(0,n)}processLabel(e){return this.processPath(e)}}class vO{constructor(){this.regex=gO.pathLinkRegex}createAnchor(e,t,n){const s=document.createElement("a");s.dataset.path=e;const i=parseInt(n.line,10);let r=isNaN(i)?"":"line="+(i-1);return s.dataset.locator=r,s.appendChild(document.createTextNode(t)),s}}function bO(e,t){const n=[];t.checkWeb&&n.push(new _O),t.checkPaths&&n.push(new vO);const s=[],i=(e,t)=>{if(t>=n.length)return void s.push(document.createTextNode(e));const r=n[t];let o,a=0;const l=r.regex;for(l.lastIndex=0;null!=(o=l.exec(e));){const n=e.substring(a,o.index);n&&i(n,t+1);const{path:l,...c}=o.groups,u=r.processPath?r.processPath(l):l,h=r.processLabel?r.processLabel(o[0]):o[0];s.push(r.createAnchor(u,h,c)),a=o.index+h.length}const c=e.substring(a);c&&i(c,t+1)};return i(e,0),s}function yO(e,t){var n,s;const i=e.cloneNode();i.textContent=null===(n=e.textContent)||void 0===n?void 0:n.slice(0,t);const r=e.cloneNode();return r.textContent=null===(s=e.textContent)||void 0===s?void 0:s.slice(t),{pre:i,post:r}}function*wO(e){var t;let n,s=0;for(let i of e)n=s+((null===(t=i.textContent)||void 0===t?void 0:t.length)||0),yield{node:i,start:s,end:n,isText:i.nodeType===Node.TEXT_NODE},s=n}function xO(e,t){const n=document.createElement("pre");let s=!1;const i=[];for(let r of function*(e,t){var n,s;let i=wO(e),r=wO(t),o=i.next(),a=r.next();for(;!o.done&&!a.done;){let e=o.value,t=a.value;if(e.isText&&e.start<=t.start&&e.end>=t.end)yield[null,t.node],a=r.next();else if(t.isText&&t.start<=e.start&&t.end>=e.end)yield[e.node,null],o=i.next();else if(e.end===t.end&&e.start===t.start)yield[e.node,t.node],o=i.next(),a=r.next();else if(e.end>t.end){let{pre:s,post:i}=yO(e.node,t.end-e.start);t.start<e.start&&(t.node.textContent=null===(n=t.node.textContent)||void 0===n?void 0:n.slice(e.start-t.start)),yield[s,t.node],e.node=i,e.start=t.end,a=r.next()}else{if(!(t.end>e.end))throw new Error(`Unexpected intersection: ${JSON.stringify(e)} ${JSON.stringify(t)}`);{let{pre:n,post:r}=yO(t.node,e.end-t.start);e.start<t.start&&(e.node.textContent=null===(s=e.node.textContent)||void 0===s?void 0:s.slice(t.start-e.start)),yield[e.node,n],t.node=r,t.start=e.end,o=i.next()}}}}(e,t)){if(!r[0]){i.push(r[1]),s=r[1].nodeType!==Node.TEXT_NODE;continue}if(!r[1]){i.push(r[0]),s=!1;continue}let[e,t]=r;const n=i[i.length-1];if(s&&t.href===n.href)n.appendChild(e);else{t.nodeType!==Node.TEXT_NODE?(t.textContent="",t.appendChild(e),i.push(t),s=!0):(i.push(e),s=!1)}}for(const r of i)n.appendChild(r);return n}!function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",i=n.isLocal?n.isLocal(s):uO.URLExt.isLocal(s);if(s&&i)try{const i=await n.resolveUrl(s);let r=await n.getDownloadUrl(i);"data:"!==uO.URLExt.parse(r).protocol&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime()),e.setAttribute(t,r)}catch(r){throw e.setAttribute(t,""),r}}function n(e,t,n){let s=e.getAttribute("href")||"";const i=t.isLocal?t.isLocal(s):uO.URLExt.isLocal(s);if(!s||!i)return Promise.resolve(void 0);const r=e.hash;if(r){if(r===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(r,"")}return t.resolveUrl(s).then((s=>{const i=decodeURIComponent(s);return n&&n.handleLink(e,i,r),t.getDownloadUrl(s)})).then((t=>{e.href=t+r})).catch((t=>{e.href=""}))}async function s(e,t,n){let s=e.dataset.path||"",i=e.dataset.locator?"#"+e.dataset.locator:"";delete e.dataset.path,delete e.dataset.locator;const r=t.isLocal?t.isLocal(s,true):uO.URLExt.isLocal(s,true);if(!(s&&r&&t.resolvePath&&n&&n.handlePath))return e.replaceWith(...e.childNodes),Promise.resolve(void 0);try{const r=await t.resolvePath(s);if(!r)return console.log("Path resolution bailing: does not exist"),Promise.resolve(void 0);n.handlePath(e,r.path,r.scope,i),e.href=r.path+i}catch(o){console.warn("Path anchor error:",o),e.href="#linking-failed-see-console"}}e.evalInnerHTMLScriptTags=function(e){const t=Array.from(e.getElementsByTagName("script"));for(const n of t){if(!n.parentNode)continue;const e=document.createElement("script"),t=n.attributes;for(let n=0,s=t.length;n<s;++n){const{name:s,value:i}=t[n];e.setAttribute(s,i)}e.textContent=n.textContent,n.parentNode.replaceChild(e,n)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let i=0;i<n.length;i++){const e=n[i];if(!(e instanceof HTMLAnchorElement))continue;const s=e.href,r=t&&t.isLocal?t.isLocal(s):uO.URLExt.isLocal(s);e.target||(e.target=r?"_self":"_blank"),r||(e.rel="noopener")}const s=e.getElementsByTagName("img");for(let i=0;i<s.length;i++)s[i].alt||(s[i].alt="Image")},e.handleUrls=function(e,s,i){const r=[],o=e.querySelectorAll("*[src]");for(let n=0;n<o.length;n++)r.push(t(o[n],"src",s));const a=e.getElementsByTagName("a");for(let t=0;t<a.length;t++)r.push(n(a[t],s,i));const l=e.getElementsByTagName("link");for(let n=0;n<l.length;n++)r.push(t(l[n],"href",s));return Promise.all(r).then((()=>{}))},e.handlePaths=async function(e,t,n){const i=e.getElementsByTagName("a");for(let r=0;r<i.length;r++)await s(i[r],t,n)},e.headerAnchors=function(e){const t=["h1","h2","h3","h4","h5","h6"];for(const n of t){const t=e.getElementsByTagName(n);for(let e=0;e<t.length;e++){const n=t[e];n.id=fO.createHeaderId(n);const s=document.createElement("a");s.target="_self",s.textContent="\xb6",s.href="#"+n.id,s.classList.add("jp-InternalAnchorLink"),n.appendChild(s)}}};const i=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function r(e,t,n,s,r,o,a){if(e){const l=[],c=[];s&&"number"==typeof t&&0<=t&&t<8&&(t+=8),o&&([t,n]=[n,t]),"number"==typeof t?l.push(i[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):o&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(i[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):o&&l.push("ansi-default-inverse-bg"),s&&l.push("ansi-bold"),r&&l.push("ansi-underline"),l.length||c.length?(a.push("<span"),l.length&&a.push(` class="${l.join(" ")}"`),c.length&&a.push(` style="${c.join("; ")}"`),a.push(">"),a.push(e),a.push("</span>")):a.push(e)}}function o(e){let t,n,s;const i=e.shift();if(2===i&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===i&&e.length>=1))throw new RangeError("Invalid extended color specification");{const i=e.shift();if(i<0)throw new RangeError("Color index must be >= 0");if(i<16)return i;if(i<232)t=Math.floor((i-16)/36),t=t>0?55+40*t:0,n=Math.floor((i-16)%36/6),n=n>0?55+40*n:0,s=(i-16)%6,s=s>0?55+40*s:0;else{if(!(i<256))throw new RangeError("Color index must be < 256");t=n=s=10*(i-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],i=[],a=!1,l=!1,c=!1;const u=[],h=[];let d=0;for(e=M()(e),e+="\x1b[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)h.push(0);else{if(-1===n.search(/^\d+$/)){h.length=0;break}h.push(parseInt(n,10))}}}for(r(e.substring(d,n.index),s,i,a,l,c,u),d=t.lastIndex;h.length;){const e=h.shift();switch(e){case 0:s=i=[],a=!1,l=!1,c=!1;break;case 1:case 5:a=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:a=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=o(h)}catch(rU){h.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:i=e-40;break;case 48:try{i=o(h)}catch(rU){h.length=0}break;case 49:i=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:i=e-100+8}}}return u.join("")}}(mO||(mO={}));const SO="jp-Completer-item",CO="jp-mod-active",kO="jp-Completer-list",EO="jp-Completer-docpanel",OO=!0;class MO extends E.Widget{constructor(e){var t,n,s,i;super({node:document.createElement("div")}),this._activeIndex=0,this._editor=null,this._model=null,this._selected=new f.Signal(this),this._visibilityChanged=new f.Signal(this),this._indexChanged=new f.Signal(this),this._lastSubsetMatch="",this._geometryLock=!1,this._geometryCounter=0,this._docPanelExpanded=!1,this._renderCounter=0,this.sanitizer=null!==(t=e.sanitizer)&&void 0!==t?t:new cO,this._defaultRenderer=MO.getDefaultRenderer(this.sanitizer),this._renderer=null!==(n=e.renderer)&&void 0!==n?n:this._defaultRenderer,this.model=null!==(s=e.model)&&void 0!==s?s:null,this.editor=null!==(i=e.editor)&&void 0!==i?i:null,this.addClass("jp-Completer"),this._updateConstraints()}_updateConstraints(){const e=document.createElement("div");e.classList.add(kO),e.style.visibility="hidden",e.style.overflowY="scroll",document.body.appendChild(e);const t=window.getComputedStyle(e);this._maxHeight=parseInt(t.maxHeight,10),this._minHeight=parseInt(t.minHeight,10),this._scrollbarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e);const n=document.createElement("div");n.classList.add(EO),this._docPanelWidth=TO.measureSize(n,"inline-block").width}get activeIndex(){return this._activeIndex}get editor(){return this._editor}set editor(e){this._editor=e}get selected(){return this._selected}get visibilityChanged(){return this._visibilityChanged}get indexChanged(){return this._indexChanged}get model(){return this._model}set model(e){(e||this._model)&&e!==this._model&&(this._model&&(this._model.stateChanged.disconnect(this.onModelStateChanged,this),this._model.queryChanged.disconnect(this.onModelQueryChanged,this)),this._model=e,this._model&&(this._model.stateChanged.connect(this.onModelStateChanged,this),this._model.queryChanged.connect(this.onModelQueryChanged,this)))}set showDocsPanel(e){this._showDoc=e}get showDocsPanel(){return this._showDoc}dispose(){this._sizeCache=void 0,this._model=null,super.dispose()}handleEvent(e){if(!this.isHidden&&this._editor)switch(e.type){case"keydown":this._evtKeydown(e);break;case"mousedown":this._evtMousedown(e);break;case"scroll":this._evtScroll(e)}}reset(){this._activeIndex=0,this._lastSubsetMatch="",this._model&&this._model.reset(!0),this._sizeCache=void 0,this.node.scrollTop=0}selectActive(){const e=this.node.querySelector(`.${CO}`);e?(this._selected.emit(e.getAttribute("data-value")),this.reset()):this.reset()}onAfterAttach(e){document.addEventListener("keydown",this,OO),document.addEventListener("mousedown",this,OO),document.addEventListener("scroll",this,OO)}onBeforeDetach(e){document.removeEventListener("keydown",this,OO),document.removeEventListener("mousedown",this,OO),document.removeEventListener("scroll",this,OO)}onModelStateChanged(){this.isAttached&&(this._activeIndex=0,this._indexChanged.emit(this._activeIndex),this.update())}onModelQueryChanged(e,t){if(this._sizeCache&&"editorUpdate"===t.origin){const t=e.completionItems(),n=this._sizeCache.items,s=n[this._findWidestItemIndex(n)],i=t[this._findWidestItemIndex(t)],r=this._getPreferredItemWidthHeuristic();t.length===this._sizeCache.items.length&&r(s)===r(i)||(this._sizeCache=void 0)}}onUpdateRequest(e){var t;const n=this._model;if(!n)return;n.query||this._populateSubset();let s=n.completionItems();if(!s.length)return void(this.isHidden||(this.reset(),this.hide(),this._visibilityChanged.emit(void 0)));this._updateConstraints(),this._geometryLock=!0;const i=this._createCompleterNode(n,s);if(i.querySelectorAll(`.${SO}`)[this._activeIndex].classList.add(CO),this._showDoc){let e=document.createElement("div");e.className=EO,this._docPanel=e,i.appendChild(e),this._docPanelExpanded=!1}const r=null===(t=this.model)||void 0===t?void 0:t.resolveItem(this._activeIndex);this._updateDocPanel(r),this.isHidden?(this.show(),this._setGeometry(),this._visibilityChanged.emit(void 0)):this._setGeometry(),this._geometryLock=!1}get sizeCache(){if(this._sizeCache)return{width:this._sizeCache.width,height:this._sizeCache.height}}_createCompleterNode(e,t){const n=++this._renderCounter;let s=this.node;s.textContent="";let i=e.orderedTypes(),r=document.createElement("ul");r.className=kO;const o=this._renderer.createCompletionItemNode(t[0],i),a=[o],l=TO.measureSize(o,"inline-grid"),c=Math.max(Math.ceil(this._maxHeight/l.height),5),u=Math.min(c+1,t.length),h=performance.now();for(let d=1;d<u;d++){const e=this._renderer.createCompletionItemNode(t[d],i);a.push(e)}for(const d of a)r.appendChild(d);if(c<t.length){const e=this._findWidestItemIndex(t),n=e<a.length?a[e]:this._renderer.createCompletionItemNode(t[e],i),s=TO.measureSize(n.cloneNode(!0),"inline-grid");this._sizeCache={height:this._maxHeight,width:s.width+this._scrollbarWidth,items:t}}if(u<t.length){const e=(performance.now()-h)/u,s=Math.max(5,Math.floor(12/e));let o=u,c=a[a.length-1];const d=()=>{if(o>=t.length)return;const e=l.height*(t.length-o);c.style.marginBottom=`${e}px`,requestAnimationFrame((()=>{if(n!=this._renderCounter)return;c.style.marginBottom="";const e=Math.min(t.length,o+s);for(let n=o;n<e;n++){const e=this._renderer.createCompletionItemNode(t[n],i);r.appendChild(e),c=e}o=e,d()}))};d()}return s.appendChild(r),s}_findWidestItemIndex(e){const t=this._getPreferredItemWidthHeuristic(),n=e.map(t);return n.indexOf(Math.max(...n))}_getPreferredItemWidthHeuristic(){return this._renderer.itemWidthHeuristic?this._renderer.itemWidthHeuristic.bind(this._renderer):this._defaultRenderer.itemWidthHeuristic.bind(this._defaultRenderer)}_cycle(e){var t;const n=this.node.querySelectorAll(`.${SO}`),s=this._activeIndex,i=n.length-1;let r=this.node.querySelector(`.${CO}`);switch(r.classList.remove(CO),e){case"up":this._activeIndex=0===s?i:s-1;break;case"down":this._activeIndex=s<i?s+1:0;break;case"pageUp":case"pageDown":{const t=this.node.getBoundingClientRect(),n=r.getBoundingClientRect(),o=Math.floor(t.height/n.height),a="pageUp"===e?-1:1;this._activeIndex=Math.min(Math.max(0,s+a*o),i);break}}r=n[this._activeIndex],r.classList.add(CO);let o=this.node.querySelector(`.${kO}`);ba.ElementExt.scrollIntoViewIfNeeded(o,r),this._indexChanged.emit(this._activeIndex);const a=null===(t=this.model)||void 0===t?void 0:t.resolveItem(this._activeIndex);this._updateDocPanel(a)}_evtKeydown(e){if(!this.isHidden&&this._editor)if(this._editor.host.contains(e.target))switch(e.keyCode){case 9:{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=this._model;if(!t)return;const n=t.completionItems();if(n&&1===n.length)return this._selected.emit(n[0].insertText||n[0].label),void this.reset();const s=this._populateSubset();return t.query&&t.query!==this._lastSubsetMatch&&(t.subsetMatch=!0,this._selected.emit(t.query),t.subsetMatch=!1,this._lastSubsetMatch=t.query),s&&this.update(),void this._cycle(e.shiftKey?"up":"down")}case 27:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),void this.reset();case 33:case 34:case 38:case 40:{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=TO.keyCodeMap[e.keyCode];return void this._cycle(t)}default:return}else this.reset()}_evtMousedown(e){if(this.isHidden||!this._editor)return;if(TO.nonstandardClick(e))return void this.reset();let t=e.target;for(;t!==document.documentElement;){if(t.classList.contains(SO))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this._selected.emit(t.getAttribute("data-value")),void this.reset();if(t===this.node)return e.preventDefault(),e.stopPropagation(),void e.stopImmediatePropagation();t=t.parentElement}this.reset()}_evtScroll(e){if(this.isHidden||!this._editor)return;const{node:t}=this;t.contains(e.target)||requestAnimationFrame((()=>{this._setGeometry()}))}_populateSubset(){const{model:e}=this;if(!e)return!1;const t=e.completionItems(),n=TO.commonSubset(t.map((e=>e.insertText||e.label))),{query:s}=e;return!(!n||n===s||0!==n.indexOf(s))&&(e.query=n,!0)}_setGeometry(){const{node:e}=this,t=this._model,n=this._editor;if(!(n&&t&&t.original&&t.cursor))return;const s=t.cursor.start,i=n.getPositionAt(s),r=n.getCoordinateForPosition(i),o=window.getComputedStyle(e),a=parseInt(o.borderLeftWidth,10)||0,l=parseInt(o.paddingLeft,10)||0,c=n.host.closest(".jp-MainAreaWidget > .lm-Widget")||n.host,u=t.completionItems();this._sizeCache&&this._sizeCache.items.length!==u.length&&(this._sizeCache=void 0),Lg.setGeometry({anchor:r,host:c,maxHeight:this._maxHeight,minHeight:this._minHeight,node:e,size:this._sizeCache,offset:{horizontal:a+l},privilege:"below",style:o,outOfViewDisplay:{top:"stick-inside",bottom:"stick-inside",left:"stick-inside",right:"stick-outside"}});const h=++this._geometryCounter;this._sizeCache||requestAnimationFrame((()=>{if(h!=this._geometryCounter)return;let t=e.getBoundingClientRect();this._sizeCache={width:t.width,height:t.height,items:u}}))}_updateDocPanel(e){var t,n,s;let i=this._docPanel;if(!i)return;if(this._toggleDocPanel(!0),!e)return void this._toggleDocPanel(!1);i.textContent="";const r=null!==(s=null===(n=(t=this._renderer).createLoadingDocsIndicator)||void 0===n?void 0:n.call(t))&&void 0!==s?s:this._defaultRenderer.createLoadingDocsIndicator();i.appendChild(r),e.then((e=>{var t,n,s;if(e&&i)if(e.documentation){const r=null!==(s=null===(n=(t=this._renderer).createDocumentationNode)||void 0===n?void 0:n.call(t,e))&&void 0!==s?s:this._defaultRenderer.createDocumentationNode(e);i.textContent="",i.appendChild(r)}else this._toggleDocPanel(!1)})).catch((e=>console.error(e)))}_toggleDocPanel(e){let t=this._docPanel;if(!t)return;if(e){if(this._docPanelExpanded)return;t.style.display="",this._docPanelExpanded=!0}else{if(!this._docPanelExpanded)return;t.style.display="none",this._docPanelExpanded=!1}const n=this._sizeCache;n&&(n.width+=this._docPanelWidth*(e?1:-1),this._geometryLock||this._setGeometry())}}var TO;!function(e){class t{constructor(e){this.sanitizer=(null==e?void 0:e.sanitizer)||new cO}createCompletionItemNode(e,t){let n=this._createWrapperNode(e.insertText||e.label);return e.deprecated&&n.classList.add("jp-Completer-deprecated"),this._constructNode(n,this._createLabelNode(e.label),!!e.type,e.type,t,e.icon)}createDocumentationNode(e){const t=document.createElement("div");t.classList.add("jp-RenderedText");return function(e){var t,n;const{host:s,sanitizer:i,source:r}=e,o=i.sanitize(mO.ansiSpan(r),{allowedTags:["span"]}),a=document.createElement("pre");a.innerHTML=o;const l=a.textContent;let c;if(l){const e=null===(n=null===(t=i.getAutolink)||void 0===t?void 0:t.call(i))||void 0===n||n?bO(l,{checkWeb:!0,checkPaths:!1}):[document.createTextNode(o)];c=xO(Array.from(a.childNodes),e)}else c=document.createElement("pre");return s.appendChild(c),Promise.resolve(void 0)}({host:t,sanitizer:this.sanitizer,source:e.documentation||""}).catch(console.error),t}itemWidthHeuristic(e){var t;return e.label.replace(/<\?mark>/g,"").length+((null===(t=e.type)||void 0===t?void 0:t.length)||0)}createLoadingDocsIndicator(){const e=document.createElement("div");e.classList.add("jp-Completer-loading-bar-container");const t=document.createElement("div");return t.classList.add("jp-Completer-loading-bar"),e.append(t),e}_createWrapperNode(e){const t=document.createElement("li");return t.className=SO,t.setAttribute("data-value",e),t}_createLabelNode(e){const t=document.createElement("code");return t.className="jp-Completer-match",t.innerHTML=e,t}_constructNode(e,t,n,s,i,r){if(r){const t=r.element({className:"jp-Completer-type jp-Completer-icon"});e.appendChild(t)}else if(n){const t=document.createElement("span");t.textContent=(s[0]||"").toLowerCase();const n=i.indexOf(s)%10+1;t.className="jp-Completer-type jp-Completer-monogram",t.setAttribute("data-color-index",n.toString()),e.appendChild(t)}else{const t=document.createElement("span");t.className="jp-Completer-monogram",e.appendChild(t)}if(e.appendChild(t),n){e.title=s;const t=document.createElement("code");t.className="jp-Completer-typeExtended",t.textContent=s.toLocaleLowerCase(),e.appendChild(t)}else{const t=document.createElement("span");t.className="jp-Completer-typeExtended",e.appendChild(t)}return e}}let n;e.Renderer=t,e.getDefaultRenderer=function(e){return(!n||e&&n.sanitizer!==e)&&(n=new t({sanitizer:e})),n}}(MO||(MO={})),function(e){e.keyCodeMap={38:"up",40:"down",33:"pageUp",34:"pageDown"},e.commonSubset=function(e){const t=e.length;let n="";if(t<2)return n;const s=e[0].length;for(let i=0;i<s;i++){const s=e[0][i];for(let r=1;r<t;r++)if(e[r][i]!==s)return n;n+=s}return n},e.nonstandardClick=function(e){return 0!==e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey},e.measureSize=function(e,t){e.isConnected&&console.warn("Measuring connected elements with `measureSize` has side-effects"),e.style.visibility="hidden",e.style.display=t,document.body.appendChild(e);const n=e.getBoundingClientRect();return document.body.removeChild(e),e.removeAttribute("style"),n}}(TO||(TO={}));class DO{constructor(){this.identifier="CompletionProvider:kernel",this.renderer=null}async isApplicable(e){var t;return!!(null===(t=e.session)||void 0===t?void 0:t.kernel)}async fetch(e,t){var n;const s=null===(n=t.session)||void 0===n?void 0:n.kernel;if(!s)throw new Error("No kernel for completion request.");const i={code:e.text,cursor_pos:e.offset},r=(await s.requestComplete(i)).content;if("ok"!==r.status)throw new Error("Completion fetch failed to return successfully.");const o=new Array,a=r.metadata._jupyter_types_experimental;return r.matches.forEach(((e,t)=>{a&&a[t]?o.push({label:e,type:a[t].type,insertText:a[t].text}):o.push({label:e})})),{start:r.cursor_start,end:r.cursor_end,items:o}}async resolve(e,t,n){const{editor:s,session:i}=t;if(i&&s){let t=s.model.sharedModel.getSource();const r=s.getCursorPosition();let o=uO.Text.jsIndexToCharIndex(s.getOffsetAt(r),t);const a=i.kernel;if(!t||!a)return Promise.resolve(e);if(n){const{start:e,value:s}=n;t=t.substring(0,e)+s,o+=s.length}const l={code:t,cursor_pos:o,detail_level:0},c=(await a.requestInspect(l)).content;return"ok"===c.status&&c.found?(e.documentation=c.data["text/plain"],e):e}return e}shouldShowContinuousHint(e,t){const n=t.sourceChange;return null==n||!n.some((e=>null!=e.delete))&&n.some((t=>null!=t.insert&&("."===t.insert||!e&&t.insert.trim().length>0)))}}class PO{constructor(e){this._resolveFactory=(e,t)=>e.resolve?n=>e.resolve(t,this._context,n):void 0,this._fetching=0,this._providers=e.providers,this._context=e.context,this._timeout=e.timeout}async fetch(e){const t=++this._fetching;let n=[];for(const i of this._providers){let s;s=i.fetch(e,this._context).then((e=>{if(t!==this._fetching)return Promise.reject(void 0);const n=e.items.map((e=>({...e,resolve:this._resolveFactory(i,e)})));return{...e,items:n}}));const r=new Promise((e=>setTimeout((()=>e(null)),this._timeout)));s=Promise.race([s,r]),n.push(s.catch((e=>e)))}const s=Promise.all(n);return this._mergeCompletions(s)}shouldShowContinuousHint(e,t){return this._providers[0].shouldShowContinuousHint?this._providers[0].shouldShowContinuousHint(e,t):this._defaultShouldShowContinuousHint(e,t)}_alignPrefixes(e,t,n){if(t!=n){const t=this._context.editor;if(!t)return e;const s=t.getCursorPosition(),i=t.getLine(s.line);return i?e.map((e=>{if(e.start==n)return e;let t=i.substring(e.start,n);return{...e,items:e.items.map((e=>{let n=e.insertText||e.label;return e.insertText=n.startsWith(t)?n.slice(t.length):n,e}))}})):e}return e}async _mergeCompletions(e){let t=(await e).filter((e=>!(!e||e instanceof Error)&&!!e.items.length));if(0==t.length)return null;if(1==t.length)return t[0];const n=Math.min(...t.map((e=>e.end))),s=t.map((e=>e.start)),i=Math.min(...s),r=Math.max(...s);t=this._alignPrefixes(t,i,r);const o=new Set,a=new Array;for(const l of t)l.items.forEach((e=>{let t=(e.insertText||e.label).trim();o.has(t)||(o.add(t),a.push(e))}));return{start:r,end:n,items:a}}_defaultShouldShowContinuousHint(e,t){return!e&&(null==t.sourceChange||t.sourceChange.some((e=>null!=e.insert&&e.insert.length>0)))}}const AO="jp-mod-completer-enabled",RO="jp-mod-completer-active";class jO{constructor(e){this._editor=null,this._enabled=!1,this._isDisposed=!1,this._autoCompletion=!1,this.completer=e.completer,this.completer.selected.connect(this.onCompletionSelected,this),this.completer.visibilityChanged.connect(this.onVisibilityChanged,this),this._reconciliator=e.reconciliator}set reconciliator(e){this._reconciliator=e}get editor(){return this._editor}set editor(e){if(e===this._editor)return;let t=this._editor;if(t&&!t.isDisposed){const e=t.model;t.host.classList.remove(AO),t.host.classList.remove(RO),e.selections.changed.disconnect(this.onSelectionsChanged,this),e.sharedModel.changed.disconnect(this.onTextChanged,this)}if(this.completer.reset(),this.completer.editor=e,t=this._editor=e,t){const e=t.model;this._enabled=!1,e.selections.changed.connect(this.onSelectionsChanged,this),e.sharedModel.changed.connect(this.onTextChanged,this),this.onSelectionsChanged()}}get isDisposed(){return this._isDisposed}set autoCompletion(e){this._autoCompletion=e}get autoCompletion(){return this._autoCompletion}dispose(){this.isDisposed||(this._isDisposed=!0,f.Signal.clearData(this))}invoke(){v.MessageLoop.sendMessage(this,jO.Msg.InvokeRequest)}processMessage(e){if(e.type===jO.Msg.InvokeRequest.type)this.onInvokeRequest(e)}getState(e,t){return{text:e.model.sharedModel.getSource(),line:t.line,column:t.column}}onCompletionSelected(e,t){const n=e.model,s=this._editor;if(!s||!n)return;const i=n.createPatch(t);if(!i)return;const{start:r,end:o,value:a}=i,l=s.getOffsetAt(s.getCursorPosition());s.model.sharedModel.updateSource(r,o,a),l<=o&&l>=r&&s.setCursorPosition(s.getPositionAt(r+a.length))}onInvokeRequest(e){if(!this.completer.model)return;if(this.completer.model.original)return;const t=this._editor;t&&this._makeRequest(t.getCursorPosition()).catch((e=>{console.warn("Invoke request bailed",e)}))}onSelectionsChanged(){const e=this.completer.model,t=this._editor;if(!t)return;const n=t.host;if(!e)return this._enabled=!1,void n.classList.remove(AO);if(e.subsetMatch)return;const s=t.getCursorPosition(),i=t.getLine(s.line);if(!i)return this._enabled=!1,e.reset(!0),void n.classList.remove(AO);const{start:r,end:o}=t.getSelection();return r.column!==o.column||r.line!==o.line||i.slice(0,s.column).match(/^\s*$/)?(this._enabled=!1,e.reset(!0),void n.classList.remove(AO)):(this._enabled||(this._enabled=!0,n.classList.add(AO)),void e.handleCursorChange(this.getState(t,t.getCursorPosition())))}onTextChanged(e,t){const n=this.completer.model;if(!n||!this._enabled)return;const s=this.editor;if(!s)return;this._autoCompletion&&this._reconciliator.shouldShowContinuousHint&&this._reconciliator.shouldShowContinuousHint(this.completer.isVisible,t)&&this._makeRequest(s.getCursorPosition());const{start:i,end:r}=s.getSelection();i.column===r.column&&i.line===r.line&&n.handleTextChange(this.getState(s,s.getCursorPosition()))}onVisibilityChanged(e){e.isDisposed||e.isHidden?this._editor&&(this._editor.host.classList.remove(RO),this._editor.focus()):this._editor&&this._editor.host.classList.add(RO)}_makeRequest(e){const t=this.editor;if(!t)return Promise.reject(new Error("No active editor"));const n=t.model.sharedModel.getSource(),s=uO.Text.jsIndexToCharIndex(t.getOffsetAt(e),n),i=this.getState(t,e),r={text:n,offset:s};return this._reconciliator.fetch(r).then((e=>{if(!e)return;const t=this._updateModel(i,e.start,e.end);t&&t.setCompletionItems&&t.setCompletionItems(e.items)})).catch((e=>{}))}_updateModel(e,t,n){const s=this.completer.model,i=e.text;return s?(s.original=e,s.cursor={start:uO.Text.charIndexToJsIndex(t,i),end:uO.Text.charIndexToJsIndex(n,i)},s):null}}!function(e){let t;!function(e){e.InvokeRequest=new v.Message("invoke-request")}(t=e.Msg||(e.Msg={}))}(jO||(jO={}));class IO{static reg(e){return new RegExp("^"+e+"$","i")}}IO.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},IO.B={angle:`(${IO.N.number}(deg|rad|grad|turn)|0)`,frequency:`${IO.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${IO.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${IO.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${IO.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${IO.N.number}%`,percentage_pos:`${IO.N.number_pos}%`,percentage_zero_hundred:`${IO.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${IO.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},IO.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},IO._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${IO.N.integer_zero_ff}|${IO.N.number_zero_one}|${IO.B.percentage_zero_hundred})\s*\)`},IO._C={alpha:`${IO.N.integer_zero_ff}|${IO.N.number_zero_one}|${IO.B.percentage_zero_hundred}`,alphavalue:IO.N.number_zero_one,bg_position:`((${IO.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${IO.B.length_pos}|${IO.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${IO.B.length}`,bottom:`${IO.B.length}|auto`,color:`${IO._COLOR.hex}|${IO._COLOR.rgb}|${IO._COLOR.rgba}|${IO._COLOR.name}`,color_stop_length:`(${IO.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${IO.B.len_or_perc}`,family_name:`${IO.B.string}|(${IO.B.ident}\\s*)+`,image_decl:IO.B.url,left:`${IO.B.length}|auto`,loose_quotable_words:`(${IO.B.ident})+`,margin_width:`${IO.B.len_or_perc}|auto`,padding_width:`${IO.B.length_pos}|${IO.B.percentage_pos}`,page_url:IO.B.url,position:`((${IO.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${IO.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${IO.B.length}|(${IO.B.len_or_perc})\\s+(${IO.B.len_or_perc})`,top:`${IO.B.length}|auto`},IO._C1={image_list:`image\\(\\s*(${IO.B.url})*\\s*(${IO.B.url}|${IO._C.color})\\s*\\)`,linear_color_stop:`(${IO._C.color})(\\s*${IO._C.color_stop_length})?`,shadow:`((${IO._C.color})\\s+((${IO.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${IO.B.length})\\s*){2,4}\\s*(${IO._C.color})?)`},IO._C2={color_stop_list:`((${IO._C1.linear_color_stop})(\\s*(${IO._C.linear_color_hint}))?\\s*,\\s*)+(${IO._C1.linear_color_stop})`,shape:`rect\\(\\s*(${IO._C.top})\\s*,\\s*(${IO._C.right})\\s*,\\s*(${IO._C.bottom})\\s*,\\s*(${IO._C.left})\\s*\\)`},IO._C3={linear_gradient:`linear-gradient\\((((${IO.B.angle})|to\\s+(${IO.A.side_or_corner}))\\s*,\\s*)?\\s*(${IO._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${IO.A.ending_shape})|(${IO._C.size}))\\s*)*\\s*(at\\s+${IO._C.position})?\\s*,\\s*)?\\s*(${IO._C2.color_stop_list})\\s*\\)`},IO._C4={image:`${IO.B.url}|${IO._C3.linear_gradient}|${IO._C3.radial_gradient}|${IO._C1.image_list}`,bg_image:`(${IO.B.url}|${IO._C3.linear_gradient}|${IO._C3.radial_gradient}|${IO._C1.image_list})|none`},IO.C={...IO._C,...IO._C1,...IO._C2,...IO._C3,...IO._C4},IO.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},IO._CP={background_attachment:`${IO.A.attachment}(,\\s*${IO.A.attachment})*`,background_color:IO.C.color,background_origin:`${IO.A.box}(,\\s*${IO.A.box})*`,background_repeat:`${IO.A.repeat_style}(,\\s*${IO.A.repeat_style})*`,border:`((${IO.C.border_width}|${IO.A.border_style}|${IO.C.color})\\s*){1,3}`,border_radius:`((${IO.B.len_or_perc})\\s*){1,4}(\\/\\s*((${IO.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${IO.B.length}\\s*(${IO.B.length})?`,border_top_color:IO.C.color,border_top_style:IO.A.border_style,border_width:`((${IO.C.border_width})\\s*){1,4}`,color:IO.C.color,cursor:`(${IO.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${IO.A.display_inside}|${IO.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:IO.A.display_outside,elevation:`${IO.B.angle}|below|level|above|higher|lower`,font_family:`(${IO.C.family_name}|${IO.A.generic_family})(,\\s*(${IO.C.family_name}|${IO.A.generic_family}))*`,height:`${IO.B.length}|${IO.B.percentage}|auto`,letter_spacing:`normal|${IO.B.length}`,list_style_image:`${IO.C.image}|none`,margin_right:IO.C.margin_width,max_height:`${IO.B.length_pos}|${IO.B.percentage_pos}|none|auto`,min_height:`${IO.B.length_pos}|${IO.B.percentage_pos}|auto`,opacity:IO.C.alphavalue,outline_color:`${IO.C.color}|invert`,outline_width:IO.C.border_width,padding:`((${IO.C.padding_width})\\s*){1,4}`,padding_top:IO.C.padding_width,pitch_range:IO.N.number,right:`${IO.B.length}|${IO.B.percentage}|auto`,stress:IO.N.number,text_indent:`${IO.B.length}|${IO.B.percentage}`,text_shadow:`none|${IO.C.shadow}(,\\s*(${IO.C.shadow}))*`,volume:`${IO.N.number_pos}|${IO.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:IO.AP.overflow_wrap,zoom:`normal|${IO.N.number_pos}|${IO.B.percentage_pos}`,backface_visibility:IO.AP.visibility,background_clip:`${IO.A.box}(,\\s*(${IO.A.box}))*`,background_position:`${IO.C.bg_position}(,\\s*(${IO.C.bg_position}))*`,border_bottom_color:IO.C.color,border_bottom_style:IO.A.border_style,border_color:`((${IO.C.color})\\s*){1,4}`,border_left_color:IO.C.color,border_right_color:IO.C.color,border_style:`((${IO.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${IO.B.length}|${IO.B.percentage})(\\s*(${IO.B.length}|${IO.B.percentage}))?`,border_top_width:IO.C.border_width,box_shadow:`none|${IO.C.shadow}(,\\s*(${IO.C.shadow}))*`,clip:`${IO.C.shape}|auto`,display_inside:IO.A.display_inside,font_size:`${IO.A.absolute_size}|${IO.A.relative_size}|${IO.B.length_pos}|${IO.B.percentage_pos}`,line_height:`normal|${IO.N.number_pos}|${IO.B.length_pos}|${IO.B.percentage_pos}`,margin_left:IO.C.margin_width,max_width:`${IO.B.length_pos}|${IO.B.percentage_pos}|none|auto`,outline_style:IO.A.border_style,padding_bottom:IO.C.padding_width,padding_right:IO.C.padding_width,perspective:`none|${IO.B.length}`,richness:IO.N.number,text_overflow:`((clip|ellipsis|${IO.B.string})\\s*){1,2}`,top:`${IO.B.length}|${IO.B.percentage}|auto`,width:`${IO.B.length_pos}|${IO.B.percentage_pos}|auto`,z_index:`auto|${IO.B.z_index}`,background:`(((${IO.C.bg_position}\\s*(\\/\\s*${IO.C.bg_size})?)|(${IO.A.repeat_style})|(${IO.A.attachment})|(${IO.A.bg_origin})|(${IO.C.bg_image})|(${IO.C.color}))\\s*)+`,background_size:`${IO.C.bg_size}(,\\s*${IO.C.bg_size})*`,border_bottom_left_radius:`(${IO.B.length}|${IO.B.percentage})(\\s*(${IO.B.length}|${IO.B.percentage}))?`,border_bottom_width:IO.C.border_width,border_left_style:IO.A.border_style,border_right_style:IO.A.border_style,border_top:`((${IO.C.border_width}|${IO.A.border_style}|${IO.C.color})\\s*){1,3}`,bottom:`${IO.B.len_or_perc}|auto`,list_style:`((${IO.AP.list_style_type}|${IO.AP.list_style_position}|${IO.C.image}|none})\\s*){1,3}`,margin_top:IO.C.margin_width,outline:`((${IO.C.color}|invert|${IO.A.border_style}|${IO.C.border_width})\\s*){1,3}`,overflow_y:IO.AP.overflow_x,pitch:`${IO.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${IO.B.len_or_perc}`,word_spacing:`normal|${IO.B.length}`,background_image:`${IO.C.bg_image}(,\\s*${IO.C.bg_image})*`,border_bottom_right_radius:`(${IO.B.length}|${IO.B.percentage})(\\s*(${IO.B.length}|${IO.B.percentage}))?`,border_left_width:IO.C.border_width,border_right_width:IO.C.border_width,left:`${IO.B.len_or_perc}|auto`,margin_bottom:IO.C.margin_width,pause_after:`${IO.B.time}|${IO.B.percentage}`,speech_rate:`${IO.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${IO.B.time}(,\\s*${IO.B.time})*`,border_bottom:`((${IO.C.border_width}|${IO.A.border_style}|${IO.C.color})\\s*){1,3}`,border_right:`((${IO.C.border_width}|${IO.A.border_style}|${IO.C.color})\\s*){1,3}`,margin:`((${IO.C.margin_width})\\s*){1,4}`,padding_left:IO.C.padding_width,border_left:`((${IO.C.border_width}|${IO.A.border_style}|${IO.C.color})\\s*){1,3}`,quotes:`(${IO.B.string}\\s*${IO.B.string})+|none`,border_top_right_radius:`(${IO.B.length}|${IO.B.percentage})(\\s*(${IO.B.length}|${IO.B.percentage}))?`,min_width:`${IO.B.length_pos}|${IO.B.percentage_pos}|auto`},IO._CP1={font:`(((((${IO.AP.font_style}|${IO.AP.font_variant}|${IO.AP.font_weight})\\s*){1,3})?\\s*(${IO._CP.font_size})\\s*(\\/\\s*(${IO._CP.line_height}))?\\s+(${IO._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},IO.CP={...IO._CP,...IO._CP1},IO.BORDER_COLLAPSE=IO.reg(IO.AP.border_collapse),IO.BOX=IO.reg(IO.AP.box),IO.BOX_SIZING=IO.reg(IO.AP.box_sizing),IO.CAPTION_SIDE=IO.reg(IO.AP.caption_side),IO.CLEAR=IO.reg(IO.AP.clear),IO.DIRECTION=IO.reg(IO.AP.direction),IO.EMPTY_CELLS=IO.reg(IO.AP.empty_cells),IO.FLOAT=IO.reg(IO.AP.float),IO.FONT_STRETCH=IO.reg(IO.AP.font_stretch),IO.FONT_STYLE=IO.reg(IO.AP.font_style),IO.FONT_VARIANT=IO.reg(IO.AP.font_variant),IO.FONT_WEIGHT=IO.reg(IO.AP.font_weight),IO.LIST_STYLE_POSITION=IO.reg(IO.AP.list_style_position),IO.LIST_STYLE_TYPE=IO.reg(IO.AP.list_style_type),IO.OVERFLOW=IO.reg(IO.AP.overflow),IO.OVERFLOW_WRAP=IO.reg(IO.AP.overflow_wrap),IO.OVERFLOW_X=IO.reg(IO.AP.overflow_x),IO.PAGE_BREAK_AFTER=IO.reg(IO.AP.page_break_after),IO.PAGE_BREAK_BEFORE=IO.reg(IO.AP.page_break_before),IO.PAGE_BREAK_INSIDE=IO.reg(IO.AP.page_break_inside),IO.POSITION=IO.reg(IO.AP.position),IO.RESIZE=IO.reg(IO.AP.resize),IO.SPEAK=IO.reg(IO.AP.speak),IO.SPEAK_HEADER=IO.reg(IO.AP.speak_header),IO.SPEAK_NUMERAL=IO.reg(IO.AP.speak_numeral),IO.SPEAK_PUNCTUATION=IO.reg(IO.AP.speak_punctuation),IO.TABLE_LAYOUT=IO.reg(IO.AP.table_layout),IO.TEXT_ALIGN=IO.reg(IO.AP.text_align),IO.TEXT_DECORATION=IO.reg(IO.AP.text_decoration),IO.TEXT_TRANSFORM=IO.reg(IO.AP.text_transform),IO.TEXT_WRAP=IO.reg(IO.AP.text_wrap),IO.UNICODE_BIDI=IO.reg(IO.AP.unicode_bidi),IO.VISIBILITY=IO.reg(IO.AP.visibility),IO.WHITE_SPACE=IO.reg(IO.AP.white_space),IO.WORD_BREAK=IO.reg(IO.AP.word_break),IO.BACKGROUND_ATTACHMENT=IO.reg(IO.CP.background_attachment),IO.BACKGROUND_COLOR=IO.reg(IO.CP.background_color),IO.BACKGROUND_ORIGIN=IO.reg(IO.CP.background_origin),IO.BACKGROUND_REPEAT=IO.reg(IO.CP.background_repeat),IO.BORDER=IO.reg(IO.CP.border),IO.BORDER_RADIUS=IO.reg(IO.CP.border_radius),IO.BORDER_SPACING=IO.reg(IO.CP.border_spacing),IO.BORDER_TOP_COLOR=IO.reg(IO.CP.border_top_color),IO.BORDER_TOP_STYLE=IO.reg(IO.CP.border_top_style),IO.BORDER_WIDTH=IO.reg(IO.CP.border_width),IO.COLOR=IO.reg(IO.CP.color),IO.CURSOR=IO.reg(IO.CP.cursor),IO.DISPLAY=IO.reg(IO.CP.display),IO.DISPLAY_OUTSIDE=IO.reg(IO.CP.display_outside),IO.ELEVATION=IO.reg(IO.CP.elevation),IO.FONT_FAMILY=IO.reg(IO.CP.font_family),IO.HEIGHT=IO.reg(IO.CP.height),IO.LETTER_SPACING=IO.reg(IO.CP.letter_spacing),IO.LIST_STYLE_IMAGE=IO.reg(IO.CP.list_style_image),IO.MARGIN_RIGHT=IO.reg(IO.CP.margin_right),IO.MAX_HEIGHT=IO.reg(IO.CP.max_height),IO.MIN_HEIGHT=IO.reg(IO.CP.min_height),IO.OPACITY=IO.reg(IO.CP.opacity),IO.OUTLINE_COLOR=IO.reg(IO.CP.outline_color),IO.OUTLINE_WIDTH=IO.reg(IO.CP.outline_width),IO.PADDING=IO.reg(IO.CP.padding),IO.PADDING_TOP=IO.reg(IO.CP.padding_top),IO.PITCH_RANGE=IO.reg(IO.CP.pitch_range),IO.RIGHT=IO.reg(IO.CP.right),IO.STRESS=IO.reg(IO.CP.stress),IO.TEXT_INDENT=IO.reg(IO.CP.text_indent),IO.TEXT_SHADOW=IO.reg(IO.CP.text_shadow),IO.VOLUME=IO.reg(IO.CP.volume),IO.WORD_WRAP=IO.reg(IO.CP.word_wrap),IO.ZOOM=IO.reg(IO.CP.zoom),IO.BACKFACE_VISIBILITY=IO.reg(IO.CP.backface_visibility),IO.BACKGROUND_CLIP=IO.reg(IO.CP.background_clip),IO.BACKGROUND_POSITION=IO.reg(IO.CP.background_position),IO.BORDER_BOTTOM_COLOR=IO.reg(IO.CP.border_bottom_color),IO.BORDER_BOTTOM_STYLE=IO.reg(IO.CP.border_bottom_style),IO.BORDER_COLOR=IO.reg(IO.CP.border_color),IO.BORDER_LEFT_COLOR=IO.reg(IO.CP.border_left_color),IO.BORDER_RIGHT_COLOR=IO.reg(IO.CP.border_right_color),IO.BORDER_STYLE=IO.reg(IO.CP.border_style),IO.BORDER_TOP_LEFT_RADIUS=IO.reg(IO.CP.border_top_left_radius),IO.BORDER_TOP_WIDTH=IO.reg(IO.CP.border_top_width),IO.BOX_SHADOW=IO.reg(IO.CP.box_shadow),IO.CLIP=IO.reg(IO.CP.clip),IO.DISPLAY_INSIDE=IO.reg(IO.CP.display_inside),IO.FONT_SIZE=IO.reg(IO.CP.font_size),IO.LINE_HEIGHT=IO.reg(IO.CP.line_height),IO.MARGIN_LEFT=IO.reg(IO.CP.margin_left),IO.MAX_WIDTH=IO.reg(IO.CP.max_width),IO.OUTLINE_STYLE=IO.reg(IO.CP.outline_style),IO.PADDING_BOTTOM=IO.reg(IO.CP.padding_bottom),IO.PADDING_RIGHT=IO.reg(IO.CP.padding_right),IO.PERSPECTIVE=IO.reg(IO.CP.perspective),IO.RICHNESS=IO.reg(IO.CP.richness),IO.TEXT_OVERFLOW=IO.reg(IO.CP.text_overflow),IO.TOP=IO.reg(IO.CP.top),IO.WIDTH=IO.reg(IO.CP.width),IO.Z_INDEX=IO.reg(IO.CP.z_index),IO.BACKGROUND=IO.reg(IO.CP.background),IO.BACKGROUND_SIZE=IO.reg(IO.CP.background_size),IO.BORDER_BOTTOM_LEFT_RADIUS=IO.reg(IO.CP.border_bottom_left_radius),IO.BORDER_BOTTOM_WIDTH=IO.reg(IO.CP.border_bottom_width),IO.BORDER_LEFT_STYLE=IO.reg(IO.CP.border_left_style),IO.BORDER_RIGHT_STYLE=IO.reg(IO.CP.border_right_style),IO.BORDER_TOP=IO.reg(IO.CP.border_top),IO.BOTTOM=IO.reg(IO.CP.bottom),IO.LIST_STYLE=IO.reg(IO.CP.list_style),IO.MARGIN_TOP=IO.reg(IO.CP.margin_top),IO.OUTLINE=IO.reg(IO.CP.outline),IO.OVERFLOW_Y=IO.reg(IO.CP.overflow_y),IO.PITCH=IO.reg(IO.CP.pitch),IO.VERTICAL_ALIGN=IO.reg(IO.CP.vertical_align),IO.WORD_SPACING=IO.reg(IO.CP.word_spacing),IO.BACKGROUND_IMAGE=IO.reg(IO.CP.background_image),IO.BORDER_BOTTOM_RIGHT_RADIUS=IO.reg(IO.CP.border_bottom_right_radius),IO.BORDER_LEFT_WIDTH=IO.reg(IO.CP.border_left_width),IO.BORDER_RIGHT_WIDTH=IO.reg(IO.CP.border_right_width),IO.LEFT=IO.reg(IO.CP.left),IO.MARGIN_BOTTOM=IO.reg(IO.CP.margin_bottom),IO.PAUSE_AFTER=IO.reg(IO.CP.pause_after),IO.SPEECH_RATE=IO.reg(IO.CP.speech_rate),IO.TRANSITION_DURATION=IO.reg(IO.CP.transition_duration),IO.BORDER_BOTTOM=IO.reg(IO.CP.border_bottom),IO.BORDER_RIGHT=IO.reg(IO.CP.border_right),IO.MARGIN=IO.reg(IO.CP.margin),IO.PADDING_LEFT=IO.reg(IO.CP.padding_left),IO.BORDER_LEFT=IO.reg(IO.CP.border_left),IO.FONT=IO.reg(IO.CP.font),IO.QUOTES=IO.reg(IO.CP.quotes),IO.BORDER_TOP_RIGHT_RADIUS=IO.reg(IO.CP.border_top_right_radius),IO.MIN_WIDTH=IO.reg(IO.CP.min_width);class NO{constructor(){this._autolink=!0,this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[IO.BACKFACE_VISIBILITY],background:[IO.BACKGROUND],"background-attachment":[IO.BACKGROUND_ATTACHMENT],"background-clip":[IO.BACKGROUND_CLIP],"background-color":[IO.BACKGROUND_COLOR],"background-image":[IO.BACKGROUND_IMAGE],"background-origin":[IO.BACKGROUND_ORIGIN],"background-position":[IO.BACKGROUND_POSITION],"background-repeat":[IO.BACKGROUND_REPEAT],"background-size":[IO.BACKGROUND_SIZE],border:[IO.BORDER],"border-bottom":[IO.BORDER_BOTTOM],"border-bottom-color":[IO.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[IO.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[IO.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[IO.BORDER_BOTTOM_STYLE],"border-bottom-width":[IO.BORDER_BOTTOM_WIDTH],"border-collapse":[IO.BORDER_COLLAPSE],"border-color":[IO.BORDER_COLOR],"border-left":[IO.BORDER_LEFT],"border-left-color":[IO.BORDER_LEFT_COLOR],"border-left-style":[IO.BORDER_LEFT_STYLE],"border-left-width":[IO.BORDER_LEFT_WIDTH],"border-radius":[IO.BORDER_RADIUS],"border-right":[IO.BORDER_RIGHT],"border-right-color":[IO.BORDER_RIGHT_COLOR],"border-right-style":[IO.BORDER_RIGHT_STYLE],"border-right-width":[IO.BORDER_RIGHT_WIDTH],"border-spacing":[IO.BORDER_SPACING],"border-style":[IO.BORDER_STYLE],"border-top":[IO.BORDER_TOP],"border-top-color":[IO.BORDER_TOP_COLOR],"border-top-left-radius":[IO.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[IO.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[IO.BORDER_TOP_STYLE],"border-top-width":[IO.BORDER_TOP_WIDTH],"border-width":[IO.BORDER_WIDTH],bottom:[IO.BOTTOM],box:[IO.BOX],"box-shadow":[IO.BOX_SHADOW],"box-sizing":[IO.BOX_SIZING],"caption-side":[IO.CAPTION_SIDE],clear:[IO.CLEAR],clip:[IO.CLIP],color:[IO.COLOR],cursor:[IO.CURSOR],direction:[IO.DIRECTION],display:[IO.DISPLAY],"display-inside":[IO.DISPLAY_INSIDE],"display-outside":[IO.DISPLAY_OUTSIDE],elevation:[IO.ELEVATION],"empty-cells":[IO.EMPTY_CELLS],float:[IO.FLOAT],font:[IO.FONT],"font-family":[IO.FONT_FAMILY],"font-size":[IO.FONT_SIZE],"font-stretch":[IO.FONT_STRETCH],"font-style":[IO.FONT_STYLE],"font-variant":[IO.FONT_VARIANT],"font-weight":[IO.FONT_WEIGHT],height:[IO.HEIGHT],left:[IO.LEFT],"letter-spacing":[IO.LETTER_SPACING],"line-height":[IO.LINE_HEIGHT],"list-style":[IO.LIST_STYLE],"list-style-image":[IO.LIST_STYLE_IMAGE],"list-style-position":[IO.LIST_STYLE_POSITION],"list-style-type":[IO.LIST_STYLE_TYPE],margin:[IO.MARGIN],"margin-bottom":[IO.MARGIN_BOTTOM],"margin-left":[IO.MARGIN_LEFT],"margin-right":[IO.MARGIN_RIGHT],"margin-top":[IO.MARGIN_TOP],"max-height":[IO.MAX_HEIGHT],"max-width":[IO.MAX_WIDTH],"min-height":[IO.MIN_HEIGHT],"min-width":[IO.MIN_WIDTH],opacity:[IO.OPACITY],outline:[IO.OUTLINE],"outline-color":[IO.OUTLINE_COLOR],"outline-style":[IO.OUTLINE_STYLE],"outline-width":[IO.OUTLINE_WIDTH],overflow:[IO.OVERFLOW],"overflow-wrap":[IO.OVERFLOW_WRAP],"overflow-x":[IO.OVERFLOW_X],"overflow-y":[IO.OVERFLOW_Y],padding:[IO.PADDING],"padding-bottom":[IO.PADDING_BOTTOM],"padding-left":[IO.PADDING_LEFT],"padding-right":[IO.PADDING_RIGHT],"padding-top":[IO.PADDING_TOP],"page-break-after":[IO.PAGE_BREAK_AFTER],"page-break-before":[IO.PAGE_BREAK_BEFORE],"page-break-inside":[IO.PAGE_BREAK_INSIDE],"pause-after":[IO.PAUSE_AFTER],perspective:[IO.PERSPECTIVE],pitch:[IO.PITCH],"pitch-range":[IO.PITCH_RANGE],position:[IO.POSITION],quotes:[IO.QUOTES],resize:[IO.RESIZE],richness:[IO.RICHNESS],right:[IO.RIGHT],speak:[IO.SPEAK],"speak-header":[IO.SPEAK_HEADER],"speak-numeral":[IO.SPEAK_NUMERAL],"speak-punctuation":[IO.SPEAK_PUNCTUATION],"speech-rate":[IO.SPEECH_RATE],stress:[IO.STRESS],"table-layout":[IO.TABLE_LAYOUT],"text-align":[IO.TEXT_ALIGN],"text-decoration":[IO.TEXT_DECORATION],"text-indent":[IO.TEXT_INDENT],"text-overflow":[IO.TEXT_OVERFLOW],"text-shadow":[IO.TEXT_SHADOW],"text-transform":[IO.TEXT_TRANSFORM],"text-wrap":[IO.TEXT_WRAP],top:[IO.TOP],"unicode-bidi":[IO.UNICODE_BIDI],"vertical-align":[IO.VERTICAL_ALIGN],visibility:[IO.VISIBILITY],volume:[IO.VOLUME],"white-space":[IO.WHITE_SPACE],width:[IO.WIDTH],"word-break":[IO.WORD_BREAK],"word-spacing":[IO.WORD_SPACING],"word-wrap":[IO.WORD_WRAP],"z-index":[IO.Z_INDEX],zoom:[IO.ZOOM]}},transformTags:{a:de().simpleTransform("a",{rel:"nofollow"}),input:de().simpleTransform("input",{disabled:"disabled"})},allowedSchemes:[...de().defaults.allowedSchemes],allowedSchemesByTag:{img:de().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return de()(e,{...this._options,...t||{}})}getAutolink(){return this._autolink}setAllowedSchemes(e){this._options.allowedSchemes=[...e]}setAutolink(e){this._autolink=e}}var LO,BO,$O=n(81008);class FO{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||LO.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}}!function(e){e.noOp=function(){}}(LO||(LO={}));class UO{constructor(e={}){var t,n,s,i,r,o;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=null!==(t=e.translator)&&void 0!==t?t:S,this.resolver=null!==(n=e.resolver)&&void 0!==n?n:null,this.linkHandler=null!==(s=e.linkHandler)&&void 0!==s?s:null,this.latexTypesetter=null!==(i=e.latexTypesetter)&&void 0!==i?i:null,this.markdownParser=null!==(r=e.markdownParser)&&void 0!==r?r:null,this.sanitizer=null!==(o=e.sanitizer)&&void 0!==o?o:new NO,e.initialFactories)for(const a of e.initialFactories)this.addFactory(a)}get mimeTypes(){return this._types||(this._types=BO.sortedTypes(this._ranks))}preferredMimeType(e,t="ensure"){if("ensure"===t||"prefer"===t)for(const n of this.mimeTypes)if(n in e&&this._factories[n].safe)return n;if("ensure"!==t)for(const n of this.mimeTypes)if(n in e)return n}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new FO(e)}clone(e={}){var t,n,s,i,r,o,a,l,c,u;const h=new UO({resolver:null!==(n=null!==(t=e.resolver)&&void 0!==t?t:this.resolver)&&void 0!==n?n:void 0,sanitizer:null!==(i=null!==(s=e.sanitizer)&&void 0!==s?s:this.sanitizer)&&void 0!==i?i:void 0,linkHandler:null!==(o=null!==(r=e.linkHandler)&&void 0!==r?r:this.linkHandler)&&void 0!==o?o:void 0,latexTypesetter:null!==(l=null!==(a=e.latexTypesetter)&&void 0!==a?a:this.latexTypesetter)&&void 0!==l?l:void 0,markdownParser:null!==(u=null!==(c=e.markdownParser)&&void 0!==c?c:this.markdownParser)&&void 0!==u?u:void 0,translator:this.translator});return h._factories={...this._factories},h._ranks={...this._ranks},h._id=this._id,h}getFactory(e){return this._factories[e]}addFactory(e,t){void 0===t&&void 0===(t=e.defaultRank)&&(t=100);for(const n of e.mimeTypes)this._factories[n]=e,this._ranks[n]={rank:t,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){const t=this._ranks[e];return t&&t.rank}setRank(e,t){if(!this._ranks[e])return;const n=this._id++;this._ranks[e]={rank:t,id:n},this._types=null}}!function(e){e.UrlResolver=class{constructor(e){this._path=e.path,this._contents=e.contents}get path(){return this._path}set path(e){this._path=e}async resolveUrl(e){if(this.isLocal(e)){const t=encodeURI($O.PathExt.dirname(this.path));e=$O.PathExt.resolve(t,e)}return e}async getDownloadUrl(e){return this.isLocal(e)?this._contents.getDownloadUrl(decodeURIComponent(e)):e}isLocal(e){return!this.isMalformed(e)&&($O.URLExt.isLocal(e)||!!this._contents.driveName(decodeURI(e)))}isMalformed(e){try{return decodeURI(e),!1}catch(Hn){if(Hn instanceof URIError)return!0;throw Hn}}}}(UO||(UO={})),function(e){e.sortedTypes=function(e){return Object.keys(e).sort(((t,n)=>{const s=e[t],i=e[n];return s.rank!==i.rank?s.rank-i.rank:s.id-i.id}))}}(BO||(BO={}));const zO="$",VO=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function qO(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}function HO(e){let{host:t,source:n,trusted:s,sanitizer:i,resolver:r,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=e;c=c||S;const u=null==c?void 0:c.load("jupyterlab");let h,d=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(d=`${n}`,n=i.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)YO.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=d,YO.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return YO.handleDefaults(t,r),h=r?YO.handleUrls(t,r,o):Promise.resolve(void 0),h.then((()=>{a&&l&&l.typeset(t)}))}async function WO(e){const{host:t,source:n,markdownParser:s,...i}=e;if(!n)return void(t.textContent="");let r="";if(s){const e=function(e){const t=[];let n,s=null,i=null,r=null,o=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":zO))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(VO);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=qO(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=qO(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:e===zO||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=qO(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(n);r=await s.render(e.text),o=r,a=e.math,r=o.replace(/@@(\d+)@@/g,((e,t)=>{let n=a[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}else r=`<pre>${n}</pre>`;var o,a;await HO({host:t,source:r,...i}),YO.headerAnchors(t)}function KO(e,t){var n,s;const i=e.cloneNode();i.textContent=null===(n=e.textContent)||void 0===n?void 0:n.slice(0,t);const r=e.cloneNode();return r.textContent=null===(s=e.textContent)||void 0===s?void 0:s.slice(t),{pre:i,post:r}}function*GO(e){var t;let n,s=0;for(let i of e)n=s+((null===(t=i.textContent)||void 0===t?void 0:t.length)||0),yield{node:i,start:s,end:n,isText:i.nodeType===Node.TEXT_NODE},s=n}function JO(e){var t,n;const{host:s,sanitizer:i,source:r}=e,o=i.sanitize(YO.ansiSpan(r),{allowedTags:["span"]}),a=document.createElement("pre"),l=document.createElement("pre");l.innerHTML=o;const c=l.textContent;if(c){const e=null===(n=null===(t=i.getAutolink)||void 0===t?void 0:t.call(i))||void 0===n||n?function(e){const t="\\u0000-\\u0020\\u007f-\\u009f",n=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?]","ug"),s=[];let i,r=0;for(;null!=(i=n.exec(e));){i.index!==r&&s.push(document.createTextNode(e.slice(r,i.index)));let t=i[0];const n=t.slice(-1),o=-1!==[">","<"].indexOf(n)?t.length-1:t.length,a=document.createElement("a");t=t.slice(0,o),a.href=t.startsWith("www.")?"https://"+t:t,a.rel="noopener",a.target="_blank",a.appendChild(document.createTextNode(t.slice(0,o))),s.push(a),r=i.index+o}return r!==e.length&&s.push(document.createTextNode(e.slice(r,e.length))),s}(c):[document.createTextNode(o)];let s=!1;const r=[],u=Array.from(l.childNodes);for(let t of function*(e,t){var n,s;let i=GO(e),r=GO(t),o=i.next(),a=r.next();for(;!o.done&&!a.done;){let e=o.value,t=a.value;if(e.isText&&e.start<=t.start&&e.end>=t.end)yield[null,t.node],a=r.next();else if(t.isText&&t.start<=e.start&&t.end>=e.end)yield[e.node,null],o=i.next();else if(e.end===t.end&&e.start===t.start)yield[e.node,t.node],o=i.next(),a=r.next();else if(e.end>t.end){let{pre:s,post:i}=KO(e.node,t.end-e.start);t.start<e.start&&(t.node.textContent=null===(n=t.node.textContent)||void 0===n?void 0:n.slice(e.start-t.start)),yield[s,t.node],e.node=i,e.start=t.end,a=r.next()}else{if(!(t.end>e.end))throw new Error(`Unexpected intersection: ${JSON.stringify(e)} ${JSON.stringify(t)}`);{let{pre:n,post:r}=KO(t.node,e.end-t.start);e.start<t.start&&(e.node.textContent=null===(s=e.node.textContent)||void 0===s?void 0:s.slice(t.start-e.start)),yield[e.node,n],t.node=r,t.start=e.end,o=i.next()}}}}(u,e)){if(!t[0]){r.push(t[1]),s=t[1].nodeType!==Node.TEXT_NODE;continue}if(!t[1]){r.push(t[0]),s=!1;continue}let[e,n]=t;const i=r[r.length-1];if(s&&n.href===i.href)i.appendChild(e);else{n.nodeType!==Node.TEXT_NODE?(n.textContent="",n.appendChild(e),r.push(n),s=!0):(r.push(e),s=!1)}}for(const t of r)a.appendChild(t)}return s.appendChild(a),Promise.resolve(void 0)}var YO;!function(e){e.createHeaderId=function(e){var t;return(null!==(t=e.textContent)&&void 0!==t?t:"").replace(/ /g,"-")}}(WO||(WO={})),function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",i=n.isLocal?n.isLocal(s):$O.URLExt.isLocal(s);if(s&&i)try{const i=await n.resolveUrl(s);let r=await n.getDownloadUrl(i);"data:"!==$O.URLExt.parse(r).protocol&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime()),e.setAttribute(t,r)}catch(r){throw e.setAttribute(t,""),r}}function n(e,t,n){let s=e.getAttribute("href")||"";const i=t.isLocal?t.isLocal(s):$O.URLExt.isLocal(s);if(!s||!i)return Promise.resolve(void 0);const r=e.hash;if(r){if(r===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(r,"")}return t.resolveUrl(s).then((s=>{const i=decodeURIComponent(s);return n&&n.handleLink(e,i,r),t.getDownloadUrl(s)})).then((t=>{e.href=t+r})).catch((t=>{e.href=""}))}e.evalInnerHTMLScriptTags=function(e){const t=Array.from(e.getElementsByTagName("script"));for(const n of t){if(!n.parentNode)continue;const e=document.createElement("script"),t=n.attributes;for(let n=0,s=t.length;n<s;++n){const{name:s,value:i}=t[n];e.setAttribute(s,i)}e.textContent=n.textContent,n.parentNode.replaceChild(e,n)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let i=0;i<n.length;i++){const e=n[i];if(!(e instanceof HTMLAnchorElement))continue;const s=e.href,r=t&&t.isLocal?t.isLocal(s):$O.URLExt.isLocal(s);e.target||(e.target=r?"_self":"_blank"),r||(e.rel="noopener")}const s=e.getElementsByTagName("img");for(let i=0;i<s.length;i++)s[i].alt||(s[i].alt="Image")},e.handleUrls=function(e,s,i){const r=[],o=e.querySelectorAll("*[src]");for(let n=0;n<o.length;n++)r.push(t(o[n],"src",s));const a=e.getElementsByTagName("a");for(let t=0;t<a.length;t++)r.push(n(a[t],s,i));const l=e.getElementsByTagName("link");for(let n=0;n<l.length;n++)r.push(t(l[n],"href",s));return Promise.all(r).then((()=>{}))},e.headerAnchors=function(e){const t=["h1","h2","h3","h4","h5","h6"];for(const n of t){const t=e.getElementsByTagName(n);for(let e=0;e<t.length;e++){const n=t[e];n.id=WO.createHeaderId(n);const s=document.createElement("a");s.target="_self",s.textContent="\xb6",s.href="#"+n.id,s.classList.add("jp-InternalAnchorLink"),n.appendChild(s)}}};const s=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function i(e,t,n,i,r,o,a){if(e){const l=[],c=[];i&&"number"==typeof t&&0<=t&&t<8&&(t+=8),o&&([t,n]=[n,t]),"number"==typeof t?l.push(s[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):o&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(s[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):o&&l.push("ansi-default-inverse-bg"),i&&l.push("ansi-bold"),r&&l.push("ansi-underline"),l.length||c.length?(a.push("<span"),l.length&&a.push(` class="${l.join(" ")}"`),c.length&&a.push(` style="${c.join("; ")}"`),a.push(">"),a.push(e),a.push("</span>")):a.push(e)}}function r(e){let t,n,s;const i=e.shift();if(2===i&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===i&&e.length>=1))throw new RangeError("Invalid extended color specification");{const i=e.shift();if(i<0)throw new RangeError("Color index must be >= 0");if(i<16)return i;if(i<232)t=Math.floor((i-16)/36),t=t>0?55+40*t:0,n=Math.floor((i-16)%36/6),n=n>0?55+40*n:0,s=(i-16)%6,s=s>0?55+40*s:0;else{if(!(i<256))throw new RangeError("Color index must be < 256");t=n=s=10*(i-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],o=[],a=!1,l=!1,c=!1;const u=[],h=[];let d=0;for(e=M()(e),e+="\x1b[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)h.push(0);else{if(-1===n.search(/^\d+$/)){h.length=0;break}h.push(parseInt(n,10))}}}for(i(e.substring(d,n.index),s,o,a,l,c,u),d=t.lastIndex;h.length;){const e=h.shift();switch(e){case 0:s=o=[],a=!1,l=!1,c=!1;break;case 1:case 5:a=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:a=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=r(h)}catch(rU){h.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:o=e-40;break;case 48:try{o=r(h)}catch(rU){h.length=0}break;case 49:o=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:o=e-100+8}}}return u.join("")}}(YO||(YO={}));class XO extends E.Widget{constructor(e){var t,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=null!==(t=e.translator)&&void 0!==t?t:S,this.latexTypesetter=e.latexTypesetter,this.markdownParser=null!==(n=e.markdownParser)&&void 0!==n?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}}class ZO extends XO{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let t;try{t=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(Hn){console.warn("Unable to set URI fragment identifier.",Hn)}t&&t.scrollIntoView()}}class QO extends ZO{constructor(e){super(e),this.addClass("jp-RenderedHTML")}render(e){return HO({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class eM extends XO{constructor(e){super(e),this.addClass("jp-RenderedLatex")}render(e){return function(e){const{host:t,source:n,shouldTypeset:s,latexTypesetter:i}=e;return t.textContent=n,s&&i&&i.typeset(t),Promise.resolve(void 0)}({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class tM extends XO{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return function(e){const{host:t,mimeType:n,source:s,width:i,height:r,needsBackground:o,unconfined:a}=e;t.textContent="";const l=document.createElement("img");return l.src=`data:${n};base64,${s}`,"number"==typeof r&&(l.height=r),"number"==typeof i&&(l.width=i),"light"===o?l.classList.add("jp-needs-light-background"):"dark"===o&&l.classList.add("jp-needs-dark-background"),!0===a&&l.classList.add("jp-mod-unconfined"),t.appendChild(l),Promise.resolve(void 0)}({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}class nM extends ZO{constructor(e){super(e),this.addClass("jp-RenderedMarkdown")}render(e){return WO({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class sM extends XO{constructor(e){super(e),this.addClass("jp-RenderedSVG")}render(e){const t=e.metadata[this.mimeType];return function(e){let{host:t,source:n,trusted:s,unconfined:i}=e;if(!n)return t.textContent="",Promise.resolve(void 0);if(!s)return t.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);n.search("<svg[^>]+xmlns=[^>]+svg")<0&&(n=n.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));const r=new Image;return r.src=`data:image/svg+xml,${encodeURIComponent(n)}`,t.appendChild(r),!0===i&&t.classList.add("jp-mod-unconfined"),Promise.resolve()}({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:t&&t.unconfined,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class iM extends XO{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return JO({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}class rM extends XO{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){const t=this.translator.load("jupyterlab");return JO({host:this.node,sanitizer:this.sanitizer,source:t.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}const oM={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:e=>new QO(e)},aM={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new tM(e)},lM={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:e=>new eM(e)},cM={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:e=>new nM(e)},uM={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:e=>new sM(e)},hM={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:e=>new iM(e)},dM={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:e=>new rM(e)},pM=[oM,cM,lM,uM,aM,dM,hM];var fM=n(67822),gM=n(18446),mM=n.n(gM);function _M(e,t){return e.filter((e=>-1===t.indexOf(e)))}function vM(e,t){return mM()(e,t)}const bM=Object.assign||function(e,...t){for(let n=1;n<t.length;n++){const s=t[n];for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e};function yM(){return _.UUID.uuid4()}function wM(e){const t=Object.keys(e),n=[];return t.forEach((function(t){n.push(e[t])})),Promise.all(n).then((e=>{const n={};for(let s=0;s<t.length;s++)n[t[s]]=e[s];return n}))}function xM(e,t){return function(n){throw t&&console.error(new Error(e)),n}}function SM(e,t,n){for(let s=0;s<t.length;s++){const i=t[s];let r=n[s];r instanceof DataView||(r=new DataView(r instanceof ArrayBuffer?r:r.buffer));let o=e;for(let e=0;e<i.length-1;e++)o=o[i[e]];o[i[i.length-1]]=r}}function CM(e){var t;return null!==(t="object"==typeof e&&e&&"toJSON"in e)&&void 0!==t&&t}function kM(e){return _.JSONExt.isObject(e)}function EM(e){const t=[],n=[];const s=function e(s,i){if(CM(s)&&(s=s.toJSON()),Array.isArray(s)){let r=!1;for(let o=0;o<s.length;o++){const a=s[o];if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))r||(s=s.slice(),r=!0),t.push(ArrayBuffer.isView(a)?a.buffer:a),n.push(i.concat([o])),s[o]=null;else{const t=e(a,i.concat([o]));t!==a&&(r||(s=s.slice(),r=!0),s[o]=t)}}}else if(kM(s))for(const r in s){let o=!1;if(Object.prototype.hasOwnProperty.call(s,r)){const a=s[r];if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))o||(s=Object.assign({},s),o=!0),t.push(ArrayBuffer.isView(a)?a.buffer:a),n.push(i.concat([r])),delete s[r];else{const t=e(a,i.concat([r]));t!==a&&(o||(s=Object.assign({},s),o=!0),s[r]=t)}}}return s}(e,[]);return{state:s,buffers:t,buffer_paths:n}}const OM='<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\n<g >\n  <g transform="translate(0.24520123,0.93464292)">\n    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />\n    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />\n    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />\n  </g>\n</g>\n</svg>';function MM(e,t,n){if(null==e)return this;let s;if(_.JSONExt.isObject(e)?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;const i=n.unset,r=n.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});const e=this.attributes,l=this.changed,c=this._previousAttributes;for(const n in s)t=s[n],vM(e[n],t)||o.push(n),vM(c[n],t)?delete l[n]:l[n]=t,i?delete e[n]:e[n]=t;if(this.id=this.get(this.idAttribute),!r){o.length&&(this._pending=n);for(let t=0;t<o.length;t++)this.trigger("change:"+o[t],this,e[o[t]],n)}if(a)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n)}finally{this._pending=!1,this._changing=!1}return this}var TM=n(72316),DM=n(19755),PM=n.n(DM);const AM="undefined"!=typeof Element?Element.prototype:void 0;function RM(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1}const jM=AM&&(AM.matches||AM.webkitMatchesSelector||AM.mozMatchesSelector||AM.msMatchesSelector||AM.oMatchesSelector)||RM;class IM extends TM.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(const t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])}delegate(e,t,n){"string"!=typeof t&&(n=t,t=null),void 0===this._domEvents&&(this._domEvents=[]);const s=this.el,i=t?function(e){let i=e.target||e.srcElement;for(;i&&i!==s;i=i.parentNode)if(jM.call(i,t))return e.delegateTarget=i,n.handleEvent?n.handleEvent(e):n(e)}:n;return this.el.addEventListener(e,i,!1),this._domEvents.push({eventName:e,handler:i,listener:n,selector:t}),i}undelegate(e,t,n){if("function"==typeof t&&(n=t,t=null),this.el&&this._domEvents){const s=this._domEvents.slice();let i=s.length;for(;i--;){const r=s[i];!(r.eventName!==e||n&&r.listener!==n||t&&r.selector!==t)&&(this.el.removeEventListener(r.eventName,r.handler,!1),this._domEvents.splice(i,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){const e=this._domEvents.length;for(let t=0;t<e;t++){const e=this._domEvents[t];this.el.removeEventListener(e.eventName,e.handler,!1)}this._domEvents.length=0}return this}}var NM;function LM(e){return"function"==typeof e.iter?e.iter():new $M(e)}function BM(e,t){for(var n,s=0,i=LM(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}!function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(NM||(NM={}));var $M=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();function FM(){return new UM}var UM=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var zM;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=zM.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(zM||(zM={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();var VM=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var qM;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(qM||(qM={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();var HM,WM=function(){function e(e){this._root=new HM.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=HM.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=HM.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return HM.iterItems(this._root)},e.prototype.retro=function(){return HM.retroItems(this._root)},e.prototype.slice=function(e,t){return HM.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return HM.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return HM.itemAt(this._root,e)},e.prototype.has=function(e,t){return HM.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return HM.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return HM.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=HM.insertItem(this._root,e,this.cmp);return this._root=HM.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;BM(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=HM.deleteItem(this._root,e,t);return this._root=HM.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=HM.removeItem(this._root,e);return this._root=HM.maybeExtractRoot(this._root),t},e.prototype.clear=function(){HM.clear(this._root),this._root=new HM.LeafNode},e}();!function(e){e.from=function(t,n){var s=new e(n);return s.assign(t),s}}(WM||(WM={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function s(e){for(;0===e.type;)e=e.children[0];return e}function i(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}function r(e){0===e.type?(BM(e.children,r),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.LeafNode=n,e.firstLeaf=s,e.lastLeaf=i,e.iterItems=function(e){var t=s(e);return new l(t,0,-1)},e.retroItems=function(e){var t=i(e);return new c(t,t.size-1,-1)},e.sliceItems=function(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var s=Math.max(0,n-t);if(0===s)return FM();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new l(e,t,s)},e.retroSliceItems=function(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var s=Math.max(0,t-n);if(0===s)return FM();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new c(e,t,s)},e.itemAt=function(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){for(;0===e.type;){var n=u(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}},e.hasItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}return d(e.items,t,n)>=0},e.indexOf=function(e,t,n){for(var s=0;0===e.type;){var i=h(e.items,t,n);i>0&&(s+=e.sizes[i-1]),e=e.children[i]}var r=d(e.items,t,n);return r>=0?s+r:-s+r},e.getItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}var i=d(e.items,t,n);return i>=0?e.items[i]:void 0},e.insertItem=function e(t,n,s){if(1===t.type){var i,r=d(t.items,n,s);return r>=0?(i=t.items[r],t.items[r]=n):(i=void 0,NM.insert(t.items,-r-1,n)),i}var a=h(t.items,n,s),l=t.children[a],c=l.size,u=e(l,n,s),g=l.size;if(t.items[a]=l.items[0],c===g)return u;if(l.width>o){var m=f(l);NM.insert(t.children,a+1,m),NM.insert(t.items,a+1,m.items[0])}return p(t,a),u},e.deleteItem=function e(t,n,s){if(1===t.type){var i=d(t.items,n,s);if(i<0)return;return NM.removeAt(t.items,i)}var r=h(t.items,n,s),o=t.children[r],l=o.size,c=e(o,n,s);return l===o.size||(t.items[r]=o.items[0],o.width<a&&(r=g(t,r)),p(t,r)),c},e.removeItem=function e(t,n){if(n<0&&(n+=t.size),!(n<0||n>=t.size)){if(1===t.type)return NM.removeAt(t.items,n);var s=u(t.sizes,n);s>0&&(n-=t.sizes[s]);var i=t.children[s],r=e(i,n);return t.items[s]=i.items[0],i.width<a&&(s=g(t,s)),p(t,s),r}},e.clear=r,e.maybeSplitRoot=function(e){if(e.width<=o)return e;var n=new t,s=f(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+s.size,n.children[0]=e,n.children[1]=s,n.items[0]=e.items[0],n.items[1]=s.items[0],n},e.maybeExtractRoot=function(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return r(e),t};var o=32,a=o>>1,l=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),c=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function u(e,t){for(var n=e.length,s=0;s<n;++s)if(e[s]>t)return s;return n-1}function h(e,t,n){for(var s=e.length,i=1;i<s;++i)if(n(e[i],t)>0)return i-1;return s-1}function d(e,t,n){for(var s=e.length,i=0;i<s;++i){var r=n(e[i],t);if(0===r)return i;if(r>0)return-i-1}return-s-1}function p(e,t){for(var n=e.sizes,s=e.children,i=t>0?n[t-1]:0,r=s.length;t<r;++t)i=n[t]=i+s[t].size;n.length=s.length}function f(e){if(1===e.type){for(var s=new n,i=e.items,r=s.items,o=a,l=i.length;o<l;++o)r.push(i[o]);return i.length=a,e.next&&(e.next.prev=s),s.next=e.next,s.prev=e,e.next=s,s}var c=new t,u=e.children,h=c.children;for(o=a,l=u.length;o<l;++o)h.push(u[o]);u.length=a;var d=e.items,f=c.items;for(o=a,l=d.length;o<l;++o)f.push(d[o]);return d.length=a,p(e,a),p(c,0),c}function g(e,t){var n,s,i,o,l,c,u=e.children[t],h=0===t?e.children[t+1]:e.children[t-1],d=0===t,f=1===u.type,g=h.width>a;if(f&&g&&d){var m=h;return(_=u).items.push(m.items.shift()),e.items[t+1]=m.items[0],t}if(f&&g&&!d){m=h;return(_=u).items.unshift(m.items.pop()),e.items[t]=_.items[0],t-1}if(f&&!g&&d){var _=u;return(n=(m=h).items).unshift.apply(n,_.items),NM.removeAt(e.children,t),NM.removeAt(e.items,t+1),_.prev&&(_.prev.next=m),m.prev=_.prev,r(_),t}if(f&&!g&&!d){_=u;return(s=(m=h).items).push.apply(s,_.items),NM.removeAt(e.children,t),NM.removeAt(e.items,t),_.next&&(_.next.prev=m),m.next=_.next,r(_),t-1}if(!f&&g&&d){m=h;return(_=u).children.push(m.children.shift()),_.items.push(m.items.shift()),e.items[t+1]=m.items[0],p(_,_.width-1),p(m,0),t}if(!f&&g&&!d){m=h;return(_=u).children.unshift(m.children.pop()),_.items.unshift(m.items.pop()),e.items[t]=_.items[0],p(_,0),p(m,m.width-1),t-1}if(!f&&!g&&d){_=u;return(i=(m=h).children).unshift.apply(i,_.children),(o=m.items).unshift.apply(o,_.items),NM.removeAt(e.children,t),NM.removeAt(e.items,t+1),p(m,0),_.children.length=0,r(_),t}if(!f&&!g&&!d){_=u;return(l=(m=h).children).push.apply(l,_.children),(c=m.items).push.apply(c,_.items),NM.removeAt(e.children,t),NM.removeAt(e.items,t),p(m,0),_.children.length=0,r(_),t-1}throw"unreachable"}}(HM||(HM={}));var KM,GM=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),BM(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new KM.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new KM.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof KM.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new KM.LinkedListNode(this,e),s=t,i=s.prev;return n.next=s,n.prev=i,s.prev=n,i.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof KM.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new KM.LinkedListNode(this,e),s=t,i=s.next;return n.next=i,n.prev=s,s.next=n,i.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof KM.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();!function(e){e.from=function(t){var n=new e;return n.assign(t),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var s=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=s;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=i}(GM||(GM={})),function(e){var t=function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t};e.LinkedListNode=t}(KM||(KM={}));var JM=function(e,t){return JM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},JM(e,t)};var YM;!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}JM(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0}}(function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}());!function(e){function t(e,t){var n=s.get(e);if(n&&0!==n.length){var i,o=function(e,t){for(var n,s=0,i=LM(e);void 0!==(n=i.next());)if(!t(n,s++))return!1;return!0}("function"==typeof(i=n).retro?i.retro():new VM(i),(function(n){return!n||function(e,t,n){var s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){r(i)}return s}(n,e,t)}));o&&u(e,t)}else u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){if(t.isConflatable){var s=function(e,t){for(var n,s=0,i=LM(e);void 0!==(n=i.next());)if(t(n,s++))return!0;return!1}(n,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));s||h(e,t)}else h(e,t)},e.installMessageHook=function(e,t){var n=s.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):s.set(e,[t]))},e.removeMessageHook=function(e,t){var n=s.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(n))}},e.clearData=function(e){var t=s.get(e);t&&t.length>0&&(NM.fill(t,null),p(t)),BM(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){a||0===o||(c(o),a=!0,d(),a=!1)},e.getExceptionHandler=function(){return r},e.setExceptionHandler=function(e){var t=r;return r=e,t};var n=new GM,s=new WeakMap,i=new Set,r=function(e){console.error(e)},o=0,a=!1,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,c="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(n){r(n)}}function h(e,t){n.addLast({handler:e,msg:t}),0===o&&(o=l(d))}function d(){if(o=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var s=n.removeFirst();if(s===e)return;s.handler&&s.msg&&t(s.handler,s.msg)}}}function p(e){0===i.size&&l(f),i.add(e)}function f(){i.forEach(g),i.clear()}function g(e){NM.removeAllWhere(e,m)}function m(e){return null===e}}(YM||(YM={}));const XM="2.0.0",ZM="2.1.0",QM="IPY_MODEL_";function eT(e,t){if(Array.isArray(e)){const n=[];for(const s of e)n.push(eT(s,t));return Promise.all(n)}if(e instanceof Object&&"string"!=typeof e){const n={};for(const[s,i]of Object.entries(e))n[s]=eT(i,t);return wM(n)}return"string"==typeof e&&e.slice(0,10)===QM?t.get_model(e.slice(10,e.length)):Promise.resolve(e)}function tT(e,t){if(Array.isArray(e)){const n=[];for(const s of e)n.push(tT(s,t));return n}if(e instanceof nT)return`${QM}${e.model_id}`;if(!(e instanceof Object&&"string"!=typeof e))return e;{const n={};for(const[s,i]of Object.entries(e))n[s]=tT(i,t)}}class nT extends TM.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:XM,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:XM,_view_count:null}}isNew(){return!1}initialize(e,t){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,t),this.widget_manager=t.widget_manager,this.model_id=t.model_id;const n=t.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},n?(this.comm=n,n.on_close(this._handle_comm_closed.bind(this)),n.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,t,n){if(void 0!==this.comm){const s={method:"custom",content:e};this.comm.send(s,t,{},n)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){const e=Object.keys(this.views).map((e=>this.views[e].then((e=>e.remove()))));return delete this.views,Promise.all(e).then((()=>{}))}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){const t=e.content.data,n=t.method;switch(n){case"update":case"echo_update":return this.state_change=this.state_change.then((()=>{var s,i,r;const o=t.state,a=null!==(s=t.buffer_paths)&&void 0!==s?s:[],l=null!==(r=null===(i=e.buffers)||void 0===i?void 0:i.slice(0,a.length))&&void 0!==r?r:[];if(SM(o,a,l),e.parent_header&&"echo_update"===n){const t=e.parent_header.msg_id;Object.keys(o).filter((e=>this._expectedEchoMsgIds.has(e))).forEach((e=>{this._expectedEchoMsgIds.get(e)!==t?delete o[e]:(this._expectedEchoMsgIds.delete(e),null!==this._msg_buffer&&Object.prototype.hasOwnProperty.call(this._msg_buffer,e)&&delete o[e])}))}return this.constructor._deserialize_state(o,this.widget_manager)})).then((e=>{this.set_state(e)})).catch(xM(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",t.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(rU){console.error(`Error setting state: ${rU instanceof Error?rU.message:rU}`)}finally{this._state_lock=null}}get_state(e){const t=this.attributes;if(e){const e=this.defaults,n="function"==typeof e?e.call(this):e,s={};return Object.keys(t).forEach((e=>{vM(t[e],n[e])||(s[e]=t[e])})),s}return Object.assign({},t)}_handle_status(e){if(void 0!==this.comm&&"idle"===e.content.execution_state&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),null!==this._msg_buffer&&this._pending_msgs<1)){const e=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(e),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,t,n){const s=MM.call(this,e,t,n);if(void 0!==this._buffered_state_diff){const e=this.changedAttributes()||{};if(this._state_lock)for(const t of Object.keys(this._state_lock))e[t]===this._state_lock[t]&&delete e[t];if(this._buffered_state_diff_synced)for(const t of Object.keys(this._buffered_state_diff_synced))e[t]===this._buffered_state_diff_synced[t]&&delete e[t];this._buffered_state_diff=bM(this._buffered_state_diff,e)}return!1===this._changing&&(this._buffered_state_diff_synced={}),s}sync(e,t,n={}){if(void 0===this.comm)throw"Syncing error: no comm channel defined";const s="patch"===e?n.attrs:t.get_state(n.drop_defaults);if(this._state_lock)for(const r of Object.keys(this._state_lock))s[r]===this._state_lock[r]&&delete s[r];Object.keys(s).forEach((e=>{this._attrsToUpdate.add(e)}));const i=this.serialize(s);if(Object.keys(i).length>0){const t=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=bM(this._msg_buffer||{},i);break;case"update":case"create":this._msg_buffer=i;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=t}else{const e=this.send_sync_message(s,t);this.rememberLastUpdateFor(e)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach((t=>{this._expectedEchoMsgIds.set(t,e)})),this._attrsToUpdate=new Set}serialize(e){const t=this.constructor.serializers||_.JSONExt.emptyObject;for(const n of Object.keys(e))try{t[n]&&t[n].serialize?e[n]=t[n].serialize(e[n],this):e[n]=JSON.parse(JSON.stringify(e[n])),e[n]&&e[n].toJSON&&(e[n]=e[n].toJSON())}catch(rU){throw console.error("Error serializing widget state attribute: ",n),rU}return e}send_sync_message(e,t={}){if(!this.comm)return"";try{const n=(t={shell:Object.assign({},t.shell),iopub:Object.assign({},t.iopub),input:t.input}).iopub.status;t.iopub.status=e=>{this._handle_status(e),n&&n(e)};const s=EM(e),i=this.comm.send({method:"update",state:s.state,buffer_paths:s.buffer_paths},t,{},s.buffers);return this._pending_msgs++,i}catch(rU){console.error("Could not send widget sync message",rU)}return""}save_changes(e){if(this.comm_live){const t={patch:!0};e&&(t.callbacks=e),this.save(this._buffered_state_diff,t),this._changing&&bM(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,t,n){this.on("change",((...s)=>{e.some(this.hasChanged,this)&&t.apply(n,s)}),this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,t){const n=this.serializers;let s;if(n){s={};for(const i in e)n[i]&&n[i].deserialize?s[i]=n[i].deserialize(e[i],t):s[i]=e[i]}else s=e;return wM(s)}}class sT extends nT{defaults(){return bM(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}}sT.serializers=Object.assign(Object.assign({},nT.serializers),{layout:{deserialize:eT},style:{deserialize:eT}});class iT extends IM{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",((e,t)=>{const n=Object.keys(this.model.changedAttributes()||{});"_view_count"===n[0]&&1===n.length||this.update(t)})),this.options=e.options,this.once("remove",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())})),this.once("displayed",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())})),this.displayed=new Promise(((e,t)=>{this.once("displayed",e),this.model.on("msg:custom",this.handle_message.bind(this))}))}handle_message(e){"focus"===e.do?this.el.focus():"blur"===e.do&&this.el.blur()}update(e){}render(){}create_child_view(e,t={}){return t=Object.assign({parent:this},t),this.model.widget_manager.create_view(e,t).catch(xM("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,t){this.model.send(e,this.callbacks(),t)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}}class rT extends E.Widget{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}}const oT=rT;class aT extends E.Panel{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),null===(e=this._view)||void 0===e||e.remove(),this._view=null)}}class lT extends iT{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",((e,t)=>{const n=e.previous("_dom_classes");this.update_classes(n,t)})),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",((e,t)=>{this.setLayout(t,e.previous("layout"))})),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",((e,t)=>{this.setStyle(t,e.previous("style"))})),this.displayed.then((()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))})),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",(()=>{this._comm_live_update()})),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,t){e&&(this.layoutPromise=this.layoutPromise.then((t=>(t&&(t.unlayout(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.listenTo(e.model,"change",(()=>{YM.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize)})),YM.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize),this.trigger("layout-changed"),e))))).catch(xM("Could not add LayoutView to DOMWidgetView",!0))))))}setStyle(e,t){e&&(this.stylePromise=this.stylePromise.then((t=>(t&&(t.unstyle(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.trigger("style-changed"),e))))).catch(xM("Could not add styleView to DOMWidgetView",!0))))))}updateTooltip(){const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,t,n){void 0===n&&(n=this.el),_M(e,t).map((function(e){n.classList?n.classList.remove(e):n.setAttribute("class",n.getAttribute("class").replace(e,""))})),_M(t,e).map((function(e){n.classList?n.classList.add(e):n.setAttribute("class",n.getAttribute("class").concat(" ",e))}))}update_mapped_classes(e,t,n){let s=this.model.previous(t);const i=e[s]?e[s]:[];s=this.model.get(t);const r=e[s]?e[s]:[];this.update_classes(i,r,n||this.el)}set_mapped_classes(e,t,n){const s=this.model.get(t),i=e[s]?e[s]:[];this.update_classes([],i,n||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof PM()?e:PM()(e),this.el=this.$el[0],this.luminoWidget=new rT({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown")}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){const e=this.model.get("tabbable");!0===e?this.el.setAttribute("tabIndex","0"):!1===e?this.el.setAttribute("tabIndex","-1"):null===e&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}}const cT={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null};class uT extends nT{defaults(){return bM(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},cT)}}class hT extends iT{initialize(e){this._traitNames=[],super.initialize(e);for(const t of Object.keys(cT))this.registerTrait(t)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,((t,n)=>{this.handleChange(e,n)})),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,t){const n=this.options.parent;n?null===t?n.el.style.removeProperty(this.css_name(e)):n.el.style.setProperty(this.css_name(e),t):console.warn("Style not applied because a parent view does not exist")}unlayout(){const e=this.options.parent;this._traitNames.forEach((t=>{e?e.el.style.removeProperty(this.css_name(t)):console.warn("Style not removed because a parent view does not exist")}),this)}}class dT extends nT{defaults(){const e=this.constructor;return bM(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce(((t,n)=>(t[n]=e.styleProperties[n].default,t)),{}))}}dT.styleProperties={};class pT extends iT{initialize(e){this._traitNames=[],super.initialize(e);const t=this.model.constructor;for(const n of Object.keys(t.styleProperties))this.registerTrait(n);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,((t,n)=>{this.handleChange(e,n)}))}handleChange(e,t){const n=this.options.parent;if(n){const s=this.model.constructor.styleProperties,i=s[e].attribute,r=s[e].selector,o=r?n.el.querySelectorAll(r):[n.el];if(null===t)for(let e=0;e!==o.length;++e)o[e].style.removeProperty(i);else for(let e=0;e!==o.length;++e)o[e].style.setProperty(i,t)}else console.warn("Style not applied because a parent view does not exist")}style(){for(const e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){const e=this.options.parent,t=this.model.constructor.styleProperties;this._traitNames.forEach((n=>{if(e){const s=t[n].attribute,i=t[n].selector,r=i?e.el.querySelectorAll(i):[e.el];for(let e=0;e!==r.length;++e)r[e].style.removeProperty(s)}else console.warn("Style not removed because a parent view does not exist")}),this)}}var fT;!function(e){let t;!function(e){e.CommManager=class{constructor(e){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(e)}init_kernel(e){this.kernel=e,this.jsServicesKernel=e}async new_comm(e,n,s,i,r,o){const a=this.jsServicesKernel.createComm(e,r),l=new t(a);return this.register_comm(l),l.open(n,s,i,o),l}register_target(e,n){const s=this.jsServicesKernel.registerCommTarget(e,((e,s)=>{const i=new t(e);this.register_comm(i);try{return n(i,s)}catch(rU){i.close(),console.error(rU),console.error(new Error("Exception opening new comm"))}}));this.targets[e]=s}unregister_target(e,t){this.targets[e].dispose(),delete this.targets[e]}register_comm(e){return this.comms[e.comm_id]=Promise.resolve(e),e.kernel=this.kernel,e.comm_id}};class t{constructor(e){this.jsServicesComm=e}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(e,t,n,s){const i=this.jsServicesComm.open(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}send(e,t,n,s){const i=this.jsServicesComm.send(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}close(e,t,n,s){const i=this.jsServicesComm.close(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}on_msg(e){this.jsServicesComm.onMsg=e.bind(this)}on_close(e){this.jsServicesComm.onClose=e.bind(this)}_hookupCallbacks(e,t){t&&(e.onReply=function(e){t.shell&&t.shell.reply&&t.shell.reply(e)},e.onStdin=function(e){t.input&&t.input(e)},e.onIOPub=function(e){if(t.iopub)if(t.iopub.status&&"status"===e.header.msg_type)t.iopub.status(e);else if(t.iopub.clear_output&&"clear_output"===e.header.msg_type)t.iopub.clear_output(e);else if(t.iopub.output)switch(e.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":t.iopub.output(e)}})}}e.Comm=t}(t=e.services||(e.services={}))}(fT||(fT={}));class gT{constructor(e,t,n){this.initialize(e,t,n)}initialize(e,t,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=t||function(e){e.remove()}}update(e,t,n,s){const i=n||this._remove_view,r=t||this._create_view;s=s||this._handler_context;let o=0;for(;o<e.length&&!(o>=this._models.length||e[o]!==this._models[o]);o++);const a=o,l=this.views.splice(a,this.views.length-a);for(let c=0;c<l.length;c++)l[c].then((function(e){i.call(s,e)}));for(;o<e.length;o++)this.views.push(Promise.resolve(r.call(s,e[o],o)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then((e=>{e.forEach((e=>this._remove_view.call(this._handler_context,e))),this.views=[],this._models=[]}))}dispose(){this.views=null,this._models=null}}const mT=new _.Token("jupyter.extensions.jupyterWidgetRegistry");function _T(e,t){return class extends sT{constructor(n,s){super(n=Object.assign(Object.assign({},n),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:XM,_view_module_version:XM,msg:t,error:e}),s),this.comm_live=!0}}}class vT extends lT{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){const{msg:e,stack:t}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");const n=document.createElement("div");n.classList.add("jupyter-widgets-error-widget","icon-error"),n.innerHTML=OM;const s=document.createElement("pre");let i,r;s.style.textAlign="center",s.innerText="Click to show javascript error.",n.append(s),this.el.appendChild(n),this.el.onclick=()=>{n.classList.contains("icon-error")&&(r=r||n.clientHeight,i=i||n.clientWidth,n.classList.remove("icon-error"),n.innerHTML=`\n        <pre>[Open Browser Console for more detailed log - Double click to close this message]\n${e}\n${t}</pre>\n        `,n.style.height=`${r}px`,n.style.width=`${i}px`,n.classList.add("text-error"))},this.el.ondblclick=()=>{n.classList.contains("text-error")&&(n.classList.remove("text-error"),n.innerHTML=OM,n.append(s),n.classList.add("icon-error"))}}}function bT(e,t){return class extends vT{generateErrorMessage(){return{msg:t,stack:String(e instanceof Error?e.stack:e)}}}}function yT(e,t){void 0!==t&&(e.textContent=t),void 0!==window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}function wT(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function xT(e,t){return function(n){throw t&&console.error(new Error(e)),n}}const ST="2.0.0";class CT extends dT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}CT.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};class kT extends sT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:ST,_model_module_version:ST,description:"",description_allow_html:!1})}}class ET extends lT{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,t){this.displayed.then((()=>yT(e,t)))}updateDescription(){const e=this.model.get("description");0===e.length?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}}class OT extends kT{}class MT extends ET{}class TT extends nT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:ST,_model_module_version:ST})}}class DT extends sT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:ST,_model_module_version:ST})}}class PT extends kT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:ST,_model_module_version:ST})}}class AT extends TT{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,t){super.initialize(e,t),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,t,n,s){if(!this._updating){this._updating=!0;try{n&&(n.set(s,e.get(t)),n.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,(()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)})),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}}AT.serializers=Object.assign(Object.assign({},TT.serializers),{target:{deserialize:eT},source:{deserialize:eT}});class RT extends AT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,(()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)}))}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}class jT extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}}jT.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{background:{selector:"",attribute:"background",default:null}});class IT extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}}IT.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class NT extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}}class LT extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}}class BT extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(null==this.checkboxLabel)return;const e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){const e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;const e=this.model.get("tabbable");!0===e?this.checkbox.setAttribute("tabIndex","0"):!1===e?this.checkbox.setAttribute("tabIndex","-1"):null===e&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){const e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),void 0!==e&&e.updated_view==this||(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){"focus"==e.do?this.checkbox.focus():"blur"==e.do&&this.checkbox.blur()}}class $T extends NT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}}class FT extends lT{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(FT.class_map,"button_style")}set_button_style(){this.set_mapped_classes(FT.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),void 0===e||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("description"),t=this.model.get("icon");if(0===e.trim().length&&0===t.trim().length)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",t.trim().length){const e=document.createElement("i");this.el.appendChild(e),e.classList.add("fa"),e.classList.add("fa-"+t)}this.el.appendChild(document.createTextNode(e))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();const t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}}FT.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class UT extends NT{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}}class zT extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}class VT extends dT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}VT.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};class qT extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}}class HT extends lT{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();const e=this.model.get("tooltip"),t=this.model.get("description"),n=this.model.get("icon");if(this.el.setAttribute("title",null!=e?e:t),t.length||n.length){if(this.el.textContent="",n.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add(...n.split(/[\s]+/).filter(Boolean).map((e=>`fa-${e}`))),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return super.update()}update_button_style(){this.update_mapped_classes(HT.class_map,"button_style")}set_button_style(){this.set_mapped_classes(HT.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}}var WT;function KT(e){return"function"==typeof e.iter?e.iter():new JT(e)}function GT(e,t){for(var n,s=0,i=KT(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}HT.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]},function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(WT||(WT={}));var JT=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();function YT(){return new XT}var XT=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var ZT;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=ZT.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(ZT||(ZT={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();var QT=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var eD;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(eD||(eD={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();var tD,nD=function(){function e(e){this._root=new tD.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=tD.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=tD.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return tD.iterItems(this._root)},e.prototype.retro=function(){return tD.retroItems(this._root)},e.prototype.slice=function(e,t){return tD.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return tD.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return tD.itemAt(this._root,e)},e.prototype.has=function(e,t){return tD.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return tD.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return tD.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=tD.insertItem(this._root,e,this.cmp);return this._root=tD.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;GT(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=tD.deleteItem(this._root,e,t);return this._root=tD.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=tD.removeItem(this._root,e);return this._root=tD.maybeExtractRoot(this._root),t},e.prototype.clear=function(){tD.clear(this._root),this._root=new tD.LeafNode},e}();!function(e){e.from=function(t,n){var s=new e(n);return s.assign(t),s}}(nD||(nD={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function s(e){for(;0===e.type;)e=e.children[0];return e}function i(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}function r(e){0===e.type?(GT(e.children,r),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.LeafNode=n,e.firstLeaf=s,e.lastLeaf=i,e.iterItems=function(e){var t=s(e);return new l(t,0,-1)},e.retroItems=function(e){var t=i(e);return new c(t,t.size-1,-1)},e.sliceItems=function(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var s=Math.max(0,n-t);if(0===s)return YT();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new l(e,t,s)},e.retroSliceItems=function(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var s=Math.max(0,t-n);if(0===s)return YT();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new c(e,t,s)},e.itemAt=function(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){for(;0===e.type;){var n=u(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}},e.hasItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}return d(e.items,t,n)>=0},e.indexOf=function(e,t,n){for(var s=0;0===e.type;){var i=h(e.items,t,n);i>0&&(s+=e.sizes[i-1]),e=e.children[i]}var r=d(e.items,t,n);return r>=0?s+r:-s+r},e.getItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}var i=d(e.items,t,n);return i>=0?e.items[i]:void 0},e.insertItem=function e(t,n,s){if(1===t.type){var i,r=d(t.items,n,s);return r>=0?(i=t.items[r],t.items[r]=n):(i=void 0,WT.insert(t.items,-r-1,n)),i}var a=h(t.items,n,s),l=t.children[a],c=l.size,u=e(l,n,s),g=l.size;if(t.items[a]=l.items[0],c===g)return u;if(l.width>o){var m=f(l);WT.insert(t.children,a+1,m),WT.insert(t.items,a+1,m.items[0])}return p(t,a),u},e.deleteItem=function e(t,n,s){if(1===t.type){var i=d(t.items,n,s);if(i<0)return;return WT.removeAt(t.items,i)}var r=h(t.items,n,s),o=t.children[r],l=o.size,c=e(o,n,s);return l===o.size||(t.items[r]=o.items[0],o.width<a&&(r=g(t,r)),p(t,r)),c},e.removeItem=function e(t,n){if(n<0&&(n+=t.size),!(n<0||n>=t.size)){if(1===t.type)return WT.removeAt(t.items,n);var s=u(t.sizes,n);s>0&&(n-=t.sizes[s]);var i=t.children[s],r=e(i,n);return t.items[s]=i.items[0],i.width<a&&(s=g(t,s)),p(t,s),r}},e.clear=r,e.maybeSplitRoot=function(e){if(e.width<=o)return e;var n=new t,s=f(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+s.size,n.children[0]=e,n.children[1]=s,n.items[0]=e.items[0],n.items[1]=s.items[0],n},e.maybeExtractRoot=function(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return r(e),t};var o=32,a=o>>1,l=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),c=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function u(e,t){for(var n=e.length,s=0;s<n;++s)if(e[s]>t)return s;return n-1}function h(e,t,n){for(var s=e.length,i=1;i<s;++i)if(n(e[i],t)>0)return i-1;return s-1}function d(e,t,n){for(var s=e.length,i=0;i<s;++i){var r=n(e[i],t);if(0===r)return i;if(r>0)return-i-1}return-s-1}function p(e,t){for(var n=e.sizes,s=e.children,i=t>0?n[t-1]:0,r=s.length;t<r;++t)i=n[t]=i+s[t].size;n.length=s.length}function f(e){if(1===e.type){for(var s=new n,i=e.items,r=s.items,o=a,l=i.length;o<l;++o)r.push(i[o]);return i.length=a,e.next&&(e.next.prev=s),s.next=e.next,s.prev=e,e.next=s,s}var c=new t,u=e.children,h=c.children;for(o=a,l=u.length;o<l;++o)h.push(u[o]);u.length=a;var d=e.items,f=c.items;for(o=a,l=d.length;o<l;++o)f.push(d[o]);return d.length=a,p(e,a),p(c,0),c}function g(e,t){var n,s,i,o,l,c,u=e.children[t],h=0===t?e.children[t+1]:e.children[t-1],d=0===t,f=1===u.type,g=h.width>a;if(f&&g&&d){var m=h;return(_=u).items.push(m.items.shift()),e.items[t+1]=m.items[0],t}if(f&&g&&!d){m=h;return(_=u).items.unshift(m.items.pop()),e.items[t]=_.items[0],t-1}if(f&&!g&&d){var _=u;return(n=(m=h).items).unshift.apply(n,_.items),WT.removeAt(e.children,t),WT.removeAt(e.items,t+1),_.prev&&(_.prev.next=m),m.prev=_.prev,r(_),t}if(f&&!g&&!d){_=u;return(s=(m=h).items).push.apply(s,_.items),WT.removeAt(e.children,t),WT.removeAt(e.items,t),_.next&&(_.next.prev=m),m.next=_.next,r(_),t-1}if(!f&&g&&d){m=h;return(_=u).children.push(m.children.shift()),_.items.push(m.items.shift()),e.items[t+1]=m.items[0],p(_,_.width-1),p(m,0),t}if(!f&&g&&!d){m=h;return(_=u).children.unshift(m.children.pop()),_.items.unshift(m.items.pop()),e.items[t]=_.items[0],p(_,0),p(m,m.width-1),t-1}if(!f&&!g&&d){_=u;return(i=(m=h).children).unshift.apply(i,_.children),(o=m.items).unshift.apply(o,_.items),WT.removeAt(e.children,t),WT.removeAt(e.items,t+1),p(m,0),_.children.length=0,r(_),t}if(!f&&!g&&!d){_=u;return(l=(m=h).children).push.apply(l,_.children),(c=m.items).push.apply(c,_.items),WT.removeAt(e.children,t),WT.removeAt(e.items,t),p(m,0),_.children.length=0,r(_),t-1}throw"unreachable"}}(tD||(tD={}));var sD,iD=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),GT(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new sD.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new sD.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof sD.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new sD.LinkedListNode(this,e),s=t,i=s.prev;return n.next=s,n.prev=i,s.prev=n,i.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof sD.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new sD.LinkedListNode(this,e),s=t,i=s.next;return n.next=i,n.prev=s,s.next=n,i.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof sD.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();!function(e){e.from=function(t){var n=new e;return n.assign(t),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var s=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=s;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=i}(iD||(iD={})),function(e){var t=function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t};e.LinkedListNode=t}(sD||(sD={}));var rD=function(e,t){return rD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},rD(e,t)};var oD,aD=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0}}(aD);!function(e){function t(e,t){var n=s.get(e);if(n&&0!==n.length){var i,o=function(e,t){for(var n,s=0,i=KT(e);void 0!==(n=i.next());)if(!t(n,s++))return!1;return!0}("function"==typeof(i=n).retro?i.retro():new QT(i),(function(n){return!n||function(e,t,n){var s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){r(i)}return s}(n,e,t)}));o&&u(e,t)}else u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){if(t.isConflatable){var s=function(e,t){for(var n,s=0,i=KT(e);void 0!==(n=i.next());)if(t(n,s++))return!0;return!1}(n,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));s||h(e,t)}else h(e,t)},e.installMessageHook=function(e,t){var n=s.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):s.set(e,[t]))},e.removeMessageHook=function(e,t){var n=s.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(n))}},e.clearData=function(e){var t=s.get(e);t&&t.length>0&&(WT.fill(t,null),p(t)),GT(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){a||0===o||(c(o),a=!0,d(),a=!1)},e.getExceptionHandler=function(){return r},e.setExceptionHandler=function(e){var t=r;return r=e,t};var n=new iD,s=new WeakMap,i=new Set,r=function(e){console.error(e)},o=0,a=!1,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,c="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(n){r(n)}}function h(e,t){n.addLast({handler:e,msg:t}),0===o&&(o=l(d))}function d(){if(o=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var s=n.removeFirst();if(s===e)return;s.handler&&s.msg&&t(s.handler,s.msg)}}}function p(e){0===i.size&&l(f),i.add(e)}function f(){i.forEach(g),i.clear()}function g(e){WT.removeAllWhere(e,m)}function m(e){return null===e}}(oD||(oD={}));class lD extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}}lD.serializers=Object.assign(Object.assign({},DT.serializers),{children:{deserialize:eT}});class cD extends lD{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}}class uD extends lD{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}}class hD extends lT{_createElement(e){return this.luminoWidget=new aT({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new gT(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")).then((e=>{e.forEach((e=>{oD.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}update_box_style(){this.update_mapped_classes(hD.class_map,"box_style")}set_box_style(){this.set_mapped_classes(hD.class_map,"box_style")}add_child_model(e){const t=new E.Widget;return this.luminoWidget.addWidget(t),this.create_child_view(e).then((e=>{const n=WT.firstIndexOf(this.luminoWidget.widgets,t);return this.luminoWidget.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(xM("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}hD.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};class dD extends hD{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}}class pD extends hD{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}}class fD extends hD{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}}class gD extends lD{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}class mD extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}}mD.serializers=Object.assign(Object.assign({},DT.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class _D extends lT{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;this.el.src=e,s&&URL.revokeObjectURL(s);const i=this.model.get("width");void 0!==i&&i.length>0?this.el.setAttribute("width",i):this.el.removeAttribute("width");const r=this.model.get("height");return void 0!==r&&r.length>0?this.el.setAttribute("height",r):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}class vD extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}vD.serializers=Object.assign(Object.assign({},DT.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class bD extends lT{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;this.el.src=e,s&&URL.revokeObjectURL(s);const i=this.model.get("width");void 0!==i&&i.length>0?this.el.setAttribute("width",i):this.el.removeAttribute("width");const r=this.model.get("height");return void 0!==r&&r.length>0?this.el.setAttribute("height",r):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}class yD extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}yD.serializers=Object.assign(Object.assign({},DT.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class wD extends lT{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;return this.el.src=e,s&&URL.revokeObjectURL(s),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}const xD={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};class SD extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}}class CD extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=yM(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(void 0===e||e.updated_view!=this){const e=this.model.get("disabled");this._textbox.disabled=e,this._colorpicker.disabled=e}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){const e=this.model.get("value");var t;this._colorpicker.value=xD[(t=e).toLowerCase()]||function(e){return 7===e.length?e:"#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)}(t),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){const e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,t){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||xD[e.toLowerCase()]?e:t}}function kD(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate()}}function ED(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(0,0,0,0),t}}class OD extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}}OD.serializers=Object.assign(Object.assign({},PT.serializers),{value:{serialize:kD,deserialize:ED}});class MD extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=yM(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return void 0!==e&&e.updated_view===this||(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){const e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}const TD=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;function DD(e){if(null===e)return null;{const t=TD.exec(e);return null===t?null:{hours:Math.min(23,parseInt(t[1],10)),minutes:Math.min(59,parseInt(t[2],10)),seconds:t[4]?Math.min(59,parseInt(t[4],10)):0,milliseconds:t[6]?parseInt(t[6],10):0}}}function PD(e){if(null===e)return null;{const t=[`${e.hours.toString().padStart(2,"0")}:${e.minutes.toString().padStart(2,"0")}`];return(e.seconds>0||e.milliseconds>0)&&(t.push(`:${e.seconds.toString().padStart(2,"0")}`),e.milliseconds>0&&t.push(`.${e.milliseconds.toString().padStart(3,"0")}`)),t.join("")}}const AD={serialize:DD,deserialize:PD};class RD extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:RD.model_name,_view_name:RD.view_name,value:null,disabled:!1,min:null,max:null,step:60})}}RD.serializers=Object.assign(Object.assign({},PT.serializers),{value:AD,min:AD,max:AD}),RD.model_name="TimeModel",RD.view_name="TimeView";class jD extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=yM(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){return void 0!==t&&t.updated_view===this||(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,n){void 0!==n&&n.updated_view===this||(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}function ID(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate(),hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds(),milliseconds:e.getUTCMilliseconds()}}function ND(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}const LD={serialize:ID,deserialize:ND};class BD extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}}BD.serializers=Object.assign(Object.assign({},PT.serializers),{value:LD,min:LD,max:LD});class $D extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");const e=document.createElement("input");e.type="datetime-local","text"===e.type?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=yM(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=yM(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=yM(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){if(void 0===t||t.updated_view!==this){const e=this.model.get("min"),t=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=FD.dt_as_dt_string(e),this._datetimepicker.max=FD.dt_as_dt_string(t)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=FD.dt_as_date_string(e),this._datepicker.max=FD.dt_as_date_string(t),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,n){if(void 0===n||n.updated_view!==this){const e=this.model.get("value");this._datetimepicker?this._datetimepicker.value=FD.dt_as_dt_string(e):(this._datepicker.valueAsDate=e,this._timepicker.value=FD.dt_as_time_string(e))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){const e=this._datetimepicker.value;let t=e?new Date(e):null;t&&isNaN(t.valueOf())&&(t=null),this.model.set("value",t,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){const e=this._datepicker.valueAsDate,t=DD(this._timepicker.value);null!==e&&null!==t&&e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),this.model.set("value",null!==t&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some((e=>e&&e.validity.badInput))&&(this.model.set("value",null),this.touch())}}var FD;function UD(e){return null===e?null:{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}}function zD(e){if(null===e)return null;{const t=new Date;return t.setFullYear(e.year,e.month,e.date),t.setHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}!function(e){function t(e){if(null===e)return"";const t=[];return t.push(`${e.getFullYear().toString().padStart(4,"0")}`),t.push(`-${(e.getMonth()+1).toString().padStart(2,"0")}`),t.push(`-${e.getDate().toString().padStart(2,"0")}`),t.push(`T${e.getHours().toString().padStart(2,"0")}`),t.push(`:${e.getMinutes().toString().padStart(2,"0")}`),(e.getSeconds()>0||e.getMilliseconds()>0)&&(t.push(`:${e.getSeconds().toString().padStart(2,"0")}`),e.getMilliseconds()>0&&t.push(`.${e.getMilliseconds().toString().padStart(3,"0")}`)),t.join("")}e.dt_as_dt_string=t,e.dt_as_date_string=function(e){return e?t(e).split("T",2)[0]:""},e.dt_as_time_string=function(e){return e?t(e).split("T",2)[1]:""}}(FD||(FD={}));const VD={serialize:UD,deserialize:zD};class qD extends BD{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}}function HD(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}qD.serializers=Object.assign(Object.assign({},PT.serializers),{value:VD,min:VD,max:VD});var WD,KD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function GD(e){if(!(t=KD.exec(e)))throw new Error("invalid format: "+e);var t;return new JD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function JD(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function YD(e,t){var n=HD(e,t);if(!n)return e+"";var s=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}GD.prototype=JD.prototype,JD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const XD={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YD(100*e,t),r:YD,s:function(e,t){var n=HD(e,t);if(!n)return e+"";var s=n[0],i=n[1],r=i-(WD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=s.length;return r===o?s:r>o?s+new Array(r-o+1).join("0"):r>0?s.slice(0,r)+"."+s.slice(r):"0."+new Array(1-r).join("0")+HD(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZD(e){return e}var QD,eP,tP=Array.prototype.map,nP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sP(e){var t,n,s=void 0===e.grouping||void 0===e.thousands?ZD:(t=tP.call(e.grouping,Number),n=e.thousands+"",function(e,s){for(var i=e.length,r=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>s&&(a=Math.max(1,s-l)),r.push(e.substring(i-=a,i+a)),!((l+=a+1)>s));)a=t[o=(o+1)%t.length];return r.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?ZD:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(tP.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=GD(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,f=e.width,g=e.comma,m=e.precision,_=e.trim,v=e.type;"n"===v?(g=!0,v="g"):XD[v]||(void 0===m&&(m=12),_=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===d?r:/[%p]/.test(v)?l:"",w=XD[v],x=/[defgprs%]/.test(v);function S(e){var i,r,l,d=b,S=y;if("c"===v)S=w(e)+S,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),_&&(e=function(e){e:for(var t,n=e.length,s=1,i=-1;s<n;++s)switch(e[s]){case".":i=t=s;break;case"0":0===i&&(i=s),t=s;break;default:if(!+e[s])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==h&&(C=!1),d=(C?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===v?nP[8+WD/3]:"")+S+(C&&"("===h?")":""),x)for(i=-1,r=e.length;++i<r;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}g&&!p&&(e=s(e,1/0));var k=d.length+e.length+S.length,E=k<f?new Array(f-k+1).join(t):"";switch(g&&p&&(e=s(E+e,E.length?f-S.length:1/0),E=""),n){case"<":e=d+e+S+E;break;case"=":e=d+E+e+S;break;case"^":e=E.slice(0,k=E.length>>1)+d+e+S+E.slice(k);break;default:e=E+d+e+S}return a(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n,s=h(((e=GD(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=HD(Math.abs(n)))?n[1]:NaN)/3)))),r=Math.pow(10,-i),o=nP[8+i/3];return function(e){return s(r*e)+o}}}}QD=sP({thousands:",",grouping:[3],currency:["$",""]}),eP=QD.format,QD.formatPrefix;var iP,rP,oP,aP,lP,cP=n(74211),uP=n.n(cP);class hP extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}}class dP extends hP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}}class pP extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}}pP.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});class fP extends dP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class gP extends fP{}class mP extends ET{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){if(void 0===e||e.updated_view!==this){this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled"));"vertical"===this.model.get("orientation")?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox"));this.model.get("readout")?(this.readout.style.display="",this.displayed.then((()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")}))):this.readout.style.display="none"}return super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){13===e.keyCode&&(e.preventDefault(),this.handleTextChange())}createSlider(){const e=this.model.get("orientation"),t=this.model.get("behavior");uP().create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:t,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:"horizontal"===e?"ltr":"rtl",format:{from:e=>Number(e),to:e=>this._validate_slide_value(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}}class _P extends mP{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:\u2013]\s*([+-]?\d+)/}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t),this.model.get("value")!==t&&(this.model.set("value",t,{updated_view:this}),this.touch())}valueToString(e){const t=this.model.readout_formatter;return e.map((function(e){return t(e)})).join(" \u2013 ")}stringToValue(e){if(null===e)return null;const t=this._range_regex.exec(e);return t?[this._parse_value(t[1]),this._parse_value(t[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),n=this.model.get("max");null===e||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],n),t),Math.max(Math.min(e[1],n),t)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e.map(this._validate_slide_value);this.model.set("value",n,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("value");s[0]===i[0]&&s[1]===i[1]||this.$slider.noUiSlider.set(i)}}class vP extends mP{update(e){super.update(e);const t=this.model.get("min"),n=this.model.get("max");let s=this.model.get("value");s>n?s=n:s<t&&(s=t),this.readout.textContent=this.valueToString(s),this.model.get("value")!==s&&(this.model.set("value",s,{updated_view:this}),this.touch())}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let t=this.stringToValue(null!==(e=this.readout.textContent)&&void 0!==e?e:"");const n=this.model.get("min"),s=this.model.get("max");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,s),n),t!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=this._validate_slide_value(e[t]),s=this.model.get("value");parseFloat(s)!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("value");s!==i&&this.$slider.noUiSlider.set(i)}}class bP extends hP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}}class yP extends dP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}}class wP extends ET{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=yM(),this.el.appendChild(this.textbox),this.update()}update(e){if(void 0===e||e.updated_view!==this){const e=this.model.get("value");this._parse_value(this.textbox.value)!==e&&(this.textbox.value=e.toString()),void 0!==this.model.get("min")&&(this.textbox.min=this.model.get("min")),void 0!==this.model.get("max")&&(this.textbox.max=this.model.get("max")),void 0!==this.model.get("step")&&null!==this.model.get("step")?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;const t=e.target;let n=t.value;if(n=n.replace(/[e,.\s]/g,""),n.length>=1){const e=n.substr(1);n=n[0]+e.replace(/[+-]/g,"")}t.value!==n&&(e.preventDefault(),t.value=n)}handleChanging(e){const t=e.target.value.trim();""===t||["-","-.",".","+.","+"].indexOf(t)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;let n=this._parse_value(t.value);if(isNaN(n))t.value=this.model.get("value");else{let e=n;void 0!==this.model.get("max")&&(e=Math.min(this.model.get("max"),e)),void 0!==this.model.get("min")&&(e=Math.max(this.model.get("min"),e)),e!==n&&(t.value=e,n=e),n!==this.model.get("value")&&(this.model.set("value",n,{updated_view:this}),this.touch())}}}class xP extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}}xP.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});class SP extends dP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class CP extends ET{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();const e="horizontal"===this.model.get("orientation")?"widget-hprogress":"widget-vprogress";this.el.classList.add(e),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){const e=this.model.get("value"),t=this.model.get("max"),n=this.model.get("min"),s=100*(e-n)/(t-n);return"horizontal"===this.model.get("orientation")?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=s+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=s+"%"),super.update()}update_bar_style(){this.update_mapped_classes(CP.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(CP.class_map,"bar_style",this.bar)}}CP.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};class kP extends dP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,t){super.initialize(e,t)}loop(){if(!this.get("playing"))return;const e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){void 0===this._timerId&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}}class EP extends lT{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);const e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);const t=document.createElement("i");t.className="fa fa-stop",this.stopButton.appendChild(t);const n=document.createElement("i");n.className="fa fa-retweet",this.repeatButton.appendChild(n),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){const e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();const e=this.model.previous("playing"),t=this.model.get("playing");!e&&t?this.model.animate():this.model.pause()}updatePlaying(){const e=this.model.get("playing"),t=this.playPauseButton.getElementsByTagName("i")[0];t.className=e?"fa fa-pause":"fa fa-play"}updateRepeat(){const e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}class OP extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}}class MP extends OP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}}class TP extends MP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class DP extends MP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class PP extends TP{}class AP extends vP{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}}class RP extends mP{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t)}logCalc(e){const t=this.model.get("min"),n=this.model.get("max"),s=this.model.get("base");let i=Math.log(e)/Math.log(s);return i>n?i=n:i<t&&(i=t),i}createSlider(){var e;const t=this.model.get("orientation"),n=this.model.get("behavior");uP().create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:n,range:{min:this.model.get("min"),max:this.model.get("max")},step:null!==(e=this.model.get("step"))&&void 0!==e?e:void 0,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>e}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return null===e?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),n=this.model.get("max"),s=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(s,n)),Math.pow(s,t)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,t){const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(s),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){if(this._updating_slider)return;const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.model.set("value",s,{updated_view:this}),this.touch()}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(s)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}}class jP extends _P{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:\u2013]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}}class IP extends OP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}}class NP extends MP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}}class LP extends wP{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}}class BP extends MP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class $P extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}}class FP extends lT{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}}class UP extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}}class zP extends lT{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}}class VP extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,t){super.initialize(e,t),void 0===navigator.getGamepads?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){const e=this.get("index"),t=navigator.getGamepads()[e];t?this.setup(t).then((e=>{this.set(e),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))})):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),wM({buttons:Promise.all(e.buttons.map(((e,t)=>this._create_button_model(t)))),axes:Promise.all(e.axes.map(((e,t)=>this._create_axis_model(t))))})}update_loop(){const e=this.get("index"),t=this.get("name"),n=navigator.getGamepads()[e];n&&e===n.index&&t===n.id?(this.set({timestamp:n.timestamp,connected:n.connected}),this.save_changes(),this.get("buttons").forEach((function(e,t){e.set({value:n.buttons[t].value,pressed:n.buttons[t].pressed}),e.save_changes()})),this.get("axes").forEach((function(e,t){e.set("value",n.axes[t]),e.save_changes()})),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach((function(e){e.close()})),this.get("axes").forEach((function(e){e.close()})),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}}VP.serializers=Object.assign(Object.assign({},DT.serializers),{buttons:{deserialize:eT},axes:{deserialize:eT}});class qP extends lT{_createElement(e){return this.luminoWidget=new aT({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new gT(this.add_button,null,this),this.listenTo(this.model,"change:buttons",((e,t)=>{this.button_views.update(t)})),this.axis_views=new gT(this.add_axis,null,this),this.listenTo(this.model,"change:axes",((e,t)=>{this.axis_views.update(t)})),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new E.Panel,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new E.Panel,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){const t=new E.Widget;return this.button_box.addWidget(t),this.create_child_view(e).then((e=>{const n=WT.firstIndexOf(this.button_box.widgets,t);return this.button_box.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(xM("Could not add child button view to controller",!0))}add_axis(e){const t=new E.Widget;return this.axis_box.addWidget(t),this.create_child_view(e).then((e=>{const n=WT.firstIndexOf(this.axis_box.widgets,t);return this.axis_box.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(xM("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}class HP extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}}class WP extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;const e=this.model.get("tabbable");!0===e?this.listbox.setAttribute("tabIndex","0"):!1===e?this.listbox.setAttribute("tabIndex","-1"):null===e&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}}class KP extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}}class GP extends WP{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=yM(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){if((null==e?void 0:e.updated_view)!==this){this.model.hasChanged("_options_labels")&&this._updateOptions()}const t=this.model.get("index");return this.listbox.selectedIndex=null===t?-1:t,super.update()}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const n=e[t],s=document.createElement("option");s.textContent=n.replace(/ /g,"\xa0"),s.setAttribute("data-value",encodeURIComponent(n)),s.value=n,this.listbox.appendChild(s)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",-1===this.listbox.selectedIndex?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.listbox.focus():"blur"===e.do&&this.listbox.blur()}}class JP extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}}class YP extends WP{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=yM(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if((null==e?void 0:e.updated_view)!==this){const e=this.model.hasChanged("_options_labels"),t=this.model.hasChanged("index");if(e||t){const t=this.model.get("index");e&&this._updateOptions(),this.updateSelection(t)}}super.update();let t=this.model.get("rows");null===t&&(t=""),this.listbox.setAttribute("size",t)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=null===e?-1:e}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const n=e[t],s=document.createElement("option");s.textContent=n.replace(/ /g,"\xa0"),s.setAttribute("data-value",encodeURIComponent(n)),s.value=n,this.listbox.appendChild(s)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"==e.do?this.listbox.focus():"blur"==e.do&&this.listbox.blur()}}class XP extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:""})}}class ZP extends ET{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){const t=this.model.get("_options_labels"),n=Array.from(this.container.querySelectorAll('input[type="radio"]')).map((e=>e.value));let s=t.length!==n.length;if(!s)for(let i=0,r=t.length;i<r;++i)if(n[i]!==t[i]){s=!0;break}return!s||void 0!==e&&e.updated_view===this||(this.container.textContent="",t.forEach(((e,t)=>{const n=document.createElement("label");n.textContent=e,this.container.appendChild(n);const s=document.createElement("input");s.setAttribute("type","radio"),s.value=t.toString(),s.setAttribute("data-value",encodeURIComponent(e)),n.appendChild(s)}))),t.forEach(((e,t)=>{const n='input[data-value="'+encodeURIComponent(e)+'"]',s=this.container.querySelectorAll(n);if(s.length>0){const e=s[0];e.checked=this.model.get("index")===t,e.disabled=this.model.get("disabled")}})),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){const t=window.getComputedStyle(e.el),n=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),s=e.label.offsetHeight+n,i=window.getComputedStyle(e.container),r=parseInt(i.marginBottom,10),o=(e.el.offsetHeight+n-r)%s,a=0===o?0:s-o;e.container.style.marginBottom=a+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch()}handle_message(e){if("focus"==e.do){this.container.firstElementChild.focus()}else if("blur"==e.do)for(let t=0;t<this.container.children.length;t++){this.container.children[t].blur()}}}class QP extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}}QP.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});class eA extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}}class tA extends ET{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){const t=this.model.get("_options_labels"),n=this.model.get("icons")||[],s=this.model.previous("icons")||[],i=tA.classMap[this.model.previous("button_style")]||"",r=this.model.get("tooltips")||[],o=this.model.get("disabled"),a=this.buttongroup.querySelectorAll("button"),l=Array.from(a).map((e=>e.value));let c=!1;for(let u=0,h=t.length;u<h;++u)if(l[u]!==t[u]||n[u]!==s[u]){c=!0;break}return!c||void 0!==e&&e.updated_view===this||(this.buttongroup.textContent="",t.forEach(((e,t)=>{let s;s=0===e.trim().length&&(!n[t]||0===n[t].trim().length)?"&nbsp;":wT(e);const a=document.createElement("i"),l=document.createElement("button");n[t]&&(a.className="fa fa-"+n[t]),l.setAttribute("type","button"),l.className="widget-toggle-button jupyter-button",i&&l.classList.add(i),l.innerHTML=s,l.setAttribute("data-value",encodeURIComponent(e)),l.setAttribute("value",t.toString()),l.appendChild(a),l.disabled=o,r[t]&&l.setAttribute("title",r[t]),this.update_style_traits(l),this.buttongroup.appendChild(l)}))),t.forEach(((e,t)=>{const n='[data-value="'+encodeURIComponent(e)+'"]',s=this.buttongroup.querySelector(n);this.model.get("index")===t?s.classList.add("mod-active"):s.classList.remove("mod-active")})),this.stylePromise.then((function(e){e&&e.style()})),super.update(e)}update_style_traits(e){for(const t in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name"))if("margin"===t)this.buttongroup.style[t]=this._css_state[t];else if("width"!==t)if(e)e.style[t]=this._css_state[t];else{const e=this.buttongroup.querySelectorAll("button");e.length&&(e[0].style[t]=this._css_state[t])}}update_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.update_mapped_classes(tA.classMap,"button_style",e[t])}set_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.set_mapped_classes(tA.classMap,"button_style",e[t])}events(){return{"click button":"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}}!function(e){e.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}}(tA||(tA={}));class nA extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class sA extends ET{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if((null==e?void 0:e.updated_view)!==this){this.updateSliderOptions(this.model);const e=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),"vertical"===e?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox"));const t=this.model.get("readout");this.readout.style.display=t?"":"none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){const e=this.model.get("_options_labels").length-1,t=this.model.get("orientation"),n=this.model.get("behavior");uP().create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:n,range:{min:0,max:e},step:1,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>Math.round(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){const e=this.model.get("index");this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels")[e];this.readout.textContent=t}handleSliderUpdateEvent(e,t){const n=e[0];this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const n=e[0];this.updateReadout(n),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e[0];this.updateReadout(n),this.model.set("index",n,{updated_view:this}),this.touch()}updateSliderOptions(e){const t=this.model.get("_options_labels").length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:0,max:t},step:1})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("index");s!==i&&this.$slider.noUiSlider.set(i)}}class iA extends HP{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}}class rA extends iA{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}}class oA extends YP{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){const e=this.model.get("index")||[],t=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach((e=>{t[e].selected=!0}))}_handle_change(){const e=Array.prototype.map.call(this.listbox.selectedOptions||[],(function(e){return e.index}));this.model.set("index",e,{updated_view:this}),this.touch()}}class aA extends iA{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class lA extends sA{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels"),n=t[e[0]],s=t[e[1]];this.readout.textContent=`${n}-${s}`}handleSliderUpdateEvent(e,t){const n=e.map(Math.trunc);this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e.map(Math.round);this.updateReadout(n),this.model.set("index",n.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get().map(Math.round),i=this.model.get("index").map(Math.round);s[0]===i[0]&&s[1]===i[1]||this.$slider.noUiSlider.set(i)}}!function(e){e.copyText=function(e){var t=document.body,n=function(s){s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",e),t.removeEventListener("copy",n,!0)};t.addEventListener("copy",n,!0),document.execCommand("copy")}}(iP||(iP={})),function(e){e.boxSizing=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,s=parseFloat(t.borderLeftWidth)||0,i=parseFloat(t.borderRightWidth)||0,r=parseFloat(t.borderBottomWidth)||0,o=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,c=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:s,borderRight:i,borderBottom:r,paddingTop:o,paddingLeft:a,paddingRight:l,paddingBottom:c,horizontalSum:s+a+l+i,verticalSum:n+o+c+r}},e.sizeLimits=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,s=parseFloat(t.minHeight)||0,i=parseFloat(t.maxWidth)||1/0,r=parseFloat(t.maxHeight)||1/0;return{minWidth:n,minHeight:s,maxWidth:i=Math.max(n,i),maxHeight:r=Math.max(s,r)}},e.hitTest=function(e,t,n){var s=e.getBoundingClientRect();return t>=s.left&&t<s.right&&n>=s.top&&n<s.bottom},e.scrollIntoViewIfNeeded=function(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect();s.top<=n.top&&s.bottom>=n.bottom||(s.top<n.top&&s.height<=n.height||s.bottom>n.bottom&&s.height>=n.height?e.scrollTop-=n.top-s.top:(s.top<n.top&&s.height>n.height||s.bottom>n.bottom&&s.height<n.height)&&(e.scrollTop-=n.bottom-s.bottom))}}(rP||(rP={})),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent),e.accelKey=function(t){return e.IS_MAC?t.metaKey:t.ctrlKey}}(oP||(oP={})),function(e){e.calculateSpecificity=function(e){if(e in lP.specificityCache)return lP.specificityCache[e];var t=lP.calculateSingle(e);return lP.specificityCache[e]=t},e.isValid=function(e){if(e in lP.validityCache)return lP.validityCache[e];var t=!0;try{lP.testElem.querySelector(e)}catch(n){t=!1}return lP.validityCache[e]=t},e.matches=function(e,t){return lP.protoMatchFunc.call(e,t)}}(aP||(aP={})),function(e){var t;e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(t=Element.prototype).matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var t=this,n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return-1!==Array.prototype.indexOf.call(n,t)},e.calculateSingle=function(e){var t=0,u=0,h=0;function d(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(c," $1 ");e.length>0;)if(d(n))t++;else if(d(s))u++;else if(d(i))u++;else if(d(o))h++;else if(d(a))u++;else if(d(r))h++;else if(!d(l))return 0;return(t=Math.min(t,255))<<16|(u=Math.min(u,255))<<8|(h=Math.min(h,255))};var n=/^#[^\s\+>~#\.\[:]+/,s=/^\.[^\s\+>~#\.\[:]+/,i=/^\[[^\]]+\]/,r=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g}(lP||(lP={}));class cA extends E.Panel{constructor(){super(...arguments),this._widgetRemoved=new f.Signal(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}}class uA extends E.Widget{constructor(e={}){super(),this._currentChanged=new f.Signal(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new E.TabBar(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new cA,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);const t=new E.PanelLayout;t.addWidget(this.tabBar),t.addWidget(this.tabContents),this.layout=t}get currentChanged(){return this._currentChanged}get currentIndex(){const e=this.tabBar.currentIndex;return-1===e?null:e}set currentIndex(e){this.tabBar.currentIndex=null===e?-1:e}get currentWidget(){const e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,t){t!==this.currentWidget&&t.hide(),this.tabContents.insertWidget(e,t),this.tabBar.insertTab(e,t.title)}_onCurrentChanged(e,t){const{previousIndex:n,previousTitle:s,currentIndex:i,currentTitle:r}=t,o=s?s.owner:null,a=r?r.owner:null;o&&o.hide(),a&&a.show(),this._currentChanged.emit({previousIndex:n,previousWidget:o,currentIndex:i,currentWidget:a}),(oP.IS_EDGE||oP.IS_IE)&&oD.flush()}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabMoved(e,t){this.tabContents.insertWidget(t.toIndex,t.title.owner)}_onWidgetRemoved(e,t){this.tabBar.removeTab(t.title)}}class hA{constructor(e,t={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new f.Signal(this),this._array=e,this._insertBehavior=t.insertBehavior||"select-item-if-needed",this._removeBehavior=t.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){const t=this.index,n=this.value;if(e!==t)return;this._updateSelectedValue();const s=this.value;this._previousValue=null,n!==s&&this._selectionChanged.emit({previousIndex:t,previousValue:n,currentIndex:t,currentValue:s})}get value(){return this._value}set value(e){null===e||null===this._array?this.index=null:this.index=WT.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let t;if(null!==e&&null!==this._array?(t=Math.floor(e),(t<0||t>=this._array.length)&&(t=null)):t=null,this._index===t)return;const n=this._index,s=this._value;this._index=t,this._updateSelectedValue(),this._previousValue=s,this._selectionChanged.emit({previousIndex:n,previousValue:s,currentIndex:t,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,t){const n=this._value,s=this._index,i=this._insertBehavior;if("select-item"===i||"select-item-if-needed"===i&&null===s)return this._index=e,this._value=t,this._previousValue=n,void this._selectionChanged.emit({previousIndex:s,previousValue:n,currentIndex:e,currentValue:t});null!==s&&s>=e&&this._index++}clearSelection(){const e=this._index,t=this._value;this._index=null,this._value=null,this._previousValue=null,null!==e&&this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,t){if(null===this._index)return;const n=this._index,s=this._removeBehavior;if(n===e){if(!this._array||0===this._array.length)return this._index=null,this._value=null,this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-after"===s)return this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-before"===s)return this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-previous-item"===s)return this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this.value});this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}else n>e&&this._index--}_updateSelectedValue(){const e=this._index;this._value=null!==e&&this._array?this._array[e]:null}}const dA="jupyter-widget-Collapse-open";class pA extends E.Widget{constructor(e){super(e),this._collapseChanged=new f.Signal(this),this.addClass("jupyter-widget-Collapse"),this._header=new E.Widget,this._header.addClass("jupyter-widget-Collapse-header"),this._header.node.addEventListener("click",this);const t=document.createElement("i");t.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(t),this._header.node.appendChild(document.createElement("span")),this._content=new E.Panel,this._content.addClass("jupyter-widget-Collapse-contents");const n=new E.PanelLayout;this.layout=n,n.addWidget(this._header),n.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.disposed.disconnect(this._onChildDisposed,this),t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(dA),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(dA),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){if("click"===e.type)this._evtClick(e)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}}const fA="jupyter-widget-Accordion-child-active";class gA extends E.Panel{constructor(e){super(e),this._selection=new hA(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass("jupyter-widget-Accordion")}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return WT.findFirstIndex(this.collapseWidgets,(t=>t.widget===e))}addWidget(e){const t=this._wrapWidget(e);return t.collapsed=!0,super.addWidget(t),this._selection.adjustSelectionForInsert(this.widgets.length-1,t),t}insertWidget(e,t){const n=this._wrapWidget(t);n.collapsed=!0,super.insertWidget(e,n),this._selection.adjustSelectionForInsert(e,n)}removeWidget(e){const t=this.indexOf(e);if(t>=0){const n=this.collapseWidgets[t];e.parent=null,n.dispose(),this._selection.adjustSelectionForRemove(t,null)}}_wrapWidget(e){const t=new pA({widget:e});return t.addClass("jupyter-widget-Accordion-child"),t.collapseChanged.connect(this._onCollapseChange,this),t}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,t){const n=t.previousValue,s=t.currentValue;n&&(n.collapsed=!0,n.removeClass(fA)),s&&(s.collapsed=!1,s.addClass(fA))}}class mA extends lD{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}}class _A extends mA{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}}class vA extends gA{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){var t;super.processMessage(e),null===(t=this._view)||void 0===t||t.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class bA extends lT{_createElement(e){return this.luminoWidget=new vA({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new gT(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",(()=>this.updateChildren())),this.listenTo(this.model,"change:selected_index",(()=>this.update_selected_index())),this.listenTo(this.model,"change:titles",(()=>this.update_titles()))}render(){var e;super.render();const t=this.luminoWidget;t.addClass("jupyter-widgets"),t.addClass("widget-accordion"),t.addClass("widget-container"),t.selection.selectionChanged.connect((e=>{this.updatingChildren||(this.model.set("selected_index",t.selection.index),this.touch())})),null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){const e=this.luminoWidget.collapseWidgets,t=this.model.get("titles");for(let n=0;n<e.length;n++)void 0!==t[n]&&(e[n].widget.title.label=t[n])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,t){const n=this.luminoWidget,s=new E.Widget;return s.title.label=this.model.get("titles")[t]||"",n.addWidget(s),this.create_child_view(e).then((e=>{const t=e.luminoWidget;t.title.label=s.title.label;return n.collapseWidgets[n.indexOf(s)].widget=t,s.dispose(),e})).catch(xM("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}class yA extends mA{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}}class wA extends uA{constructor(e){const t=e.view;delete e.view,super(e),this._view=t,oD.installMessageHook(this.tabContents,((e,t)=>(this._view.processLuminoMessage(t),!0)))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class xA extends lT{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new wA({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new gT(this.addChildView,(e=>{e.remove()}),this),this.listenTo(this.model,"change:children",(()=>this.updateTabs())),this.listenTo(this.model,"change:titles",(()=>this.updateTitles()))}render(){super.render();const e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,null===(e=this.childrenViews)||void 0===e||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,t){const n=this.model.get("titles")[t]||"",s=this.luminoWidget,i=new E.Widget;return i.title.label=n,s.addWidget(i),this.create_child_view(e).then((e=>{const t=e.luminoWidget;t.title.label=i.title.label,t.title.closable=!1;const n=WT.firstIndexOf(s.widgets,i);return s.insertWidget(n+1,t),i.dispose(),e})).catch(xM("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){const e=this.model.get("titles")||[];GT(this.luminoWidget.widgets,((t,n)=>{t.title.label=e[n]||""}))}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,t){if(!this.updatingTabs){const e=t.currentIndex;this.model.set("selected_index",-1===e?null:e),this.touch()}}_onTabMoved(e,t){const n=this.model.get("children").slice();WT.move(n,t.fromIndex,t.toIndex),this.model.set("children",n),this.touch()}}class SA extends mA{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}}class CA extends hD{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let t;t=null===this.model.get("selected_index")?[]:[this.model.get("children")[this.model.get("selected_index")]],null===(e=this.children_views)||void 0===e||e.update(t).then((e=>{e.forEach((e=>{oD.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}}function kA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function EA(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function OA(){}var MA=.7,TA=1/MA,DA="\\s*([+-]?\\d+)\\s*",PA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",AA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RA=/^#([0-9a-f]{3,8})$/,jA=new RegExp(`^rgb\\(${DA},${DA},${DA}\\)$`),IA=new RegExp(`^rgb\\(${AA},${AA},${AA}\\)$`),NA=new RegExp(`^rgba\\(${DA},${DA},${DA},${PA}\\)$`),LA=new RegExp(`^rgba\\(${AA},${AA},${AA},${PA}\\)$`),BA=new RegExp(`^hsl\\(${PA},${AA},${AA}\\)$`),$A=new RegExp(`^hsla\\(${PA},${AA},${AA},${PA}\\)$`),FA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function UA(){return this.rgb().formatHex()}function zA(){return this.rgb().formatRgb()}function VA(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?qA(t):3===n?new WA(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?HA(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?HA(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jA.exec(e))?new WA(t[1],t[2],t[3],1):(t=IA.exec(e))?new WA(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=NA.exec(e))?HA(t[1],t[2],t[3],t[4]):(t=LA.exec(e))?HA(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=BA.exec(e))?ZA(t[1],t[2]/100,t[3]/100,1):(t=$A.exec(e))?ZA(t[1],t[2]/100,t[3]/100,t[4]):FA.hasOwnProperty(e)?qA(FA[e]):"transparent"===e?new WA(NaN,NaN,NaN,0):null}function qA(e){return new WA(e>>16&255,e>>8&255,255&e,1)}function HA(e,t,n,s){return s<=0&&(e=t=n=NaN),new WA(e,t,n,s)}function WA(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}function KA(){return`#${XA(this.r)}${XA(this.g)}${XA(this.b)}`}function GA(){const e=JA(this.opacity);return`${1===e?"rgb(":"rgba("}${YA(this.r)}, ${YA(this.g)}, ${YA(this.b)}${1===e?")":`, ${e})`}`}function JA(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function YA(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function XA(e){return((e=YA(e))<16?"0":"")+e.toString(16)}function ZA(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new eR(e,t,n,s)}function QA(e){if(e instanceof eR)return new eR(e.h,e.s,e.l,e.opacity);if(e instanceof OA||(e=VA(e)),!e)return new eR;if(e instanceof eR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,s=e.b/255,i=Math.min(t,n,s),r=Math.max(t,n,s),o=NaN,a=r-i,l=(r+i)/2;return a?(o=t===r?(n-s)/a+6*(n<s):n===r?(s-t)/a+2:(t-n)/a+4,a/=l<.5?r+i:2-r-i,o*=60):a=l>0&&l<1?0:o,new eR(o,a,l,e.opacity)}function eR(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}function tR(e){return(e=(e||0)%360)<0?e+360:e}function nR(e){return Math.max(0,Math.min(1,e||0))}function sR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function iR(e){for(;e.firstChild;)e.removeChild(e.firstChild)}kA(OA,VA,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UA,formatHex:UA,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return QA(this).formatHsl()},formatRgb:zA,toString:zA}),kA(WA,(function(e,t,n,s){return 1===arguments.length?((i=e)instanceof OA||(i=VA(i)),i?new WA((i=i.rgb()).r,i.g,i.b,i.opacity):new WA):new WA(e,t,n,null==s?1:s);var i}),EA(OA,{brighter(e){return e=null==e?TA:Math.pow(TA,e),new WA(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?MA:Math.pow(MA,e),new WA(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new WA(YA(this.r),YA(this.g),YA(this.b),JA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KA,formatHex:KA,formatHex8:function(){return`#${XA(this.r)}${XA(this.g)}${XA(this.b)}${XA(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:GA,toString:GA})),kA(eR,(function(e,t,n,s){return 1===arguments.length?QA(e):new eR(e,t,n,null==s?1:s)}),EA(OA,{brighter(e){return e=null==e?TA:Math.pow(TA,e),new eR(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?MA:Math.pow(MA,e),new eR(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,i=2*n-s;return new WA(sR(e>=240?e-240:e+120,i,s),sR(e,i,s),sR(e<120?e+240:e-120,i,s),this.opacity)},clamp(){return new eR(tR(this.h),nR(this.s),nR(this.l),JA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=JA(this.opacity);return`${1===e?"hsl(":"hsla("}${tR(this.h)}, ${100*nR(this.s)}%, ${100*nR(this.l)}%${1===e?")":`, ${e})`}`}}));class rR{constructor(e,t,n){this.start=e,this.dx=t,this.max=n}isSelected(e){let t,n;return this.dx>=0?(t=this.start,n=this.start+this.dx):(t=this.start+this.dx,n=this.start),t<=e&&e<n}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}}class oR extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"\u200b",allowed_tags:null,allow_duplicates:!0})}}class aR extends lT{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=yM(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{const t=null==this.hoveredTagIndex?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,t)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,iR(this.el),this.tags=[];const e=this.model.get("value");for(const t in e){const n=parseInt(t),s=this.createTag(e[n],n,null!=this.selection&&this.selection.isSelected(n));s.draggable=!0,s.ondragstart=((e,t)=>n=>{this.ondragstart(n,e,t,this.model.model_id)})(n,e[n]),s.ondrop=(e=>t=>{this.ondrop(t,e)})(n),s.ondragover=this.ondragover.bind(this),s.ondragenter=(e=>t=>{this.ondragenter(t,e)})(n),s.ondragend=this.ondragend.bind(this),this.tags.push(s),this.el.appendChild(s)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){iR(this.autocompleteList);const e=this.model.get("allowed_tags");for(const t of e){const e=document.createElement("option");e.value=t,this.autocompleteList.appendChild(e)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){const e=this.model.get("value");for(const t in this.tags){const n=parseInt(t);this.updateTag(this.tags[n],e[n],n,null!=this.selection&&this.selection.isSelected(n))}}handleValueAdded(e){const t=function(e){return e.replace(/^\s+|\s+$/g,"")}(this.taginput.value),n=this.inputIndex;if(""==t)return;this.inputIndex++;this.addTag(n,t)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,t){const n=this.model.get("value");let s;try{s=this.validateValue(t)}catch(Hn){return!1}const i=this.model.get("allowed_tags");if(i.length&&!i.includes(s))return!1;if(!this.model.get("allow_duplicates")&&n.includes(s))return!1;this.selection=null;const r=[...n];return r.splice(e,0,s),this.model.set("value",r),this.model.save_changes(),!0}resizeInput(){let e;e=0!=this.taginput.value.length?this.taginput.value:this.model.get("placeholder");const t=e.length+1;this.taginput.setAttribute("size",String(t))}handleKeyEvent(e){const t=this.model.get("value").length;if(this.taginput.value.length)return;const n=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(n,-n),!e.ctrlKey&&e.shiftKey&&this.select(n,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(n,t-n),!e.ctrlKey&&e.shiftKey&&this.select(n,1),e.ctrlKey?this.inputIndex=t:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=function(e,t,n){return Math.min(Math.max(e,t),n)}(this.inputIndex,0,t),this.update(),this.focus()}ondragstart(e,t,n,s){null!=e.dataTransfer&&(e.dataTransfer.setData("index",String(t)),e.dataTransfer.setData("tagValue",String(n)),e.dataTransfer.setData("origin",s))}ondrop(e,t){if(null==e.dataTransfer)return;e.preventDefault(),e.stopPropagation();const n=e.dataTransfer.getData("tagValue"),s=parseInt(e.dataTransfer.getData("index")),i=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(s)){if(i){const e=[...this.model.get("value")];return s<t&&t--,e.splice(s,1),e.splice(t,0,n),this.model.set("value",e),void this.model.save_changes()}this.addTag(t,n)}}ondragover(e){e.preventDefault()}ondragenter(e,t){null!=this.hoveredTag&&this.hoveredTag!=this.tags[t]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[t],this.hoveredTagIndex=t,this.hoveredTag.style.marginLeft="30px"}ondragend(){null!=this.hoveredTag&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,t){const n=this.model.get("value").length;this.selection?this.selection.updateSelection(t):this.selection=new rR(e,t,n)}removeSelectedTags(){const e=[...this.model.get("value")];for(let t=e.length-1;t>=0;t--)null!=this.selection&&this.selection.isSelected(t)&&(e.splice(t,1),t<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){const t=[...this.model.get("value")];t.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",t),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}}class lR extends oR{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}}class cR extends aR{createTag(e,t,n){const s=document.createElement("div"),i=this.model.get("tag_style");s.classList.add("jupyter-widget-tag"),s.classList.add(cR.class_map[i]),n&&s.classList.add("mod-active"),s.appendChild(document.createTextNode(this.getTagText(e)));const r=document.createElement("i");return r.classList.add("fa"),r.classList.add("fa-times"),r.classList.add("jupyter-widget-tag-close"),s.appendChild(r),r.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),s}getTagText(e){return e}updateTag(e,t,n,s){s?e.classList.add("mod-active"):e.classList.remove("mod-active")}}cR.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};class uR extends oR{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}}class hR extends aR{createTag(e,t,n){const s=document.createElement("div"),i=e,r=VA(e).darker().toString();s.classList.add("jupyter-widget-tag"),s.classList.add("jupyter-widget-colortag"),n?(s.classList.add("mod-active"),s.style.backgroundColor=r):s.style.backgroundColor=i;const o=document.createElement("i");return o.classList.add("fa"),o.classList.add("fa-times"),o.classList.add("jupyter-widget-tag-close"),s.appendChild(o),o.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),s}updateTag(e,t,n,s){const i=t,r=VA(t).darker().toString();s?(e.classList.add("mod-active"),e.style.backgroundColor=r):(e.classList.remove("mod-active"),e.style.backgroundColor=i)}validateValue(e){if(null==VA(e))throw e+" is not a valid Color";return e}}class dR extends lR{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}}class pR extends cR{render(){this.model.on("change:format",(()=>{this.formatter=eP(this.model.get("format")),this.update()})),this.formatter=eP(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){const t=this.parseNumber(e),n=this.model.get("min"),s=this.model.get("max");if(isNaN(t)||null!=n&&t<n||null!=s&&t>s)throw e+" is not a valid number, it should be in the range ["+n+", "+s+"]";return t}}class fR extends dR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}}class gR extends pR{parseNumber(e){return parseFloat(e)}}class mR extends dR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}}class _R extends pR{parseNumber(e){const t=parseInt(e);if(t!=parseFloat(e))throw e+" should be an integer";return t}}class vR extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}vR.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});class bR extends vR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}bR.styleProperties=Object.assign({},vR.styleProperties);class yR extends vR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}yR.styleProperties=Object.assign({},vR.styleProperties);class wR extends vR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}wR.styleProperties=Object.assign(Object.assign({},vR.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class xR extends CT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:ST})}}xR.styleProperties=Object.assign(Object.assign({},CT.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});class SR extends PT{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"\u200b",_model_name:"StringModel"})}}class CR extends ET{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}}class kR extends SR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}}class ER extends CR{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class OR extends SR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}}class MR extends CR{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class TR extends SR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}}class DR extends CR{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}}class PR extends SR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}}class AR extends CR{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=yM(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,n)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){const t=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",t.toString())}update(e){if(void 0===e||e.updated_view!==this){this.textbox.value=this.model.get("value");let e=this.model.get("rows");null===e&&(e=""),this.textbox.setAttribute("rows",e),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class RR extends SR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}}class jR extends CR{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=yM(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,n)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return void 0!==e&&e.updated_view===this||(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),13===e.keyCode&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class IR extends RR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}}class NR extends jR{constructor(){super(...arguments),this.inputType="password"}}class LR extends RR{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}}class BR extends jR{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=yM(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;const t=this.isValid(this.model.get("value"));if(this.highlightValidState(t),void 0!==e&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;const n=this.model.get("options"),s=document.createDocumentFragment();for(const i of n){const e=document.createElement("option");e.value=i,s.appendChild(e)}this.datalist.replaceChildren(...s.children)}isValid(e){if(!0===this.model.get("ensure_option")){if(-1===this.model.get("options").indexOf(e))return!1}return!0}handleChanging(e){const t=e.target,n=this.isValid(t.value);this.highlightValidState(n),n&&super.handleChanging(e)}handleChanged(e){const t=e.target,n=this.isValid(t.value);this.highlightValidState(n),n&&super.handleChanged(e)}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle("jpwidgets-invalidComboValue",!e)}}class $R extends DT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}}$R.serializers=Object.assign(Object.assign({},DT.serializers),{value:{serialize:e=>e}});class FR extends lT{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",(()=>{this.fileInput.click()})),this.fileInput.addEventListener("click",(()=>{this.fileInput.value=""})),this.fileInput.addEventListener("change",(()=>{var e;const t=[];Array.from(null!==(e=this.fileInput.files)&&void 0!==e?e:[]).forEach((e=>{t.push(new Promise(((t,n)=>{const s=new FileReader;s.onload=()=>{const n=s.result;t({content:n,name:e.name,type:e.type,size:e.size,last_modified:e.lastModified})},s.onerror=()=>{n()},s.onabort=s.onerror,s.readAsArrayBuffer(e)})))})),Promise.all(t).then((e=>{this.model.set({value:e,error:""}),this.touch()})).catch((e=>{console.error("error in file upload: %o",e),this.model.set({error:e}),this.touch()}))})),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("value"),t=`${this.model.get("description")} (${e.length})`,n=this.model.get("icon");if(t.length||n.length){if(this.el.textContent="",n.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add("fa-"+n),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(FR.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(FR.class_map,"button_style",this.el)}}FR.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};const UR=n(56070).version,zR="1.0.0";class VR extends sT{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:zR,_view_module_version:zR})}}class qR extends lT{}function HR(e){return"execute_result"===e.output_type}function WR(e){return"display_data"===e.output_type}function KR(e){return"stream"===e.output_type}class GR{constructor(e={}){if(this._array=[],this._isDisposed=!1,this._changed=new f.Signal(this),e.values)for(const t of e.values)this._array.push(t);this._itemCmp=e.itemCmp||JR.itemCmp}get type(){return"List"}get changed(){return this._changed}get length(){return this._array.length}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,f.Signal.clearData(this),this.clear())}[Symbol.iterator](){return this._array[Symbol.iterator]()}get(e){return this._array[e]}set(e,t){const n=this._array[e];if(void 0===t)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,t)||(this._array[e]=t,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[n],newValues:[t]}))}push(e){const t=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),t}insert(e,t){e===this._array.length?this._array.push(t):pa.ArrayExt.insert(this._array,e,t),this._changed.emit({type:"add",oldIndex:-2,newIndex:e,oldValues:[],newValues:[t]})}removeValue(e){const t=this._itemCmp,n=pa.ArrayExt.findFirstIndex(this._array,(n=>t(n,e)));return this.remove(n),n}remove(e){const t=pa.ArrayExt.removeAt(this._array,e);if(void 0!==t)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[t]}),t}clear(){const e=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:e})}move(e,t){if(this.length<=1||e===t)return;const n=[this._array[e]];pa.ArrayExt.move(this._array,e,t),this._changed.emit({type:"move",oldIndex:e,newIndex:t,oldValues:n,newValues:n})}pushAll(e){const t=this.length;for(const n of e)this._array.push(n);return this._changed.emit({type:"add",oldIndex:-1,newIndex:t,oldValues:[],newValues:Array.from(e)}),this.length}insertAll(e,t){const n=e;for(const s of t)pa.ArrayExt.insert(this._array,e++,s);this._changed.emit({type:"add",oldIndex:-2,newIndex:n,oldValues:[],newValues:Array.from(t)})}removeRange(e,t){const n=this._array.slice(e,t);for(let s=e;s<t;s++)pa.ArrayExt.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:n,newValues:[]}),this.length}}var JR,YR,XR,ZR;!function(e){e.itemCmp=function(e,t){return e===t}}(JR||(JR={}));class QR{constructor(e={}){if(this._map=new Map,this._changed=new f.Signal(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||YR.itemCmp,e.values)for(const t in e.values)this._map.set(t,e.values[t])}get type(){return"Map"}get changed(){return this._changed}get isDisposed(){return this._isDisposed}get size(){return this._map.size}set(e,t){const n=this._map.get(e);if(void 0===t)throw Error("Cannot set an undefined value, use remove");const s=this._itemCmp;return void 0!==n&&s(n,t)||(this._map.set(e,t),this._changed.emit({type:n?"change":"add",key:e,oldValue:n,newValue:t})),n}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){const e=[];return this._map.forEach(((t,n)=>{e.push(n)})),e}values(){const e=[];return this._map.forEach(((t,n)=>{e.push(t)})),e}delete(e){const t=this._map.get(e);return this._map.delete(e)&&this._changed.emit({type:"remove",key:e,oldValue:t,newValue:void 0}),t}clear(){const e=this.keys();for(let t=0;t<e.length;t++)this.delete(e[t])}dispose(){this.isDisposed||(this._isDisposed=!0,f.Signal.clearData(this),this._map.clear())}}!function(e){e.itemCmp=function(e,t){return e===t}}(YR||(YR={}));class ej extends QR{constructor(e={}){super({itemCmp:_.JSONExt.deepEqual,values:e.values})}toJSON(){const e=Object.create(null),t=this.keys();for(const n of t){const t=this.get(n);void 0!==t&&(e[n]=_.JSONExt.deepCopy(t))}return e}}!function(e){class t extends v.Message{constructor(e,t){super(e),this.args=t}}e.ChangeMessage=t}(ej||(ej={}));class tj{constructor(e){this._changed=new f.Signal(this),this._raw={};const{data:t,metadata:n,trusted:s}=XR.getBundleOptions(e);this._data=new ej({values:t}),this._rawData=t,this._metadata=new ej({values:n}),this._rawMetadata=n,this.trusted=s;const i=e.value;for(const r in i)switch(r){case"data":case"metadata":break;default:this._raw[r]=XR.extract(i,r)}this.type=i.output_type,HR(i)?this.executionCount=i.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){this._data.dispose(),this._metadata.dispose(),f.Signal.clearData(this)}get data(){return this._rawData}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){const e={};for(const t in this._raw)e[t]=XR.extract(this._raw,t);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata}return delete e.transient,e}_updateObservable(e,t){const n=e.keys(),s=Object.keys(t);for(const i of n)-1===s.indexOf(i)&&e.delete(i);for(const i of s){const n=e.get(i),s=t[i];n!==s&&e.set(i,s)}}}!function(e){e.getData=function(e){return XR.getData(e)},e.getMetadata=function(e){return XR.getMetadata(e)}}(tj||(tj={})),function(e){function t(e){let t={};if(HR(e)||WR(e)||function(e){return"update_display_data"===e.output_type}(e))t=e.data;else if(KR(e))"stderr"===e.name?t["application/vnd.jupyter.stderr"]=e.text:t["application/vnd.jupyter.stdout"]=e.text;else if(function(e){return"error"===e.output_type}(e)){t["application/vnd.jupyter.error"]=e;const n=e.traceback.join("\n");t["application/vnd.jupyter.stderr"]=n||`${e.ename}: ${e.evalue}`}return function(e){const t=Object.create(null);for(const n in e)t[n]=s(e,n);return t}(t)}function n(e){const t=Object.create(null);if(HR(e)||WR(e))for(const n in e.metadata)t[n]=s(e.metadata,n);return t}function s(e,t){const n=e[t];return void 0===n||_.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}e.getData=t,e.getMetadata=n,e.getBundleOptions=function(e){return{data:t(e.value),metadata:n(e.value),trusted:!!e.trusted}},e.extract=s}(XR||(XR={}));class nj{constructor(e={}){if(this.clearNext=!1,this._lastStream="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new f.Signal(this),this._changed=new f.Signal(this),this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||nj.defaultContentFactory,this.list=new GR,e.values)for(const t of e.values){const e=this._add(t)-1;this.list.get(e).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;const t=this._trusted=e;for(let n=0;n<this.list.length;n++){const e=this.list.get(n),s=e.toJSON(),i=this._createItem({value:s,trusted:t});this.list.set(n,i),e.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),f.Signal.clearData(this))}get(e){return this.list.get(e)}set(e,t){t=_.JSONExt.deepCopy(t),ZR.normalize(t);const n=this._createItem({value:t,trusted:this._trusted});this.list.set(e,n)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}clear(e=!1){if(this._lastStream="",e)this.clearNext=!0;else{for(const e of this.list)e.dispose();this.list.clear()}}fromJSON(e){this.clear();for(const t of e)this._add(t)}toJSON(){return Array.from((0,pa.map)(this.list,(e=>e.toJSON())))}_add(e){const t=this._trusted;if(e=_.JSONExt.deepCopy(e),ZR.normalize(e),KR(e)&&this._lastStream&&e.name===this._lastName&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){this._lastStream+=e.text,this._lastStream=ZR.removeOverwrittenChars(this._lastStream),e.text=this._lastStream;const n=this._createItem({value:e,trusted:t}),s=this.length-1,i=this.list.get(s);return this.list.set(s,n),i.dispose(),this.length}KR(e)&&(e.text=ZR.removeOverwrittenChars(e.text));const n=this._createItem({value:e,trusted:t});return KR(e)?(this._lastStream=e.text,this._lastName=e.name):this._lastStream="",this.list.push(n)}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,t){switch(t.type){case"add":t.newValues.forEach((e=>{e.changed.connect(this._onGenericChange,this)}));break;case"remove":t.oldValues.forEach((e=>{e.changed.disconnect(this._onGenericChange,this)}));break;case"set":t.newValues.forEach((e=>{e.changed.connect(this._onGenericChange,this)})),t.oldValues.forEach((e=>{e.changed.disconnect(this._onGenericChange,this)}))}this._changed.emit(t)}_onGenericChange(e){let t,n=null;for(t=0;t<this.list.length&&(n=this.list.get(t),n!==e);t++);null!=n&&(this._stateChanged.emit(t),this._changed.emit({type:"set",newIndex:t,oldIndex:t,oldValues:[n],newValues:[n]}))}}!function(e){class t{createOutputModel(e){return new tj(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(nj||(nj={})),function(e){e.normalize=function(e){KR(e)&&Array.isArray(e.text)&&(e.text=e.text.join("\n"))},e.removeOverwrittenChars=function(e){return function(e){for(e=e.replace(/\r+\n/gm,"\n");e.search(/\r[^$]/g)>-1;){const t=e.match(/^(.*)\r+/m)[1];let n=e.match(/\r+(.*)$/m)[1];n+=t.slice(n.length,t.length),e=e.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,n)}return e}(function(e){let t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(e))}}(ZR||(ZR={}));var sj=n(22562);class ij{constructor(e){this._currentChanged=new f.Signal(this),this._deferred=null,this._isDisposed=!1,this._widgetAdded=new f.Signal(this),this._widgetUpdated=new f.Signal(this);const t=this._focusTracker=new E.FocusTracker,n=this._pool=new sj.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._deferred?Promise.resolve():this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),f.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){const t=this._deferred;return t?(this._deferred=null,this._pool.restore(t)):e?this._pool.restore(e):void console.warn("No options provided to restore the tracker.")}defer(e){this._deferred=e}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}var rj=n(49623);function oj(e){return e.replace("-","_")}class aj{constructor(e){e=e||{},this._defaults={domain:"messages",locale:document.documentElement.getAttribute("lang")||"en",pluralFunc:function(e){return{nplurals:2,plural:1!=e?1:0}},contextDelimiter:String.fromCharCode(4),stringsPrefix:""},this._locale=(e.locale||this._defaults.locale).replace("_","-"),this._domain=oj(e.domain||this._defaults.domain),this._contextDelimiter=e.contextDelimiter||this._defaults.contextDelimiter,this._stringsPrefix=e.stringsPrefix||this._defaults.stringsPrefix,this._pluralFuncs={},this._dictionary={},this._pluralForms={},e.messages&&(this._dictionary[this._domain]={},this._dictionary[this._domain][this._locale]=e.messages),e.pluralForms&&(this._pluralForms[this._locale]=e.pluralForms)}setContextDelimiter(e){this._contextDelimiter=e}getContextDelimiter(){return this._contextDelimiter}setLocale(e){this._locale=e.replace("_","-")}getLocale(){return this._locale}setDomain(e){this._domain=oj(e)}getDomain(){return this._domain}setStringsPrefix(e){this._stringsPrefix=e}getStringsPrefix(){return this._stringsPrefix}static strfmt(e,...t){return e.replace(/%%/g,"%% ").replace(/%(\d+)/g,(function(e,n){return t[n-1]})).replace(/%% /g,"%")}loadJSON(e,t){if(!e[""]||!e[""].language||!e[""].pluralForms)throw new Error(`Wrong jsonData, it must have an empty key ("") with "language" and "pluralForms" information: ${e}`);t=oj(t);let n=e[""],s=JSON.parse(JSON.stringify(e));delete s[""],this.setMessages(t||this._defaults.domain,n.language,s,n.pluralForms)}__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return this.dcnpgettext("","",e,"",0,...t)}ngettext(e,t,n,...s){return this.dcnpgettext("","",e,t,n,...s)}pgettext(e,t,...n){return this.dcnpgettext("",e,t,"",0,...n)}npgettext(e,t,n,s,...i){return this.dcnpgettext("",e,t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){let o;e=oj(e)||this._domain;let a=t?t+this._contextDelimiter+n:n,l={pluralForm:!1},c=!1,u=this._locale,h=this.expandLocale(this._locale);for(let p in h)if(u=h[p],c=this._dictionary[e]&&this._dictionary[e][u]&&this._dictionary[e][u][a],c=s?c&&this._dictionary[e][u][a].length>1:c&&1==this._dictionary[e][u][a].length,c){l.locale=u;break}if(c?o=this._dictionary[e][u][a]:(o=[n],l.pluralFunc=this._defaults.pluralFunc),!s)return this.t(o,i,l,...r);l.pluralForm=!0;let d=c?o:[n,s];return this.t(d,i,l,...r)}expandLocale(e){let t=[e],n=e.lastIndexOf("-");for(;n>0;)e=e.slice(0,n),t.push(e),n=e.lastIndexOf("-");return t}getPluralFunc(e){if(!new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+").test(e))throw new Error(aj.strfmt('The plural form "%1" is not valid',e));return new Function("n","let plural, nplurals; "+e+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}removeContext(e){if(-1!==e.indexOf(this._contextDelimiter)){return e.split(this._contextDelimiter)[1]}return e}t(e,t,n,...s){if(!n.pluralForm)return this._stringsPrefix+aj.strfmt(this.removeContext(e[0]),...s);let i;return n.pluralFunc?i=n.pluralFunc(t):(this._pluralFuncs[n.locale||""]||(this._pluralFuncs[n.locale||""]=this.getPluralFunc(this._pluralForms[n.locale||""])),i=this._pluralFuncs[n.locale||""](t)),(void 0===!i.plural||i.plural>i.nplurals||e.length<=i.plural)&&(i.plural=0),this._stringsPrefix+aj.strfmt(this.removeContext(e[i.plural]),...[t].concat(s))}setMessages(e,t,n,s){e=oj(e),s&&(this._pluralForms[t]=s),this._dictionary[e]||(this._dictionary[e]={}),this._dictionary[e][t]=n}}const lj=new class{constructor(e){this.languageCode="en",this._languageBundle=e}load(e){return this._languageBundle}}(new class{__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return aj.strfmt(e,...t)}ngettext(e,t,n,...s){return aj.strfmt(1==n?e:t,...[n].concat(s))}pgettext(e,t,...n){return aj.strfmt(t,...n)}npgettext(e,t,n,s,...i){return this.ngettext(t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){return this.ngettext(n,s,i,...r)}});n(38520);new _.Token("@jupyterlab/translation:ITranslatorConnector","A service to connect to the server translation endpoint.");sj.DataConnector;new _.Token("@jupyterlab/translation:ITranslator","A service to translate strings.");const cj="jp-OutputArea-child",uj="jp-OutputArea-output",hj="jp-OutputArea-prompt";class dj extends E.Widget{constructor(e){var t,n,s,i;super(),this.outputLengthChanged=new f.Signal(this),this._onIOPub=e=>{const t=this.model,n=e.header.msg_type;let s;const i=(e.content.transient||{}).display_id;let r;switch(n){case"execute_result":case"display_data":case"stream":case"error":s={...e.content,output_type:n},t.add(s);break;case"clear_output":{const n=e.content.wait;t.clear(n);break}case"update_display_data":if(s={...e.content,output_type:"display_data"},r=this._displayIdMap.get(i),r)for(const e of r)t.set(e,s)}i&&"display_data"===n&&(r=this._displayIdMap.get(i)||[],r.push(t.length-1),this._displayIdMap.set(i,r))},this._onExecuteReply=e=>{const t=this.model,n=e.content;if("ok"!==n.status)return;const s=n&&n.payload;if(!s||!s.length)return;const i=s.filter((e=>"page"===e.source));if(!i.length)return;const r={output_type:"display_data",data:JSON.parse(JSON.stringify(i[0])).data,metadata:{}};t.add(r)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new f.Signal(this),this._toggleScrolling=new f.Signal(this),this._outputTracker=new ij({namespace:_.UUID.uuid4()}),this._inputHistoryScope="global",super.layout=new E.PanelLayout,this.addClass("jp-OutputArea"),this.contentFactory=null!==(t=e.contentFactory)&&void 0!==t?t:dj.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=null!==(n=e.maxNumberOutputs)&&void 0!==n?n:1/0,this._translator=null!==(s=e.translator)&&void 0!==s?s:lj,this._inputHistoryScope=null!==(i=e.inputHistoryScope)&&void 0!==i?i:"global";const r=this.model=e.model;for(let o=0;o<Math.min(r.length,this._maxNumberOutputs+1);o++){const e=r.get(o);this._insertOutput(o,e)}r.changed.connect(this.onModelChanged,this),r.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=t=>{rj.KernelMessage.isInputRequestMsg(t)&&this.onInputRequest(t,e)})}get inputRequested(){return this._inputRequested}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0)return void console.warn("OutputArea.maxNumberOutputs must be strictly positive.");const t=this._maxNumberOutputs;this._maxNumberOutputs=e,t<e&&this._showTrimmedOutputs(t)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,t){switch(t.type){case"add":this._insertOutput(t.newIndex,t.newValues[0]);break;case"remove":if(this.widgets.length)if(0===this.model.length)this._clear();else{const e=t.oldIndex;for(let n=0;n<t.oldValues.length&&e<this.widgets.length;++n){const t=this.widgets[e];t.parent=null,t.dispose()}this._moveDisplayIdIndices(e,t.oldValues.length),this._preventHeightChangeJitter()}break;case"set":this._setOutput(t.newIndex,t.newValues[0])}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}_addPromptOverlay(){const e=document.createElement("div");e.className="jp-OutputArea-promptOverlay";const t=this._translator.load("jupyterlab");e.title=t.__("Toggle output scrolling"),e.addEventListener("click",(()=>{this._toggleScrolling.emit()})),this.node.appendChild(e)}_moveDisplayIdIndices(e,t){this._displayIdMap.forEach((n=>{const s=e+t;for(let i=n.length-1;i>=0;--i){const r=n[i];r>=e&&r<s?n.splice(i,1):r>=s&&(n[i]-=t)}}))}onStateChanged(e,t){const n=Math.min(this.model.length,this._maxNumberOutputs);if(t){if(t>=this._maxNumberOutputs)return;this._setOutput(t,this.model.get(t))}else for(let s=0;s<n;s++)this._setOutput(s,this.model.get(s));this.outputLengthChanged.emit(n)}_clear(){if(!this.widgets.length)return;const e=this.widgets.length;for(let t=0;t<e;t++){const e=this.widgets[0];e.parent=null,e.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){const e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout((()=>{this.isDisposed||(this.node.style.minHeight="")}),50)}onInputRequest(e,t){const n=this.contentFactory,s=e.content.prompt,i=e.content.password,r=new E.Panel;r.addClass(cj),r.addClass("jp-OutputArea-stdin-item");const o=n.createOutputPrompt();o.addClass(hj),r.addWidget(o);const a=n.createStdin({parent_header:e.header,prompt:s,password:i,future:t,translator:this._translator,inputHistoryScope:this._inputHistoryScope});a.addClass(uj),r.addWidget(a),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit();const l=a.node.getElementsByTagName("input")[0];a.value.then((e=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),r.addClass("jp-OutputArea-stdin-hiding"),this.model.add({output_type:"stream",name:"stdin",text:e+"\n"}),l.focus(),window.setTimeout((()=>{const e=document.activeElement;r.dispose(),e&&e instanceof HTMLElement&&e.focus()}),500)})),this.layout.addWidget(r)}_setOutput(e,t){if(e>=this._maxNumberOutputs)return;const n=this.layout.widgets[e],s=n.widgets?n.widgets[1]:n,i=this.rendermime.preferredMimeType(t.data,t.trusted?"any":"ensure");gj.currentPreferredMimetype.get(s)===i&&dj.isIsolated(i,t.metadata)===s instanceof gj.IsolatedRenderer?s.renderModel(t):(this.layout.widgets[e].dispose(),this._insertOutput(e,t))}_insertOutput(e,t){if(e>this._maxNumberOutputs)return;const n=this.layout;if(e===this._maxNumberOutputs){const t=new gj.TrimmedOutputs(this._maxNumberOutputs,(()=>{const e=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(e)}));n.insertWidget(e,this._wrappedOutput(t))}else{let s=this.createOutputItem(t);s?s.toggleClass("jp-OutputArea-executeResult",null!==t.executionCount):s=new E.Widget,this._outputTracker.has(s)||this._outputTracker.add(s),n.insertWidget(e,s)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let t=e;t<this.model.length;t++)this._insertOutput(t,this.model.get(t));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){const t=this.createRenderedMimetype(e);return t?this._wrappedOutput(t,e.executionCount):null}createRenderedMimetype(e){const t=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!t)return null;let n=this.rendermime.createRenderer(t);return!0===dj.isIsolated(t,e.metadata)&&(n=new gj.IsolatedRenderer(n)),gj.currentPreferredMimetype.set(n,t),n.renderModel(e).catch((e=>{const t=document.createElement("pre"),s=this._translator.load("jupyterlab");t.textContent=s.__("Javascript Error: %1",e.message),n.node.appendChild(t),n.node.className="lm-Widget jp-RenderedText",n.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")})),n}_wrappedOutput(e,t=null){const n=new gj.OutputPanel;n.addClass(cj);const s=this.contentFactory.createOutputPrompt();return s.executionCount=t,s.addClass(hj),n.addWidget(s),e.addClass(uj),n.addWidget(e),n}}!function(e){e.execute=async function(e,t,n,s){var i;let r=!0;s&&Array.isArray(s.tags)&&-1!==s.tags.indexOf("raises-exception")&&(r=!1);const o={code:e,stop_on_error:r},a=null===(i=n.session)||void 0===i?void 0:i.kernel;if(!a)throw new Error("Session has no kernel.");const l=a.requestExecute(o,!1,s);return t.future=l,l.done},e.isIsolated=function(e,t){const n=t[e];return n&&void 0!==n.isolated?!!n.isolated:!!t.isolated};class t{createOutputPrompt(){return new pj}createStdin(e){return new fj(e)}}e.ContentFactory=t,e.defaultContentFactory=new t}(dj||(dj={}));class pj extends E.Widget{constructor(){super(),this._executionCount=null,this.addClass("jp-OutputPrompt")}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,this.node.textContent=null===e?"":`[${e}]:`}}class fj extends E.Widget{static _historyIx(e,t){const n=fj._history.get(e);if(!n)return;const s=n.length;return t<=0?s+t:void 0}static _historyAt(e,t){const n=fj._history.get(e);if(!n)return;const s=n.length,i=fj._historyIx(e,t);return void 0!==i&&i<s?n[i]:void 0}static _historyPush(e,t){const n=fj._history.get(e);n.push(t),n.length>1e3&&n.shift()}static _historySearch(e,t,n,s=!0){const i=fj._history.get(e),r=i.length,o=fj._historyIx(e,n),a=e=>-1!==e.search(t);if(void 0!==o)if(s){if(0===o)return;const e=i.slice(0,o).findLastIndex(a);if(-1!==e)return e-r}else{if(o>=r-1)return;const e=i.slice(o+1).findIndex(a);if(-1!==e)return e-r+o+1}}constructor(e){var t;super({node:gj.createInputWidgetNode(e.prompt,e.password)}),this._promise=new _.PromiseDelegate,this._resolved=!1,this.addClass("jp-Stdin"),this._future=e.future,this._historyIndex=0,this._historyKey="session"===e.inputHistoryScope?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=(null!==(t=e.translator)&&void 0!==t?t:lj).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],this._input.placeholder=this._trans.__("\u2191\u2193 for history. Search history with c-\u2191/c-\u2193"),fj._history.has(this._historyKey)||fj._history.set(this._historyKey,[])}get value(){return this._promise.promise.then((()=>this._value))}handleEvent(e){if(this._resolved)return void e.preventDefault();const t=this._input;if("keydown"===e.type)if("Enter"===e.key)this.resetSearch(),this._future.sendInputReply({status:"ok",value:t.value},this._parentHeader),this._password?this._value+="\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7":(this._value+=t.value,fj._historyPush(this._historyKey,t.value)),this._resolved=!0,this._promise.resolve(void 0);else if("Escape"===e.key)this.resetSearch(),t.blur();else if(!e.ctrlKey||"ArrowUp"!==e.key&&"ArrowDown"!==e.key){if("ArrowUp"===e.key){this.resetSearch();const n=fj._historyAt(this._historyKey,this._historyIndex-1);n&&(0===this._historyIndex&&(this._valueCache=t.value),this._setInputValue(n),--this._historyIndex,e.preventDefault())}else if("ArrowDown"===e.key)if(this.resetSearch(),0===this._historyIndex);else if(-1===this._historyIndex)this._setInputValue(this._valueCache),++this._historyIndex;else{const e=fj._historyAt(this._historyKey,this._historyIndex+1);e&&(this._setInputValue(e),++this._historyIndex)}}else{""===this._historyPat&&(this._historyPat=t.value);const n="ArrowUp"===e.key,s=fj._historySearch(this._historyKey,this._historyPat,this._historyIndex,n);if(void 0!==s){const n=fj._historyAt(this._historyKey,s);void 0!==n&&(0===this._historyIndex&&(this._valueCache=t.value),this._setInputValue(n),this._historyIndex=s,e.preventDefault())}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}}var gj;fj._history=new Map,function(e){e.createInputWidgetNode=function(e,t){const n=document.createElement("div"),s=document.createElement("pre");s.className="jp-Stdin-prompt",s.textContent=e;const i=document.createElement("input");return i.className="jp-Stdin-input",t&&(i.type="password"),n.appendChild(s),s.appendChild(i),n};class t extends E.Widget{constructor(e){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=e;const t=this.node;t.frameBorder="0",t.scrolling="auto",t.addEventListener("load",(()=>{t.contentDocument.open(),t.contentDocument.write(this._wrapped.node.innerHTML),t.contentDocument.close();const e=t.contentDocument.body;t.style.height=`${e.scrollHeight}px`,t.heightChangeObserver=new ResizeObserver((()=>{t.style.height=`${e.scrollHeight}px`})),t.heightChangeObserver.observe(e)}))}renderModel(e){return this._wrapped.renderModel(e)}}e.IsolatedRenderer=t,e.currentPreferredMimetype=new q.AttachedProperty({name:"preferredMimetype",create:e=>""});class n extends E.Panel{constructor(e){super(e)}_onContext(e){this.node.focus()}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(e){super.onAfterDetach(e),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}e.OutputPanel=n;class s extends E.Widget{constructor(e,t){const n=document.createElement("div"),s=`The first ${e} are displayed`;n.insertAdjacentHTML("afterbegin",`<a title=${s}>\n          <pre>Show more outputs</pre>\n        </a>`),super({node:n}),this._onClick=t,this.addClass("jp-TrimmedOutputs"),this.addClass("jp-RenderedHTMLCommon")}handleEvent(e){"click"===e.type&&this._onClick(e)}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("click",this)}onBeforeDetach(e){super.onBeforeDetach(e),this.node.removeEventListener("click",this)}}e.TrimmedOutputs=s}(gj||(gj={}));class mj extends VR{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new nj({trusted:!0}),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}get outputs(){return this._outputs}clear_output(e=!1){this._outputs.clear(e)}setOutputs(e,t,n){n&&n.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class _j extends qR{_createElement(e){return this.luminoWidget=new aT({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}render(){super.render(),this._outputView=new dj({rendermime:this.model.widget_manager.renderMime,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}var vj=n(79742);function bj(e){const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t.buffer}function yj(e){return(0,vj.fromByteArray)(new Uint8Array(e))}function wj(e){return(0,vj.toByteArray)(e).buffer}const xj=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function Sj(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}var Cj=n(55257),kj=n.n(Cj);const Ej=ZM.split(".",1)[0];class Oj{constructor(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}setViewOptions(e={}){return e}create_view(e,t={}){const n=yM(),s=e.state_change=e.state_change.then((async()=>{const s=e.get("_view_name"),i=e.get("_view_module");try{const r=new(await this.loadViewClass(s,i,e.get("_view_module_version")))({model:e,options:this.setViewOptions(t)});return r.listenTo(e,"destroy",r.remove),await r.render(),r.once("remove",(()=>{e.views&&delete e.views[n]})),r}catch(rU){console.error(`Could not create a view for model id ${e.model_id}`);const r=new(_T(rU,`Failed to create view for '${s}' from module '${i}' with model '${e.name}' from module '${e.module}'`)),o=new vT({model:r,options:this.setViewOptions(t)});return await o.render(),o}}));return e.views&&(e.views[n]=s),s}callbacks(e){return{}}async get_model(e){const t=this._models[e];if(void 0===t)throw new Error("widget model not found");return t}has_model(e){return void 0!==this._models[e]}handle_comm_open(e,t){const n=(t.metadata||{}).version||"";if(n.split(".",1)[0]!==Ej){const e=`Wrong widget protocol version: received protocol version '${n}', but was expecting major version '${Ej}'`;return console.error(e),Promise.reject(e)}const s=t.content.data,i=s.buffer_paths||[],r=t.buffers||[];return SM(s.state,i,r),this.new_model({model_name:s.state._model_name,model_module:s.state._model_module,model_module_version:s.state._model_module_version,comm:e},s.state).catch(xM("Could not create a model.",!0))}new_widget(e,t={}){let n;if(void 0===e.view_name||void 0===e.view_module||void 0===e.view_module_version)return Promise.reject("new_widget(...) must be given view information in the options.");n=e.comm?Promise.resolve(e.comm):this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:ZM});const s=Object.assign({},e);return n.then((e=>{s.comm=e;return this.new_model(s,t).then((e=>(e.sync("create",e),e)))}),(()=>(s.model_id||(s.model_id=yM()),this.new_model(s,t))))}register_model(e,t){this._models[e]=t,t.then((t=>{t.once("comm:close",(()=>{delete this._models[e]}))}))}async new_model(e,t={}){var n,s;const i=null!==(n=e.model_id)&&void 0!==n?n:null===(s=e.comm)||void 0===s?void 0:s.comm_id;if(!i)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");e.model_id=i;const r=this._make_model(e,t);return this.register_model(i,r),await r}async _loadFromKernel(){let e,t;try{const n=await this._create_comm("jupyter.widget.control",yM(),{},{version:"1.0.0"});await new Promise(((s,i)=>{n.on_msg((n=>{e=n.content.data,"update_states"===e.method?(t=(n.buffers||[]).map((e=>e instanceof DataView?e:new DataView(e instanceof ArrayBuffer?e:e.buffer))),s(null)):console.warn(`\n              Unknown ${e.method} message on the Control channel\n            `)})),n.on_close((()=>i("Control comm was closed too early"))),n.send({method:"request_states"},{}),setTimeout((()=>i("Control comm did not respond in time")),4e3)})),n.close()}catch(Hn){return console.warn('Failed to fetch ipywidgets through the "jupyter.widget.control" comm channel, fallback to fetching individual model state. Reason:',Hn),this._loadFromKernelModels()}const n=e.states,s={},i={};for(let o=0;o<e.buffer_paths.length;o++){const[n,...r]=e.buffer_paths[o],a=t[o];s[n]||(s[n]=[],i[n]=[]),s[n].push(r),i[n].push(a)}const r=await Promise.all(Object.keys(n).map((async e=>({widget_id:e,comm:this.has_model(e)?void 0:await this._create_comm("jupyter.widget",e)}))));await Promise.all(r.map((async({widget_id:e,comm:t})=>{const r=n[e];e in s&&SM(r,s[e],i[e]);try{if(t)await this.new_model({model_name:r.model_name,model_module:r.model_module,model_module_version:r.model_module_version,model_id:e,comm:t},r.state);else{const t=await this.get_model(e),n=await t.constructor._deserialize_state(r.state,this);t.set_state(n)}}catch(Hn){console.error(Hn)}})))}async _loadFromKernelModels(){const e=await this._get_comm_info(),t=await Promise.all(Object.keys(e).map((async e=>{if(this.has_model(e))return;const t=await this._create_comm(this.comm_target_name,e);let n="";const s=new _.PromiseDelegate;return t.on_msg((e=>{if(e.parent_header.msg_id===n&&"comm_msg"===e.header.msg_type&&"update"===e.content.data.method){const n=e.content.data,i=n.buffer_paths||[],r=e.buffers||[];SM(n.state,i,r),s.resolve({comm:t,msg:e})}})),n=t.send({method:"request_state"},this.callbacks(void 0)),s.promise})));await Promise.all(t.map((async e=>{if(!e)return;const t=e.msg.content;await this.new_model({model_name:t.data.state._model_name,model_module:t.data.state._model_module,model_module_version:t.data.state._model_module_version,comm:e.comm},t.data.state)})))}async _make_model(e,t={}){const n=e.model_id,s=this.loadModelClass(e.model_name,e.model_module,e.model_module_version);let i;const r=(e,t)=>new(_T(e,t));try{i=await s}catch(Hn){const t="Could not instantiate widget";return console.error(t),r(Hn,t)}if(!i){const t="Could not instantiate widget";console.error(t);return r(new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`),t)}let o;try{const s=await i._deserialize_state(t,this);o=new i(s,{widget_manager:this,model_id:n,comm:e.comm})}catch(Hn){console.error(Hn);o=r(Hn,`Model class '${e.model_name}' from module '${e.model_module}' is loaded but can not be instantiated`)}return o.name=e.model_name,o.module=e.model_module,o}clear_state(){return wM(this._models).then((e=>{Object.keys(e).forEach((t=>e[t].close())),this._models=Object.create(null)}))}get_state(e={}){const t=Object.keys(this._models).map((e=>this._models[e]));return Promise.all(t).then((t=>Mj(t,e)))}set_state(e){if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";const t=e.state;return this._get_comm_info().then((e=>Promise.all(Object.keys(t).map((n=>{const s={base64:wj,hex:bj},i=t[n],r=i.state;if(i.buffers){const e=i.buffers.map((e=>e.path)),t=i.buffers.map((e=>new DataView(s[e.encoding](e.data))));SM(i.state,e,t)}if(this.has_model(n))return this.get_model(n).then((e=>e.constructor._deserialize_state(r||{},this).then((t=>(e.set_state(t),e)))));const o={model_id:n,model_name:i.model_name,model_module:i.model_module,model_module_version:i.model_module_version};return Object.prototype.hasOwnProperty.call(e,"model_id")?this._create_comm(this.comm_target_name,n).then((e=>(o.comm=e,this.new_model(o)))):this.new_model(o,r)})))))}disconnect(){Object.keys(this._models).forEach((e=>{this._models[e].then((e=>{e.comm_live=!1}))}))}resolveUrl(e){return Promise.resolve(e)}inline_sanitize(e){const t=function(e){const t=[];let n,s=null,i=null,r=null,o=0;/`/.test(e)?(e=e.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":"$"))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(xj);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=Sj(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=Sj(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:"$"===e||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=Sj(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(e),n=(s=t.text,kj()(s,{allowedTags:["a","abbr","b","code","em","i","img","li","ol","span","strong","ul"],allowedAttributes:{"*":["aria-*","class","style","title"],a:["href"],img:["src"],style:["media","type"]}}));var s,i,r;return i=n,r=t.math,i.replace(/@@(\d+)@@/g,((e,t)=>{let n=r[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}async loadModelClass(e,t,n){try{const s=this.loadClass(e,t,n);return await s,s}catch(Hn){console.error(Hn);return _T(Hn,`Failed to load model class '${e}' from module '${t}'`)}}async loadViewClass(e,t,n){try{const s=this.loadClass(e,t,n);return await s,s}catch(Hn){console.error(Hn);return bT(Hn,`Failed to load view class '${e}' from module '${t}'`)}}filterExistingModelState(e){let t=e.state;return t=Object.keys(t).filter((e=>!this.has_model(e))).reduce(((e,n)=>(e[n]=t[n],e)),{}),Object.assign(Object.assign({},e),{state:t})}}function Mj(e,t={}){const n={};return e.forEach((e=>{const s=e.model_id,i=EM(e.serialize(e.get_state(t.drop_defaults))),r=i.buffers.map(((e,t)=>({data:yj(e),path:i.buffer_paths[t],encoding:"base64"})));n[s]={model_name:e.name,model_module:e.module,model_module_version:e.get("_model_module_version"),state:i.state},r.length>0&&(n[s].buffers=r)})),{version_major:2,version_minor:0,state:n}}var Tj;function Dj(e){return"function"==typeof e.iter?e.iter():new Aj(e)}function Pj(e,t){for(var n,s=0,i=Dj(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}!function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(Tj||(Tj={}));var Aj=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();function Rj(){return new jj}var jj=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var Ij;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=Ij.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(Ij||(Ij={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();var Nj=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var Lj;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(Lj||(Lj={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();var Bj,$j=function(){function e(e){this._root=new Bj.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=Bj.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=Bj.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return Bj.iterItems(this._root)},e.prototype.retro=function(){return Bj.retroItems(this._root)},e.prototype.slice=function(e,t){return Bj.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return Bj.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return Bj.itemAt(this._root,e)},e.prototype.has=function(e,t){return Bj.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return Bj.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return Bj.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=Bj.insertItem(this._root,e,this.cmp);return this._root=Bj.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;Pj(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=Bj.deleteItem(this._root,e,t);return this._root=Bj.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=Bj.removeItem(this._root,e);return this._root=Bj.maybeExtractRoot(this._root),t},e.prototype.clear=function(){Bj.clear(this._root),this._root=new Bj.LeafNode},e}();!function(e){e.from=function(t,n){var s=new e(n);return s.assign(t),s}}($j||($j={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function s(e){for(;0===e.type;)e=e.children[0];return e}function i(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}function r(e){0===e.type?(Pj(e.children,r),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.LeafNode=n,e.firstLeaf=s,e.lastLeaf=i,e.iterItems=function(e){var t=s(e);return new l(t,0,-1)},e.retroItems=function(e){var t=i(e);return new c(t,t.size-1,-1)},e.sliceItems=function(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var s=Math.max(0,n-t);if(0===s)return Rj();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new l(e,t,s)},e.retroSliceItems=function(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var s=Math.max(0,t-n);if(0===s)return Rj();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new c(e,t,s)},e.itemAt=function(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){for(;0===e.type;){var n=u(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}},e.hasItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}return d(e.items,t,n)>=0},e.indexOf=function(e,t,n){for(var s=0;0===e.type;){var i=h(e.items,t,n);i>0&&(s+=e.sizes[i-1]),e=e.children[i]}var r=d(e.items,t,n);return r>=0?s+r:-s+r},e.getItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}var i=d(e.items,t,n);return i>=0?e.items[i]:void 0},e.insertItem=function e(t,n,s){if(1===t.type){var i,r=d(t.items,n,s);return r>=0?(i=t.items[r],t.items[r]=n):(i=void 0,Tj.insert(t.items,-r-1,n)),i}var a=h(t.items,n,s),l=t.children[a],c=l.size,u=e(l,n,s),g=l.size;if(t.items[a]=l.items[0],c===g)return u;if(l.width>o){var m=f(l);Tj.insert(t.children,a+1,m),Tj.insert(t.items,a+1,m.items[0])}return p(t,a),u},e.deleteItem=function e(t,n,s){if(1===t.type){var i=d(t.items,n,s);if(i<0)return;return Tj.removeAt(t.items,i)}var r=h(t.items,n,s),o=t.children[r],l=o.size,c=e(o,n,s);return l===o.size||(t.items[r]=o.items[0],o.width<a&&(r=g(t,r)),p(t,r)),c},e.removeItem=function e(t,n){if(n<0&&(n+=t.size),!(n<0||n>=t.size)){if(1===t.type)return Tj.removeAt(t.items,n);var s=u(t.sizes,n);s>0&&(n-=t.sizes[s]);var i=t.children[s],r=e(i,n);return t.items[s]=i.items[0],i.width<a&&(s=g(t,s)),p(t,s),r}},e.clear=r,e.maybeSplitRoot=function(e){if(e.width<=o)return e;var n=new t,s=f(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+s.size,n.children[0]=e,n.children[1]=s,n.items[0]=e.items[0],n.items[1]=s.items[0],n},e.maybeExtractRoot=function(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return r(e),t};var o=32,a=o>>1,l=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),c=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function u(e,t){for(var n=e.length,s=0;s<n;++s)if(e[s]>t)return s;return n-1}function h(e,t,n){for(var s=e.length,i=1;i<s;++i)if(n(e[i],t)>0)return i-1;return s-1}function d(e,t,n){for(var s=e.length,i=0;i<s;++i){var r=n(e[i],t);if(0===r)return i;if(r>0)return-i-1}return-s-1}function p(e,t){for(var n=e.sizes,s=e.children,i=t>0?n[t-1]:0,r=s.length;t<r;++t)i=n[t]=i+s[t].size;n.length=s.length}function f(e){if(1===e.type){for(var s=new n,i=e.items,r=s.items,o=a,l=i.length;o<l;++o)r.push(i[o]);return i.length=a,e.next&&(e.next.prev=s),s.next=e.next,s.prev=e,e.next=s,s}var c=new t,u=e.children,h=c.children;for(o=a,l=u.length;o<l;++o)h.push(u[o]);u.length=a;var d=e.items,f=c.items;for(o=a,l=d.length;o<l;++o)f.push(d[o]);return d.length=a,p(e,a),p(c,0),c}function g(e,t){var n,s,i,o,l,c,u=e.children[t],h=0===t?e.children[t+1]:e.children[t-1],d=0===t,f=1===u.type,g=h.width>a;if(f&&g&&d){var m=h;return(_=u).items.push(m.items.shift()),e.items[t+1]=m.items[0],t}if(f&&g&&!d){m=h;return(_=u).items.unshift(m.items.pop()),e.items[t]=_.items[0],t-1}if(f&&!g&&d){var _=u;return(n=(m=h).items).unshift.apply(n,_.items),Tj.removeAt(e.children,t),Tj.removeAt(e.items,t+1),_.prev&&(_.prev.next=m),m.prev=_.prev,r(_),t}if(f&&!g&&!d){_=u;return(s=(m=h).items).push.apply(s,_.items),Tj.removeAt(e.children,t),Tj.removeAt(e.items,t),_.next&&(_.next.prev=m),m.next=_.next,r(_),t-1}if(!f&&g&&d){m=h;return(_=u).children.push(m.children.shift()),_.items.push(m.items.shift()),e.items[t+1]=m.items[0],p(_,_.width-1),p(m,0),t}if(!f&&g&&!d){m=h;return(_=u).children.unshift(m.children.pop()),_.items.unshift(m.items.pop()),e.items[t]=_.items[0],p(_,0),p(m,m.width-1),t-1}if(!f&&!g&&d){_=u;return(i=(m=h).children).unshift.apply(i,_.children),(o=m.items).unshift.apply(o,_.items),Tj.removeAt(e.children,t),Tj.removeAt(e.items,t+1),p(m,0),_.children.length=0,r(_),t}if(!f&&!g&&!d){_=u;return(l=(m=h).children).push.apply(l,_.children),(c=m.items).push.apply(c,_.items),Tj.removeAt(e.children,t),Tj.removeAt(e.items,t),p(m,0),_.children.length=0,r(_),t-1}throw"unreachable"}}(Bj||(Bj={}));var Fj,Uj=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),Pj(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new Fj.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new Fj.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof Fj.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new Fj.LinkedListNode(this,e),s=t,i=s.prev;return n.next=s,n.prev=i,s.prev=n,i.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof Fj.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new Fj.LinkedListNode(this,e),s=t,i=s.next;return n.next=i,n.prev=s,s.next=n,i.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof Fj.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();!function(e){e.from=function(t){var n=new e;return n.assign(t),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var s=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=s;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=i}(Uj||(Uj={})),function(e){var t=function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t};e.LinkedListNode=t}(Fj||(Fj={}));var zj=function(e,t){return zj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zj(e,t)};var Vj,qj=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zj(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0}}(qj);!function(e){function t(e,t){var n=s.get(e);if(n&&0!==n.length){var i,o=function(e,t){for(var n,s=0,i=Dj(e);void 0!==(n=i.next());)if(!t(n,s++))return!1;return!0}("function"==typeof(i=n).retro?i.retro():new Nj(i),(function(n){return!n||function(e,t,n){var s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){r(i)}return s}(n,e,t)}));o&&u(e,t)}else u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){if(t.isConflatable){var s=function(e,t){for(var n,s=0,i=Dj(e);void 0!==(n=i.next());)if(t(n,s++))return!0;return!1}(n,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));s||h(e,t)}else h(e,t)},e.installMessageHook=function(e,t){var n=s.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):s.set(e,[t]))},e.removeMessageHook=function(e,t){var n=s.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(n))}},e.clearData=function(e){var t=s.get(e);t&&t.length>0&&(Tj.fill(t,null),p(t)),Pj(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){a||0===o||(c(o),a=!0,d(),a=!1)},e.getExceptionHandler=function(){return r},e.setExceptionHandler=function(e){var t=r;return r=e,t};var n=new Uj,s=new WeakMap,i=new Set,r=function(e){console.error(e)},o=0,a=!1,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,c="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(n){r(n)}}function h(e,t){n.addLast({handler:e,msg:t}),0===o&&(o=l(d))}function d(){if(o=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var s=n.removeFirst();if(s===e)return;s.handler&&s.msg&&t(s.handler,s.msg)}}}function p(e){0===i.size&&l(f),i.add(e)}function f(){i.forEach(g),i.clear()}function g(e){Tj.removeAllWhere(e,m)}function m(e){return null===e}}(Vj||(Vj={}));class Hj{static reg(e){return new RegExp("^"+e+"$","i")}}Hj.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"},Hj.B={angle:`(${Hj.N.number}(deg|rad|grad|turn)|0)`,frequency:`${Hj.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${Hj.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${Hj.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${Hj.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${Hj.N.number}%`,percentage_pos:`${Hj.N.number_pos}%`,percentage_zero_hundred:`${Hj.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${Hj.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},Hj.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},Hj._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${Hj.N.integer_zero_ff}|${Hj.N.number_zero_one}|${Hj.B.percentage_zero_hundred})\s*\)`},Hj._C={alpha:`${Hj.N.integer_zero_ff}|${Hj.N.number_zero_one}|${Hj.B.percentage_zero_hundred}`,alphavalue:Hj.N.number_zero_one,bg_position:`((${Hj.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${Hj.B.length_pos}|${Hj.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${Hj.B.length}`,bottom:`${Hj.B.length}|auto`,color:`${Hj._COLOR.hex}|${Hj._COLOR.rgb}|${Hj._COLOR.rgba}|${Hj._COLOR.name}`,color_stop_length:`(${Hj.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${Hj.B.len_or_perc}`,family_name:`${Hj.B.string}|(${Hj.B.ident}\\s*)+`,image_decl:Hj.B.url,left:`${Hj.B.length}|auto`,loose_quotable_words:`(${Hj.B.ident})+`,margin_width:`${Hj.B.len_or_perc}|auto`,padding_width:`${Hj.B.length_pos}|${Hj.B.percentage_pos}`,page_url:Hj.B.url,position:`((${Hj.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${Hj.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${Hj.B.length}|(${Hj.B.len_or_perc})\\s+(${Hj.B.len_or_perc})`,top:`${Hj.B.length}|auto`},Hj._C1={image_list:`image\\(\\s*(${Hj.B.url})*\\s*(${Hj.B.url}|${Hj._C.color})\\s*\\)`,linear_color_stop:`(${Hj._C.color})(\\s*${Hj._C.color_stop_length})?`,shadow:`((${Hj._C.color})\\s+((${Hj.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${Hj.B.length})\\s*){2,4}\\s*(${Hj._C.color})?)`},Hj._C2={color_stop_list:`((${Hj._C1.linear_color_stop})(\\s*(${Hj._C.linear_color_hint}))?\\s*,\\s*)+(${Hj._C1.linear_color_stop})`,shape:`rect\\(\\s*(${Hj._C.top})\\s*,\\s*(${Hj._C.right})\\s*,\\s*(${Hj._C.bottom})\\s*,\\s*(${Hj._C.left})\\s*\\)`},Hj._C3={linear_gradient:`linear-gradient\\((((${Hj.B.angle})|to\\s+(${Hj.A.side_or_corner}))\\s*,\\s*)?\\s*(${Hj._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${Hj.A.ending_shape})|(${Hj._C.size}))\\s*)*\\s*(at\\s+${Hj._C.position})?\\s*,\\s*)?\\s*(${Hj._C2.color_stop_list})\\s*\\)`},Hj._C4={image:`${Hj.B.url}|${Hj._C3.linear_gradient}|${Hj._C3.radial_gradient}|${Hj._C1.image_list}`,bg_image:`(${Hj.B.url}|${Hj._C3.linear_gradient}|${Hj._C3.radial_gradient}|${Hj._C1.image_list})|none`},Hj.C={...Hj._C,...Hj._C1,...Hj._C2,...Hj._C3,...Hj._C4},Hj.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},Hj._CP={background_attachment:`${Hj.A.attachment}(,\\s*${Hj.A.attachment})*`,background_color:Hj.C.color,background_origin:`${Hj.A.box}(,\\s*${Hj.A.box})*`,background_repeat:`${Hj.A.repeat_style}(,\\s*${Hj.A.repeat_style})*`,border:`((${Hj.C.border_width}|${Hj.A.border_style}|${Hj.C.color})\\s*){1,3}`,border_radius:`((${Hj.B.len_or_perc})\\s*){1,4}(\\/\\s*((${Hj.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${Hj.B.length}\\s*(${Hj.B.length})?`,border_top_color:Hj.C.color,border_top_style:Hj.A.border_style,border_width:`((${Hj.C.border_width})\\s*){1,4}`,color:Hj.C.color,cursor:`(${Hj.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${Hj.A.display_inside}|${Hj.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:Hj.A.display_outside,elevation:`${Hj.B.angle}|below|level|above|higher|lower`,font_family:`(${Hj.C.family_name}|${Hj.A.generic_family})(,\\s*(${Hj.C.family_name}|${Hj.A.generic_family}))*`,height:`${Hj.B.length}|${Hj.B.percentage}|auto`,letter_spacing:`normal|${Hj.B.length}`,list_style_image:`${Hj.C.image}|none`,margin_right:Hj.C.margin_width,max_height:`${Hj.B.length_pos}|${Hj.B.percentage_pos}|none|auto`,min_height:`${Hj.B.length_pos}|${Hj.B.percentage_pos}|auto`,opacity:Hj.C.alphavalue,outline_color:`${Hj.C.color}|invert`,outline_width:Hj.C.border_width,padding:`((${Hj.C.padding_width})\\s*){1,4}`,padding_top:Hj.C.padding_width,pitch_range:Hj.N.number,right:`${Hj.B.length}|${Hj.B.percentage}|auto`,stress:Hj.N.number,text_indent:`${Hj.B.length}|${Hj.B.percentage}`,text_shadow:`none|${Hj.C.shadow}(,\\s*(${Hj.C.shadow}))*`,volume:`${Hj.N.number_pos}|${Hj.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:Hj.AP.overflow_wrap,zoom:`normal|${Hj.N.number_pos}|${Hj.B.percentage_pos}`,backface_visibility:Hj.AP.visibility,background_clip:`${Hj.A.box}(,\\s*(${Hj.A.box}))*`,background_position:`${Hj.C.bg_position}(,\\s*(${Hj.C.bg_position}))*`,border_bottom_color:Hj.C.color,border_bottom_style:Hj.A.border_style,border_color:`((${Hj.C.color})\\s*){1,4}`,border_left_color:Hj.C.color,border_right_color:Hj.C.color,border_style:`((${Hj.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${Hj.B.length}|${Hj.B.percentage})(\\s*(${Hj.B.length}|${Hj.B.percentage}))?`,border_top_width:Hj.C.border_width,box_shadow:`none|${Hj.C.shadow}(,\\s*(${Hj.C.shadow}))*`,clip:`${Hj.C.shape}|auto`,display_inside:Hj.A.display_inside,font_size:`${Hj.A.absolute_size}|${Hj.A.relative_size}|${Hj.B.length_pos}|${Hj.B.percentage_pos}`,line_height:`normal|${Hj.N.number_pos}|${Hj.B.length_pos}|${Hj.B.percentage_pos}`,margin_left:Hj.C.margin_width,max_width:`${Hj.B.length_pos}|${Hj.B.percentage_pos}|none|auto`,outline_style:Hj.A.border_style,padding_bottom:Hj.C.padding_width,padding_right:Hj.C.padding_width,perspective:`none|${Hj.B.length}`,richness:Hj.N.number,text_overflow:`((clip|ellipsis|${Hj.B.string})\\s*){1,2}`,top:`${Hj.B.length}|${Hj.B.percentage}|auto`,width:`${Hj.B.length_pos}|${Hj.B.percentage_pos}|auto`,z_index:`auto|${Hj.B.z_index}`,background:`(((${Hj.C.bg_position}\\s*(\\/\\s*${Hj.C.bg_size})?)|(${Hj.A.repeat_style})|(${Hj.A.attachment})|(${Hj.A.bg_origin})|(${Hj.C.bg_image})|(${Hj.C.color}))\\s*)+`,background_size:`${Hj.C.bg_size}(,\\s*${Hj.C.bg_size})*`,border_bottom_left_radius:`(${Hj.B.length}|${Hj.B.percentage})(\\s*(${Hj.B.length}|${Hj.B.percentage}))?`,border_bottom_width:Hj.C.border_width,border_left_style:Hj.A.border_style,border_right_style:Hj.A.border_style,border_top:`((${Hj.C.border_width}|${Hj.A.border_style}|${Hj.C.color})\\s*){1,3}`,bottom:`${Hj.B.len_or_perc}|auto`,list_style:`((${Hj.AP.list_style_type}|${Hj.AP.list_style_position}|${Hj.C.image}|none})\\s*){1,3}`,margin_top:Hj.C.margin_width,outline:`((${Hj.C.color}|invert|${Hj.A.border_style}|${Hj.C.border_width})\\s*){1,3}`,overflow_y:Hj.AP.overflow_x,pitch:`${Hj.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${Hj.B.len_or_perc}`,word_spacing:`normal|${Hj.B.length}`,background_image:`${Hj.C.bg_image}(,\\s*${Hj.C.bg_image})*`,border_bottom_right_radius:`(${Hj.B.length}|${Hj.B.percentage})(\\s*(${Hj.B.length}|${Hj.B.percentage}))?`,border_left_width:Hj.C.border_width,border_right_width:Hj.C.border_width,left:`${Hj.B.len_or_perc}|auto`,margin_bottom:Hj.C.margin_width,pause_after:`${Hj.B.time}|${Hj.B.percentage}`,speech_rate:`${Hj.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${Hj.B.time}(,\\s*${Hj.B.time})*`,border_bottom:`((${Hj.C.border_width}|${Hj.A.border_style}|${Hj.C.color})\\s*){1,3}`,border_right:`((${Hj.C.border_width}|${Hj.A.border_style}|${Hj.C.color})\\s*){1,3}`,margin:`((${Hj.C.margin_width})\\s*){1,4}`,padding_left:Hj.C.padding_width,border_left:`((${Hj.C.border_width}|${Hj.A.border_style}|${Hj.C.color})\\s*){1,3}`,quotes:`(${Hj.B.string}\\s*${Hj.B.string})+|none`,border_top_right_radius:`(${Hj.B.length}|${Hj.B.percentage})(\\s*(${Hj.B.length}|${Hj.B.percentage}))?`,min_width:`${Hj.B.length_pos}|${Hj.B.percentage_pos}|auto`},Hj._CP1={font:`(((((${Hj.AP.font_style}|${Hj.AP.font_variant}|${Hj.AP.font_weight})\\s*){1,3})?\\s*(${Hj._CP.font_size})\\s*(\\/\\s*(${Hj._CP.line_height}))?\\s+(${Hj._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},Hj.CP={...Hj._CP,...Hj._CP1},Hj.BORDER_COLLAPSE=Hj.reg(Hj.AP.border_collapse),Hj.BOX=Hj.reg(Hj.AP.box),Hj.BOX_SIZING=Hj.reg(Hj.AP.box_sizing),Hj.CAPTION_SIDE=Hj.reg(Hj.AP.caption_side),Hj.CLEAR=Hj.reg(Hj.AP.clear),Hj.DIRECTION=Hj.reg(Hj.AP.direction),Hj.EMPTY_CELLS=Hj.reg(Hj.AP.empty_cells),Hj.FLOAT=Hj.reg(Hj.AP.float),Hj.FONT_STRETCH=Hj.reg(Hj.AP.font_stretch),Hj.FONT_STYLE=Hj.reg(Hj.AP.font_style),Hj.FONT_VARIANT=Hj.reg(Hj.AP.font_variant),Hj.FONT_WEIGHT=Hj.reg(Hj.AP.font_weight),Hj.LIST_STYLE_POSITION=Hj.reg(Hj.AP.list_style_position),Hj.LIST_STYLE_TYPE=Hj.reg(Hj.AP.list_style_type),Hj.OVERFLOW=Hj.reg(Hj.AP.overflow),Hj.OVERFLOW_WRAP=Hj.reg(Hj.AP.overflow_wrap),Hj.OVERFLOW_X=Hj.reg(Hj.AP.overflow_x),Hj.PAGE_BREAK_AFTER=Hj.reg(Hj.AP.page_break_after),Hj.PAGE_BREAK_BEFORE=Hj.reg(Hj.AP.page_break_before),Hj.PAGE_BREAK_INSIDE=Hj.reg(Hj.AP.page_break_inside),Hj.POSITION=Hj.reg(Hj.AP.position),Hj.RESIZE=Hj.reg(Hj.AP.resize),Hj.SPEAK=Hj.reg(Hj.AP.speak),Hj.SPEAK_HEADER=Hj.reg(Hj.AP.speak_header),Hj.SPEAK_NUMERAL=Hj.reg(Hj.AP.speak_numeral),Hj.SPEAK_PUNCTUATION=Hj.reg(Hj.AP.speak_punctuation),Hj.TABLE_LAYOUT=Hj.reg(Hj.AP.table_layout),Hj.TEXT_ALIGN=Hj.reg(Hj.AP.text_align),Hj.TEXT_DECORATION=Hj.reg(Hj.AP.text_decoration),Hj.TEXT_TRANSFORM=Hj.reg(Hj.AP.text_transform),Hj.TEXT_WRAP=Hj.reg(Hj.AP.text_wrap),Hj.UNICODE_BIDI=Hj.reg(Hj.AP.unicode_bidi),Hj.VISIBILITY=Hj.reg(Hj.AP.visibility),Hj.WHITE_SPACE=Hj.reg(Hj.AP.white_space),Hj.WORD_BREAK=Hj.reg(Hj.AP.word_break),Hj.BACKGROUND_ATTACHMENT=Hj.reg(Hj.CP.background_attachment),Hj.BACKGROUND_COLOR=Hj.reg(Hj.CP.background_color),Hj.BACKGROUND_ORIGIN=Hj.reg(Hj.CP.background_origin),Hj.BACKGROUND_REPEAT=Hj.reg(Hj.CP.background_repeat),Hj.BORDER=Hj.reg(Hj.CP.border),Hj.BORDER_RADIUS=Hj.reg(Hj.CP.border_radius),Hj.BORDER_SPACING=Hj.reg(Hj.CP.border_spacing),Hj.BORDER_TOP_COLOR=Hj.reg(Hj.CP.border_top_color),Hj.BORDER_TOP_STYLE=Hj.reg(Hj.CP.border_top_style),Hj.BORDER_WIDTH=Hj.reg(Hj.CP.border_width),Hj.COLOR=Hj.reg(Hj.CP.color),Hj.CURSOR=Hj.reg(Hj.CP.cursor),Hj.DISPLAY=Hj.reg(Hj.CP.display),Hj.DISPLAY_OUTSIDE=Hj.reg(Hj.CP.display_outside),Hj.ELEVATION=Hj.reg(Hj.CP.elevation),Hj.FONT_FAMILY=Hj.reg(Hj.CP.font_family),Hj.HEIGHT=Hj.reg(Hj.CP.height),Hj.LETTER_SPACING=Hj.reg(Hj.CP.letter_spacing),Hj.LIST_STYLE_IMAGE=Hj.reg(Hj.CP.list_style_image),Hj.MARGIN_RIGHT=Hj.reg(Hj.CP.margin_right),Hj.MAX_HEIGHT=Hj.reg(Hj.CP.max_height),Hj.MIN_HEIGHT=Hj.reg(Hj.CP.min_height),Hj.OPACITY=Hj.reg(Hj.CP.opacity),Hj.OUTLINE_COLOR=Hj.reg(Hj.CP.outline_color),Hj.OUTLINE_WIDTH=Hj.reg(Hj.CP.outline_width),Hj.PADDING=Hj.reg(Hj.CP.padding),Hj.PADDING_TOP=Hj.reg(Hj.CP.padding_top),Hj.PITCH_RANGE=Hj.reg(Hj.CP.pitch_range),Hj.RIGHT=Hj.reg(Hj.CP.right),Hj.STRESS=Hj.reg(Hj.CP.stress),Hj.TEXT_INDENT=Hj.reg(Hj.CP.text_indent),Hj.TEXT_SHADOW=Hj.reg(Hj.CP.text_shadow),Hj.VOLUME=Hj.reg(Hj.CP.volume),Hj.WORD_WRAP=Hj.reg(Hj.CP.word_wrap),Hj.ZOOM=Hj.reg(Hj.CP.zoom),Hj.BACKFACE_VISIBILITY=Hj.reg(Hj.CP.backface_visibility),Hj.BACKGROUND_CLIP=Hj.reg(Hj.CP.background_clip),Hj.BACKGROUND_POSITION=Hj.reg(Hj.CP.background_position),Hj.BORDER_BOTTOM_COLOR=Hj.reg(Hj.CP.border_bottom_color),Hj.BORDER_BOTTOM_STYLE=Hj.reg(Hj.CP.border_bottom_style),Hj.BORDER_COLOR=Hj.reg(Hj.CP.border_color),Hj.BORDER_LEFT_COLOR=Hj.reg(Hj.CP.border_left_color),Hj.BORDER_RIGHT_COLOR=Hj.reg(Hj.CP.border_right_color),Hj.BORDER_STYLE=Hj.reg(Hj.CP.border_style),Hj.BORDER_TOP_LEFT_RADIUS=Hj.reg(Hj.CP.border_top_left_radius),Hj.BORDER_TOP_WIDTH=Hj.reg(Hj.CP.border_top_width),Hj.BOX_SHADOW=Hj.reg(Hj.CP.box_shadow),Hj.CLIP=Hj.reg(Hj.CP.clip),Hj.DISPLAY_INSIDE=Hj.reg(Hj.CP.display_inside),Hj.FONT_SIZE=Hj.reg(Hj.CP.font_size),Hj.LINE_HEIGHT=Hj.reg(Hj.CP.line_height),Hj.MARGIN_LEFT=Hj.reg(Hj.CP.margin_left),Hj.MAX_WIDTH=Hj.reg(Hj.CP.max_width),Hj.OUTLINE_STYLE=Hj.reg(Hj.CP.outline_style),Hj.PADDING_BOTTOM=Hj.reg(Hj.CP.padding_bottom),Hj.PADDING_RIGHT=Hj.reg(Hj.CP.padding_right),Hj.PERSPECTIVE=Hj.reg(Hj.CP.perspective),Hj.RICHNESS=Hj.reg(Hj.CP.richness),Hj.TEXT_OVERFLOW=Hj.reg(Hj.CP.text_overflow),Hj.TOP=Hj.reg(Hj.CP.top),Hj.WIDTH=Hj.reg(Hj.CP.width),Hj.Z_INDEX=Hj.reg(Hj.CP.z_index),Hj.BACKGROUND=Hj.reg(Hj.CP.background),Hj.BACKGROUND_SIZE=Hj.reg(Hj.CP.background_size),Hj.BORDER_BOTTOM_LEFT_RADIUS=Hj.reg(Hj.CP.border_bottom_left_radius),Hj.BORDER_BOTTOM_WIDTH=Hj.reg(Hj.CP.border_bottom_width),Hj.BORDER_LEFT_STYLE=Hj.reg(Hj.CP.border_left_style),Hj.BORDER_RIGHT_STYLE=Hj.reg(Hj.CP.border_right_style),Hj.BORDER_TOP=Hj.reg(Hj.CP.border_top),Hj.BOTTOM=Hj.reg(Hj.CP.bottom),Hj.LIST_STYLE=Hj.reg(Hj.CP.list_style),Hj.MARGIN_TOP=Hj.reg(Hj.CP.margin_top),Hj.OUTLINE=Hj.reg(Hj.CP.outline),Hj.OVERFLOW_Y=Hj.reg(Hj.CP.overflow_y),Hj.PITCH=Hj.reg(Hj.CP.pitch),Hj.VERTICAL_ALIGN=Hj.reg(Hj.CP.vertical_align),Hj.WORD_SPACING=Hj.reg(Hj.CP.word_spacing),Hj.BACKGROUND_IMAGE=Hj.reg(Hj.CP.background_image),Hj.BORDER_BOTTOM_RIGHT_RADIUS=Hj.reg(Hj.CP.border_bottom_right_radius),Hj.BORDER_LEFT_WIDTH=Hj.reg(Hj.CP.border_left_width),Hj.BORDER_RIGHT_WIDTH=Hj.reg(Hj.CP.border_right_width),Hj.LEFT=Hj.reg(Hj.CP.left),Hj.MARGIN_BOTTOM=Hj.reg(Hj.CP.margin_bottom),Hj.PAUSE_AFTER=Hj.reg(Hj.CP.pause_after),Hj.SPEECH_RATE=Hj.reg(Hj.CP.speech_rate),Hj.TRANSITION_DURATION=Hj.reg(Hj.CP.transition_duration),Hj.BORDER_BOTTOM=Hj.reg(Hj.CP.border_bottom),Hj.BORDER_RIGHT=Hj.reg(Hj.CP.border_right),Hj.MARGIN=Hj.reg(Hj.CP.margin),Hj.PADDING_LEFT=Hj.reg(Hj.CP.padding_left),Hj.BORDER_LEFT=Hj.reg(Hj.CP.border_left),Hj.FONT=Hj.reg(Hj.CP.font),Hj.QUOTES=Hj.reg(Hj.CP.quotes),Hj.BORDER_TOP_RIGHT_RADIUS=Hj.reg(Hj.CP.border_top_right_radius),Hj.MIN_WIDTH=Hj.reg(Hj.CP.min_width);class Wj{constructor(){this._autolink=!0,this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[Hj.BACKFACE_VISIBILITY],background:[Hj.BACKGROUND],"background-attachment":[Hj.BACKGROUND_ATTACHMENT],"background-clip":[Hj.BACKGROUND_CLIP],"background-color":[Hj.BACKGROUND_COLOR],"background-image":[Hj.BACKGROUND_IMAGE],"background-origin":[Hj.BACKGROUND_ORIGIN],"background-position":[Hj.BACKGROUND_POSITION],"background-repeat":[Hj.BACKGROUND_REPEAT],"background-size":[Hj.BACKGROUND_SIZE],border:[Hj.BORDER],"border-bottom":[Hj.BORDER_BOTTOM],"border-bottom-color":[Hj.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[Hj.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[Hj.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[Hj.BORDER_BOTTOM_STYLE],"border-bottom-width":[Hj.BORDER_BOTTOM_WIDTH],"border-collapse":[Hj.BORDER_COLLAPSE],"border-color":[Hj.BORDER_COLOR],"border-left":[Hj.BORDER_LEFT],"border-left-color":[Hj.BORDER_LEFT_COLOR],"border-left-style":[Hj.BORDER_LEFT_STYLE],"border-left-width":[Hj.BORDER_LEFT_WIDTH],"border-radius":[Hj.BORDER_RADIUS],"border-right":[Hj.BORDER_RIGHT],"border-right-color":[Hj.BORDER_RIGHT_COLOR],"border-right-style":[Hj.BORDER_RIGHT_STYLE],"border-right-width":[Hj.BORDER_RIGHT_WIDTH],"border-spacing":[Hj.BORDER_SPACING],"border-style":[Hj.BORDER_STYLE],"border-top":[Hj.BORDER_TOP],"border-top-color":[Hj.BORDER_TOP_COLOR],"border-top-left-radius":[Hj.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[Hj.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[Hj.BORDER_TOP_STYLE],"border-top-width":[Hj.BORDER_TOP_WIDTH],"border-width":[Hj.BORDER_WIDTH],bottom:[Hj.BOTTOM],box:[Hj.BOX],"box-shadow":[Hj.BOX_SHADOW],"box-sizing":[Hj.BOX_SIZING],"caption-side":[Hj.CAPTION_SIDE],clear:[Hj.CLEAR],clip:[Hj.CLIP],color:[Hj.COLOR],cursor:[Hj.CURSOR],direction:[Hj.DIRECTION],display:[Hj.DISPLAY],"display-inside":[Hj.DISPLAY_INSIDE],"display-outside":[Hj.DISPLAY_OUTSIDE],elevation:[Hj.ELEVATION],"empty-cells":[Hj.EMPTY_CELLS],float:[Hj.FLOAT],font:[Hj.FONT],"font-family":[Hj.FONT_FAMILY],"font-size":[Hj.FONT_SIZE],"font-stretch":[Hj.FONT_STRETCH],"font-style":[Hj.FONT_STYLE],"font-variant":[Hj.FONT_VARIANT],"font-weight":[Hj.FONT_WEIGHT],height:[Hj.HEIGHT],left:[Hj.LEFT],"letter-spacing":[Hj.LETTER_SPACING],"line-height":[Hj.LINE_HEIGHT],"list-style":[Hj.LIST_STYLE],"list-style-image":[Hj.LIST_STYLE_IMAGE],"list-style-position":[Hj.LIST_STYLE_POSITION],"list-style-type":[Hj.LIST_STYLE_TYPE],margin:[Hj.MARGIN],"margin-bottom":[Hj.MARGIN_BOTTOM],"margin-left":[Hj.MARGIN_LEFT],"margin-right":[Hj.MARGIN_RIGHT],"margin-top":[Hj.MARGIN_TOP],"max-height":[Hj.MAX_HEIGHT],"max-width":[Hj.MAX_WIDTH],"min-height":[Hj.MIN_HEIGHT],"min-width":[Hj.MIN_WIDTH],opacity:[Hj.OPACITY],outline:[Hj.OUTLINE],"outline-color":[Hj.OUTLINE_COLOR],"outline-style":[Hj.OUTLINE_STYLE],"outline-width":[Hj.OUTLINE_WIDTH],overflow:[Hj.OVERFLOW],"overflow-wrap":[Hj.OVERFLOW_WRAP],"overflow-x":[Hj.OVERFLOW_X],"overflow-y":[Hj.OVERFLOW_Y],padding:[Hj.PADDING],"padding-bottom":[Hj.PADDING_BOTTOM],"padding-left":[Hj.PADDING_LEFT],"padding-right":[Hj.PADDING_RIGHT],"padding-top":[Hj.PADDING_TOP],"page-break-after":[Hj.PAGE_BREAK_AFTER],"page-break-before":[Hj.PAGE_BREAK_BEFORE],"page-break-inside":[Hj.PAGE_BREAK_INSIDE],"pause-after":[Hj.PAUSE_AFTER],perspective:[Hj.PERSPECTIVE],pitch:[Hj.PITCH],"pitch-range":[Hj.PITCH_RANGE],position:[Hj.POSITION],quotes:[Hj.QUOTES],resize:[Hj.RESIZE],richness:[Hj.RICHNESS],right:[Hj.RIGHT],speak:[Hj.SPEAK],"speak-header":[Hj.SPEAK_HEADER],"speak-numeral":[Hj.SPEAK_NUMERAL],"speak-punctuation":[Hj.SPEAK_PUNCTUATION],"speech-rate":[Hj.SPEECH_RATE],stress:[Hj.STRESS],"table-layout":[Hj.TABLE_LAYOUT],"text-align":[Hj.TEXT_ALIGN],"text-decoration":[Hj.TEXT_DECORATION],"text-indent":[Hj.TEXT_INDENT],"text-overflow":[Hj.TEXT_OVERFLOW],"text-shadow":[Hj.TEXT_SHADOW],"text-transform":[Hj.TEXT_TRANSFORM],"text-wrap":[Hj.TEXT_WRAP],top:[Hj.TOP],"unicode-bidi":[Hj.UNICODE_BIDI],"vertical-align":[Hj.VERTICAL_ALIGN],visibility:[Hj.VISIBILITY],volume:[Hj.VOLUME],"white-space":[Hj.WHITE_SPACE],width:[Hj.WIDTH],"word-break":[Hj.WORD_BREAK],"word-spacing":[Hj.WORD_SPACING],"word-wrap":[Hj.WORD_WRAP],"z-index":[Hj.Z_INDEX],zoom:[Hj.ZOOM]}},transformTags:{a:de().simpleTransform("a",{rel:"nofollow"}),input:de().simpleTransform("input",{disabled:"disabled"})},allowedSchemes:[...de().defaults.allowedSchemes],allowedSchemesByTag:{img:de().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return de()(e,{...this._options,...t||{}})}getAutolink(){return this._autolink}setAllowedSchemes(e){this._options.allowedSchemes=[...e]}setAutolink(e){this._autolink=e}}var Kj=n(41334);function Gj(e){return e.replace("-","_")}class Jj{constructor(e){e=e||{},this._defaults={domain:"messages",locale:document.documentElement.getAttribute("lang")||"en",pluralFunc:function(e){return{nplurals:2,plural:1!=e?1:0}},contextDelimiter:String.fromCharCode(4),stringsPrefix:""},this._locale=(e.locale||this._defaults.locale).replace("_","-"),this._domain=Gj(e.domain||this._defaults.domain),this._contextDelimiter=e.contextDelimiter||this._defaults.contextDelimiter,this._stringsPrefix=e.stringsPrefix||this._defaults.stringsPrefix,this._pluralFuncs={},this._dictionary={},this._pluralForms={},e.messages&&(this._dictionary[this._domain]={},this._dictionary[this._domain][this._locale]=e.messages),e.pluralForms&&(this._pluralForms[this._locale]=e.pluralForms)}setContextDelimiter(e){this._contextDelimiter=e}getContextDelimiter(){return this._contextDelimiter}setLocale(e){this._locale=e.replace("_","-")}getLocale(){return this._locale}setDomain(e){this._domain=Gj(e)}getDomain(){return this._domain}setStringsPrefix(e){this._stringsPrefix=e}getStringsPrefix(){return this._stringsPrefix}static strfmt(e,...t){return e.replace(/%%/g,"%% ").replace(/%(\d+)/g,(function(e,n){return t[n-1]})).replace(/%% /g,"%")}loadJSON(e,t){if(!e[""]||!e[""].language||!e[""].pluralForms)throw new Error(`Wrong jsonData, it must have an empty key ("") with "language" and "pluralForms" information: ${e}`);t=Gj(t);let n=e[""],s=JSON.parse(JSON.stringify(e));delete s[""],this.setMessages(t||this._defaults.domain,n.language,s,n.pluralForms)}__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return this.dcnpgettext("","",e,"",0,...t)}ngettext(e,t,n,...s){return this.dcnpgettext("","",e,t,n,...s)}pgettext(e,t,...n){return this.dcnpgettext("",e,t,"",0,...n)}npgettext(e,t,n,s,...i){return this.dcnpgettext("",e,t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){let o;e=Gj(e)||this._domain;let a=t?t+this._contextDelimiter+n:n,l={pluralForm:!1},c=!1,u=this._locale,h=this.expandLocale(this._locale);for(let p in h)if(u=h[p],c=this._dictionary[e]&&this._dictionary[e][u]&&this._dictionary[e][u][a],c=s?c&&this._dictionary[e][u][a].length>1:c&&1==this._dictionary[e][u][a].length,c){l.locale=u;break}if(c?o=this._dictionary[e][u][a]:(o=[n],l.pluralFunc=this._defaults.pluralFunc),!s)return this.t(o,i,l,...r);l.pluralForm=!0;let d=c?o:[n,s];return this.t(d,i,l,...r)}expandLocale(e){let t=[e],n=e.lastIndexOf("-");for(;n>0;)e=e.slice(0,n),t.push(e),n=e.lastIndexOf("-");return t}getPluralFunc(e){if(!new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+").test(e))throw new Error(Jj.strfmt('The plural form "%1" is not valid',e));return new Function("n","let plural, nplurals; "+e+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}removeContext(e){if(-1!==e.indexOf(this._contextDelimiter)){return e.split(this._contextDelimiter)[1]}return e}t(e,t,n,...s){if(!n.pluralForm)return this._stringsPrefix+Jj.strfmt(this.removeContext(e[0]),...s);let i;return n.pluralFunc?i=n.pluralFunc(t):(this._pluralFuncs[n.locale||""]||(this._pluralFuncs[n.locale||""]=this.getPluralFunc(this._pluralForms[n.locale||""])),i=this._pluralFuncs[n.locale||""](t)),(void 0===!i.plural||i.plural>i.nplurals||e.length<=i.plural)&&(i.plural=0),this._stringsPrefix+Jj.strfmt(this.removeContext(e[i.plural]),...[t].concat(s))}setMessages(e,t,n,s){e=Gj(e),s&&(this._pluralForms[t]=s),this._dictionary[e]||(this._dictionary[e]={}),this._dictionary[e][t]=n}}const Yj=new class{constructor(e){this.languageCode="en",this._languageBundle=e}load(e){return this._languageBundle}}(new class{__(e,...t){return this.gettext(e,...t)}_n(e,t,n,...s){return this.ngettext(e,t,n,...s)}_p(e,t,...n){return this.pgettext(e,t,...n)}_np(e,t,n,s,...i){return this.npgettext(e,t,n,s,...i)}gettext(e,...t){return Jj.strfmt(e,...t)}ngettext(e,t,n,...s){return Jj.strfmt(1==n?e:t,...[n].concat(s))}pgettext(e,t,...n){return Jj.strfmt(t,...n)}npgettext(e,t,n,s,...i){return this.ngettext(t,n,s,...i)}dcnpgettext(e,t,n,s,i,...r){return this.ngettext(n,s,i,...r)}});var Xj=n(4509);n(18653);new _.Token("@jupyterlab/translation:ITranslatorConnector","A service to connect to the server translation endpoint.");Xj.DataConnector;new _.Token("@jupyterlab/translation:ITranslator","A service to translate strings.");class Zj{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||Qj.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}}var Qj,eI;!function(e){e.noOp=function(){}}(Qj||(Qj={}));class tI{constructor(e={}){var t,n,s,i,r,o;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=null!==(t=e.translator)&&void 0!==t?t:Yj,this.resolver=null!==(n=e.resolver)&&void 0!==n?n:null,this.linkHandler=null!==(s=e.linkHandler)&&void 0!==s?s:null,this.latexTypesetter=null!==(i=e.latexTypesetter)&&void 0!==i?i:null,this.markdownParser=null!==(r=e.markdownParser)&&void 0!==r?r:null,this.sanitizer=null!==(o=e.sanitizer)&&void 0!==o?o:new Wj,e.initialFactories)for(const a of e.initialFactories)this.addFactory(a)}get mimeTypes(){return this._types||(this._types=eI.sortedTypes(this._ranks))}preferredMimeType(e,t="ensure"){if("ensure"===t||"prefer"===t)for(const n of this.mimeTypes)if(n in e&&this._factories[n].safe)return n;if("ensure"!==t)for(const n of this.mimeTypes)if(n in e)return n}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new Zj(e)}clone(e={}){var t,n,s,i,r,o,a,l,c,u;const h=new tI({resolver:null!==(n=null!==(t=e.resolver)&&void 0!==t?t:this.resolver)&&void 0!==n?n:void 0,sanitizer:null!==(i=null!==(s=e.sanitizer)&&void 0!==s?s:this.sanitizer)&&void 0!==i?i:void 0,linkHandler:null!==(o=null!==(r=e.linkHandler)&&void 0!==r?r:this.linkHandler)&&void 0!==o?o:void 0,latexTypesetter:null!==(l=null!==(a=e.latexTypesetter)&&void 0!==a?a:this.latexTypesetter)&&void 0!==l?l:void 0,markdownParser:null!==(u=null!==(c=e.markdownParser)&&void 0!==c?c:this.markdownParser)&&void 0!==u?u:void 0,translator:this.translator});return h._factories={...this._factories},h._ranks={...this._ranks},h._id=this._id,h}getFactory(e){return this._factories[e]}addFactory(e,t){void 0===t&&void 0===(t=e.defaultRank)&&(t=100);for(const n of e.mimeTypes)this._factories[n]=e,this._ranks[n]={rank:t,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){const t=this._ranks[e];return t&&t.rank}setRank(e,t){if(!this._ranks[e])return;const n=this._id++;this._ranks[e]={rank:t,id:n},this._types=null}}!function(e){e.UrlResolver=class{constructor(e){this._path=e.path,this._contents=e.contents}get path(){return this._path}set path(e){this._path=e}async resolveUrl(e){if(this.isLocal(e)){const t=encodeURI(Kj.PathExt.dirname(this.path));e=Kj.PathExt.resolve(t,e)}return e}async getDownloadUrl(e){return this.isLocal(e)?this._contents.getDownloadUrl(decodeURIComponent(e)):e}isLocal(e){return!this.isMalformed(e)&&(Kj.URLExt.isLocal(e)||!!this._contents.driveName(decodeURI(e)))}isMalformed(e){try{return decodeURI(e),!1}catch(Hn){if(Hn instanceof URIError)return!0;throw Hn}}}}(tI||(tI={})),function(e){e.sortedTypes=function(e){return Object.keys(e).sort(((t,n)=>{const s=e[t],i=e[n];return s.rank!==i.rank?s.rank-i.rank:s.id-i.id}))}}(eI||(eI={}));const nI="$",sI=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function iI(e,t,n,s,i){let r=i.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(r=r.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)i[t]="",t--;return i[e]="@@"+s.length+"@@",n&&(r=n(r)),s.push(r),i}function rI(e){let{host:t,source:n,trusted:s,sanitizer:i,resolver:r,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=e;c=c||Yj;const u=null==c?void 0:c.load("jupyterlab");let h,d=n;if(!n)return t.textContent="",Promise.resolve(void 0);if(s||(d=`${n}`,n=i.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0)if(s)uI.evalInnerHTMLScriptTags(t);else{const e=document.createElement("div"),n=document.createElement("pre");n.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const s=document.createElement("button");s.textContent=u.__("Run"),s.onclick=e=>{t.innerHTML=d,uI.evalInnerHTMLScriptTags(t),t.firstChild&&t.removeChild(t.firstChild)},e.appendChild(n),e.appendChild(s),t.insertBefore(e,t.firstChild)}return uI.handleDefaults(t,r),h=r?uI.handleUrls(t,r,o):Promise.resolve(void 0),h.then((()=>{a&&l&&l.typeset(t)}))}async function oI(e){const{host:t,source:n,markdownParser:s,...i}=e;if(!n)return void(t.textContent="");let r="";if(s){const e=function(e){const t=[];let n,s=null,i=null,r=null,o=0;e.includes("`")||e.includes("~~~")?(e=e.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,(e=>e.replace(/\$/g,"~D"))).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,(e=>e.replace(/\$/g,"~D"))),n=e=>e.replace(/~([TD])/g,((e,t)=>"T"===t?"~":nI))):n=e=>e;let a=e.replace(/\r\n?/g,"\n").split(sI);for(let l=1,c=a.length;l<c;l+=2){const e=a[l];"@"===e.charAt(0)?(a[l]="@@"+t.length+"@@",t.push(e)):null!==s?e===i?o?r=l:(a=iI(s,l,n,t,a),s=null,i=null,r=null):e.match(/\n.*\n/)?(null!==r&&(l=r,a=iI(s,l,n,t,a)),s=null,i=null,r=null,o=0):"{"===e?o++:"}"===e&&o&&o--:e===nI||"$$"===e?(s=l,i=e,o=0):"\\\\("===e||"\\\\["===e?(s=l,i="("===e.slice(-1)?"\\\\)":"\\\\]",o=0):"begin"===e.substr(1,5)&&(s=l,i="\\end"+e.substr(6),o=0)}return null!==s&&null!==r&&(a=iI(s,r,n,t,a),s=null,i=null,r=null),{text:n(a.join("")),math:t}}(n);r=await s.render(e.text),o=r,a=e.math,r=o.replace(/@@(\d+)@@/g,((e,t)=>{let n=a[t];return"\\\\("===n.substr(0,3)&&"\\\\)"===n.substr(n.length-3)?n="\\("+n.substring(3,n.length-3)+"\\)":"\\\\["===n.substr(0,3)&&"\\\\]"===n.substr(n.length-3)&&(n="\\["+n.substring(3,n.length-3)+"\\]"),n}))}else r=`<pre>${n}</pre>`;var o,a;await rI({host:t,source:r,...i}),uI.headerAnchors(t)}function aI(e,t){var n,s;const i=e.cloneNode();i.textContent=null===(n=e.textContent)||void 0===n?void 0:n.slice(0,t);const r=e.cloneNode();return r.textContent=null===(s=e.textContent)||void 0===s?void 0:s.slice(t),{pre:i,post:r}}function*lI(e){var t;let n,s=0;for(let i of e)n=s+((null===(t=i.textContent)||void 0===t?void 0:t.length)||0),yield{node:i,start:s,end:n,isText:i.nodeType===Node.TEXT_NODE},s=n}function cI(e){var t,n;const{host:s,sanitizer:i,source:r}=e,o=i.sanitize(uI.ansiSpan(r),{allowedTags:["span"]}),a=document.createElement("pre"),l=document.createElement("pre");l.innerHTML=o;const c=l.textContent;if(c){const e=null===(n=null===(t=i.getAutolink)||void 0===t?void 0:t.call(i))||void 0===n||n?function(e){const t="\\u0000-\\u0020\\u007f-\\u009f",n=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+t+'"]{2,}[^\\s'+t+"\"'(){}\\[\\],:;.!?]","ug"),s=[];let i,r=0;for(;null!=(i=n.exec(e));){i.index!==r&&s.push(document.createTextNode(e.slice(r,i.index)));let t=i[0];const n=t.slice(-1),o=-1!==[">","<"].indexOf(n)?t.length-1:t.length,a=document.createElement("a");t=t.slice(0,o),a.href=t.startsWith("www.")?"https://"+t:t,a.rel="noopener",a.target="_blank",a.appendChild(document.createTextNode(t.slice(0,o))),s.push(a),r=i.index+o}return r!==e.length&&s.push(document.createTextNode(e.slice(r,e.length))),s}(c):[document.createTextNode(o)];let s=!1;const r=[],u=Array.from(l.childNodes);for(let t of function*(e,t){var n,s;let i=lI(e),r=lI(t),o=i.next(),a=r.next();for(;!o.done&&!a.done;){let e=o.value,t=a.value;if(e.isText&&e.start<=t.start&&e.end>=t.end)yield[null,t.node],a=r.next();else if(t.isText&&t.start<=e.start&&t.end>=e.end)yield[e.node,null],o=i.next();else if(e.end===t.end&&e.start===t.start)yield[e.node,t.node],o=i.next(),a=r.next();else if(e.end>t.end){let{pre:s,post:i}=aI(e.node,t.end-e.start);t.start<e.start&&(t.node.textContent=null===(n=t.node.textContent)||void 0===n?void 0:n.slice(e.start-t.start)),yield[s,t.node],e.node=i,e.start=t.end,a=r.next()}else{if(!(t.end>e.end))throw new Error(`Unexpected intersection: ${JSON.stringify(e)} ${JSON.stringify(t)}`);{let{pre:n,post:r}=aI(t.node,e.end-t.start);e.start<t.start&&(e.node.textContent=null===(s=e.node.textContent)||void 0===s?void 0:s.slice(t.start-e.start)),yield[e.node,n],t.node=r,t.start=e.end,o=i.next()}}}}(u,e)){if(!t[0]){r.push(t[1]),s=t[1].nodeType!==Node.TEXT_NODE;continue}if(!t[1]){r.push(t[0]),s=!1;continue}let[e,n]=t;const i=r[r.length-1];if(s&&n.href===i.href)i.appendChild(e);else{n.nodeType!==Node.TEXT_NODE?(n.textContent="",n.appendChild(e),r.push(n),s=!0):(r.push(e),s=!1)}}for(const t of r)a.appendChild(t)}return s.appendChild(a),Promise.resolve(void 0)}var uI;!function(e){e.createHeaderId=function(e){var t;return(null!==(t=e.textContent)&&void 0!==t?t:"").replace(/ /g,"-")}}(oI||(oI={})),function(e){async function t(e,t,n){const s=e.getAttribute(t)||"",i=n.isLocal?n.isLocal(s):Kj.URLExt.isLocal(s);if(s&&i)try{const i=await n.resolveUrl(s);let r=await n.getDownloadUrl(i);"data:"!==Kj.URLExt.parse(r).protocol&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime()),e.setAttribute(t,r)}catch(r){throw e.setAttribute(t,""),r}}function n(e,t,n){let s=e.getAttribute("href")||"";const i=t.isLocal?t.isLocal(s):Kj.URLExt.isLocal(s);if(!s||!i)return Promise.resolve(void 0);const r=e.hash;if(r){if(r===s)return e.target="_self",Promise.resolve(void 0);s=s.replace(r,"")}return t.resolveUrl(s).then((s=>{const i=decodeURIComponent(s);return n&&n.handleLink(e,i,r),t.getDownloadUrl(s)})).then((t=>{e.href=t+r})).catch((t=>{e.href=""}))}e.evalInnerHTMLScriptTags=function(e){const t=Array.from(e.getElementsByTagName("script"));for(const n of t){if(!n.parentNode)continue;const e=document.createElement("script"),t=n.attributes;for(let n=0,s=t.length;n<s;++n){const{name:s,value:i}=t[n];e.setAttribute(s,i)}e.textContent=n.textContent,n.parentNode.replaceChild(e,n)}},e.handleDefaults=function(e,t){const n=e.getElementsByTagName("a");for(let i=0;i<n.length;i++){const e=n[i];if(!(e instanceof HTMLAnchorElement))continue;const s=e.href,r=t&&t.isLocal?t.isLocal(s):Kj.URLExt.isLocal(s);e.target||(e.target=r?"_self":"_blank"),r||(e.rel="noopener")}const s=e.getElementsByTagName("img");for(let i=0;i<s.length;i++)s[i].alt||(s[i].alt="Image")},e.handleUrls=function(e,s,i){const r=[],o=e.querySelectorAll("*[src]");for(let n=0;n<o.length;n++)r.push(t(o[n],"src",s));const a=e.getElementsByTagName("a");for(let t=0;t<a.length;t++)r.push(n(a[t],s,i));const l=e.getElementsByTagName("link");for(let n=0;n<l.length;n++)r.push(t(l[n],"href",s));return Promise.all(r).then((()=>{}))},e.headerAnchors=function(e){const t=["h1","h2","h3","h4","h5","h6"];for(const n of t){const t=e.getElementsByTagName(n);for(let e=0;e<t.length;e++){const n=t[e];n.id=oI.createHeaderId(n);const s=document.createElement("a");s.target="_self",s.textContent="\xb6",s.href="#"+n.id,s.classList.add("jp-InternalAnchorLink"),n.appendChild(s)}}};const s=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function i(e,t,n,i,r,o,a){if(e){const l=[],c=[];i&&"number"==typeof t&&0<=t&&t<8&&(t+=8),o&&([t,n]=[n,t]),"number"==typeof t?l.push(s[t]+"-fg"):t.length?c.push(`color: rgb(${t})`):o&&l.push("ansi-default-inverse-fg"),"number"==typeof n?l.push(s[n]+"-bg"):n.length?c.push(`background-color: rgb(${n})`):o&&l.push("ansi-default-inverse-bg"),i&&l.push("ansi-bold"),r&&l.push("ansi-underline"),l.length||c.length?(a.push("<span"),l.length&&a.push(` class="${l.join(" ")}"`),c.length&&a.push(` style="${c.join("; ")}"`),a.push(">"),a.push(e),a.push("</span>")):a.push(e)}}function r(e){let t,n,s;const i=e.shift();if(2===i&&e.length>=3){if(t=e.shift(),n=e.shift(),s=e.shift(),[t,n,s].some((e=>e<0||255<e)))throw new RangeError("Invalid range for RGB colors")}else{if(!(5===i&&e.length>=1))throw new RangeError("Invalid extended color specification");{const i=e.shift();if(i<0)throw new RangeError("Color index must be >= 0");if(i<16)return i;if(i<232)t=Math.floor((i-16)/36),t=t>0?55+40*t:0,n=Math.floor((i-16)%36/6),n=n>0?55+40*n:0,s=(i-16)%6,s=s>0?55+40*s:0;else{if(!(i<256))throw new RangeError("Color index must be < 256");t=n=s=10*(i-232)+8}}}return[t,n,s]}e.ansiSpan=function(e){const t=/\x1b\[(.*?)([@-~])/g;let n,s=[],o=[],a=!1,l=!1,c=!1;const u=[],h=[];let d=0;for(e=M()(e),e+="\x1b[m";n=t.exec(e);){if("m"===n[2]){const e=n[1].split(";");for(let t=0;t<e.length;t++){const n=e[t];if(""===n)h.push(0);else{if(-1===n.search(/^\d+$/)){h.length=0;break}h.push(parseInt(n,10))}}}for(i(e.substring(d,n.index),s,o,a,l,c,u),d=t.lastIndex;h.length;){const e=h.shift();switch(e){case 0:s=o=[],a=!1,l=!1,c=!1;break;case 1:case 5:a=!0;break;case 4:l=!0;break;case 7:c=!0;break;case 21:case 22:a=!1;break;case 24:l=!1;break;case 27:c=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:s=e-30;break;case 38:try{s=r(h)}catch(rU){h.length=0}break;case 39:s=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:o=e-40;break;case 48:try{o=r(h)}catch(rU){h.length=0}break;case 49:o=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:s=e-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:o=e-100+8}}}return u.join("")}}(uI||(uI={}));class hI extends E.Widget{constructor(e){var t,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=null!==(t=e.translator)&&void 0!==t?t:Yj,this.latexTypesetter=e.latexTypesetter,this.markdownParser=null!==(n=e.markdownParser)&&void 0!==n?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}}class dI extends hI{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let t;try{t=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(Hn){console.warn("Unable to set URI fragment identifier.",Hn)}t&&t.scrollIntoView()}}class pI extends dI{constructor(e){super(e),this.addClass("jp-RenderedHTML")}render(e){return rI({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class fI extends hI{constructor(e){super(e),this.addClass("jp-RenderedLatex")}render(e){return function(e){const{host:t,source:n,shouldTypeset:s,latexTypesetter:i}=e;return t.textContent=n,s&&i&&i.typeset(t),Promise.resolve(void 0)}({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class gI extends hI{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return function(e){const{host:t,mimeType:n,source:s,width:i,height:r,needsBackground:o,unconfined:a}=e;t.textContent="";const l=document.createElement("img");return l.src=`data:${n};base64,${s}`,"number"==typeof r&&(l.height=r),"number"==typeof i&&(l.width=i),"light"===o?l.classList.add("jp-needs-light-background"):"dark"===o&&l.classList.add("jp-needs-dark-background"),!0===a&&l.classList.add("jp-mod-unconfined"),t.appendChild(l),Promise.resolve(void 0)}({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}class mI extends dI{constructor(e){super(e),this.addClass("jp-RenderedMarkdown")}render(e){return oI({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class _I extends hI{constructor(e){super(e),this.addClass("jp-RenderedSVG")}render(e){const t=e.metadata[this.mimeType];return function(e){let{host:t,source:n,trusted:s,unconfined:i}=e;if(!n)return t.textContent="",Promise.resolve(void 0);if(!s)return t.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);n.search("<svg[^>]+xmlns=[^>]+svg")<0&&(n=n.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));const r=new Image;return r.src=`data:image/svg+xml,${encodeURIComponent(n)}`,t.appendChild(r),!0===i&&t.classList.add("jp-mod-unconfined"),Promise.resolve()}({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:t&&t.unconfined,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class vI extends hI{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return cI({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}class bI extends hI{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){const t=this.translator.load("jupyterlab");return cI({host:this.node,sanitizer:this.sanitizer,source:t.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}const yI={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:e=>new pI(e)},wI={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new gI(e)},xI={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:e=>new fI(e)},SI={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:e=>new mI(e)},CI={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:e=>new _I(e)},kI={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:e=>new vI(e)},EI={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:e=>new bI(e)},OI=[yI,SI,xI,CI,wI,EI,kI],MI="application/vnd.jupyter.widget-view+json";class TI extends E.Widget{constructor(e,t){super(),this.mimeType=e.mimeType,this._manager=t}async renderModel(e){const t=e.data[this.mimeType];if(!this._manager.has_model(t.model_id))return this.node.textContent="Error creating widget: could not find model",void this.addClass("jupyter-widgets");try{const e=await this._manager.get_model(t.model_id),n=await this._manager.create_view(e);E.Widget.attach(n.luminoWidget,this.node)}catch(n){console.log("Error displaying widget"),console.log(n),this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets")}}}class DI extends Oj{constructor(e){super(),this.loader=null==e?void 0:e.loader,this.renderMime=new tI({initialFactories:OI}),this.renderMime.addFactory({safe:!1,mimeTypes:[MI],createRenderer:e=>new TI(e,this)},0),this._viewList=new Set,window.addEventListener("resize",(()=>{this._viewList.forEach((e=>{Vj.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}async display_view(e,t){let n;try{n=await e}catch(Hn){const s=`Could not create a view for ${e}`;console.error(s);const i=new(_T(Hn,s));n=new vT({model:i}),n.render()}E.Widget.attach(n.luminoWidget,t),this._viewList.add(n),n.once("remove",(()=>{this._viewList.delete(n)}))}_get_comm_info(){return Promise.resolve({})}_create_comm(e,t,n,s,i){return Promise.resolve({on_close:()=>{},on_msg:()=>{},close:()=>{}})}loadClass(e,t,n){return new Promise(((e,o)=>{"@jupyter-widgets/base"===t?e(s):"@jupyter-widgets/controls"===t?e(i):"@jupyter-widgets/output"===t?e(r):void 0!==this.loader?e(this.loader(t,n)):o(`Could not load module ${t}@${n}`)})).then((s=>s[e]?s[e]:Promise.reject(`Class ${e} not found in module ${t}@${n}`)))}}n.p=window.__jupyter_widgets_assets_path__||n.p,""===getComputedStyle(document.documentElement).getPropertyValue("--jp-layout-color0")&&n(39117);const PI=n(99807).v2.state,AI=n(99807).v2.view,RI=new(mm());RI.compile(PI),RI.compile(AI);let jI="https://cdn.jsdelivr.net/npm/",II=!1;const NI=document.getElementsByTagName("script");Array.prototype.forEach.call(NI,(e=>{jI=e.getAttribute("data-jupyter-widgets-cdn")||jI,II=II||e.hasAttribute("data-jupyter-widgets-cdn-only")}));const LI=function(e){return new Promise(((t,n)=>{const s=window.requirejs;void 0===s?n("Requirejs is needed, please ensure it is loaded on the page."):s(e,t,n)}))};function BI(e,t){const n=window.requirejs;if(void 0===n)throw new Error("Requirejs is needed, please ensure it is loaded on the page.");function s(){const s={paths:{}};return s.paths[e]=function(e,t){let n=e,s="index",i=e.indexOf("/");return-1!=i&&"@"==e[0]&&(i=e.indexOf("/",i+1)),-1!=i&&(s=e.substr(i+1),n=e.substr(0,i)),`${jI}${n}@${t}/dist/${s}`}(e,t),n.config(s),LI([`${e}`])}return II?(console.log(`Loading from ${jI} for ${e}@${t}`),s()):LI([`${e}`]).catch((i=>{const r=i.requireModules&&i.requireModules[0];if(r)return n.undef(r),console.log(`Falling back to ${jI} for ${e}@${t}`),s()}))}n(86801).version;var $I;!function(e){let t;!function(e){e.CommManager=class{constructor(e){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(e)}init_kernel(e){this.kernel=e,this.jsServicesKernel=e}async new_comm(e,n,s,i,r,o){const a=this.jsServicesKernel.createComm(e,r),l=new t(a);return this.register_comm(l),l.open(n,s,i,o),l}register_target(e,n){const s=this.jsServicesKernel.registerCommTarget(e,((e,s)=>{const i=new t(e);this.register_comm(i);try{return n(i,s)}catch(rU){i.close(),console.error(rU),console.error(new Error("Exception opening new comm"))}}));this.targets[e]=s}unregister_target(e,t){this.targets[e].dispose(),delete this.targets[e]}register_comm(e){return this.comms[e.comm_id]=Promise.resolve(e),e.kernel=this.kernel,e.comm_id}};class t{constructor(e){this.jsServicesComm=e}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(e,t,n,s){const i=this.jsServicesComm.open(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}send(e,t,n,s){const i=this.jsServicesComm.send(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}close(e,t,n,s){const i=this.jsServicesComm.close(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}on_msg(e){this.jsServicesComm.onMsg=e.bind(this)}on_close(e){this.jsServicesComm.onClose=e.bind(this)}_hookupCallbacks(e,t){t&&(e.onReply=function(e){t.shell&&t.shell.reply&&t.shell.reply(e)},e.onStdin=function(e){t.input&&t.input(e)},e.onIOPub=function(e){if(t.iopub)if(t.iopub.status&&"status"===e.header.msg_type)t.iopub.status(e);else if(t.iopub.clear_output&&"clear_output"===e.header.msg_type)t.iopub.clear_output(e);else if(t.iopub.output)switch(e.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":t.iopub.output(e)}})}}e.Comm=t}(t=e.services||(e.services={}))}($I||($I={}));var FI=n(81249);class UI{constructor(){this._cache=Object.create(null)}set(e,t,n){if(e in this._cache||(this._cache[e]=Object.create(null)),t in this._cache[e])throw`Version ${t} of key ${e} already registered.`;this._cache[e][t]=n}get(e,t){if(e in this._cache){const n=this._cache[e],s=(0,FI.maxSatisfying)(Object.keys(n),t);if(null!==s)return n[s]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}}const zI="application/vnd.jupyter.widget-state+json";class VI extends Oj{constructor(e){super(),this._handleCommOpen=async(e,t)=>{const n=new fT.services.Comm(e);await this.handle_comm_open(n,t)},this._restored=new f.Signal(this),this._restoredStatus=!1,this._kernelRestoreInProgress=!1,this._isDisposed=!1,this._registry=new UI,this._modelsSync=new Map,this._onUnhandledIOPubMessage=new f.Signal(this),this._rendermime=e}callbacks(e){return{iopub:{output:e=>{this._onUnhandledIOPubMessage.emit(e)}}}}_handleKernelChanged({oldValue:e,newValue:t}){e&&e.removeCommTarget(this.comm_target_name,this._handleCommOpen),t&&t.registerCommTarget(this.comm_target_name,this._handleCommOpen)}disconnect(){super.disconnect(),this._restoredStatus=!1}async _loadFromKernel(){var e;if(!this.kernel)throw new Error("Kernel not set");if(!1!==(null===(e=this.kernel)||void 0===e?void 0:e.handleComms))return super._loadFromKernel()}async _create_comm(e,t,n,s,i){const r=this.kernel;if(!r)throw new Error("No current kernel");const o=r.createComm(e,t);return(n||s)&&o.open(n,s,i),new fT.services.Comm(o)}async _get_comm_info(){const e=this.kernel;if(!e)throw new Error("No current kernel");const t=await e.requestCommInfo({target_name:this.comm_target_name});return"ok"===t.content.status?t.content.comms:{}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._commRegistration&&this._commRegistration.dispose())}async resolveUrl(e){return e}async loadClass(e,t,n){"@jupyter-widgets/base"!==t&&"@jupyter-widgets/controls"!==t||!(0,FI.valid)(n)||(n=`^${n}`);const s=this._registry.getAllVersions(t);if(!s)throw new Error(`No version of module ${t} is registered`);const i=this._registry.get(t,n);if(!i){const e=Object.keys(s);throw new Error(`Module ${t}, version ${n} is not registered, however,         ${e.join(",")} ${e.length>1?"are":"is"}`)}let r;r="function"==typeof i?await i():await i;const o=r[e];if(!o)throw new Error(`Class ${e} not found in module ${t}`);return o}get rendermime(){return this._rendermime}get restored(){return this._restored}get restoredStatus(){return this._restoredStatus}get onUnhandledIOPubMessage(){return this._onUnhandledIOPubMessage}register(e){this._registry.set(e.name,e.version,e.exports)}register_model(e,t){super.register_model(e,t),t.then((t=>{this._modelsSync.set(e,t),t.once("comm:close",(()=>{this._modelsSync.delete(e)}))}))}async clear_state(){await super.clear_state(),this._modelsSync=new Map}get_state_sync(e={}){const t=[];for(const n of this._modelsSync.values())n.comm_live&&t.push(n);return Mj(t,e)}}class qI extends VI{constructor(e,t,n){var s,i;super(t),this._context=e,e.sessionContext.kernelChanged.connect(((e,t)=>{this._handleKernelChanged(t)})),e.sessionContext.statusChanged.connect(((e,t)=>{this._handleKernelStatusChange(t)})),e.sessionContext.connectionStatusChanged.connect(((e,t)=>{this._handleKernelConnectionStatusChange(t)})),(null===(s=e.sessionContext.session)||void 0===s?void 0:s.kernel)&&this._handleKernelChanged({name:"kernel",oldValue:null,newValue:null===(i=e.sessionContext.session)||void 0===i?void 0:i.kernel}),this.restoreWidgets(this._context.model),this._settings=n,e.saveState.connect(((e,t)=>{"started"===t&&n.saveState&&this._saveState()}))}_saveState(){const e=this.get_state_sync({drop_defaults:!0});this._context.model.setMetadata?this._context.model.setMetadata("widgets",{"application/vnd.jupyter.widget-state+json":e}):this._context.model.metadata.set("widgets",{"application/vnd.jupyter.widget-state+json":e})}_handleKernelConnectionStatusChange(e){"connected"===e&&(this._kernelRestoreInProgress||this.restoreWidgets(this._context.model,{loadKernel:!0,loadNotebook:!1}))}_handleKernelStatusChange(e){"restarting"===e&&this.disconnect()}async restoreWidgets(e,{loadKernel:t,loadNotebook:n}={loadKernel:!0,loadNotebook:!0}){try{if(t)try{this._kernelRestoreInProgress=!0,await this._loadFromKernel()}finally{this._kernelRestoreInProgress=!1}n&&await this._loadFromNotebook(e),this._restoredStatus=!0,this._restored.emit()}catch(s){}}async _loadFromNotebook(e){const t=e.getMetadata?e.getMetadata("widgets"):e.metadata.get("widgets");if(t&&t[zI]){let e=t[zI];e=this.filterExistingModelState(e),await this.set_state(e)}}dispose(){this.isDisposed||(this._context=null,super.dispose())}async resolveUrl(e){const t=await this.context.urlResolver.resolveUrl(e);return this.context.urlResolver.getDownloadUrl(t)}get context(){return this._context}get kernel(){var e,t,n;return null!==(n=null===(t=null===(e=this._context.sessionContext)||void 0===e?void 0:e.session)||void 0===t?void 0:t.kernel)&&void 0!==n?n:null}register_model(e,t){super.register_model(e,t),this.setDirty()}async clear_state(){await super.clear_state(),this.setDirty()}setDirty(){this._settings.saveState&&(this._context.model.dirty=!0)}}const HI=zR;class WI extends VR{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new nj({trusted:!0}),this._msgHook=e=>(this.add(e),!1),this.widget_manager instanceof qI&&this.widget_manager.context.sessionContext.kernelChanged.connect(((e,t)=>{this._handleKernelChanged(t)})),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}_handleKernelChanged({oldValue:e}){const t=this.get("msg_id");t&&e&&(e.removeMessageHook(t,this._msgHook),this.set("msg_id",null))}reset_msg_id(){const e=this.widget_manager.kernel,t=this.get("msg_id"),n=this.previous("msg_id");n&&e&&e.removeMessageHook(n,this._msgHook),t&&e&&e.registerMessageHook(t,this._msgHook)}add(e){const t=e.header.msg_type;switch(t){case"execute_result":case"display_data":case"stream":case"error":{const n=e.content;n.output_type=t,this._outputs.add(n);break}case"clear_output":this.clear_output(e.content.wait)}this.set("outputs",this._outputs.toJSON(),{newMessage:!0}),this.save_changes()}clear_output(e=!1){this._outputs.clear(e)}get outputs(){return this._outputs}setOutputs(e,t,n){n&&n.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class KI extends qR{_createElement(e){return this.luminoWidget=new aT({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}render(){super.render(),this._outputView=new dj({rendermime:this.model.widget_manager.rendermime,contentFactory:dj.defaultContentFactory,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}function GI(e,t){return e.filter((e=>-1===t.indexOf(e)))}function JI(e,t){return mM()(e,t)}const YI=Object.assign||function(e,...t){for(let n=1;n<t.length;n++){const s=t[n];for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e};function XI(){return _.UUID.uuid4()}function ZI(e){const t=Object.keys(e),n=[];return t.forEach((function(t){n.push(e[t])})),Promise.all(n).then((e=>{const n={};for(let s=0;s<t.length;s++)n[t[s]]=e[s];return n}))}function QI(e,t){return function(n){throw t&&console.error(new Error(e)),n}}function eN(e,t,n){for(let s=0;s<t.length;s++){const i=t[s];let r=n[s];r instanceof DataView||(r=new DataView(r instanceof ArrayBuffer?r:r.buffer));let o=e;for(let e=0;e<i.length-1;e++)o=o[i[e]];o[i[i.length-1]]=r}}function tN(e){var t;return null!==(t="object"==typeof e&&e&&"toJSON"in e)&&void 0!==t&&t}function nN(e){return _.JSONExt.isObject(e)}function sN(e){const t=[],n=[];const s=function e(s,i){if(tN(s)&&(s=s.toJSON()),Array.isArray(s)){let r=!1;for(let o=0;o<s.length;o++){const a=s[o];if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))r||(s=s.slice(),r=!0),t.push(ArrayBuffer.isView(a)?a.buffer:a),n.push(i.concat([o])),s[o]=null;else{const t=e(a,i.concat([o]));t!==a&&(r||(s=s.slice(),r=!0),s[o]=t)}}}else if(nN(s))for(const r in s){let o=!1;if(Object.prototype.hasOwnProperty.call(s,r)){const a=s[r];if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))o||(s=Object.assign({},s),o=!0),t.push(ArrayBuffer.isView(a)?a.buffer:a),n.push(i.concat([r])),delete s[r];else{const t=e(a,i.concat([r]));t!==a&&(o||(s=Object.assign({},s),o=!0),s[r]=t)}}}return s}(e,[]);return{state:s,buffers:t,buffer_paths:n}}const iN='<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\n<g >\n  <g transform="translate(0.24520123,0.93464292)">\n    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />\n    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />\n    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />\n  </g>\n</g>\n</svg>';function rN(e,t,n){if(null==e)return this;let s;if(_.JSONExt.isObject(e)?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;const i=n.unset,r=n.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});const e=this.attributes,l=this.changed,c=this._previousAttributes;for(const n in s)t=s[n],JI(e[n],t)||o.push(n),JI(c[n],t)?delete l[n]:l[n]=t,i?delete e[n]:e[n]=t;if(this.id=this.get(this.idAttribute),!r){o.length&&(this._pending=n);for(let t=0;t<o.length;t++)this.trigger("change:"+o[t],this,e[o[t]],n)}if(a)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n)}finally{this._pending=!1,this._changing=!1}return this}const oN="undefined"!=typeof Element?Element.prototype:void 0;function aN(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1}const lN=oN&&(oN.matches||oN.webkitMatchesSelector||oN.mozMatchesSelector||oN.msMatchesSelector||oN.oMatchesSelector)||aN;class cN extends TM.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(const t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])}delegate(e,t,n){"string"!=typeof t&&(n=t,t=null),void 0===this._domEvents&&(this._domEvents=[]);const s=this.el,i=t?function(e){let i=e.target||e.srcElement;for(;i&&i!==s;i=i.parentNode)if(lN.call(i,t))return e.delegateTarget=i,n.handleEvent?n.handleEvent(e):n(e)}:n;return this.el.addEventListener(e,i,!1),this._domEvents.push({eventName:e,handler:i,listener:n,selector:t}),i}undelegate(e,t,n){if("function"==typeof t&&(n=t,t=null),this.el&&this._domEvents){const s=this._domEvents.slice();let i=s.length;for(;i--;){const r=s[i];!(r.eventName!==e||n&&r.listener!==n||t&&r.selector!==t)&&(this.el.removeEventListener(r.eventName,r.handler,!1),this._domEvents.splice(i,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){const e=this._domEvents.length;for(let t=0;t<e;t++){const e=this._domEvents[t];this.el.removeEventListener(e.eventName,e.handler,!1)}this._domEvents.length=0}return this}}var uN;function hN(e){return"function"==typeof e.iter?e.iter():new pN(e)}function dN(e,t){for(var n,s=0,i=hN(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}!function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(uN||(uN={}));var pN=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();!function(){function e(){}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){}}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var fN;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=fN.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(fN||(fN={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();var gN=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var mN;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(mN||(mN={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();var _N;!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();function vN(e){return"function"==typeof e.iter?e.iter():new yN(e)}function bN(e,t){for(var n,s=0,i=vN(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}!function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(_N||(_N={}));var yN=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();function wN(){return new xN}var xN=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var SN;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=SN.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(SN||(SN={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();!function(){function e(e){this._source=e,this._index=e.length-1}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}}();var CN;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(CN||(CN={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();var kN,EN=function(){function e(e){this._root=new kN.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=kN.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=kN.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return kN.iterItems(this._root)},e.prototype.retro=function(){return kN.retroItems(this._root)},e.prototype.slice=function(e,t){return kN.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return kN.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return kN.itemAt(this._root,e)},e.prototype.has=function(e,t){return kN.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return kN.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return kN.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=kN.insertItem(this._root,e,this.cmp);return this._root=kN.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;bN(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=kN.deleteItem(this._root,e,t);return this._root=kN.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=kN.removeItem(this._root,e);return this._root=kN.maybeExtractRoot(this._root),t},e.prototype.clear=function(){kN.clear(this._root),this._root=new kN.LeafNode},e}();!function(e){e.from=function(t,n){var s=new e(n);return s.assign(t),s}}(EN||(EN={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function s(e){for(;0===e.type;)e=e.children[0];return e}function i(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}function r(e){0===e.type?(bN(e.children,r),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.LeafNode=n,e.firstLeaf=s,e.lastLeaf=i,e.iterItems=function(e){var t=s(e);return new l(t,0,-1)},e.retroItems=function(e){var t=i(e);return new c(t,t.size-1,-1)},e.sliceItems=function(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var s=Math.max(0,n-t);if(0===s)return wN();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new l(e,t,s)},e.retroSliceItems=function(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var s=Math.max(0,t-n);if(0===s)return wN();for(;0===e.type;){var i=u(e.sizes,t);i>0&&(t-=e.sizes[i-1]),e=e.children[i]}return new c(e,t,s)},e.itemAt=function(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){for(;0===e.type;){var n=u(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}},e.hasItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}return d(e.items,t,n)>=0},e.indexOf=function(e,t,n){for(var s=0;0===e.type;){var i=h(e.items,t,n);i>0&&(s+=e.sizes[i-1]),e=e.children[i]}var r=d(e.items,t,n);return r>=0?s+r:-s+r},e.getItem=function(e,t,n){for(;0===e.type;){var s=h(e.items,t,n);e=e.children[s]}var i=d(e.items,t,n);return i>=0?e.items[i]:void 0},e.insertItem=function e(t,n,s){if(1===t.type){var i,r=d(t.items,n,s);return r>=0?(i=t.items[r],t.items[r]=n):(i=void 0,_N.insert(t.items,-r-1,n)),i}var a=h(t.items,n,s),l=t.children[a],c=l.size,u=e(l,n,s),g=l.size;if(t.items[a]=l.items[0],c===g)return u;if(l.width>o){var m=f(l);_N.insert(t.children,a+1,m),_N.insert(t.items,a+1,m.items[0])}return p(t,a),u},e.deleteItem=function e(t,n,s){if(1===t.type){var i=d(t.items,n,s);if(i<0)return;return _N.removeAt(t.items,i)}var r=h(t.items,n,s),o=t.children[r],l=o.size,c=e(o,n,s);return l===o.size||(t.items[r]=o.items[0],o.width<a&&(r=g(t,r)),p(t,r)),c},e.removeItem=function e(t,n){if(n<0&&(n+=t.size),!(n<0||n>=t.size)){if(1===t.type)return _N.removeAt(t.items,n);var s=u(t.sizes,n);s>0&&(n-=t.sizes[s]);var i=t.children[s],r=e(i,n);return t.items[s]=i.items[0],i.width<a&&(s=g(t,s)),p(t,s),r}},e.clear=r,e.maybeSplitRoot=function(e){if(e.width<=o)return e;var n=new t,s=f(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+s.size,n.children[0]=e,n.children[1]=s,n.items[0]=e.items[0],n.items[1]=s.items[0],n},e.maybeExtractRoot=function(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return r(e),t};var o=32,a=o>>1,l=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),c=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function u(e,t){for(var n=e.length,s=0;s<n;++s)if(e[s]>t)return s;return n-1}function h(e,t,n){for(var s=e.length,i=1;i<s;++i)if(n(e[i],t)>0)return i-1;return s-1}function d(e,t,n){for(var s=e.length,i=0;i<s;++i){var r=n(e[i],t);if(0===r)return i;if(r>0)return-i-1}return-s-1}function p(e,t){for(var n=e.sizes,s=e.children,i=t>0?n[t-1]:0,r=s.length;t<r;++t)i=n[t]=i+s[t].size;n.length=s.length}function f(e){if(1===e.type){for(var s=new n,i=e.items,r=s.items,o=a,l=i.length;o<l;++o)r.push(i[o]);return i.length=a,e.next&&(e.next.prev=s),s.next=e.next,s.prev=e,e.next=s,s}var c=new t,u=e.children,h=c.children;for(o=a,l=u.length;o<l;++o)h.push(u[o]);u.length=a;var d=e.items,f=c.items;for(o=a,l=d.length;o<l;++o)f.push(d[o]);return d.length=a,p(e,a),p(c,0),c}function g(e,t){var n,s,i,o,l,c,u=e.children[t],h=0===t?e.children[t+1]:e.children[t-1],d=0===t,f=1===u.type,g=h.width>a;if(f&&g&&d){var m=h;return(_=u).items.push(m.items.shift()),e.items[t+1]=m.items[0],t}if(f&&g&&!d){m=h;return(_=u).items.unshift(m.items.pop()),e.items[t]=_.items[0],t-1}if(f&&!g&&d){var _=u;return(n=(m=h).items).unshift.apply(n,_.items),_N.removeAt(e.children,t),_N.removeAt(e.items,t+1),_.prev&&(_.prev.next=m),m.prev=_.prev,r(_),t}if(f&&!g&&!d){_=u;return(s=(m=h).items).push.apply(s,_.items),_N.removeAt(e.children,t),_N.removeAt(e.items,t),_.next&&(_.next.prev=m),m.next=_.next,r(_),t-1}if(!f&&g&&d){m=h;return(_=u).children.push(m.children.shift()),_.items.push(m.items.shift()),e.items[t+1]=m.items[0],p(_,_.width-1),p(m,0),t}if(!f&&g&&!d){m=h;return(_=u).children.unshift(m.children.pop()),_.items.unshift(m.items.pop()),e.items[t]=_.items[0],p(_,0),p(m,m.width-1),t-1}if(!f&&!g&&d){_=u;return(i=(m=h).children).unshift.apply(i,_.children),(o=m.items).unshift.apply(o,_.items),_N.removeAt(e.children,t),_N.removeAt(e.items,t+1),p(m,0),_.children.length=0,r(_),t}if(!f&&!g&&!d){_=u;return(l=(m=h).children).push.apply(l,_.children),(c=m.items).push.apply(c,_.items),_N.removeAt(e.children,t),_N.removeAt(e.items,t),p(m,0),_.children.length=0,r(_),t-1}throw"unreachable"}}(kN||(kN={}));var ON,MN=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),bN(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new ON.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new ON.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof ON.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new ON.LinkedListNode(this,e),s=t,i=s.prev;return n.next=s,n.prev=i,s.prev=n,i.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof ON.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new ON.LinkedListNode(this,e),s=t,i=s.next;return n.next=i,n.prev=s,s.next=n,i.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof ON.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();!function(e){e.from=function(t){var n=new e;return n.assign(t),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var s=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=s;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=i}(MN||(MN={})),function(e){var t=function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t};e.LinkedListNode=t}(ON||(ON={}));var TN=function(e,t){return TN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},TN(e,t)};var DN,PN=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}TN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0}}(PN);!function(e){function t(e,t){var n=s.get(e);if(n&&0!==n.length){var i,o=function(e,t){for(var n,s=0,i=hN(e);void 0!==(n=i.next());)if(!t(n,s++))return!1;return!0}("function"==typeof(i=n).retro?i.retro():new gN(i),(function(n){return!n||function(e,t,n){var s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){r(i)}return s}(n,e,t)}));o&&u(e,t)}else u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){if(t.isConflatable){var s=function(e,t){for(var n,s=0,i=hN(e);void 0!==(n=i.next());)if(t(n,s++))return!0;return!1}(n,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));s||h(e,t)}else h(e,t)},e.installMessageHook=function(e,t){var n=s.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):s.set(e,[t]))},e.removeMessageHook=function(e,t){var n=s.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(n))}},e.clearData=function(e){var t=s.get(e);t&&t.length>0&&(uN.fill(t,null),p(t)),dN(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){a||0===o||(c(o),a=!0,d(),a=!1)},e.getExceptionHandler=function(){return r},e.setExceptionHandler=function(e){var t=r;return r=e,t};var n=new MN,s=new WeakMap,i=new Set,r=function(e){console.error(e)},o=0,a=!1,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,c="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(n){r(n)}}function h(e,t){n.addLast({handler:e,msg:t}),0===o&&(o=l(d))}function d(){if(o=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var s=n.removeFirst();if(s===e)return;s.handler&&s.msg&&t(s.handler,s.msg)}}}function p(e){0===i.size&&l(f),i.add(e)}function f(){i.forEach(g),i.clear()}function g(e){uN.removeAllWhere(e,m)}function m(e){return null===e}}(DN||(DN={}));const AN="2.0.0",RN="2.1.0",jN="IPY_MODEL_",IN=e=>JSON.parse(JSON.stringify(e)),NN=globalThis.structuredClone||IN;function LN(e,t){if(Array.isArray(e)){const n=[];for(const s of e)n.push(LN(s,t));return Promise.all(n)}if(e instanceof Object&&"string"!=typeof e){const n={};for(const[s,i]of Object.entries(e))n[s]=LN(i,t);return ZI(n)}return"string"==typeof e&&e.slice(0,10)===jN?t.get_model(e.slice(10,e.length)):Promise.resolve(e)}function BN(e,t){if(Array.isArray(e)){const n=[];for(const s of e)n.push(BN(s,t));return n}if(e instanceof $N)return`${jN}${e.model_id}`;if(!(e instanceof Object&&"string"!=typeof e))return e;{const n={};for(const[s,i]of Object.entries(e))n[s]=BN(i,t)}}class $N extends TM.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:AN,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:AN,_view_count:null}}isNew(){return!1}initialize(e,t){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,t),this.widget_manager=t.widget_manager,this.model_id=t.model_id;const n=t.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},n?(this.comm=n,n.on_close(this._handle_comm_closed.bind(this)),n.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,t,n){if(void 0!==this.comm){const s={method:"custom",content:e};this.comm.send(s,t,{},n)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){const e=Object.keys(this.views).map((e=>this.views[e].then((e=>e.remove()))));return delete this.views,Promise.all(e).then((()=>{}))}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){const t=e.content.data,n=t.method;switch(n){case"update":case"echo_update":return this.state_change=this.state_change.then((()=>{var s,i,r;const o=t.state,a=null!==(s=t.buffer_paths)&&void 0!==s?s:[],l=null!==(r=null===(i=e.buffers)||void 0===i?void 0:i.slice(0,a.length))&&void 0!==r?r:[];if(eN(o,a,l),e.parent_header&&"echo_update"===n){const t=e.parent_header.msg_id;Object.keys(o).filter((e=>this._expectedEchoMsgIds.has(e))).forEach((e=>{this._expectedEchoMsgIds.get(e)!==t?delete o[e]:(this._expectedEchoMsgIds.delete(e),null!==this._msg_buffer&&Object.prototype.hasOwnProperty.call(this._msg_buffer,e)&&delete o[e])}))}return this.constructor._deserialize_state(o,this.widget_manager)})).then((e=>{this.set_state(e)})).catch(QI(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",t.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(rU){console.error(`Error setting state: ${rU instanceof Error?rU.message:rU}`)}finally{this._state_lock=null}}get_state(e){const t=this.attributes;if(e){const e=this.defaults,n="function"==typeof e?e.call(this):e,s={};return Object.keys(t).forEach((e=>{JI(t[e],n[e])||(s[e]=t[e])})),s}return Object.assign({},t)}_handle_status(e){if(void 0!==this.comm&&"idle"===e.content.execution_state&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),null!==this._msg_buffer&&this._pending_msgs<1)){const e=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(e),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,t,n){const s=rN.call(this,e,t,n);if(void 0!==this._buffered_state_diff){const e=this.changedAttributes()||{};if(this._state_lock)for(const t of Object.keys(this._state_lock))e[t]===this._state_lock[t]&&delete e[t];if(this._buffered_state_diff_synced)for(const t of Object.keys(this._buffered_state_diff_synced))e[t]===this._buffered_state_diff_synced[t]&&delete e[t];this._buffered_state_diff=YI(this._buffered_state_diff,e)}return!1===this._changing&&(this._buffered_state_diff_synced={}),s}sync(e,t,n={}){if(void 0===this.comm)throw"Syncing error: no comm channel defined";const s="patch"===e?n.attrs:t.get_state(n.drop_defaults);if(this._state_lock)for(const r of Object.keys(this._state_lock))s[r]===this._state_lock[r]&&delete s[r];Object.keys(s).forEach((e=>{this._attrsToUpdate.add(e)}));const i=this.serialize(s);if(Object.keys(i).length>0){const t=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=YI(this._msg_buffer||{},i);break;case"update":case"create":this._msg_buffer=i;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=t}else{const e=this.send_sync_message(s,t);this.rememberLastUpdateFor(e)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach((t=>{this._expectedEchoMsgIds.set(t,e)})),this._attrsToUpdate=new Set}serialize(e){const t=this.constructor.serializers||_.JSONExt.emptyObject;for(const n of Object.keys(e))try{const s=t[n]||_.JSONExt.emptyObject;let{serialize:i}=s;null==i&&s.deserialize===LN&&(i=IN),e[n]=i?i(e[n],this):NN(e[n]),e[n]&&e[n].toJSON&&(e[n]=e[n].toJSON())}catch(rU){throw console.error("Error serializing widget state attribute: ",n),rU}return e}send_sync_message(e,t={}){if(!this.comm)return"";try{const n=(t={shell:Object.assign({},t.shell),iopub:Object.assign({},t.iopub),input:t.input}).iopub.status;t.iopub.status=e=>{this._handle_status(e),n&&n(e)};const s=sN(e),i=this.comm.send({method:"update",state:s.state,buffer_paths:s.buffer_paths},t,{},s.buffers);return this._pending_msgs++,i}catch(rU){console.error("Could not send widget sync message",rU)}return""}save_changes(e){if(this.comm_live){const t={patch:!0};e&&(t.callbacks=e),this.save(this._buffered_state_diff,t),this._changing&&YI(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,t,n){this.on("change",((...s)=>{e.some(this.hasChanged,this)&&t.apply(n,s)}),this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,t){const n=this.serializers;let s;if(n){s={};for(const i in e)n[i]&&n[i].deserialize?s[i]=n[i].deserialize(e[i],t):s[i]=e[i]}else s=e;return ZI(s)}}class FN extends $N{defaults(){return YI(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}}FN.serializers=Object.assign(Object.assign({},$N.serializers),{layout:{deserialize:LN},style:{deserialize:LN}});class UN extends cN{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",((e,t)=>{const n=Object.keys(this.model.changedAttributes()||{});"_view_count"===n[0]&&1===n.length||this.update(t)})),this.options=e.options,this.once("remove",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())})),this.once("displayed",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())})),this.displayed=new Promise(((e,t)=>{this.once("displayed",e),this.model.on("msg:custom",this.handle_message.bind(this))}))}handle_message(e){"focus"===e.do?this.el.focus():"blur"===e.do&&this.el.blur()}update(e){}render(){}create_child_view(e,t={}){return t=Object.assign({parent:this},t),this.model.widget_manager.create_view(e,t).catch(QI("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,t){this.model.send(e,this.callbacks(),t)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}}class zN extends E.Widget{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}}const VN=zN;class qN extends E.Panel{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),null===(e=this._view)||void 0===e||e.remove(),this._view=null)}}class HN extends UN{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",((e,t)=>{const n=e.previous("_dom_classes");this.update_classes(n,t)})),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",((e,t)=>{this.setLayout(t,e.previous("layout"))})),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",((e,t)=>{this.setStyle(t,e.previous("style"))})),this.displayed.then((()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))})),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",(()=>{this._comm_live_update()})),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,t){e&&(this.layoutPromise=this.layoutPromise.then((t=>(t&&(t.unlayout(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.listenTo(e.model,"change",(()=>{DN.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize)})),DN.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize),this.trigger("layout-changed"),e))))).catch(QI("Could not add LayoutView to DOMWidgetView",!0))))))}setStyle(e,t){e&&(this.stylePromise=this.stylePromise.then((t=>(t&&(t.unstyle(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.trigger("style-changed"),e))))).catch(QI("Could not add styleView to DOMWidgetView",!0))))))}updateTooltip(){const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,t,n){void 0===n&&(n=this.el),GI(e,t).map((function(e){n.classList?n.classList.remove(e):n.setAttribute("class",n.getAttribute("class").replace(e,""))})),GI(t,e).map((function(e){n.classList?n.classList.add(e):n.setAttribute("class",n.getAttribute("class").concat(" ",e))}))}update_mapped_classes(e,t,n){let s=this.model.previous(t);const i=e[s]?e[s]:[];s=this.model.get(t);const r=e[s]?e[s]:[];this.update_classes(i,r,n||this.el)}set_mapped_classes(e,t,n){const s=this.model.get(t),i=e[s]?e[s]:[];this.update_classes([],i,n||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof PM()?e:PM()(e),this.el=this.$el[0],this.luminoWidget=new zN({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown")}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){const e=this.model.get("tabbable");!0===e?this.el.setAttribute("tabIndex","0"):!1===e?this.el.setAttribute("tabIndex","-1"):null===e&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}}const WN={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null};class KN extends $N{defaults(){return YI(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},WN)}}class GN extends UN{initialize(e){this._traitNames=[],super.initialize(e);for(const t of Object.keys(WN))this.registerTrait(t)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,((t,n)=>{this.handleChange(e,n)})),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,t){const n=this.options.parent;n?null===t?n.el.style.removeProperty(this.css_name(e)):n.el.style.setProperty(this.css_name(e),t):console.warn("Style not applied because a parent view does not exist")}unlayout(){const e=this.options.parent;this._traitNames.forEach((t=>{e?e.el.style.removeProperty(this.css_name(t)):console.warn("Style not removed because a parent view does not exist")}),this)}}class JN extends $N{defaults(){const e=this.constructor;return YI(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce(((t,n)=>(t[n]=e.styleProperties[n].default,t)),{}))}}JN.styleProperties={};class YN extends UN{initialize(e){this._traitNames=[],super.initialize(e);const t=this.model.constructor;for(const n of Object.keys(t.styleProperties))this.registerTrait(n);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,((t,n)=>{this.handleChange(e,n)}))}handleChange(e,t){const n=this.options.parent;if(n){const s=this.model.constructor.styleProperties,i=s[e].attribute,r=s[e].selector,o=r?n.el.querySelectorAll(r):[n.el];if(null===t)for(let e=0;e!==o.length;++e)o[e].style.removeProperty(i);else for(let e=0;e!==o.length;++e)o[e].style.setProperty(i,t)}else console.warn("Style not applied because a parent view does not exist")}style(){for(const e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){const e=this.options.parent,t=this.model.constructor.styleProperties;this._traitNames.forEach((n=>{if(e){const s=t[n].attribute,i=t[n].selector,r=i?e.el.querySelectorAll(i):[e.el];for(let e=0;e!==r.length;++e)r[e].style.removeProperty(s)}else console.warn("Style not removed because a parent view does not exist")}),this)}}class XN{constructor(e,t,n){this.initialize(e,t,n)}initialize(e,t,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=t||function(e){e.remove()}}update(e,t,n,s){const i=n||this._remove_view,r=t||this._create_view;s=s||this._handler_context;let o=0;for(;o<e.length&&!(o>=this._models.length||e[o]!==this._models[o]);o++);const a=o,l=this.views.splice(a,this.views.length-a);for(let c=0;c<l.length;c++)l[c].then((function(e){i.call(s,e)}));for(;o<e.length;o++)this.views.push(Promise.resolve(r.call(s,e[o],o)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then((e=>{e.forEach((e=>this._remove_view.call(this._handler_context,e))),this.views=[],this._models=[]}))}dispose(){this.views=null,this._models=null}}const ZN=new _.Token("jupyter.extensions.jupyterWidgetRegistry");function QN(e,t){return class extends FN{constructor(n,s){super(n=Object.assign(Object.assign({},n),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:AN,_view_module_version:AN,msg:t,error:e}),s),this.comm_live=!0}}}class eL extends HN{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){const{msg:e,stack:t}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");const n=document.createElement("div");n.classList.add("jupyter-widgets-error-widget","icon-error"),n.innerHTML=iN;const s=document.createElement("pre");let i,r;s.style.textAlign="center",s.innerText="Click to show javascript error.",n.append(s),this.el.appendChild(n),this.el.onclick=()=>{n.classList.contains("icon-error")&&(r=r||n.clientHeight,i=i||n.clientWidth,n.classList.remove("icon-error"),n.innerHTML=`\n        <pre>[Open Browser Console for more detailed log - Double click to close this message]\n${e}\n${t}</pre>\n        `,n.style.height=`${r}px`,n.style.width=`${i}px`,n.classList.add("text-error"))},this.el.ondblclick=()=>{n.classList.contains("text-error")&&(n.classList.remove("text-error"),n.innerHTML=iN,n.append(s),n.classList.add("icon-error"))}}}function tL(e,t){return class extends eL{generateErrorMessage(){return{msg:t,stack:String(e instanceof Error?e.stack:e)}}}}function nL(e,t){return e.filter((e=>-1===t.indexOf(e)))}function sL(e,t){return mM()(e,t)}const iL=Object.assign||function(e,...t){for(let n=1;n<t.length;n++){const s=t[n];for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e};function rL(){return _.UUID.uuid4()}function oL(e){const t=Object.keys(e),n=[];return t.forEach((function(t){n.push(e[t])})),Promise.all(n).then((e=>{const n={};for(let s=0;s<t.length;s++)n[t[s]]=e[s];return n}))}function aL(e,t){return function(n){throw t&&console.error(new Error(e)),n}}function lL(e){const t=[],n=[];const s=function e(s,i){var r,o,a;if(null!==(o="object"==typeof(r=s)&&r&&"toJSON"in r)&&void 0!==o&&o&&(s=s.toJSON()),Array.isArray(s)){let r=!1;for(let o=0;o<s.length;o++){const a=s[o];if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))r||(s=s.slice(),r=!0),t.push(ArrayBuffer.isView(a)?a.buffer:a),n.push(i.concat([o])),s[o]=null;else{const t=e(a,i.concat([o]));t!==a&&(r||(s=s.slice(),r=!0),s[o]=t)}}}else if(a=s,_.JSONExt.isObject(a))for(const l in s){let r=!1;if(Object.prototype.hasOwnProperty.call(s,l)){const o=s[l];if(o)if(o instanceof ArrayBuffer||ArrayBuffer.isView(o))r||(s=Object.assign({},s),r=!0),t.push(ArrayBuffer.isView(o)?o.buffer:o),n.push(i.concat([l])),delete s[l];else{const t=e(o,i.concat([l]));t!==o&&(r||(s=Object.assign({},s),r=!0),s[l]=t)}}}return s}(e,[]);return{state:s,buffers:t,buffer_paths:n}}function cL(e,t,n){if(null==e)return this;let s;if(_.JSONExt.isObject(e)?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;const i=n.unset,r=n.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});const e=this.attributes,l=this.changed,c=this._previousAttributes;for(const n in s)t=s[n],sL(e[n],t)||o.push(n),sL(c[n],t)?delete l[n]:l[n]=t,i?delete e[n]:e[n]=t;if(this.id=this.get(this.idAttribute),!r){o.length&&(this._pending=n);for(let t=0;t<o.length;t++)this.trigger("change:"+o[t],this,e[o[t]],n)}if(a)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n)}finally{this._pending=!1,this._changing=!1}return this}const uL="undefined"!=typeof Element?Element.prototype:void 0;function hL(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1}const dL=uL&&(uL.matches||uL.webkitMatchesSelector||uL.mozMatchesSelector||uL.msMatchesSelector||uL.oMatchesSelector)||hL;class pL extends TM.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(const t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])}delegate(e,t,n){"string"!=typeof t&&(n=t,t=null),void 0===this._domEvents&&(this._domEvents=[]);const s=this.el,i=t?function(e){let i=e.target||e.srcElement;for(;i&&i!==s;i=i.parentNode)if(dL.call(i,t))return e.delegateTarget=i,n.handleEvent?n.handleEvent(e):n(e)}:n;return this.el.addEventListener(e,i,!1),this._domEvents.push({eventName:e,handler:i,listener:n,selector:t}),i}undelegate(e,t,n){if("function"==typeof t&&(n=t,t=null),this.el&&this._domEvents){const s=this._domEvents.slice();let i=s.length;for(;i--;){const r=s[i];!(r.eventName!==e||n&&r.listener!==n||t&&r.selector!==t)&&(this.el.removeEventListener(r.eventName,r.handler,!1),this._domEvents.splice(i,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){const e=this._domEvents.length;for(let t=0;t<e;t++){const e=this._domEvents[t];this.el.removeEventListener(e.eventName,e.handler,!1)}this._domEvents.length=0}return this}}var fL;function gL(e){return"function"==typeof e.iter?e.iter():new _L(e)}function mL(e,t){for(var n,s=0,i=gL(e);void 0!==(n=i.next());)if(!1===t(n,s++))return}!function(e){function t(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(e[a]===t)return a}return-1}function n(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(e[a]===t)return a}return-1}function s(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(var o=0;o<i;++o){var a=(n+o)%r;if(t(e[a],a))return a}return-1}function i(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(var o=0;o<i;++o){var a=(n-o+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){var i=e[t],r=e[n];e[t++]=r,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var s=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n,s){void 0===n&&(n=-1),void 0===s&&(s=0);var r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)<0?(o=c+1,a-=l+1):a=l}return o},e.upperBound=function(e,t,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;for(var o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;a>0;){var l=a>>1,c=o+l;n(e[c],t)>0?a=l:(o=c+1,a-=l+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,s=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);for(var a=[],l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){var s=e.length;if(!(s<=1)&&(t=t<0?Math.max(0,t+s):Math.min(t,s-1))!==(n=n<0?Math.max(0,n+s):Math.min(n,s-1))){for(var i=e[t],r=t<n?1:-1,o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i}},e.reverse=r,e.rotate=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))){var o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)}}},e.fill=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0!==i){var r;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=(s=s<0?Math.max(0,s+i):Math.min(s,i-1))<n?s+1+(i-n):s-n+1;for(var o=0;o<r;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(var i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s,i){void 0===s&&(s=0),void 0===i&&(i=-1);var r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s,i){void 0===s&&(s=-1),void 0===i&&(i=0);var r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n,i){var r;void 0===n&&(n=0),void 0===i&&(i=-1);var a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n,s){var r;void 0===n&&(n=-1),void 0===s&&(s=0);var a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n,s){void 0===n&&(n=0),void 0===s&&(s=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);for(var r=0,o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(fL||(fL={}));var _L=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();!function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())}}();!function(){function e(){}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){}}();!function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e}}();!function(){function e(e,t){this._index=0,this._source=e,this._fn=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)}}();var vL;!function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=vL.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}}();!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(vL||(vL={}));!function(){function e(e,t){this._value=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}}();var bL=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var yL;!function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}}();!function(e){function t(e,t,n){void 0===n&&(n=0);for(var s=new Array(t.length),i=0,r=n,o=t.length;i<o;++i,++r){if(-1===(r=e.indexOf(t[i],r)))return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=0,a=i.length;o<a;++o){var l=i[o]-s;r+=l*l}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s){void 0===s&&(s=0);var i=t(e,n,s);if(!i)return null;for(var r=0,o=s-1,a=0,l=i.length;a<l;++a){var c=i[a];r+=c-o-1,o=c}return{score:r,indices:i}},e.highlight=function(e,t,n){for(var s=[],i=0,r=0,o=t.length;i<o;){for(var a=t[i],l=t[i];++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(yL||(yL={}));!function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}}();!function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var s=this._source[t].next();if(void 0===s)return;e[t]=s}return e}}();var wL=function(e,t){return wL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},wL(e,t)};var xL,SL=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}wL(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0}}(SL);!function(e){function t(e,t){var n=s.get(e);if(n&&0!==n.length){var i,o=function(e,t){for(var n,s=0,i=gL(e);void 0!==(n=i.next());)if(!t(n,s++))return!1;return!0}("function"==typeof(i=n).retro?i.retro():new bL(i),(function(n){return!n||function(e,t,n){var s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){r(i)}return s}(n,e,t)}));o&&u(e,t)}else u(e,t)}e.sendMessage=t,e.postMessage=function(e,t){if(t.isConflatable){var s=function(e,t){for(var n,s=0,i=gL(e);void 0!==(n=i.next());)if(t(n,s++))return!0;return!1}(n,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));s||h(e,t)}else h(e,t)},e.installMessageHook=function(e,t){var n=s.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):s.set(e,[t]))},e.removeMessageHook=function(e,t){var n=s.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,p(n))}},e.clearData=function(e){var t=s.get(e);t&&t.length>0&&(fL.fill(t,null),p(t)),mL(n,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))},e.flush=function(){a||0===o||(c(o),a=!0,d(),a=!1)},e.getExceptionHandler=function(){return r},e.setExceptionHandler=function(e){var t=r;return r=e,t};var n=new MN,s=new WeakMap,i=new Set,r=function(e){console.error(e)},o=0,a=!1,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,c="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function u(e,t){try{e.processMessage(t)}catch(n){r(n)}}function h(e,t){n.addLast({handler:e,msg:t}),0===o&&(o=l(d))}function d(){if(o=0,!n.isEmpty){var e={handler:null,msg:null};for(n.addLast(e);;){var s=n.removeFirst();if(s===e)return;s.handler&&s.msg&&t(s.handler,s.msg)}}}function p(e){0===i.size&&l(f),i.add(e)}function f(){i.forEach(g),i.clear()}function g(e){fL.removeAllWhere(e,m)}function m(e){return null===e}}(xL||(xL={}));const CL="2.0.0",kL="IPY_MODEL_";function EL(e,t){if(Array.isArray(e)){const n=[];for(const s of e)n.push(EL(s,t));return Promise.all(n)}if(e instanceof Object&&"string"!=typeof e){const n={};for(const[s,i]of Object.entries(e))n[s]=EL(i,t);return oL(n)}return"string"==typeof e&&e.slice(0,10)===kL?t.get_model(e.slice(10,e.length)):Promise.resolve(e)}class OL extends TM.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:CL,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:CL,_view_count:null}}isNew(){return!1}initialize(e,t){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,t),this.widget_manager=t.widget_manager,this.model_id=t.model_id;const n=t.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},n?(this.comm=n,n.on_close(this._handle_comm_closed.bind(this)),n.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,t,n){if(void 0!==this.comm){const s={method:"custom",content:e};this.comm.send(s,t,{},n)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){const e=Object.keys(this.views).map((e=>this.views[e].then((e=>e.remove()))));return delete this.views,Promise.all(e).then((()=>{}))}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){const t=e.content.data,n=t.method;switch(n){case"update":case"echo_update":return this.state_change=this.state_change.then((()=>{var s,i,r;const o=t.state,a=null!==(s=t.buffer_paths)&&void 0!==s?s:[],l=null!==(r=null===(i=e.buffers)||void 0===i?void 0:i.slice(0,a.length))&&void 0!==r?r:[];if(function(e,t,n){for(let s=0;s<t.length;s++){const i=t[s];let r=n[s];r instanceof DataView||(r=new DataView(r instanceof ArrayBuffer?r:r.buffer));let o=e;for(let e=0;e<i.length-1;e++)o=o[i[e]];o[i[i.length-1]]=r}}(o,a,l),e.parent_header&&"echo_update"===n){const t=e.parent_header.msg_id;Object.keys(o).filter((e=>this._expectedEchoMsgIds.has(e))).forEach((e=>{this._expectedEchoMsgIds.get(e)!==t?delete o[e]:(this._expectedEchoMsgIds.delete(e),null!==this._msg_buffer&&Object.prototype.hasOwnProperty.call(this._msg_buffer,e)&&delete o[e])}))}return this.constructor._deserialize_state(o,this.widget_manager)})).then((e=>{this.set_state(e)})).catch(aL(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",t.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(rU){console.error(`Error setting state: ${rU instanceof Error?rU.message:rU}`)}finally{this._state_lock=null}}get_state(e){const t=this.attributes;if(e){const e=this.defaults,n="function"==typeof e?e.call(this):e,s={};return Object.keys(t).forEach((e=>{sL(t[e],n[e])||(s[e]=t[e])})),s}return Object.assign({},t)}_handle_status(e){if(void 0!==this.comm&&"idle"===e.content.execution_state&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),null!==this._msg_buffer&&this._pending_msgs<1)){const e=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(e),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,t,n){const s=cL.call(this,e,t,n);if(void 0!==this._buffered_state_diff){const e=this.changedAttributes()||{};if(this._state_lock)for(const t of Object.keys(this._state_lock))e[t]===this._state_lock[t]&&delete e[t];if(this._buffered_state_diff_synced)for(const t of Object.keys(this._buffered_state_diff_synced))e[t]===this._buffered_state_diff_synced[t]&&delete e[t];this._buffered_state_diff=iL(this._buffered_state_diff,e)}return!1===this._changing&&(this._buffered_state_diff_synced={}),s}sync(e,t,n={}){if(void 0===this.comm)throw"Syncing error: no comm channel defined";const s="patch"===e?n.attrs:t.get_state(n.drop_defaults);if(this._state_lock)for(const r of Object.keys(this._state_lock))s[r]===this._state_lock[r]&&delete s[r];Object.keys(s).forEach((e=>{this._attrsToUpdate.add(e)}));const i=this.serialize(s);if(Object.keys(i).length>0){const t=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=iL(this._msg_buffer||{},i);break;case"update":case"create":this._msg_buffer=i;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=t}else{const e=this.send_sync_message(s,t);this.rememberLastUpdateFor(e)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach((t=>{this._expectedEchoMsgIds.set(t,e)})),this._attrsToUpdate=new Set}serialize(e){const t=this.constructor.serializers||_.JSONExt.emptyObject;for(const n of Object.keys(e))try{t[n]&&t[n].serialize?e[n]=t[n].serialize(e[n],this):e[n]=JSON.parse(JSON.stringify(e[n])),e[n]&&e[n].toJSON&&(e[n]=e[n].toJSON())}catch(rU){throw console.error("Error serializing widget state attribute: ",n),rU}return e}send_sync_message(e,t={}){if(!this.comm)return"";try{const n=(t={shell:Object.assign({},t.shell),iopub:Object.assign({},t.iopub),input:t.input}).iopub.status;t.iopub.status=e=>{this._handle_status(e),n&&n(e)};const s=lL(e),i=this.comm.send({method:"update",state:s.state,buffer_paths:s.buffer_paths},t,{},s.buffers);return this._pending_msgs++,i}catch(rU){console.error("Could not send widget sync message",rU)}return""}save_changes(e){if(this.comm_live){const t={patch:!0};e&&(t.callbacks=e),this.save(this._buffered_state_diff,t),this._changing&&iL(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,t,n){this.on("change",((...s)=>{e.some(this.hasChanged,this)&&t.apply(n,s)}),this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,t){const n=this.serializers;let s;if(n){s={};for(const i in e)n[i]&&n[i].deserialize?s[i]=n[i].deserialize(e[i],t):s[i]=e[i]}else s=e;return oL(s)}}class ML extends OL{defaults(){return iL(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}}ML.serializers=Object.assign(Object.assign({},OL.serializers),{layout:{deserialize:EL},style:{deserialize:EL}});class TL extends pL{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",((e,t)=>{const n=Object.keys(this.model.changedAttributes()||{});"_view_count"===n[0]&&1===n.length||this.update(t)})),this.options=e.options,this.once("remove",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())})),this.once("displayed",(()=>{"number"==typeof this.model.get("_view_count")&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())})),this.displayed=new Promise(((e,t)=>{this.once("displayed",e),this.model.on("msg:custom",this.handle_message.bind(this))}))}handle_message(e){"focus"===e.do?this.el.focus():"blur"===e.do&&this.el.blur()}update(e){}render(){}create_child_view(e,t={}){return t=Object.assign({parent:this},t),this.model.widget_manager.create_view(e,t).catch(aL("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,t){this.model.send(e,this.callbacks(),t)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}}class DL extends E.Widget{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}}class PL extends E.Panel{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),null===(e=this._view)||void 0===e||e.remove(),this._view=null)}}class AL extends TL{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",((e,t)=>{const n=e.previous("_dom_classes");this.update_classes(n,t)})),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",((e,t)=>{this.setLayout(t,e.previous("layout"))})),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",((e,t)=>{this.setStyle(t,e.previous("style"))})),this.displayed.then((()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))})),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",(()=>{this._comm_live_update()})),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,t){e&&(this.layoutPromise=this.layoutPromise.then((t=>(t&&(t.unlayout(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.listenTo(e.model,"change",(()=>{xL.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize)})),xL.postMessage(this.luminoWidget,E.Widget.ResizeMessage.UnknownSize),this.trigger("layout-changed"),e))))).catch(aL("Could not add LayoutView to DOMWidgetView",!0))))))}setStyle(e,t){e&&(this.stylePromise=this.stylePromise.then((t=>(t&&(t.unstyle(),this.stopListening(t.model),t.remove()),this.create_child_view(e).then((e=>this.displayed.then((()=>(e.trigger("displayed"),this.trigger("style-changed"),e))))).catch(aL("Could not add styleView to DOMWidgetView",!0))))))}updateTooltip(){const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,t,n){void 0===n&&(n=this.el),nL(e,t).map((function(e){n.classList?n.classList.remove(e):n.setAttribute("class",n.getAttribute("class").replace(e,""))})),nL(t,e).map((function(e){n.classList?n.classList.add(e):n.setAttribute("class",n.getAttribute("class").concat(" ",e))}))}update_mapped_classes(e,t,n){let s=this.model.previous(t);const i=e[s]?e[s]:[];s=this.model.get(t);const r=e[s]?e[s]:[];this.update_classes(i,r,n||this.el)}set_mapped_classes(e,t,n){const s=this.model.get(t),i=e[s]?e[s]:[];this.update_classes([],i,n||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof PM()?e:PM()(e),this.el=this.$el[0],this.luminoWidget=new DL({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown")}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){const e=this.model.get("tabbable");!0===e?this.el.setAttribute("tabIndex","0"):!1===e?this.el.setAttribute("tabIndex","-1"):null===e&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}}class RL extends OL{defaults(){const e=this.constructor;return iL(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce(((t,n)=>(t[n]=e.styleProperties[n].default,t)),{}))}}RL.styleProperties={};var jL;!function(e){let t;!function(e){e.CommManager=class{constructor(e){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(e)}init_kernel(e){this.kernel=e,this.jsServicesKernel=e}async new_comm(e,n,s,i,r,o){const a=this.jsServicesKernel.createComm(e,r),l=new t(a);return this.register_comm(l),l.open(n,s,i,o),l}register_target(e,n){const s=this.jsServicesKernel.registerCommTarget(e,((e,s)=>{const i=new t(e);this.register_comm(i);try{return n(i,s)}catch(rU){i.close(),console.error(rU),console.error(new Error("Exception opening new comm"))}}));this.targets[e]=s}unregister_target(e,t){this.targets[e].dispose(),delete this.targets[e]}register_comm(e){return this.comms[e.comm_id]=Promise.resolve(e),e.kernel=this.kernel,e.comm_id}};class t{constructor(e){this.jsServicesComm=e}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(e,t,n,s){const i=this.jsServicesComm.open(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}send(e,t,n,s){const i=this.jsServicesComm.send(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}close(e,t,n,s){const i=this.jsServicesComm.close(e,n,s);return this._hookupCallbacks(i,t),i.msg.header.msg_id}on_msg(e){this.jsServicesComm.onMsg=e.bind(this)}on_close(e){this.jsServicesComm.onClose=e.bind(this)}_hookupCallbacks(e,t){t&&(e.onReply=function(e){t.shell&&t.shell.reply&&t.shell.reply(e)},e.onStdin=function(e){t.input&&t.input(e)},e.onIOPub=function(e){if(t.iopub)if(t.iopub.status&&"status"===e.header.msg_type)t.iopub.status(e);else if(t.iopub.clear_output&&"clear_output"===e.header.msg_type)t.iopub.clear_output(e);else if(t.iopub.output)switch(e.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":t.iopub.output(e)}})}}e.Comm=t}(t=e.services||(e.services={}))}(jL||(jL={}));class IL{constructor(e,t,n){this.initialize(e,t,n)}initialize(e,t,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=t||function(e){e.remove()}}update(e,t,n,s){const i=n||this._remove_view,r=t||this._create_view;s=s||this._handler_context;let o=0;for(;o<e.length&&!(o>=this._models.length||e[o]!==this._models[o]);o++);const a=o,l=this.views.splice(a,this.views.length-a);for(let c=0;c<l.length;c++)l[c].then((function(e){i.call(s,e)}));for(;o<e.length;o++)this.views.push(Promise.resolve(r.call(s,e[o],o)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then((e=>{e.forEach((e=>this._remove_view.call(this._handler_context,e))),this.views=[],this._models=[]}))}dispose(){this.views=null,this._models=null}}new _.Token("jupyter.extensions.jupyterWidgetRegistry");function NL(e,t){void 0!==t&&(e.textContent=t),void 0!==window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}function LL(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function BL(e,t){return function(n){throw t&&console.error(new Error(e)),n}}const $L="2.0.0";class FL extends RL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}FL.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};class UL extends ML{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:$L,_model_module_version:$L,description:"",description_allow_html:!1})}}class zL extends AL{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,t){this.displayed.then((()=>NL(e,t)))}updateDescription(){const e=this.model.get("description");0===e.length?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}}class VL extends UL{}class qL extends zL{}class HL extends OL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:$L,_model_module_version:$L})}}class WL extends ML{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:$L,_model_module_version:$L})}}class KL extends UL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:$L,_model_module_version:$L})}}class GL extends HL{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,t){super.initialize(e,t),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,t,n,s){if(!this._updating){this._updating=!0;try{n&&(n.set(s,e.get(t)),n.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,(()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)})),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}}GL.serializers=Object.assign(Object.assign({},HL.serializers),{target:{deserialize:EL},source:{deserialize:EL}});class JL extends GL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,(()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)}))}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}class YL extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}}YL.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{background:{selector:"",attribute:"background",default:null}});class XL extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}}XL.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class ZL extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}}class QL extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}}class eB extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(null==this.checkboxLabel)return;const e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){const e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;const e=this.model.get("tabbable");!0===e?this.checkbox.setAttribute("tabIndex","0"):!1===e?this.checkbox.setAttribute("tabIndex","-1"):null===e&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){const e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),void 0!==e&&e.updated_view==this||(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){"focus"==e.do?this.checkbox.focus():"blur"==e.do&&this.checkbox.blur()}}class tB extends ZL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}}class nB extends AL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(nB.class_map,"button_style")}set_button_style(){this.set_mapped_classes(nB.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),void 0===e||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("description"),t=this.model.get("icon");if(0===e.trim().length&&0===t.trim().length)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",t.trim().length){const e=document.createElement("i");this.el.appendChild(e),e.classList.add("fa"),e.classList.add("fa-"+t)}this.el.appendChild(document.createTextNode(e))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();const t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}}nB.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class sB extends ZL{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}}class iB extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}class rB extends RL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}rB.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};class oB extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}}class aB extends AL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();const e=this.model.get("tooltip"),t=this.model.get("description"),n=this.model.get("icon");if(this.el.setAttribute("title",null!=e?e:t),t.length||n.length){if(this.el.textContent="",n.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add(...n.split(/[\s]+/).filter(Boolean).map((e=>`fa-${e}`))),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return super.update()}update_button_style(){this.update_mapped_classes(aB.class_map,"button_style")}set_button_style(){this.set_mapped_classes(aB.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}}aB.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class lB extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}}lB.serializers=Object.assign(Object.assign({},WL.serializers),{children:{deserialize:EL}});class cB extends lB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}}class uB extends lB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}}class hB extends AL{_createElement(e){return this.luminoWidget=new PL({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new IL(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")).then((e=>{e.forEach((e=>{xL.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}update_box_style(){this.update_mapped_classes(hB.class_map,"box_style")}set_box_style(){this.set_mapped_classes(hB.class_map,"box_style")}add_child_model(e){const t=new E.Widget;return this.luminoWidget.addWidget(t),this.create_child_view(e).then((e=>{const n=fL.firstIndexOf(this.luminoWidget.widgets,t);return this.luminoWidget.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(aL("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}hB.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};class dB extends hB{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}}class pB extends hB{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}}class fB extends hB{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}}class gB extends lB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}class mB extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}}mB.serializers=Object.assign(Object.assign({},WL.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class _B extends AL{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;this.el.src=e,s&&URL.revokeObjectURL(s);const i=this.model.get("width");void 0!==i&&i.length>0?this.el.setAttribute("width",i):this.el.removeAttribute("width");const r=this.model.get("height");return void 0!==r&&r.length>0?this.el.setAttribute("height",r):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}class vB extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}vB.serializers=Object.assign(Object.assign({},WL.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class bB extends AL{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;this.el.src=e,s&&URL.revokeObjectURL(s);const i=this.model.get("width");void 0!==i&&i.length>0?this.el.setAttribute("width",i):this.el.removeAttribute("width");const r=this.model.get("height");return void 0!==r&&r.length>0?this.el.setAttribute("height",r):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}class yB extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}yB.serializers=Object.assign(Object.assign({},WL.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class wB extends AL{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e;const t=this.model.get("format"),n=this.model.get("value");if("url"!==t){const t=new Blob([n],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(n.buffer);const s=this.el.src;return this.el.src=e,s&&URL.revokeObjectURL(s),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}const xB={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};class SB extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}}class CB extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=rL(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(void 0===e||e.updated_view!=this){const e=this.model.get("disabled");this._textbox.disabled=e,this._colorpicker.disabled=e}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){const e=this.model.get("value");var t;this._colorpicker.value=xB[(t=e).toLowerCase()]||function(e){return 7===e.length?e:"#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)}(t),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){const e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,t){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||xB[e.toLowerCase()]?e:t}}function kB(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate()}}function EB(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(0,0,0,0),t}}class OB extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}}OB.serializers=Object.assign(Object.assign({},KL.serializers),{value:{serialize:kB,deserialize:EB}});class MB extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=rL(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return void 0!==e&&e.updated_view===this||(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){const e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}const TB=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;function DB(e){if(null===e)return null;{const t=TB.exec(e);return null===t?null:{hours:Math.min(23,parseInt(t[1],10)),minutes:Math.min(59,parseInt(t[2],10)),seconds:t[4]?Math.min(59,parseInt(t[4],10)):0,milliseconds:t[6]?parseInt(t[6],10):0}}}function PB(e){if(null===e)return null;{const t=[`${e.hours.toString().padStart(2,"0")}:${e.minutes.toString().padStart(2,"0")}`];return(e.seconds>0||e.milliseconds>0)&&(t.push(`:${e.seconds.toString().padStart(2,"0")}`),e.milliseconds>0&&t.push(`.${e.milliseconds.toString().padStart(3,"0")}`)),t.join("")}}const AB={serialize:DB,deserialize:PB};class RB extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:RB.model_name,_view_name:RB.view_name,value:null,disabled:!1,min:null,max:null,step:60})}}RB.serializers=Object.assign(Object.assign({},KL.serializers),{value:AB,min:AB,max:AB}),RB.model_name="TimeModel",RB.view_name="TimeView";class jB extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=rL(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){return void 0!==t&&t.updated_view===this||(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,n){void 0!==n&&n.updated_view===this||(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}function IB(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate(),hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds(),milliseconds:e.getUTCMilliseconds()}}function NB(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}const LB={serialize:IB,deserialize:NB};class BB extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}}BB.serializers=Object.assign(Object.assign({},KL.serializers),{value:LB,min:LB,max:LB});class $B extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");const e=document.createElement("input");e.type="datetime-local","text"===e.type?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=rL(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=rL(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=rL(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){if(void 0===t||t.updated_view!==this){const e=this.model.get("min"),t=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=FB.dt_as_dt_string(e),this._datetimepicker.max=FB.dt_as_dt_string(t)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=FB.dt_as_date_string(e),this._datepicker.max=FB.dt_as_date_string(t),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,n){if(void 0===n||n.updated_view!==this){const e=this.model.get("value");this._datetimepicker?this._datetimepicker.value=FB.dt_as_dt_string(e):(this._datepicker.valueAsDate=e,this._timepicker.value=FB.dt_as_time_string(e))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){const e=this._datetimepicker.value;let t=e?new Date(e):null;t&&isNaN(t.valueOf())&&(t=null),this.model.set("value",t,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){const e=this._datepicker.valueAsDate,t=DB(this._timepicker.value);null!==e&&null!==t&&e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),this.model.set("value",null!==t&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some((e=>e&&e.validity.badInput))&&(this.model.set("value",null),this.touch())}}var FB;function UB(e){return null===e?null:{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}}function zB(e){if(null===e)return null;{const t=new Date;return t.setFullYear(e.year,e.month,e.date),t.setHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}!function(e){function t(e){if(null===e)return"";const t=[];return t.push(`${e.getFullYear().toString().padStart(4,"0")}`),t.push(`-${(e.getMonth()+1).toString().padStart(2,"0")}`),t.push(`-${e.getDate().toString().padStart(2,"0")}`),t.push(`T${e.getHours().toString().padStart(2,"0")}`),t.push(`:${e.getMinutes().toString().padStart(2,"0")}`),(e.getSeconds()>0||e.getMilliseconds()>0)&&(t.push(`:${e.getSeconds().toString().padStart(2,"0")}`),e.getMilliseconds()>0&&t.push(`.${e.getMilliseconds().toString().padStart(3,"0")}`)),t.join("")}e.dt_as_dt_string=t,e.dt_as_date_string=function(e){return e?t(e).split("T",2)[0]:""},e.dt_as_time_string=function(e){return e?t(e).split("T",2)[1]:""}}(FB||(FB={}));const VB={serialize:UB,deserialize:zB};class qB extends BB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}}qB.serializers=Object.assign(Object.assign({},KL.serializers),{value:VB,min:VB,max:VB});class HB extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}}class WB extends HB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}}class KB extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}}KB.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});class GB extends WB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class JB extends GB{}class YB extends zL{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){if(void 0===e||e.updated_view!==this){this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled"));"vertical"===this.model.get("orientation")?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox"));this.model.get("readout")?(this.readout.style.display="",this.displayed.then((()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")}))):this.readout.style.display="none"}return super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){13===e.keyCode&&(e.preventDefault(),this.handleTextChange())}createSlider(){const e=this.model.get("orientation"),t=this.model.get("behavior");uP().create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:t,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:"horizontal"===e?"ltr":"rtl",format:{from:e=>Number(e),to:e=>this._validate_slide_value(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}}class XB extends YB{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:\u2013]\s*([+-]?\d+)/}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t),this.model.get("value")!==t&&(this.model.set("value",t,{updated_view:this}),this.touch())}valueToString(e){const t=this.model.readout_formatter;return e.map((function(e){return t(e)})).join(" \u2013 ")}stringToValue(e){if(null===e)return null;const t=this._range_regex.exec(e);return t?[this._parse_value(t[1]),this._parse_value(t[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),n=this.model.get("max");null===e||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],n),t),Math.max(Math.min(e[1],n),t)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e.map(this._validate_slide_value);this.model.set("value",n,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("value");s[0]===i[0]&&s[1]===i[1]||this.$slider.noUiSlider.set(i)}}class ZB extends YB{update(e){super.update(e);const t=this.model.get("min"),n=this.model.get("max");let s=this.model.get("value");s>n?s=n:s<t&&(s=t),this.readout.textContent=this.valueToString(s),this.model.get("value")!==s&&(this.model.set("value",s,{updated_view:this}),this.touch())}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let t=this.stringToValue(null!==(e=this.readout.textContent)&&void 0!==e?e:"");const n=this.model.get("min"),s=this.model.get("max");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,s),n),t!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const n=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=this._validate_slide_value(e[t]),s=this.model.get("value");parseFloat(s)!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("value");s!==i&&this.$slider.noUiSlider.set(i)}}class QB extends HB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}}class e$ extends WB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}}class t$ extends zL{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=rL(),this.el.appendChild(this.textbox),this.update()}update(e){if(void 0===e||e.updated_view!==this){const e=this.model.get("value");this._parse_value(this.textbox.value)!==e&&(this.textbox.value=e.toString()),void 0!==this.model.get("min")&&(this.textbox.min=this.model.get("min")),void 0!==this.model.get("max")&&(this.textbox.max=this.model.get("max")),void 0!==this.model.get("step")&&null!==this.model.get("step")?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;const t=e.target;let n=t.value;if(n=n.replace(/[e,.\s]/g,""),n.length>=1){const e=n.substr(1);n=n[0]+e.replace(/[+-]/g,"")}t.value!==n&&(e.preventDefault(),t.value=n)}handleChanging(e){const t=e.target.value.trim();""===t||["-","-.",".","+.","+"].indexOf(t)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;let n=this._parse_value(t.value);if(isNaN(n))t.value=this.model.get("value");else{let e=n;void 0!==this.model.get("max")&&(e=Math.min(this.model.get("max"),e)),void 0!==this.model.get("min")&&(e=Math.max(this.model.get("min"),e)),e!==n&&(t.value=e,n=e),n!==this.model.get("value")&&(this.model.set("value",n,{updated_view:this}),this.touch())}}}class n$ extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}}n$.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});class s$ extends WB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class i$ extends zL{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();const e="horizontal"===this.model.get("orientation")?"widget-hprogress":"widget-vprogress";this.el.classList.add(e),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){const e=this.model.get("value"),t=this.model.get("max"),n=this.model.get("min"),s=100*(e-n)/(t-n);return"horizontal"===this.model.get("orientation")?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=s+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=s+"%"),super.update()}update_bar_style(){this.update_mapped_classes(i$.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(i$.class_map,"bar_style",this.bar)}}i$.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};class r$ extends WB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,t){super.initialize(e,t)}loop(){if(!this.get("playing"))return;const e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){void 0===this._timerId&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}}class o$ extends AL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);const e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);const t=document.createElement("i");t.className="fa fa-stop",this.stopButton.appendChild(t);const n=document.createElement("i");n.className="fa fa-retweet",this.repeatButton.appendChild(n),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){const e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();const e=this.model.previous("playing"),t=this.model.get("playing");!e&&t?this.model.animate():this.model.pause()}updatePlaying(){const e=this.model.get("playing"),t=this.playPauseButton.getElementsByTagName("i")[0];t.className=e?"fa fa-pause":"fa fa-play"}updateRepeat(){const e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}class a$ extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}}class l$ extends a${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}}class c$ extends l${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class u$ extends l${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=eP(this.get("readout_format"))}}class h$ extends c${}class d$ extends ZB{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}}class p$ extends YB{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t)}logCalc(e){const t=this.model.get("min"),n=this.model.get("max"),s=this.model.get("base");let i=Math.log(e)/Math.log(s);return i>n?i=n:i<t&&(i=t),i}createSlider(){var e;const t=this.model.get("orientation"),n=this.model.get("behavior");uP().create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:n,range:{min:this.model.get("min"),max:this.model.get("max")},step:null!==(e=this.model.get("step"))&&void 0!==e?e:void 0,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>e}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return null===e?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),n=this.model.get("max"),s=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(s,n)),Math.pow(s,t)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,t){const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(s),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){if(this._updating_slider)return;const n=this.model.get("base"),s=Math.pow(n,this._validate_slide_value(e[0]));this.model.set("value",s,{updated_view:this}),this.touch()}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(s)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}}class f$ extends XB{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:\u2013]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}}class g$ extends a${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}}class m$ extends l${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}}class _$ extends t${constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}}class v$ extends l${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class b$ extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}}class y$ extends AL{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}}class w$ extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}}class x$ extends AL{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}}class S$ extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,t){super.initialize(e,t),void 0===navigator.getGamepads?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){const e=this.get("index"),t=navigator.getGamepads()[e];t?this.setup(t).then((e=>{this.set(e),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))})):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),oL({buttons:Promise.all(e.buttons.map(((e,t)=>this._create_button_model(t)))),axes:Promise.all(e.axes.map(((e,t)=>this._create_axis_model(t))))})}update_loop(){const e=this.get("index"),t=this.get("name"),n=navigator.getGamepads()[e];n&&e===n.index&&t===n.id?(this.set({timestamp:n.timestamp,connected:n.connected}),this.save_changes(),this.get("buttons").forEach((function(e,t){e.set({value:n.buttons[t].value,pressed:n.buttons[t].pressed}),e.save_changes()})),this.get("axes").forEach((function(e,t){e.set("value",n.axes[t]),e.save_changes()})),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach((function(e){e.close()})),this.get("axes").forEach((function(e){e.close()})),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}}S$.serializers=Object.assign(Object.assign({},WL.serializers),{buttons:{deserialize:EL},axes:{deserialize:EL}});class C$ extends AL{_createElement(e){return this.luminoWidget=new PL({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new IL(this.add_button,null,this),this.listenTo(this.model,"change:buttons",((e,t)=>{this.button_views.update(t)})),this.axis_views=new IL(this.add_axis,null,this),this.listenTo(this.model,"change:axes",((e,t)=>{this.axis_views.update(t)})),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new E.Panel,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new E.Panel,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){const t=new E.Widget;return this.button_box.addWidget(t),this.create_child_view(e).then((e=>{const n=fL.firstIndexOf(this.button_box.widgets,t);return this.button_box.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(aL("Could not add child button view to controller",!0))}add_axis(e){const t=new E.Widget;return this.axis_box.addWidget(t),this.create_child_view(e).then((e=>{const n=fL.firstIndexOf(this.axis_box.widgets,t);return this.axis_box.insertWidget(n,e.luminoWidget),t.dispose(),e})).catch(aL("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}class k$ extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}}class E$ extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;const e=this.model.get("tabbable");!0===e?this.listbox.setAttribute("tabIndex","0"):!1===e?this.listbox.setAttribute("tabIndex","-1"):null===e&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}}class O$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}}class M$ extends E${render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=rL(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){if((null==e?void 0:e.updated_view)!==this){this.model.hasChanged("_options_labels")&&this._updateOptions()}const t=this.model.get("index");return this.listbox.selectedIndex=null===t?-1:t,super.update()}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const n=e[t],s=document.createElement("option");s.textContent=n.replace(/ /g,"\xa0"),s.setAttribute("data-value",encodeURIComponent(n)),s.value=n,this.listbox.appendChild(s)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",-1===this.listbox.selectedIndex?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.listbox.focus():"blur"===e.do&&this.listbox.blur()}}class T$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}}class D$ extends E${initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=rL(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if((null==e?void 0:e.updated_view)!==this){const e=this.model.hasChanged("_options_labels"),t=this.model.hasChanged("index");if(e||t){const t=this.model.get("index");e&&this._updateOptions(),this.updateSelection(t)}}super.update();let t=this.model.get("rows");null===t&&(t=""),this.listbox.setAttribute("size",t)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=null===e?-1:e}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const n=e[t],s=document.createElement("option");s.textContent=n.replace(/ /g,"\xa0"),s.setAttribute("data-value",encodeURIComponent(n)),s.value=n,this.listbox.appendChild(s)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"==e.do?this.listbox.focus():"blur"==e.do&&this.listbox.blur()}}class P$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:""})}}class A$ extends zL{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){const t=this.model.get("_options_labels"),n=Array.from(this.container.querySelectorAll('input[type="radio"]')).map((e=>e.value));let s=t.length!==n.length;if(!s)for(let i=0,r=t.length;i<r;++i)if(n[i]!==t[i]){s=!0;break}return!s||void 0!==e&&e.updated_view===this||(this.container.textContent="",t.forEach(((e,t)=>{const n=document.createElement("label");n.textContent=e,this.container.appendChild(n);const s=document.createElement("input");s.setAttribute("type","radio"),s.value=t.toString(),s.setAttribute("data-value",encodeURIComponent(e)),n.appendChild(s)}))),t.forEach(((e,t)=>{const n='input[data-value="'+encodeURIComponent(e)+'"]',s=this.container.querySelectorAll(n);if(s.length>0){const e=s[0];e.checked=this.model.get("index")===t,e.disabled=this.model.get("disabled")}})),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){const t=window.getComputedStyle(e.el),n=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),s=e.label.offsetHeight+n,i=window.getComputedStyle(e.container),r=parseInt(i.marginBottom,10),o=(e.el.offsetHeight+n-r)%s,a=0===o?0:s-o;e.container.style.marginBottom=a+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch()}handle_message(e){if("focus"==e.do){this.container.firstElementChild.focus()}else if("blur"==e.do)for(let t=0;t<this.container.children.length;t++){this.container.children[t].blur()}}}class R$ extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}}R$.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});class j$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}}class I$ extends zL{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){const t=this.model.get("_options_labels"),n=this.model.get("icons")||[],s=this.model.previous("icons")||[],i=I$.classMap[this.model.previous("button_style")]||"",r=this.model.get("tooltips")||[],o=this.model.get("disabled"),a=this.buttongroup.querySelectorAll("button"),l=Array.from(a).map((e=>e.value));let c=!1;for(let u=0,h=t.length;u<h;++u)if(l[u]!==t[u]||n[u]!==s[u]){c=!0;break}return!c||void 0!==e&&e.updated_view===this||(this.buttongroup.textContent="",t.forEach(((e,t)=>{let s;s=0===e.trim().length&&(!n[t]||0===n[t].trim().length)?"&nbsp;":LL(e);const a=document.createElement("i"),l=document.createElement("button");n[t]&&(a.className="fa fa-"+n[t]),l.setAttribute("type","button"),l.className="widget-toggle-button jupyter-button",i&&l.classList.add(i),l.innerHTML=s,l.setAttribute("data-value",encodeURIComponent(e)),l.setAttribute("value",t.toString()),l.appendChild(a),l.disabled=o,r[t]&&l.setAttribute("title",r[t]),this.update_style_traits(l),this.buttongroup.appendChild(l)}))),t.forEach(((e,t)=>{const n='[data-value="'+encodeURIComponent(e)+'"]',s=this.buttongroup.querySelector(n);this.model.get("index")===t?s.classList.add("mod-active"):s.classList.remove("mod-active")})),this.stylePromise.then((function(e){e&&e.style()})),super.update(e)}update_style_traits(e){for(const t in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name"))if("margin"===t)this.buttongroup.style[t]=this._css_state[t];else if("width"!==t)if(e)e.style[t]=this._css_state[t];else{const e=this.buttongroup.querySelectorAll("button");e.length&&(e[0].style[t]=this._css_state[t])}}update_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.update_mapped_classes(I$.classMap,"button_style",e[t])}set_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.set_mapped_classes(I$.classMap,"button_style",e[t])}events(){return{"click button":"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}}!function(e){e.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}}(I$||(I$={}));class N$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class L$ extends zL{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if((null==e?void 0:e.updated_view)!==this){this.updateSliderOptions(this.model);const e=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),"vertical"===e?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox"));const t=this.model.get("readout");this.readout.style.display=t?"":"none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){const e=this.model.get("_options_labels").length-1,t=this.model.get("orientation"),n=this.model.get("behavior");uP().create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:n,range:{min:0,max:e},step:1,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>Math.round(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){const e=this.model.get("index");this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels")[e];this.readout.textContent=t}handleSliderUpdateEvent(e,t){const n=e[0];this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const n=e[0];this.updateReadout(n),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e[0];this.updateReadout(n),this.model.set("index",n,{updated_view:this}),this.touch()}updateSliderOptions(e){const t=this.model.get("_options_labels").length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:0,max:t},step:1})}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get(),i=this.model.get("index");s!==i&&this.$slider.noUiSlider.set(i)}}class B$ extends k${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}}class $$ extends B${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}}class F$ extends D${initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){const e=this.model.get("index")||[],t=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach((e=>{t[e].selected=!0}))}_handle_change(){const e=Array.prototype.map.call(this.listbox.selectedOptions||[],(function(e){return e.index}));this.model.set("index",e,{updated_view:this}),this.touch()}}class U$ extends B${defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class z$ extends L${render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels"),n=t[e[0]],s=t[e[1]];this.readout.textContent=`${n}-${s}`}handleSliderUpdateEvent(e,t){const n=e.map(Math.trunc);this.updateReadout(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const n=e.map(Math.round);this.updateReadout(n),this.model.set("index",n.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,t,n){if(n.updated_view===this)return;const s=this.$slider.noUiSlider.get().map(Math.round),i=this.model.get("index").map(Math.round);s[0]===i[0]&&s[1]===i[1]||this.$slider.noUiSlider.set(i)}}var V$,q$,H$,W$,K$;!function(e){e.copyText=function(e){var t=document.body,n=function(s){s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",e),t.removeEventListener("copy",n,!0)};t.addEventListener("copy",n,!0),document.execCommand("copy")}}(V$||(V$={})),function(e){e.boxSizing=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,s=parseFloat(t.borderLeftWidth)||0,i=parseFloat(t.borderRightWidth)||0,r=parseFloat(t.borderBottomWidth)||0,o=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,c=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:s,borderRight:i,borderBottom:r,paddingTop:o,paddingLeft:a,paddingRight:l,paddingBottom:c,horizontalSum:s+a+l+i,verticalSum:n+o+c+r}},e.sizeLimits=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,s=parseFloat(t.minHeight)||0,i=parseFloat(t.maxWidth)||1/0,r=parseFloat(t.maxHeight)||1/0;return{minWidth:n,minHeight:s,maxWidth:i=Math.max(n,i),maxHeight:r=Math.max(s,r)}},e.hitTest=function(e,t,n){var s=e.getBoundingClientRect();return t>=s.left&&t<s.right&&n>=s.top&&n<s.bottom},e.scrollIntoViewIfNeeded=function(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect();s.top<=n.top&&s.bottom>=n.bottom||(s.top<n.top&&s.height<=n.height||s.bottom>n.bottom&&s.height>=n.height?e.scrollTop-=n.top-s.top:(s.top<n.top&&s.height>n.height||s.bottom>n.bottom&&s.height<n.height)&&(e.scrollTop-=n.bottom-s.bottom))}}(q$||(q$={})),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent),e.accelKey=function(t){return e.IS_MAC?t.metaKey:t.ctrlKey}}(H$||(H$={})),function(e){e.calculateSpecificity=function(e){if(e in K$.specificityCache)return K$.specificityCache[e];var t=K$.calculateSingle(e);return K$.specificityCache[e]=t},e.isValid=function(e){if(e in K$.validityCache)return K$.validityCache[e];var t=!0;try{K$.testElem.querySelector(e)}catch(n){t=!1}return K$.validityCache[e]=t},e.matches=function(e,t){return K$.protoMatchFunc.call(e,t)}}(W$||(W$={})),function(e){var t;e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(t=Element.prototype).matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var t=this,n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return-1!==Array.prototype.indexOf.call(n,t)},e.calculateSingle=function(e){var t=0,u=0,h=0;function d(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(c," $1 ");e.length>0;)if(d(n))t++;else if(d(s))u++;else if(d(i))u++;else if(d(o))h++;else if(d(a))u++;else if(d(r))h++;else if(!d(l))return 0;return(t=Math.min(t,255))<<16|(u=Math.min(u,255))<<8|(h=Math.min(h,255))};var n=/^#[^\s\+>~#\.\[:]+/,s=/^\.[^\s\+>~#\.\[:]+/,i=/^\[[^\]]+\]/,r=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g}(K$||(K$={}));class G$ extends E.Panel{constructor(){super(...arguments),this._widgetRemoved=new f.Signal(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}}class J$ extends E.Widget{constructor(e={}){super(),this._currentChanged=new f.Signal(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new E.TabBar(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new G$,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);const t=new E.PanelLayout;t.addWidget(this.tabBar),t.addWidget(this.tabContents),this.layout=t}get currentChanged(){return this._currentChanged}get currentIndex(){const e=this.tabBar.currentIndex;return-1===e?null:e}set currentIndex(e){this.tabBar.currentIndex=null===e?-1:e}get currentWidget(){const e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,t){t!==this.currentWidget&&t.hide(),this.tabContents.insertWidget(e,t),this.tabBar.insertTab(e,t.title)}_onCurrentChanged(e,t){const{previousIndex:n,previousTitle:s,currentIndex:i,currentTitle:r}=t,o=s?s.owner:null,a=r?r.owner:null;o&&o.hide(),a&&a.show(),this._currentChanged.emit({previousIndex:n,previousWidget:o,currentIndex:i,currentWidget:a}),(H$.IS_EDGE||H$.IS_IE)&&xL.flush()}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabMoved(e,t){this.tabContents.insertWidget(t.toIndex,t.title.owner)}_onWidgetRemoved(e,t){this.tabBar.removeTab(t.title)}}class Y${constructor(e,t={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new f.Signal(this),this._array=e,this._insertBehavior=t.insertBehavior||"select-item-if-needed",this._removeBehavior=t.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){const t=this.index,n=this.value;if(e!==t)return;this._updateSelectedValue();const s=this.value;this._previousValue=null,n!==s&&this._selectionChanged.emit({previousIndex:t,previousValue:n,currentIndex:t,currentValue:s})}get value(){return this._value}set value(e){null===e||null===this._array?this.index=null:this.index=fL.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let t;if(null!==e&&null!==this._array?(t=Math.floor(e),(t<0||t>=this._array.length)&&(t=null)):t=null,this._index===t)return;const n=this._index,s=this._value;this._index=t,this._updateSelectedValue(),this._previousValue=s,this._selectionChanged.emit({previousIndex:n,previousValue:s,currentIndex:t,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,t){const n=this._value,s=this._index,i=this._insertBehavior;if("select-item"===i||"select-item-if-needed"===i&&null===s)return this._index=e,this._value=t,this._previousValue=n,void this._selectionChanged.emit({previousIndex:s,previousValue:n,currentIndex:e,currentValue:t});null!==s&&s>=e&&this._index++}clearSelection(){const e=this._index,t=this._value;this._index=null,this._value=null,this._previousValue=null,null!==e&&this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,t){if(null===this._index)return;const n=this._index,s=this._removeBehavior;if(n===e){if(!this._array||0===this._array.length)return this._index=null,this._value=null,this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-after"===s)return this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-before"===s)return this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-previous-item"===s)return this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this.value});this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}else n>e&&this._index--}_updateSelectedValue(){const e=this._index;this._value=null!==e&&this._array?this._array[e]:null}}const X$="jupyter-widget-Collapse-open";class Z$ extends E.Widget{constructor(e){super(e),this._collapseChanged=new f.Signal(this),this.addClass("jupyter-widget-Collapse"),this._header=new E.Widget,this._header.addClass("jupyter-widget-Collapse-header"),this._header.node.addEventListener("click",this);const t=document.createElement("i");t.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(t),this._header.node.appendChild(document.createElement("span")),this._content=new E.Panel,this._content.addClass("jupyter-widget-Collapse-contents");const n=new E.PanelLayout;this.layout=n,n.addWidget(this._header),n.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.disposed.disconnect(this._onChildDisposed,this),t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(X$),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(X$),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){if("click"===e.type)this._evtClick(e)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}}const Q$="jupyter-widget-Accordion-child-active";class eF extends E.Panel{constructor(e){super(e),this._selection=new Y$(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass("jupyter-widget-Accordion")}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return fL.findFirstIndex(this.collapseWidgets,(t=>t.widget===e))}addWidget(e){const t=this._wrapWidget(e);return t.collapsed=!0,super.addWidget(t),this._selection.adjustSelectionForInsert(this.widgets.length-1,t),t}insertWidget(e,t){const n=this._wrapWidget(t);n.collapsed=!0,super.insertWidget(e,n),this._selection.adjustSelectionForInsert(e,n)}removeWidget(e){const t=this.indexOf(e);if(t>=0){const n=this.collapseWidgets[t];e.parent=null,n.dispose(),this._selection.adjustSelectionForRemove(t,null)}}_wrapWidget(e){const t=new Z$({widget:e});return t.addClass("jupyter-widget-Accordion-child"),t.collapseChanged.connect(this._onCollapseChange,this),t}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,t){const n=t.previousValue,s=t.currentValue;n&&(n.collapsed=!0,n.removeClass(Q$)),s&&(s.collapsed=!1,s.addClass(Q$))}}class tF extends lB{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}}class nF extends tF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}}class sF extends eF{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){var t;super.processMessage(e),null===(t=this._view)||void 0===t||t.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class iF extends AL{_createElement(e){return this.luminoWidget=new sF({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new IL(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",(()=>this.updateChildren())),this.listenTo(this.model,"change:selected_index",(()=>this.update_selected_index())),this.listenTo(this.model,"change:titles",(()=>this.update_titles()))}render(){var e;super.render();const t=this.luminoWidget;t.addClass("jupyter-widgets"),t.addClass("widget-accordion"),t.addClass("widget-container"),t.selection.selectionChanged.connect((e=>{this.updatingChildren||(this.model.set("selected_index",t.selection.index),this.touch())})),null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){const e=this.luminoWidget.collapseWidgets,t=this.model.get("titles");for(let n=0;n<e.length;n++)void 0!==t[n]&&(e[n].widget.title.label=t[n])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,t){const n=this.luminoWidget,s=new E.Widget;return s.title.label=this.model.get("titles")[t]||"",n.addWidget(s),this.create_child_view(e).then((e=>{const t=e.luminoWidget;t.title.label=s.title.label;return n.collapseWidgets[n.indexOf(s)].widget=t,s.dispose(),e})).catch(aL("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}class rF extends tF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}}class oF extends J${constructor(e){const t=e.view;delete e.view,super(e),this._view=t,xL.installMessageHook(this.tabContents,((e,t)=>(this._view.processLuminoMessage(t),!0)))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class aF extends AL{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new oF({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=PM()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new IL(this.addChildView,(e=>{e.remove()}),this),this.listenTo(this.model,"change:children",(()=>this.updateTabs())),this.listenTo(this.model,"change:titles",(()=>this.updateTitles()))}render(){super.render();const e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,null===(e=this.childrenViews)||void 0===e||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,t){const n=this.model.get("titles")[t]||"",s=this.luminoWidget,i=new E.Widget;return i.title.label=n,s.addWidget(i),this.create_child_view(e).then((e=>{const t=e.luminoWidget;t.title.label=i.title.label,t.title.closable=!1;const n=fL.firstIndexOf(s.widgets,i);return s.insertWidget(n+1,t),i.dispose(),e})).catch(aL("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){const e=this.model.get("titles")||[];mL(this.luminoWidget.widgets,((t,n)=>{t.title.label=e[n]||""}))}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,t){if(!this.updatingTabs){const e=t.currentIndex;this.model.set("selected_index",-1===e?null:e),this.touch()}}_onTabMoved(e,t){const n=this.model.get("children").slice();fL.move(n,t.fromIndex,t.toIndex),this.model.set("children",n),this.touch()}}class lF extends tF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}}class cF extends hB{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let t;t=null===this.model.get("selected_index")?[]:[this.model.get("children")[this.model.get("selected_index")]],null===(e=this.children_views)||void 0===e||e.update(t).then((e=>{e.forEach((e=>{xL.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}}function uF(e){for(;e.firstChild;)e.removeChild(e.firstChild)}class hF{constructor(e,t,n){this.start=e,this.dx=t,this.max=n}isSelected(e){let t,n;return this.dx>=0?(t=this.start,n=this.start+this.dx):(t=this.start+this.dx,n=this.start),t<=e&&e<n}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}}class dF extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"\u200b",allowed_tags:null,allow_duplicates:!0})}}class pF extends AL{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=rL(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{const t=null==this.hoveredTagIndex?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,t)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,uF(this.el),this.tags=[];const e=this.model.get("value");for(const t in e){const n=parseInt(t),s=this.createTag(e[n],n,null!=this.selection&&this.selection.isSelected(n));s.draggable=!0,s.ondragstart=((e,t)=>n=>{this.ondragstart(n,e,t,this.model.model_id)})(n,e[n]),s.ondrop=(e=>t=>{this.ondrop(t,e)})(n),s.ondragover=this.ondragover.bind(this),s.ondragenter=(e=>t=>{this.ondragenter(t,e)})(n),s.ondragend=this.ondragend.bind(this),this.tags.push(s),this.el.appendChild(s)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){uF(this.autocompleteList);const e=this.model.get("allowed_tags");for(const t of e){const e=document.createElement("option");e.value=t,this.autocompleteList.appendChild(e)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){const e=this.model.get("value");for(const t in this.tags){const n=parseInt(t);this.updateTag(this.tags[n],e[n],n,null!=this.selection&&this.selection.isSelected(n))}}handleValueAdded(e){const t=function(e){return e.replace(/^\s+|\s+$/g,"")}(this.taginput.value),n=this.inputIndex;if(""==t)return;this.inputIndex++;this.addTag(n,t)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,t){const n=this.model.get("value");let s;try{s=this.validateValue(t)}catch(Hn){return!1}const i=this.model.get("allowed_tags");if(i.length&&!i.includes(s))return!1;if(!this.model.get("allow_duplicates")&&n.includes(s))return!1;this.selection=null;const r=[...n];return r.splice(e,0,s),this.model.set("value",r),this.model.save_changes(),!0}resizeInput(){let e;e=0!=this.taginput.value.length?this.taginput.value:this.model.get("placeholder");const t=e.length+1;this.taginput.setAttribute("size",String(t))}handleKeyEvent(e){const t=this.model.get("value").length;if(this.taginput.value.length)return;const n=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(n,-n),!e.ctrlKey&&e.shiftKey&&this.select(n,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(n,t-n),!e.ctrlKey&&e.shiftKey&&this.select(n,1),e.ctrlKey?this.inputIndex=t:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=function(e,t,n){return Math.min(Math.max(e,t),n)}(this.inputIndex,0,t),this.update(),this.focus()}ondragstart(e,t,n,s){null!=e.dataTransfer&&(e.dataTransfer.setData("index",String(t)),e.dataTransfer.setData("tagValue",String(n)),e.dataTransfer.setData("origin",s))}ondrop(e,t){if(null==e.dataTransfer)return;e.preventDefault(),e.stopPropagation();const n=e.dataTransfer.getData("tagValue"),s=parseInt(e.dataTransfer.getData("index")),i=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(s)){if(i){const e=[...this.model.get("value")];return s<t&&t--,e.splice(s,1),e.splice(t,0,n),this.model.set("value",e),void this.model.save_changes()}this.addTag(t,n)}}ondragover(e){e.preventDefault()}ondragenter(e,t){null!=this.hoveredTag&&this.hoveredTag!=this.tags[t]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[t],this.hoveredTagIndex=t,this.hoveredTag.style.marginLeft="30px"}ondragend(){null!=this.hoveredTag&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,t){const n=this.model.get("value").length;this.selection?this.selection.updateSelection(t):this.selection=new hF(e,t,n)}removeSelectedTags(){const e=[...this.model.get("value")];for(let t=e.length-1;t>=0;t--)null!=this.selection&&this.selection.isSelected(t)&&(e.splice(t,1),t<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){const t=[...this.model.get("value")];t.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",t),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}}class fF extends dF{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}}class gF extends pF{createTag(e,t,n){const s=document.createElement("div"),i=this.model.get("tag_style");s.classList.add("jupyter-widget-tag"),s.classList.add(gF.class_map[i]),n&&s.classList.add("mod-active"),s.appendChild(document.createTextNode(this.getTagText(e)));const r=document.createElement("i");return r.classList.add("fa"),r.classList.add("fa-times"),r.classList.add("jupyter-widget-tag-close"),s.appendChild(r),r.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),s}getTagText(e){return e}updateTag(e,t,n,s){s?e.classList.add("mod-active"):e.classList.remove("mod-active")}}gF.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};class mF extends dF{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}}class _F extends pF{createTag(e,t,n){const s=document.createElement("div"),i=e,r=VA(e).darker().toString();s.classList.add("jupyter-widget-tag"),s.classList.add("jupyter-widget-colortag"),n?(s.classList.add("mod-active"),s.style.backgroundColor=r):s.style.backgroundColor=i;const o=document.createElement("i");return o.classList.add("fa"),o.classList.add("fa-times"),o.classList.add("jupyter-widget-tag-close"),s.appendChild(o),o.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),s}updateTag(e,t,n,s){const i=t,r=VA(t).darker().toString();s?(e.classList.add("mod-active"),e.style.backgroundColor=r):(e.classList.remove("mod-active"),e.style.backgroundColor=i)}validateValue(e){if(null==VA(e))throw e+" is not a valid Color";return e}}class vF extends fF{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}}class bF extends gF{render(){this.model.on("change:format",(()=>{this.formatter=eP(this.model.get("format")),this.update()})),this.formatter=eP(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){const t=this.parseNumber(e),n=this.model.get("min"),s=this.model.get("max");if(isNaN(t)||null!=n&&t<n||null!=s&&t>s)throw e+" is not a valid number, it should be in the range ["+n+", "+s+"]";return t}}class yF extends vF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}}class wF extends bF{parseNumber(e){return parseFloat(e)}}class xF extends vF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}}class SF extends bF{parseNumber(e){const t=parseInt(e);if(t!=parseFloat(e))throw e+" should be an integer";return t}}class CF extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}CF.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});class kF extends CF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}kF.styleProperties=Object.assign({},CF.styleProperties);class EF extends CF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}EF.styleProperties=Object.assign({},CF.styleProperties);class OF extends CF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}OF.styleProperties=Object.assign(Object.assign({},CF.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class MF extends FL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:$L})}}MF.styleProperties=Object.assign(Object.assign({},FL.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});class TF extends KL{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"\u200b",_model_name:"StringModel"})}}class DF extends zL{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}}class PF extends TF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}}class AF extends DF{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class RF extends TF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}}class jF extends DF{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class IF extends TF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}}class NF extends DF{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}}class LF extends TF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}}class BF extends DF{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=rL(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,n)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){const t=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",t.toString())}update(e){if(void 0===e||e.updated_view!==this){this.textbox.value=this.model.get("value");let e=this.model.get("rows");null===e&&(e=""),this.textbox.setAttribute("rows",e),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class $F extends TF{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}}class FF extends DF{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=rL(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,n)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return void 0!==e&&e.updated_view===this||(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),13===e.keyCode&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class UF extends $F{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}}class zF extends FF{constructor(){super(...arguments),this.inputType="password"}}class VF extends $F{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}}class qF extends FF{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=rL(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;const t=this.isValid(this.model.get("value"));if(this.highlightValidState(t),void 0!==e&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;const n=this.model.get("options"),s=document.createDocumentFragment();for(const i of n){const e=document.createElement("option");e.value=i,s.appendChild(e)}this.datalist.replaceChildren(...s.children)}isValid(e){if(!0===this.model.get("ensure_option")){if(-1===this.model.get("options").indexOf(e))return!1}return!0}handleChanging(e){const t=e.target,n=this.isValid(t.value);this.highlightValidState(n),n&&super.handleChanging(e)}handleChanged(e){const t=e.target,n=this.isValid(t.value);this.highlightValidState(n),n&&super.handleChanged(e)}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle("jpwidgets-invalidComboValue",!e)}}class HF extends WL{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}}HF.serializers=Object.assign(Object.assign({},WL.serializers),{value:{serialize:e=>e}});class WF extends AL{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",(()=>{this.fileInput.click()})),this.fileInput.addEventListener("click",(()=>{this.fileInput.value=""})),this.fileInput.addEventListener("change",(()=>{var e;const t=[];Array.from(null!==(e=this.fileInput.files)&&void 0!==e?e:[]).forEach((e=>{t.push(new Promise(((t,n)=>{const s=new FileReader;s.onload=()=>{const n=s.result;t({content:n,name:e.name,type:e.type,size:e.size,last_modified:e.lastModified})},s.onerror=()=>{n()},s.onabort=s.onerror,s.readAsArrayBuffer(e)})))})),Promise.all(t).then((e=>{this.model.set({value:e,error:""}),this.touch()})).catch((e=>{console.error("error in file upload: %o",e),this.model.set({error:e}),this.touch()}))})),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("value"),t=`${this.model.get("description")} (${e.length})`,n=this.model.get("icon");if(t.length||n.length){if(this.el.textContent="",n.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add("fa-"+n),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(WF.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(WF.class_map,"button_style",this.el)}}WF.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};const KF=n(39681).version;"undefined"!=typeof window&&void 0!==window.define&&(window.define("@jupyter-widgets/base",a),window.define("@jupyter-widgets/controls",l));const GF=class extends DI{_kernelConnection;_commRegistration;_onError;registerWithKernel(e){this._kernelConnection=e,this._commRegistration&&this._commRegistration.dispose(),e&&(this._commRegistration=e.registerCommTarget(this.comm_target_name,((e,t)=>{this.handle_comm_open(new $I.services.Comm(e),t)})))}get onError(){return this._onError}display_view(e,t){return Promise.resolve(e).then((e=>{E.Widget.attach(e.luminoWidget,t),e.on("remove",(function(){console.log("view removed",e)}))}))}loadClass(e,t,n){return"@jupyter-widgets/output"===t?Promise.resolve(o).then((n=>n[e]?n[e]:Promise.reject(`Class ${e} not found in module ${t}`))):super.loadClass(e,t,n)}callbacks(e){const t=super.callbacks(e);return Object.assign({},t,{iopub:{output:e=>this._onError.emit(e)}})}_create_comm(e,t,n,s,i){const r=this._kernelConnection?.createComm(e,t);return(n||s)&&r?.open(n,s),Promise.resolve(new $I.services.Comm(r))}_get_comm_info(){return this._kernelConnection.requestCommInfo({target_name:this.comm_target_name}).then((e=>e.content.comms))}},JF="completer:invoke",YF="completer:select",XF=(e,t,n,s)=>{e.addCommand(JF,{label:"Completer: Invoke",execute:()=>s.invoke()}),e.addCommand(YF,{label:"Completer: Select",execute:()=>s.completer.selectActive()}),e.addCommand("run:cell",{execute:()=>Ga.execute(t,n)}),e.addKeyBinding({selector:".jp-InputArea-editor.jp-mod-completer-enabled",keys:["Tab"],command:JF}),e.addKeyBinding({selector:".jp-InputArea-editor",keys:["Shift Enter"],command:"run:cell"});[{selector:".jp-InputArea-editor.jp-mod-completer-active",keys:["Enter"],command:YF}].map((t=>e.addKeyBinding(t)))};const ZF=class{_codeCell;_kernel;_panel;_sessionContext;constructor(e){const{source:t,serverSettings:n,kernel:s}=e;this._kernel=s,this.setupCell(t,n,s)}setupCell(e,t,s){const i=s.kernelManager??new fM.KernelManager({serverSettings:t}),r=s.sessionManager??new fM.SessionManager({serverSettings:t,kernelManager:i}),o=s.kernelSpecManager??new fM.KernelSpecManager({serverSettings:t}),a=s?{id:s.id,shouldStart:!1,autoStartDefault:!1,shutdownOnDispose:!1}:{name:"python",shouldStart:!0,autoStartDefault:!0,shutdownOnDispose:!0};this._sessionContext=new gl({name:s?.path,path:s?.path,sessionManager:r,specsManager:o,type:"python",kernelPreference:a}),this._sessionContext._initialize=async()=>{const e=this._sessionContext.sessionManager;await e.ready,await e.refreshRunning();const t=(0,pa.find)(e.running(),(e=>e.kernel?.id===this._kernel.id));if(t)try{const n=e.connectTo({model:t,kernelConnectionOptions:{handleComms:!0}});this._sessionContext._handleNewSession(n)}catch(n){return this._sessionContext._handleSessionError(n),Promise.reject(n)}return await this._sessionContext._startIfNecessary()};const l=new eE;for(const n of eE.getDefaultThemes())l.addTheme(n);const c=new tE;for(const n of tE.getDefaultLanguages())c.addLanguage(n);c.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>(await Promise.all([n.e(8592),n.e(2261),n.e(8825)]).then(n.bind(n,48825))).markdown({codeLanguages:e=>c.findBest(e)})});const u=new nO(c),h=new cl.CommandRegistry;document.addEventListener("keydown",(e=>{h.processKeydownEvent(e)}),!0);const d=new UO({initialFactories:pM}),f=new GF({loader:BI});d.addFactory({safe:!1,mimeTypes:[MI],createRenderer:e=>new TI(e,f)},0),f.registerWithKernel(s.connection);const g=new tO({extensions:(()=>{const e=new cS;for(const t of cS.getDefaultExtensions({themes:l}))e.addExtension(t);return e.addExtension({name:"shared-model-binding",factory:e=>{const t=e.model.sharedModel;return cS.createImmutableExtension(function({ytext:e,undoManager:t}){const n=new iS(e);return[rS.of(n),aS,t?p.ViewPlugin.define((()=>(t.addTrackedOrigin(n),{destroy:()=>{t.removeTrackedOrigin(n)}}))):[]]}({ytext:t.ysource,undoManager:t.undoManager??void 0}))}}),e})(),languages:c});this._codeCell=new Ga({rendermime:d,model:new vw({sharedModel:Jy({cell_type:"code",source:e,metadata:{}})}),contentFactory:new Wa.ContentFactory({editorFactory:g.newInlineEditor.bind(g)})}),this._codeCell.addClass("dla-Jupyter-Cell"),this._codeCell.initializeState(),this._sessionContext.kernelChanged.connect(((e,t)=>{const n=t.newValue;console.log("Current Kernel Connection",n),n&&!n.handleComms&&(console.warn("Kernel Connection does not handle Comms",n.id),n.handleComms=!0,console.log("Kernel Connection is updated to enforce Comms support",n.handleComms)),f.registerWithKernel(n)})),this._sessionContext.kernelChanged.connect((()=>{this._sessionContext.session?.kernel?.info.then((e=>{const t=e.language_info,n=u.getMimeTypeByLanguage(t);this._codeCell.model.mimeType=n}))}));const m=this._codeCell.editor,_=new oO,v=new MO({editor:m,model:_}),b=new DO,y=new PO({context:{widget:this._codeCell,editor:m,session:this._sessionContext.session},providers:[b],timeout:1e3}),w=new jO({completer:v,reconciliator:y});this._sessionContext.ready.then((()=>{const e=new DO;w.reconciliator=new PO({context:{widget:this._codeCell,editor:m,session:this._sessionContext.session},providers:[e],timeout:1e3})})),w.editor=m,XF(h,this._codeCell,this._sessionContext,w),v.hide(),v.addClass("jp-Completer-Cell"),E.Widget.attach(v,document.body);const x=new Mm;x.addItem("spacer",Mm.createSpacerItem());const S=new Ag({icon:ua,onClick:()=>{Ga.execute(this._codeCell,this._sessionContext)},tooltip:"Run"});x.addItem("run",S),x.addItem("interrupt",Mm.createInterruptButton(this._sessionContext)),x.addItem("restart",Mm.createRestartButton(this._sessionContext)),x.addItem("status",Mm.createKernelStatusItem(this._sessionContext)),this._codeCell.outputsScrolled=!1,this._codeCell.activate(),this._panel=new E.BoxPanel,this._panel.direction="top-to-bottom",this._panel.spacing=0,this._panel.addWidget(x),this._panel.addWidget(this._codeCell),E.BoxPanel.setStretch(x,0),E.BoxPanel.setStretch(this._codeCell,1),window.addEventListener("resize",(()=>{this._panel.update()})),this._panel.update()}get panel(){return this._panel}get codeCell(){return this._codeCell}get sessionContext(){return this._sessionContext}get kernel(){return this._kernel}execute=()=>{Ga.execute(this._codeCell,this._sessionContext)}};var QF=n(73935);const eU=e=>{const t=(0,h.useRef)(null),{children:n,id:s,height:i}=e;return(0,h.useEffect)((()=>{if(t&&t.current){try{E.Widget.attach(n,t.current)}catch(rU){console.warn("Exception while attaching Lumino widget.",rU)}return()=>{try{(0,QF.unmountComponentAtNode)(n.node),(n.isAttached||n.node.isConnected)&&(n.dispose(),E.Widget.detach(n))}catch(rU){}}}}),[t,n]),(0,u.jsx)("div",{ref:t,id:s,style:{height:i,minHeight:i}})};eU.defaultProps={id:"lumino-id",height:"100%"};const tU=eU;var nU=n(75600);const sU=e=>{const{source:t,autoStart:n}=e,{serverSettings:s,injectableStore:i,defaultKernel:r}=(0,nU.useJupyter)(),o=(0,d.useDispatch)(),[a,l]=(0,h.useState)();return(0,h.useMemo)((()=>{i.inject("cell",il)}),[]),(0,h.useEffect)((()=>{t&&r&&r.ready.then((()=>{const i=new ZF({source:t,serverSettings:s,kernel:r});o(sl.update({adapter:i})),o(sl.source(e.source)),i.codeCell.model.contentChanged.connect(((e,t)=>{o(sl.source(e.sharedModel.getSource()))})),i.codeCell.outputArea.outputLengthChanged.connect(((e,t)=>{o(sl.outputsCount(t))})),i.sessionContext.initialize().then((()=>{if(n){Ga.execute(i.codeCell,i.sessionContext).then((e=>{o(sl.update({kernelAvailable:!0}))}))}})),l(i)}))}),[t,r]),a?(0,u.jsx)(Xa.default,{sx:{"& .dla-Jupyter-Cell":{position:"relative !important",contain:"content !important"},"& .jp-Toolbar":{height:"auto !important",position:"relative"},"& .lm-BoxPanel":{position:"relative"},"& .jp-Cell":{position:"relative"},"& .jp-CodeCell":{height:"auto !important",position:"relative"},"& .jp-Cell-outputArea":{paddingBottom:"30px"},"& .jp-CodeMirrorEditor":{cursor:"text !important"}},children:(0,u.jsx)(tU,{children:a.panel})}):(0,u.jsx)(Xa.default,{children:"Loading Jupyter Cell..."})};sU.defaultProps={source:"from IPython.display import display\n\nfor i in range(10):\n    display('String {} added to the DOM in separated DIV.'.format(i))",autoStart:!0};const iU=sU},61094:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Jupyter:()=>ki,default:()=>Ei});var s=n(85893),i=n(67294),r=n(73935),o=n(19521),a=n(6014),l=n.n(a);var c=n(99245),u=n.n(c),h=n(62753),d=n.n(h);const p=u(),f=d();function g(e){return"string"==typeof e&&/(inset\s|)([0-9.]+(\w*)\s){1,4}(rgb[a]?\(.*\)|\w+)/.test(e)}function m(e){return!g(e)&&(!!e.startsWith("#")||(!!e.startsWith("rgb")||!!e.startsWith("hsl")))}function _(e,t){return Array.isArray(e)?e.filter(t):Object.entries(e).reduce(((e,[n,s])=>{if(f(s)){const i=_(s,t);p(i)||(e[n]=i)}else t(s)&&(e[n]=s);return e}),{})}var v={fontStack:function(e){return e.map((e=>e.includes(" ")?`"${e}"`:e)).join(", ")},isShadowValue:g,isColorValue:m,filterObject:_,partitionColors:function(e){return{colors:_(e,(e=>m(e))),shadows:_(e,(e=>g(e)))}},omitScale:function(e){const{scale:t,...n}=e;return n}};const{lineHeight:b}=l().typography.normal;var y={animation:{easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)"},borderWidths:[0,"1px"],breakpoints:["544px","768px","1012px","1280px"],fonts:{normal:v.fontStack(["-apple-system","BlinkMacSystemFont","Segoe UI","Noto Sans","Helvetica","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji"]),mono:v.fontStack(["SFMono-Regular","Consolas","Liberation Mono","Menlo","Courier","monospace"])},fontSizes:["12px","14px","16px","20px","24px","32px","40px","48px","56px"],fontWeights:{light:300,normal:400,semibold:500,bold:600},lineHeights:b,radii:["0","3px","6px","100px"],sizes:{small:"544px",medium:"768px",large:"1012px",xlarge:"1280px"},space:["0","4px","8px","16px","24px","32px","40px","48px","64px","80px","96px","112px","128px"],colorSchemes:Object.entries(l().colors).reduce(((e,[t,n])=>{const{colors:s,shadows:i}=v.partitionColors(n);return{...e,[t]:{colors:v.omitScale(s),shadows:v.omitScale(i)}}}),{})},w=n(9996),x=n.n(w);const S="light",C="dark",k=i.createContext({setColorMode:()=>null,setDayScheme:()=>null,setNightScheme:()=>null}),E=({children:e,...t})=>{var n,s,a,l,c,u,h,d;const{theme:p,colorMode:f,dayScheme:g,nightScheme:m}=O(),_=null!==(n=null!==(s=t.theme)&&void 0!==s?s:p)&&void 0!==n?n:y,{resolvedServerColorMode:v}=(()=>{try{var e;const t=null===(e=document.getElementById("__PRIMER_DATA__"))||void 0===e?void 0:e.textContent;if(t)return JSON.parse(t)}catch(t){}return{}})(),b=i.useRef(v),[w,E]=i.useState(null!==(a=null!==(l=t.colorMode)&&void 0!==l?l:f)&&void 0!==a?a:"day"),[D,P]=i.useState(null!==(c=null!==(u=t.dayScheme)&&void 0!==u?u:g)&&void 0!==c?c:S),[A,R]=i.useState(null!==(h=null!==(d=t.nightScheme)&&void 0!==d?d:m)&&void 0!==h?h:C),j=function(){const[e,t]=i.useState(M);return i.useEffect((()=>{var e,n;const s=null===(e=window)||void 0===e||null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,"(prefers-color-scheme: dark)");function i(e){const n=e.matches;t(n?"night":"day")}if(s){if(void 0!==s.addEventListener)return s.addEventListener("change",i),function(){s.removeEventListener("change",i)};if(void 0!==s.addListener)return s.addListener(i),function(){s.removeListener(i)}}}),[]),e}(),I=b.current||T(w,j),N=function(e,t,n){switch(e){case"day":case"light":return t;case"dark":case"night":return n}}(I,D,A),{resolvedTheme:L,resolvedColorScheme:B}=i.useMemo((()=>function(e,t){if(!e.colorSchemes)return{resolvedTheme:e,resolvedColorScheme:void 0};if(!e.colorSchemes[t]){console.error(`\`${t}\` scheme not defined in \`theme.colorSchemes\``);const n=Object.keys(e.colorSchemes)[0];return{resolvedTheme:x()(e,e.colorSchemes[n]),resolvedColorScheme:n}}return{resolvedTheme:x()(e,e.colorSchemes[t]),resolvedColorScheme:t}}(_,N)),[_,N]);return i.useEffect((function(){const e=T(w,j);b.current&&(b.current!==e&&window.setTimeout((()=>{r.flushSync((()=>{E(e)})),E(w)})),b.current=null)}),[w,j]),i.useEffect((()=>{var e,n;E(null!==(e=null!==(n=t.colorMode)&&void 0!==n?n:f)&&void 0!==e?e:"day")}),[t.colorMode,f]),i.useEffect((()=>{var e,n;P(null!==(e=null!==(n=t.dayScheme)&&void 0!==n?n:g)&&void 0!==e?e:S)}),[t.dayScheme,g]),i.useEffect((()=>{var e,n;R(null!==(e=null!==(n=t.nightScheme)&&void 0!==n?n:m)&&void 0!==e?e:C)}),[t.nightScheme,m]),i.createElement(k.Provider,{value:{theme:L,colorScheme:N,colorMode:w,resolvedColorMode:I,resolvedColorScheme:B,dayScheme:D,nightScheme:A,setColorMode:E,setDayScheme:P,setNightScheme:R}},i.createElement(o.ThemeProvider,{theme:L},e,t.preventSSRMismatch?i.createElement("script",{type:"application/json",id:"__PRIMER_DATA__",dangerouslySetInnerHTML:{__html:JSON.stringify({resolvedServerColorMode:I})}}):null))};function O(){return i.useContext(k)}function M(){var e,t,n;return"undefined"!=typeof window&&null!==(e=(t=window).matchMedia)&&void 0!==e&&null!==(n=e.call(t,"(prefers-color-scheme: dark)"))&&void 0!==n&&n.matches?"night":"day"}function T(e,t){return"auto"===e?t:e}E.displayName="ThemeProvider";var D=E;n(44547);var P=n(16678);const{get:A,compose:R,system:j}=P,I=R(P.space,P.color,P.display),N=j({whiteSpace:{property:"whiteSpace"}}),L=R(P.typography,N);R(P.border,P.shadow),P.layout;n(35202);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B.apply(this,arguments)}const $=(0,o.createGlobalStyle)(["*{box-sizing:border-box;}body{margin:0;}table{border-collapse:collapse;}input{color-scheme:",';}[role="button"]:focus:not(:focus-visible):not(.focus-visible),[role="tabpanel"][tabindex="0"]:focus:not(:focus-visible):not(.focus-visible),button:focus:not(:focus-visible):not(.focus-visible),summary:focus:not(:focus-visible):not(.focus-visible),a:focus:not(:focus-visible):not(.focus-visible){outline:none;box-shadow:none;}[tabindex="0"]:focus:not(:focus-visible):not(.focus-visible),details-dialog:focus:not(:focus-visible):not(.focus-visible){outline:none;}'],(e=>e.colorScheme)),F=o.default.div.withConfig({displayName:"BaseStyles__Base",componentId:"sc-nfjs56-0"})(["",";",";"],L,I);function U(e){const{children:t,color:n="fg.default",fontFamily:s="normal",lineHeight:r="default",...o}=e,{colorScheme:a,dayScheme:l,nightScheme:c}=O();return i.createElement(F,B({},o,{color:n,fontFamily:s,lineHeight:r,"data-portal-root":!0,"data-color-mode":null!=a&&a.includes("dark")?"dark":"light","data-light-theme":l,"data-dark-theme":c}),i.createElement($,{colorScheme:null!=a&&a.includes("dark")?"dark":"light"}),t)}U.displayName="BaseStyles";var z=n(6889),V=n(35800),q=n(75600);const H=e=>{const{theme:t}=e;return(0,i.useEffect)((()=>{switch(Promise.all([n.e(532),n.e(2011)]).then(n.bind(n,82011)),Promise.all([n.e(532),n.e(4416)]).then(n.bind(n,34416)),Promise.all([n.e(532),n.e(98)]).then(n.bind(n,50098)),Promise.all([n.e(532),n.e(9699)]).then(n.bind(n,49699)),Promise.all([n.e(532),n.e(8252)]).then(n.bind(n,28252)),Promise.all([n.e(532),n.e(9567)]).then(n.bind(n,9567)),Promise.all([n.e(532),n.e(2531)]).then(n.bind(n,92531)),Promise.all([n.e(532),n.e(5576)]).then(n.bind(n,55576)),Promise.all([n.e(532),n.e(5701)]).then(n.bind(n,85701)),Promise.all([n.e(532),n.e(98)]).then(n.bind(n,50098)),Promise.all([n.e(532),n.e(9699)]).then(n.bind(n,49699)),Promise.all([n.e(532),n.e(8084)]).then(n.bind(n,78084)),Promise.all([n.e(532),n.e(9140)]).then(n.bind(n,59140)),Promise.all([n.e(532),n.e(617)]).then(n.bind(n,20617)),t){case"light":Promise.all([n.e(532),n.e(5461)]).then(n.bind(n,25461));break;case"dark":Promise.all([n.e(532),n.e(6907)]).then(n.bind(n,86907))}Promise.all([n.e(532),n.e(2744)]).then(n.bind(n,5631)),Promise.all([n.e(532),n.e(3336)]).then(n.bind(n,83336)),Promise.all([n.e(532),n.e(8717)]).then(n.bind(n,98717))}),[t]),(0,s.jsx)("div",{id:"dla-JupyterLabCss-id"})};H.defaultProps={theme:"light"};const W=H;var K=n(65907);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function J(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=G(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:String(t)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){var s,i,r;s=e,i=t,r=n[t],(i=J(i))in s?Object.defineProperty(s,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Q="function"==typeof Symbol&&Symbol.observable||"@@observable",ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},te={INIT:"@@redux/INIT"+ee(),REPLACE:"@@redux/REPLACE"+ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ee()}};function ne(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function se(e,t,n){var s;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Z(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Z(1));return n(se)(e,t)}if("function"!=typeof e)throw new Error(Z(2));var i=e,r=t,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Z(3));return r}function h(e){if("function"!=typeof e)throw new Error(Z(4));if(l)throw new Error(Z(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Z(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),o=null}}}function d(e){if(!ne(e))throw new Error(Z(7));if(void 0===e.type)throw new Error(Z(8));if(l)throw new Error(Z(9));try{l=!0,r=i(r,e)}finally{l=!1}for(var t=o=a,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:te.INIT}),(s={dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Z(10));i=e,d({type:te.REPLACE})}})[Q]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Z(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Q]=function(){return this},e},s}function ie(e){for(var t=Object.keys(e),n={},s=0;s<t.length;s++){var i=t[s];0,"function"==typeof e[i]&&(n[i]=e[i])}var r,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:te.INIT}))throw new Error(Z(12));if(void 0===n(void 0,{type:te.PROBE_UNKNOWN_ACTION()}))throw new Error(Z(13))}))}(n)}catch(a){r=a}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var s=!1,i={},a=0;a<o.length;a++){var l=o[a],c=n[l],u=e[l],h=c(u,t);if(void 0===h){t&&t.type;throw new Error(Z(14))}i[l]=h,s=s||h!==u}return(s=s||o.length!==Object.keys(e).length)?i:e}}function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),s=function(){throw new Error(Z(15))},i={getState:n.getState,dispatch:function(){return s.apply(void 0,arguments)}},r=t.map((function(e){return e(i)}));return s=re.apply(void 0,r)(n.dispatch),X(X({},n),{},{dispatch:s})}}}var ae=function(e,t){return ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ae(e,t)};function le(e,t){function n(){this.constructor=e}ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ce=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function ue(e){return null!==e&&"object"==typeof e}function he(e){return"function"==typeof e}var de=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),pe=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,s=n._parentOrParents,i=n._unsubscribe,r=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var o=0;o<s.length;++o){s[o].remove(this)}if(he(i))try{i.call(this)}catch(c){t=c instanceof de?fe(c.errors):[c]}if(ce(r)){o=-1;for(var a=r.length;++o<a;){var l=r[o];if(ue(l))try{l.unsubscribe()}catch(c){t=t||[],c instanceof de?t=t.concat(fe(c.errors)):t.push(c)}}}if(t)throw new de(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var s=n;(n=new e)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function fe(e){return e.reduce((function(e,t){return e.concat(t instanceof de?t.errors:t)}),[])}var ge=function(e){function t(t,n){var s=e.call(this,t,n)||this;return s.scheduler=t,s.work=n,s.pending=!1,s}return le(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,s=void 0;try{this.work(e)}catch(i){n=!0,s=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),s},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return le(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(pe)),me=function(e){function t(t,n){var s=e.call(this,t,n)||this;return s.scheduler=t,s.work=n,s}return le(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,s):t.flush(this)},t}(ge),_e=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),ve=function(e){function t(n,s){void 0===s&&(s=_e.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():s()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return le(t,e),t.prototype.schedule=function(n,s,i){return void 0===s&&(s=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,s,i):e.prototype.schedule.call(this,n,s,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(_e),be=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return le(t,e),t}(ve))(me),ye=!1,we={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;ye=e},get useDeprecatedSynchronousErrorHandling(){return ye}};function xe(e){setTimeout((function(){throw e}),0)}var Se={closed:!0,next:function(e){},error:function(e){if(we.useDeprecatedSynchronousErrorHandling)throw e;xe(e)},complete:function(){}},Ce=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ke=function(e){function t(n,s,i){var r=e.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=Se;break;case 1:if(!n){r.destination=Se;break}if("object"==typeof n){n instanceof t?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new Ee(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new Ee(r,n,s,i)}return r}return le(t,e),t.prototype[Ce]=function(){return this},t.create=function(e,n,s){var i=new t(e,n,s);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(pe),Ee=function(e){function t(t,n,s,i){var r,o=e.call(this)||this;o._parentSubscriber=t;var a=o;return he(n)?r=n:n&&(r=n.next,s=n.error,i=n.complete,n!==Se&&(he((a=Object.create(n)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=r,o._error=s,o._complete=i,o}return le(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;we.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=we.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):xe(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;xe(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};we.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),we.useDeprecatedSynchronousErrorHandling)throw n;xe(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!we.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(s){return we.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(xe(s),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(ke);var Oe=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Me(e){return e}function Te(e){return 0===e.length?Me:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var De=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var s=this.operator,i=function(e,t,n){if(e){if(e instanceof ke)return e;if(e[Ce])return e[Ce]()}return e||t||n?new ke(e,t,n):new ke(Se)}(e,t,n);if(s?i.add(s.call(i,this.source)):i.add(this.source||we.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),we.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){we.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,s=t.destination,i=t.isStopped;if(n||i)return!1;e=s&&s instanceof ke?s:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Pe(t))((function(t,s){var i;i=n.subscribe((function(t){try{e(t)}catch(n){s(n),i&&i.unsubscribe()}}),s,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Oe]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Te(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Pe(e))((function(e,n){var s;t.subscribe((function(e){return s=e}),(function(e){return n(e)}),(function(){return e(s)}))}))},e.create=function(t){return new e(t)},e}();function Pe(e){if(e||(e=we.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Ae=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Re=function(e){function t(t,n){var s=e.call(this)||this;return s.subject=t,s.subscriber=n,s.closed=!1,s}return le(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(pe),je=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return le(t,e),t}(ke),Ie=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return le(t,e),t.prototype[Ce]=function(){return new je(this)},t.prototype.lift=function(e){var t=new Ne(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Ae;if(!this.isStopped)for(var t=this.observers,n=t.length,s=t.slice(),i=0;i<n;i++)s[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new Ae;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,s=t.slice(),i=0;i<n;i++)s[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ae;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),s=0;s<t;s++)n[s].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Ae;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Ae;return this.hasError?(e.error(this.thrownError),pe.EMPTY):this.isStopped?(e.complete(),pe.EMPTY):(this.observers.push(e),new Re(this,e))},t.prototype.asObservable=function(){var e=new De;return e.source=this,e},t.create=function(e,t){return new Ne(e,t)},t}(De),Ne=function(e){function t(t,n){var s=e.call(this)||this;return s.destination=t,s.source=n,s}return le(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):pe.EMPTY},t}(Ie),Le=function(e){return function(t){for(var n=0,s=e.length;n<s&&!t.closed;n++)t.next(e[n]);t.complete()}};function Be(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var $e=Be(),Fe=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Ue(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ze=function(e){if(e&&"function"==typeof e[Oe])return s=e,function(e){var t=s[Oe]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Fe(e))return Le(e);if(Ue(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,xe),e};if(e&&"function"==typeof e[$e])return t=e,function(e){for(var n=t[$e]();;){var s=void 0;try{s=n.next()}catch(i){return e.error(i),e}if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,s,i=ue(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ve(e,t){return new De((function(n){var s=new pe,i=0;return s.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||s.add(this.schedule())):n.complete()}))),s}))}function qe(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[Oe]}(e))return function(e,t){return new De((function(n){var s=new pe;return s.add(t.schedule((function(){var i=e[Oe]();s.add(i.subscribe({next:function(e){s.add(t.schedule((function(){return n.next(e)})))},error:function(e){s.add(t.schedule((function(){return n.error(e)})))},complete:function(){s.add(t.schedule((function(){return n.complete()})))}}))}))),s}))}(e,t);if(Ue(e))return function(e,t){return new De((function(n){var s=new pe;return s.add(t.schedule((function(){return e.then((function(e){s.add(t.schedule((function(){n.next(e),s.add(t.schedule((function(){return n.complete()})))})))}),(function(e){s.add(t.schedule((function(){return n.error(e)})))}))}))),s}))}(e,t);if(Fe(e))return Ve(e,t);if(function(e){return e&&"function"==typeof e[$e]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new De((function(n){var s,i=new pe;return i.add((function(){s&&"function"==typeof s.return&&s.return()})),i.add(t.schedule((function(){s=e[$e](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=s.next();e=i.value,t=i.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function He(e,t){return t?qe(e,t):e instanceof De?e:new De(ze(e))}var We,Ke=new De((function(e){return e.complete()}));function Ge(e){return e?function(e){return new De((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Ke}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,s=e[e.length-1];return(n=s)&&"function"==typeof n.schedule?(e.pop(),Ve(e,s)):function(e,t){return t?Ve(e,t):new De(Le(e))}(e)}function Ye(e){var t=e.error;e.subscriber.error(t)}We||(We={});var Xe=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e,t;switch(this.kind){case"N":return Je(this.value);case"E":return e=this.error,new De(t?function(n){return t.schedule(Ye,0,{error:e,subscriber:n})}:function(t){return t.error(e)});case"C":return Ge()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function Ze(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Qe(e,t))}}var Qe=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.scheduler,this.delay))},e}(),et=function(e){function t(t,n,s){void 0===s&&(s=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=s,i}return le(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new tt(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Xe.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Xe.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Xe.createComplete()),this.unsubscribe()},t}(ke),tt=function(){return function(e,t){this.notification=e,this.destination=t}}();function nt(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new st(e,t))}}var st=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new it(e,this.project,this.thisArg))},e}(),it=function(e){function t(t,n,s){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=s||i,i}return le(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(ke),rt=function(e){function t(t,n,s){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=s,i.index=0,i}return le(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(ke);var ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return le(t,e),t.prototype.notifyNext=function(e,t,n,s,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(ke);function at(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(s){return s.pipe(at((function(n,s){return He(e(n,s)).pipe(nt((function(e,i){return t(n,e,s,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new lt(e,n))})}var lt=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.project,this.concurrent))},e}(),ct=function(e){function t(t,n,s){void 0===s&&(s=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=s,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return le(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var s=new rt(this,t,n),i=this.destination;i.add(s);var r=function(e,t,n,s,i){if(void 0===i&&(i=new rt(e,n,s)),!i.closed)return t instanceof De?t.subscribe(i):ze(t)(i)}(this,e,void 0,void 0,s);r!==s&&i.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,s,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(ot),ut=1,ht=function(){return Promise.resolve()}(),dt={};function pt(e){return e in dt&&(delete dt[e],!0)}var ft=function(e){var t=ut++;return dt[t]=!0,ht.then((function(){return pt(t)&&e()})),t},gt=function(e){pt(e)},mt=function(e){function t(t,n){var s=e.call(this,t,n)||this;return s.scheduler=t,s.work=n,s}return le(t,e),t.prototype.requestAsyncId=function(t,n,s){return void 0===s&&(s=0),null!==s&&s>0?e.prototype.requestAsyncId.call(this,t,n,s):(t.actions.push(this),t.scheduled||(t.scheduled=ft(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,s){if(void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,s);0===t.actions.length&&(gt(n),t.scheduled=void 0)},t}(ge),_t=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return le(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,s=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++s<i&&(e=n.shift()));if(this.active=!1,t){for(;++s<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(ve))(mt);var vt=function(e){function t(t,n,s){void 0===n&&(n=0),void 0===s&&(s=_t);var i,r=e.call(this)||this;return r.source=t,r.delayTime=n,r.scheduler=s,(ce(i=n)||!(i-parseFloat(i)+1>=0)||n<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=_t),r}return le(t,e),t.create=function(e,n,s){return void 0===n&&(n=0),void 0===s&&(s=_t),new t(e,n,s)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,s=this.source;return this.scheduler.schedule(t.dispatch,n,{source:s,subscriber:e})},t}(De);var bt=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new vt(t,this.delay,this.scheduler).subscribe(e)},e}();var yt=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new wt(e,this.predicate,this.thisArg))},e}(),wt=function(e){function t(t,n,s){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=s,i.count=0,i}return le(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(ke),xt=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},St=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe((n=function(e){var n=e.type,s=t.length;if(1===s)return xt(n,t[0]);for(var i=0;i<s;i++)if(xt(n,t[i]))return!0;return!1},function(e){return e.lift(new yt(n,s))}));var n,s}},Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var kt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ct(t,null,[{key:"of",value:function(){return new this(Je.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(He(e,t))}}]),Ct(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){return St.apply(void 0,arguments)(this)}}]),t}(De);var Et=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(function(e){var t=s.__notifier.subscribe(e);return t&&!t.closed&&e.next(s.value),t})));return s.value=n,s.__notifier=new Ie,s.__subscription=e.subscribe((function(e){e!==s.value&&(s.value=e,s.__notifier.next(e))})),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(De);n(2664);var Ot=n(99308),Mt=n(76983);const Tt={start:void 0};var Dt;!function(e){e.GET_START="jupyterReact/GET_START"}(Dt||(Dt={}));const Pt={getStart:(0,Ot.default)("jupyterReact")(Dt.GET_START)},At=(0,Mt.reducerWithInitialState)(Tt).case(Pt.getStart,((e,t)=>({...e,start:t}))),Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new(0,be.constructor)(be.SchedulerAction),n=new Ie,s=void 0,i=function(i){s=i;var r=(new Ie).pipe(Ze(t)),o=(new Ie).pipe(Ze(t)),a=new kt(r),l=new Et(o,s.getState());return n.pipe(nt((function(t){var n="dependencies"in e?t(a,l,e.dependencies):t(a,l);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),at((function(e){return He(e).pipe((n=t,void 0===s&&(s=0),function(e){return e.lift(new bt(n,s))}),Ze(t));var n,s}))).subscribe(s.dispatch),function(e){return function(t){var n=e(t);return o.next(s.getState()),r.next(t),n}}};return i.run=function(e){n.next(e)},i}();function jt(e){return ie({...e})}const It=(e=>{const t=e;return t.asyncReducers={},t.inject=(e,n,s)=>{const i=t.asyncReducers[e];if("init"===e||!i){s&&Rt.run(s),t.asyncReducers[e]=n;const i=jt(t.asyncReducers);t.replaceReducer(i)}},t})(se(jt({initReducer:At}),oe(Rt)));It.inject("init",At);const Nt=It;const Lt=function(){this.__data__=[],this.size=0};const Bt=function(e,t){return e===t||e!=e&&t!=t};const $t=function(e,t){for(var n=e.length;n--;)if(Bt(e[n][0],t))return n;return-1};var Ft=Array.prototype.splice;const Ut=function(e){var t=this.__data__,n=$t(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ft.call(t,n,1),--this.size,!0)};const zt=function(e){var t=this.__data__,n=$t(t,e);return n<0?void 0:t[n][1]};const Vt=function(e){return $t(this.__data__,e)>-1};const qt=function(e,t){var n=this.__data__,s=$t(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this};function Ht(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Ht.prototype.clear=Lt,Ht.prototype.delete=Ut,Ht.prototype.get=zt,Ht.prototype.has=Vt,Ht.prototype.set=qt;const Wt=Ht;const Kt=function(){this.__data__=new Wt,this.size=0};const Gt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Jt=function(e){return this.__data__.get(e)};const Yt=function(e){return this.__data__.has(e)};const Xt="object"==typeof global&&global&&global.Object===Object&&global;var Zt="object"==typeof self&&self&&self.Object===Object&&self;const Qt=Xt||Zt||Function("return this")();const en=Qt.Symbol;var tn=Object.prototype,nn=tn.hasOwnProperty,sn=tn.toString,rn=en?en.toStringTag:void 0;const on=function(e){var t=nn.call(e,rn),n=e[rn];try{e[rn]=void 0;var s=!0}catch(r){}var i=sn.call(e);return s&&(t?e[rn]=n:delete e[rn]),i};var an=Object.prototype.toString;const ln=function(e){return an.call(e)};var cn=en?en.toStringTag:void 0;const un=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":cn&&cn in Object(e)?on(e):ln(e)};const hn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const dn=function(e){if(!hn(e))return!1;var t=un(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const pn=Qt["__core-js_shared__"];var fn,gn=(fn=/[^.]+$/.exec(pn&&pn.keys&&pn.keys.IE_PROTO||""))?"Symbol(src)_1."+fn:"";const mn=function(e){return!!gn&&gn in e};var _n=Function.prototype.toString;const vn=function(e){if(null!=e){try{return _n.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var bn=/^\[object .+?Constructor\]$/,yn=Function.prototype,wn=Object.prototype,xn=yn.toString,Sn=wn.hasOwnProperty,Cn=RegExp("^"+xn.call(Sn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const kn=function(e){return!(!hn(e)||mn(e))&&(dn(e)?Cn:bn).test(vn(e))};const En=function(e,t){return null==e?void 0:e[t]};const On=function(e,t){var n=En(e,t);return kn(n)?n:void 0};const Mn=On(Qt,"Map");const Tn=On(Object,"create");const Dn=function(){this.__data__=Tn?Tn(null):{},this.size=0};const Pn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var An=Object.prototype.hasOwnProperty;const Rn=function(e){var t=this.__data__;if(Tn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return An.call(t,e)?t[e]:void 0};var jn=Object.prototype.hasOwnProperty;const In=function(e){var t=this.__data__;return Tn?void 0!==t[e]:jn.call(t,e)};const Nn=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&void 0===t?"__lodash_hash_undefined__":t,this};function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Ln.prototype.clear=Dn,Ln.prototype.delete=Pn,Ln.prototype.get=Rn,Ln.prototype.has=In,Ln.prototype.set=Nn;const Bn=Ln;const $n=function(){this.size=0,this.__data__={hash:new Bn,map:new(Mn||Wt),string:new Bn}};const Fn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Un=function(e,t){var n=e.__data__;return Fn(t)?n["string"==typeof t?"string":"hash"]:n.map};const zn=function(e){var t=Un(this,e).delete(e);return this.size-=t?1:0,t};const Vn=function(e){return Un(this,e).get(e)};const qn=function(e){return Un(this,e).has(e)};const Hn=function(e,t){var n=Un(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this};function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Wn.prototype.clear=$n,Wn.prototype.delete=zn,Wn.prototype.get=Vn,Wn.prototype.has=qn,Wn.prototype.set=Hn;const Kn=Wn;const Gn=function(e,t){var n=this.__data__;if(n instanceof Wt){var s=n.__data__;if(!Mn||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(s)}return n.set(e,t),this.size=n.size,this};function Jn(e){var t=this.__data__=new Wt(e);this.size=t.size}Jn.prototype.clear=Kt,Jn.prototype.delete=Gt,Jn.prototype.get=Jt,Jn.prototype.has=Yt,Jn.prototype.set=Gn;const Yn=Jn;const Xn=function(){try{var e=On(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Zn=function(e,t,n){"__proto__"==t&&Xn?Xn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const Qn=function(e,t,n){(void 0!==n&&!Bt(e[t],n)||void 0===n&&!(t in e))&&Zn(e,t,n)};const es=function(e){return function(t,n,s){for(var i=-1,r=Object(t),o=s(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(r[l],l,r))break}return t}}();var ts="object"==typeof exports&&exports&&!exports.nodeType&&exports,ns=ts&&"object"==typeof module&&module&&!module.nodeType&&module,ss=ns&&ns.exports===ts?Qt.Buffer:void 0,is=ss?ss.allocUnsafe:void 0;const rs=function(e,t){if(t)return e.slice();var n=e.length,s=is?is(n):new e.constructor(n);return e.copy(s),s};const os=Qt.Uint8Array;const as=function(e){var t=new e.constructor(e.byteLength);return new os(t).set(new os(e)),t};const ls=function(e,t){var n=t?as(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const cs=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t};var us=Object.create;const hs=function(){function e(){}return function(t){if(!hn(t))return{};if(us)return us(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const ds=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var ps=Object.prototype;const fs=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ps)};const gs=function(e){return"function"!=typeof e.constructor||fs(e)?{}:hs(ds(e))};const ms=function(e){return null!=e&&"object"==typeof e};const _s=function(e){return ms(e)&&"[object Arguments]"==un(e)};var vs=Object.prototype,bs=vs.hasOwnProperty,ys=vs.propertyIsEnumerable;const ws=_s(function(){return arguments}())?_s:function(e){return ms(e)&&bs.call(e,"callee")&&!ys.call(e,"callee")};const xs=Array.isArray;const Ss=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const Cs=function(e){return null!=e&&Ss(e.length)&&!dn(e)};const ks=function(e){return ms(e)&&Cs(e)};const Es=function(){return!1};var Os="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ms=Os&&"object"==typeof module&&module&&!module.nodeType&&module,Ts=Ms&&Ms.exports===Os?Qt.Buffer:void 0;const Ds=(Ts?Ts.isBuffer:void 0)||Es;var Ps=Function.prototype,As=Object.prototype,Rs=Ps.toString,js=As.hasOwnProperty,Is=Rs.call(Object);const Ns=function(e){if(!ms(e)||"[object Object]"!=un(e))return!1;var t=ds(e);if(null===t)return!0;var n=js.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Rs.call(n)==Is};var Ls={};Ls["[object Float32Array]"]=Ls["[object Float64Array]"]=Ls["[object Int8Array]"]=Ls["[object Int16Array]"]=Ls["[object Int32Array]"]=Ls["[object Uint8Array]"]=Ls["[object Uint8ClampedArray]"]=Ls["[object Uint16Array]"]=Ls["[object Uint32Array]"]=!0,Ls["[object Arguments]"]=Ls["[object Array]"]=Ls["[object ArrayBuffer]"]=Ls["[object Boolean]"]=Ls["[object DataView]"]=Ls["[object Date]"]=Ls["[object Error]"]=Ls["[object Function]"]=Ls["[object Map]"]=Ls["[object Number]"]=Ls["[object Object]"]=Ls["[object RegExp]"]=Ls["[object Set]"]=Ls["[object String]"]=Ls["[object WeakMap]"]=!1;const Bs=function(e){return ms(e)&&Ss(e.length)&&!!Ls[un(e)]};const $s=function(e){return function(t){return e(t)}};var Fs="object"==typeof exports&&exports&&!exports.nodeType&&exports,Us=Fs&&"object"==typeof module&&module&&!module.nodeType&&module,zs=Us&&Us.exports===Fs&&Xt.process,Vs=function(){try{var e=Us&&Us.require&&Us.require("util").types;return e||zs&&zs.binding&&zs.binding("util")}catch(t){}}();var qs=Vs&&Vs.isTypedArray;const Hs=qs?$s(qs):Bs;const Ws=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var Ks=Object.prototype.hasOwnProperty;const Gs=function(e,t,n){var s=e[t];Ks.call(e,t)&&Bt(s,n)&&(void 0!==n||t in e)||Zn(e,t,n)};const Js=function(e,t,n,s){var i=!n;n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=s?s(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Zn(n,a,l):Gs(n,a,l)}return n};const Ys=function(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s};var Xs=/^(?:0|[1-9]\d*)$/;const Zs=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Xs.test(e))&&e>-1&&e%1==0&&e<t};var Qs=Object.prototype.hasOwnProperty;const ei=function(e,t){var n=xs(e),s=!n&&ws(e),i=!n&&!s&&Ds(e),r=!n&&!s&&!i&&Hs(e),o=n||s||i||r,a=o?Ys(e.length,String):[],l=a.length;for(var c in e)!t&&!Qs.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zs(c,l))||a.push(c);return a};const ti=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var ni=Object.prototype.hasOwnProperty;const si=function(e){if(!hn(e))return ti(e);var t=fs(e),n=[];for(var s in e)("constructor"!=s||!t&&ni.call(e,s))&&n.push(s);return n};const ii=function(e){return Cs(e)?ei(e,!0):si(e)};const ri=function(e){return Js(e,ii(e))};const oi=function(e,t,n,s,i,r,o){var a=Ws(e,n),l=Ws(t,n),c=o.get(l);if(c)Qn(e,n,c);else{var u=r?r(a,l,n+"",e,t,o):void 0,h=void 0===u;if(h){var d=xs(l),p=!d&&Ds(l),f=!d&&!p&&Hs(l);u=l,d||p||f?xs(a)?u=a:ks(a)?u=cs(a):p?(h=!1,u=rs(l,!0)):f?(h=!1,u=ls(l,!0)):u=[]:Ns(l)||ws(l)?(u=a,ws(a)?u=ri(a):hn(a)&&!dn(a)||(u=gs(l))):h=!1}h&&(o.set(l,u),i(u,l,s,r,o),o.delete(l)),Qn(e,n,u)}};const ai=function e(t,n,s,i,r){t!==n&&es(n,(function(o,a){if(r||(r=new Yn),hn(o))oi(t,n,a,s,e,i,r);else{var l=i?i(Ws(t,a),o,a+"",t,n,r):void 0;void 0===l&&(l=o),Qn(t,a,l)}}),ii)};const li=function(e){return e};const ci=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var ui=Math.max;const hi=function(e,t,n){return t=ui(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,r=ui(s.length-t,0),o=Array(r);++i<r;)o[i]=s[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=s[i];return a[t]=n(o),ci(e,this,a)}};const di=function(e){return function(){return e}};const pi=Xn?function(e,t){return Xn(e,"toString",{configurable:!0,enumerable:!1,value:di(t),writable:!0})}:li;var fi=Date.now;const gi=function(e){var t=0,n=0;return function(){var s=fi(),i=16-(s-n);if(n=s,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(pi);const mi=function(e,t){return gi(hi(e,t,li),e+"")};const _i=function(e,t,n){if(!hn(n))return!1;var s=typeof t;return!!("number"==s?Cs(n)&&Zs(t,n.length):"string"==s&&t in n)&&Bt(n[t],e)};const vi=function(e){return mi((function(t,n){var s=-1,i=n.length,r=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(i--,r):void 0,o&&_i(n[0],n[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++s<i;){var a=n[s];a&&e(t,a,s,r)}return t}))}((function(e,t,n){ai(e,t,n)})),{colorSchemes:bi,...yi}=y,{colorSchemes:wi,...xi}={animation:{easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)"},borderWidths:[0,"1px"],breakpoints:["544px","768px","1012px","1280px"],fonts:{normal:"var(--jp-ui-font-family, sans-serif)",mono:"var(--jp-code-font-family, monospace)"},fontSizes:["10.833px","var(--jp-ui-font-size1, 13px)","15.6px","18.72px","22.464px","25.96px","32.35px","38.82px","46.58px"],fontWeights:{light:300,normal:400,semibold:500,bold:600},lineHeights:{condensedUltra:1,condensed:1.25,default:1.5},radii:["0","calc(var(--jp-border-radius) * 0.5)","var(--jp-border-radius)","100px"],sizes:{small:"544px",medium:"768px",large:"1012px",xlarge:"1280px"},space:["0","4px","8px","16px","24px","32px","40px","48px","64px","80px","96px","112px","128px"],colorSchemes:{light:{colors:{canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"var(--jp-layout-color1, white)",marketingIcon:{primary:"var(--jp-brand-color1, #1976d2)",secondary:"var(--jp-brand-color3, #bbdefb)"},diffBlob:{addition:{numText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",fg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",numBg:"var(--jp-success-color2, #81c784)",lineBg:"var(--jp-success-color3, #c8e6c9)",wordBg:"var(--jp-success-color0, #1b5e20)"},deletion:{numText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",fg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",numBg:"var(--jp-error-color2, #e57373)",lineBg:"var(--jp-error-color3, #ffcdd2)",wordBg:"var(--jp-error-color0, #b71c1c)"},hunk:{numBg:"var(--jp-brand-color0, #0d47a1)"},expander:{icon:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.54))"}},diffstat:{deletionBorder:"var(--jp-border-color1, #bdbdbd)",additionBorder:"var(--jp-border-color1, #bdbdbd)",additionBg:"var(--jp-accent-color1, #388e3c)"},searchKeyword:{hl:"var(--jp-warn-color3, #ffe0b2)"},prettylights:{syntax:{comment:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.38))",constant:"#0550ae",entity:"#6639ba",storageModifierImport:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",entityTag:"#116329",keyword:"var(--jp-error-color1, #d32f2f)",string:"#0a3069",variable:"#953800",brackethighlighterUnmatched:"#82071e",invalidIllegalText:"var(--jp-layout-color1, white)",invalidIllegalBg:"#82071e",carriageReturnText:"var(--jp-layout-color1, white)",carriageReturnBg:"var(--jp-error-color1, #d32f2f)",stringRegexp:"#116329",markupList:"#3b2300",markupHeading:"#0550ae",markupItalic:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",markupBold:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",markupDeletedText:"#82071e",markupDeletedBg:"var(--jp-error-color3, #ffcdd2)",markupInsertedText:"#116329",markupInsertedBg:"var(--jp-success-color3, #c8e6c9)",markupChangedText:"#953800",markupChangedBg:"#ffd8b5",markupIgnoredText:"var(--jp-layout-color2, #eee)",markupIgnoredBg:"#0550ae",metaDiffRange:"var(--jp-info-color1, #0097a7)",brackethighlighterAngle:"#57606a",sublimelinterGutterMark:"var(--jp-layout-color4, #757575)",constantOtherReferenceLink:"#0a3069"}},codemirror:{text:"var(--jp-content-font-color1, rgba(255, 255, 255, 1))",bg:"var(--jp-layout-color0, #111)",guttersBg:"var(--jp-layout-color2, #424242)",guttermarkerText:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",guttermarkerSubtleText:"var(--jp-ui-font-color3, rgba(255, 255, 255, 0.38))",linenumberText:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))",cursor:"var(--jp-editor-cursor-color)",selectionBg:"var(--jp-editor-selected-background)",activelineBg:"color-mix(in srgb, var(--jp-layout-color3, #616161) 25%, transparent)",matchingbracketText:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",linesBg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",syntax:{comment:"var(--jp-mirror-editor-comment-color, #408080)",constant:"var(--jp-mirror-editor-property-color, #05a)",entity:"var(--jp-info-color1, #0097a7)",keyword:"var(--jp-mirror-editor-keyword-color, #008000)",storage:"var(--jp-error-color1, #d32f2f)",string:"var(--jp-mirror-editor-string-color, #ba2121)",support:"var(--jp-mirror-editor-property-color, #05a)",variable:"var(--jp-mirror-editor-variable-color, #212121)"}},checks:{bg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",textPrimary:"var(--jp-layout-color1, white)",textSecondary:"var(--jp-layout-color4, #757575)",textLink:"#54aeff",btnIcon:"#afb8c1",btnHoverIcon:"var(--jp-layout-color1, white)",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"var(--jp-layout-color2, #eee)",inputPlaceholderText:"var(--jp-layout-color4, #757575)",inputFocusText:"var(--jp-layout-color4, #757575)",inputBg:"#32383f",donutError:"#fa4549",donutPending:"#bf8700",donutSuccess:"var(--jp-accent-color1, #388e3c)",donutNeutral:"#afb8c1",dropdownText:"#afb8c1",dropdownBg:"#32383f",dropdownBorder:"#424a53",dropdownShadow:"rgba(31,35,40,0.3)",dropdownHoverText:"var(--jp-layout-color1, white)",dropdownHoverBg:"#424a53",dropdownBtnHoverText:"var(--jp-layout-color1, white)",dropdownBtnHoverBg:"#32383f",scrollbarThumbBg:"#57606a",headerLabelText:"var(--jp-border-color1, #bdbdbd)",headerLabelOpenText:"var(--jp-layout-color1, white)",headerBorder:"#32383f",headerIcon:"var(--jp-layout-color4, #757575)",lineText:"var(--jp-border-color1, #bdbdbd)",lineNumText:"rgba(140,149,159,0.75)",lineTimestampText:"var(--jp-layout-color4, #757575)",lineHoverBg:"#32383f",lineSelectedBg:"rgba(33,139,255,0.15)",lineSelectedNumText:"#54aeff",lineDtFmText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",lineDtFmBg:"var(--jp-warn-color2, #ffb74d)",gateBg:"rgba(125,78,0,0.15)",gateText:"var(--jp-border-color1, #bdbdbd)",gateWaitingText:"#d4a72c",stepHeaderOpenBg:"#32383f",stepErrorText:"#ff8182",stepWarningText:"#d4a72c",loglineText:"var(--jp-layout-color4, #757575)",loglineNumText:"rgba(140,149,159,0.75)",loglineDebugText:"#c297ff",loglineErrorText:"var(--jp-border-color1, #bdbdbd)",loglineErrorNumText:"#ff8182",loglineErrorBg:"rgba(164,14,38,0.15)",loglineWarningText:"var(--jp-border-color1, #bdbdbd)",loglineWarningNumText:"#d4a72c",loglineWarningBg:"rgba(125,78,0,0.15)",loglineCommandText:"#54aeff",loglineSectionText:"#4ac26b",ansi:{black:"#24292f",blackBright:"#32383f",white:"#d0d7de",whiteBright:"#d0d7de",gray:"#8c959f",red:"#ff8182",redBright:"#ffaba8",green:"#4ac26b",greenBright:"#6fdd8b",yellow:"#d4a72c",yellowBright:"#eac54f",blue:"#54aeff",blueBright:"#80ccff",magenta:"#c297ff",magentaBright:"#d8b9ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",sidebarBg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",gradientIn:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23"}},control:{borderColor:{emphasis:"var(--jp-inverse-border-color, #757575)"}},avatar:{bg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",border:"var(--jp-border-color1, #bdbdbd)",stackFade:"#afb8c1",stackFadeMore:"var(--jp-border-color1, #bdbdbd)"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(175,184,193,0.5)",tapFocusBg:"#b6e3ff"},overlay:{backdrop:"rgba(140,149,159,0.2)"},header:{text:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",bg:"var(--jp-inverse-layout-color1, #212121)",divider:"var(--jp-inverse-layout-color2, #424242)",logo:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))"},headerSearch:{bg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",border:"#57606a"},sidenav:{selectedBg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"var(--jp-layout-color2, #eee)"},timeline:{badgeBg:"var(--jp-layout-color2, #eee)"},ansi:{black:"#0e1116",blackBright:"#20252c",white:"#ced5dc",whiteBright:"#ced5dc",gray:"#88929d",red:"#ee5a5d",redBright:"#ff8e8a",green:"#26a148",greenBright:"#43c663",yellow:"#b58407",yellowBright:"#d5a824",blue:"#368cf9",blueBright:"#67b3fd",magenta:"#a371f7",magentaBright:"#c49bff",cyan:"#76e3ea",cyanBright:"#b3f0ff"},btn:{text:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",bg:"var(--jp-layout-color1, white)",border:"var(--jp-border-color1, #bdbdbd)",hoverBg:"var(--jp-layout-color2, #eee)",hoverBorder:"var(--jp-border-color1, #bdbdbd)",activeBg:"var(--jp-layout-color3, #bdbdbd)",activeBorder:"var(--jp-border-color1, #bdbdbd)",selectedBg:"var(--jp-layout-color0, white)",counterBg:"var(--jp-layout-color4, #757575)",primary:{text:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",bg:"var(--jp-brand-color1, #388e3c)",border:"var(--jp-border-color1, #bdbdbd)",hoverBg:"var(--jp-brand-color2, #81c784)",hoverBorder:"var(--jp-border-color1, #bdbdbd)",selectedBg:"var(--jp-brand-color0, #1b5e20)",disabledText:"var(--jp-ui-inverse-font-color2, rgba(255, 255, 255, 0.7))",disabledBg:"var(--jp-brand-color3, #c8e6c9)",disabledBorder:"var(--jp-border-color1, #bdbdbd)",icon:"var(--jp-ui-inverse-font-color2, rgba(255, 255, 255, 0.7))",counterBg:"var(--jp-inverse-layout-color3, #616161)"},outline:{text:"var(--jp-brand-color1, #1976d2)",hoverText:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",hoverBg:"var(--jp-brand-color1, #1976d2)",hoverBorder:"var(--jp-border-color1, #bdbdbd)",hoverCounterBg:"var(--jp-brand-color4, #e3f2fd)",selectedText:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",selectedBg:"var(--jp-brand-color2, #64b5f6)",selectedBorder:"var(--jp-border-color1, #bdbdbd)",disabledText:"var(--jp-brand-color3, #bbdefb)",disabledBg:"var(--jp-layout-color1, white)",disabledCounterBg:"var(--jp-brand-color4, #e3f2fd)",counterBg:"var(--jp-brand-color4, #e3f2fd)",counterFg:"var(--jp-brand-color3, #bbdefb)",hoverCounterFg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",disabledCounterFg:"var(--jp-brand-color3, #bbdefb)"},danger:{text:"var(--jp-error-color0, #b71c1c)",hoverText:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",hoverBg:"var(--jp-error-color1, #d32f2f)",hoverBorder:"var(--jp-border-color1, #bdbdbd)",hoverCounterBg:"var(--jp-brand-color4, #e3f2fd)",selectedText:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",selectedBg:"var(--jp-error-color0, #b71c1c)",selectedBorder:"var(--jp-border-color1, #bdbdbd)",disabledText:"var(--jp-error-color3, #ffcdd2)",disabledBg:"var(--jp-layout-color1, white)",disabledCounterBg:"var(--jp-error-color3, #ffcdd2)",counterBg:"var(--jp-error-color2, #e57373)",icon:"var(--jp-error-color0, #b71c1c)",hoverIcon:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",counterFg:"var(--jp-error-color1, #d32f2f)",hoverCounterFg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",disabledCounterFg:"var(--jp-error-color3, #ffcdd2)"},inactive:{bg:"var(--jp-layout-color2, #eee)",text:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.54))"}},underlinenav:{icon:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.38))",borderHover:"var(--jp-border-color2, #e0e0e0)"},actionListItem:{inlineDivider:"rgba(208,215,222,0.48)",default:{hoverBg:"rgba(208,215,222,0.32)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(208,215,222,0.48)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(208,215,222,0.24)"},danger:{hoverBg:"var(--jp-error-color0, #b71c1c)",activeBg:"var(--jp-error-color3, #ffcdd2)",hoverText:"var(--jp-error-color2, #e57373)"}},switchTrack:{bg:"var(--jp-layout-color2, #eee)",hoverBg:"hsla(210,24%,90%,1)",activeBg:"hsla(210,24%,88%,1)",disabledBg:"var(--jp-layout-color4, #757575)",fg:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.54))",disabledFg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",border:"rgba(0,0,0,0)",checked:{bg:"var(--jp-brand-color1, #1976d2)",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",disabledFg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",disabledBg:"var(--jp-layout-color1, white)",border:"var(--jp-inverse-border-color, #757575)",checked:{bg:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",disabledBg:"var(--jp-layout-color1, white)",border:"var(--jp-brand-color1, #1976d2)"}},segmentedControl:{bg:"var(--jp-layout-color2, #eee)",button:{bg:"var(--jp-inverse-layout-color1, #212121)",hover:{bg:"var(--jp-inverse-layout-color2, #424242)"},active:{bg:"var(--jp-inverse-layout-color3, #616161)"},selected:{border:"var(--jp-border-color3, #eee)"}}},treeViewItem:{chevron:{hoverBg:"var(--jp-inverse-layout-color1, #212121)"},directory:{fill:"var(--jp-brand-color3, #bbdefb)"}},fg:{default:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.87))",muted:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.54))",subtle:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.38))",onEmphasis:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))"},canvas:{default:"var(--jp-layout-color1, white)",overlay:"var(--jp-ui-inverse-font-color1, rgba(255, 255, 255, 1))",inset:"var(--jp-layout-color1, white)",subtle:"var(--jp-layout-color1, white)"},border:{default:"var(--jp-border-color1, #bdbdbd)",muted:"var(--jp-border-color2, #e0e0e0)",subtle:"var(--jp-border-color3, #eee)"},neutral:{emphasisPlus:"var(--jp-layout-color2, #eee)",emphasis:"var(--jp-layout-color1, white)",muted:"var(--jp-layout-color0, white)",subtle:"var(--jp-layout-color3, #bdbdbd)"},accent:{fg:"var(--jp-brand-color1, #1976d2)",emphasis:"var(--jp-brand-color2, #64b5f6)",muted:"var(--jp-brand-color0, #0d47a1)",subtle:"var(--jp-brand-color3, #bbdefb)"},success:{fg:"var(--jp-success-color1, #388e3c)",emphasis:"var(--jp-success-color2, #81c784)",muted:"var(--jp-success-color0, #1b5e20)",subtle:"var(--jp-success-color3, #c8e6c9)"},attention:{fg:"var(--jp-warn-color1, #f57c00)",emphasis:"var(--jp-warn-color2, #ffb74d)",muted:"var(--jp-warn-color0, #e65100)",subtle:"var(--jp-warn-color3, #ffe0b2)"},severe:{fg:"var(--jp-warn-color1, #f57c00)",emphasis:"var(--jp-warn-color2, #ffb74d)",muted:"var(--jp-warn-color0, #e65100)",subtle:"var(--jp-warn-color3, #ffe0b2)"},danger:{fg:"var(--jp-error-color1, #d32f2f)",emphasis:"var(--jp-error-color2, #e57373)",muted:"var(--jp-error-color0, #b71c1c)",subtle:"var(--jp-error-color3, #ffcdd2)"},open:{fg:"var(--jp-success-color1, #388e3c)",emphasis:"var(--jp-success-color2, #81c784)",muted:"var(--jp-success-color0, #1b5e20)",subtle:"var(--jp-success-color3, #c8e6c9)"},closed:{fg:"var(--jp-error-color1, #d32f2f)",emphasis:"var(--jp-error-color2, #e57373)",muted:"var(--jp-error-color0, #b71c1c)",subtle:"var(--jp-error-color3, #ffcdd2)"},done:{fg:"var(--jp-info-color1, #0097a7)",emphasis:"var(--jp-info-color2, #4dd0e1)",muted:"var(--jp-info-color0, #006064)",subtle:"var(--jp-info-color3, #b2ebf2)"},sponsors:{fg:"#bf3989",emphasis:"#bf3989",muted:"rgba(255,128,200,0.4)",subtle:"#ffeff7"},primer:{fg:{disabled:"var(--jp-layout-color4, #757575)"},canvas:{backdrop:"rgba(31,35,40,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#fd8c73",contrast:"rgba(31,35,40,0.1)"}}},shadows:{mktg:{btn:{shadow:{outline:"rgb(0 0 0 / 15%) 0 0 0 1px inset",focus:"rgb(0 0 0 / 15%) 0 0 0 4px",hover:"0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)",hoverMuted:"rgb(0 0 0 / 70%) 0 0 0 2px inset"}}},avatar:{childShadow:"0 0 0 2px var(--jp-ui-inverse-font-color2, rgba(255, 255, 255, 0.7))"},overlay:{shadow:"0 1px 3px rgba(31,35,40,0.12), 0 8px 24px rgba(66,74,83,0.12)"},btn:{shadow:"0 1px 0 rgba(31,35,40,0.04)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",primary:{shadow:"0 1px 0 rgba(31,35,40,0.1)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",selectedShadow:"inset 0 1px 0 var(--jp-inverse-layout-color3, #616161)"},outline:{hoverShadow:"0 1px 0 rgba(31,35,40,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)"},danger:{hoverShadow:"0 1px 0 rgba(31,35,40,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",selectedShadow:"inset 0 1px 0 rgba(76,0,20,0.2)"}},shadow:{small:"0 1px 0 rgba(31,35,40,0.04)",medium:"0 3px 6px rgba(140,149,159,0.15)",large:"0 8px 24px rgba(140,149,159,0.2)",extraLarge:"0 12px 28px rgba(140,149,159,0.3)"},primer:{shadow:{highlight:"inset 0 1px 0 rgba(255,255,255,0.25)",inset:"inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color)"}}}},dark:{colors:{canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"var(--jp-layout-color1, #212121)",marketingIcon:{primary:"var(--jp-brand-color1, #2196f3)",secondary:"var(--jp-brand-color3, #bbdefb)"},diffBlob:{addition:{numText:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",fg:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",numBg:"var(--jp-success-color2, #81c784)",lineBg:"var(--jp-success-color3, #c8e6c9)",wordBg:"var(--jp-success-color0, #388e3c)"},deletion:{numText:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",fg:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",numBg:"var(--jp-error-color2, #e57373)",lineBg:"var(--jp-error-color3, #ffcdd2)",wordBg:"var(--jp-error-color0, #d32f2f)"},hunk:{numBg:"var(--jp-brand-color0, #1976d2)"},expander:{icon:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))"}},diffstat:{deletionBorder:"var(--jp-border-color1, #616161)",additionBorder:"var(--jp-border-color1, #616161)",additionBg:"var(--jp-accent-color1, #4caf50)"},searchKeyword:{hl:"var(--jp-warn-color3, #ffe0b2)"},prettylights:{syntax:{comment:"var(--jp-ui-font-color3, rgba(255, 255, 255, 0.38))",constant:"#0550ae",entity:"#6639ba",storageModifierImport:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",entityTag:"#116329",keyword:"var(--jp-error-color1, #f44336)",string:"#0a3069",variable:"#953800",brackethighlighterUnmatched:"#82071e",invalidIllegalText:"var(--jp-layout-color1, #212121)",invalidIllegalBg:"#82071e",carriageReturnText:"var(--jp-layout-color1, #212121)",carriageReturnBg:"var(--jp-error-color1, #f44336)",stringRegexp:"#116329",markupList:"#3b2300",markupHeading:"#0550ae",markupItalic:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",markupBold:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",markupDeletedText:"#82071e",markupDeletedBg:"var(--jp-error-color3, #ffcdd2)",markupInsertedText:"#116329",markupInsertedBg:"var(--jp-success-color3, #c8e6c9)",markupChangedText:"#953800",markupChangedBg:"#ffd8b5",markupIgnoredText:"var(--jp-layout-color2, #424242)",markupIgnoredBg:"#0550ae",metaDiffRange:"var(--jp-info-color1, #00bcd4)",brackethighlighterAngle:"#57606a",sublimelinterGutterMark:"var(--jp-layout-color4, #757575)",constantOtherReferenceLink:"#0a3069"}},codemirror:{text:"var(--jp-content-font-color1, rgba(255, 255, 255, 1))",bg:"var(--jp-layout-color0, #111)",guttersBg:"var(--jp-layout-color2, #424242)",guttermarkerText:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",guttermarkerSubtleText:"var(--jp-ui-font-color3, rgba(255, 255, 255, 0.38))",linenumberText:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))",cursor:"var(--jp-editor-cursor-color)",selectionBg:"var(--jp-editor-selected-background)",activelineBg:"color-mix(in srgb, var(--jp-layout-color3, #616161) 25%, transparent)",matchingbracketText:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",linesBg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",syntax:{comment:"var(--jp-mirror-editor-comment-color, #408080)",constant:"var(--jp-mirror-editor-property-color, #42a5f5)",entity:"var(--jp-info-color1, #00bcd4)",keyword:"var(--jp-mirror-editor-keyword-color, #4caf50)",storage:"var(--jp-error-color1, #f44336)",string:"var(--jp-mirror-editor-string-color, #ff7070)",support:"var(--jp-mirror-editor-property-color, #42a5f5)",variable:"var(--jp-mirror-editor-variable-color, #e0e0e0)"}},checks:{bg:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",textPrimary:"var(--jp-layout-color1, #212121)",textSecondary:"var(--jp-layout-color4, #757575)",textLink:"#54aeff",btnIcon:"#afb8c1",btnHoverIcon:"var(--jp-layout-color1, #212121)",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"var(--jp-layout-color2, #424242)",inputPlaceholderText:"var(--jp-layout-color4, #757575)",inputFocusText:"var(--jp-layout-color4, #757575)",inputBg:"#32383f",donutError:"#fa4549",donutPending:"#bf8700",donutSuccess:"var(--jp-accent-color1, #4caf50)",donutNeutral:"#afb8c1",dropdownText:"#afb8c1",dropdownBg:"#32383f",dropdownBorder:"#424a53",dropdownShadow:"rgba(31,35,40,0.3)",dropdownHoverText:"var(--jp-layout-color1, #212121)",dropdownHoverBg:"#424a53",dropdownBtnHoverText:"var(--jp-layout-color1, #212121)",dropdownBtnHoverBg:"#32383f",scrollbarThumbBg:"#57606a",headerLabelText:"var(--jp-border-color1, #616161)",headerLabelOpenText:"var(--jp-layout-color1, #212121)",headerBorder:"#32383f",headerIcon:"var(--jp-layout-color4, #757575)",lineText:"var(--jp-border-color1, #616161)",lineNumText:"rgba(140,149,159,0.75)",lineTimestampText:"var(--jp-layout-color4, #757575)",lineHoverBg:"#32383f",lineSelectedBg:"rgba(33,139,255,0.15)",lineSelectedNumText:"#54aeff",lineDtFmText:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",lineDtFmBg:"var(--jp-warn-color2, #ffb74d)",gateBg:"rgba(125,78,0,0.15)",gateText:"var(--jp-border-color1, #616161)",gateWaitingText:"#d4a72c",stepHeaderOpenBg:"#32383f",stepErrorText:"#ff8182",stepWarningText:"#d4a72c",loglineText:"var(--jp-layout-color4, #757575)",loglineNumText:"rgba(140,149,159,0.75)",loglineDebugText:"#c297ff",loglineErrorText:"var(--jp-border-color1, #616161)",loglineErrorNumText:"#ff8182",loglineErrorBg:"rgba(164,14,38,0.15)",loglineWarningText:"var(--jp-border-color1, #616161)",loglineWarningNumText:"#d4a72c",loglineWarningBg:"rgba(125,78,0,0.15)",loglineCommandText:"#54aeff",loglineSectionText:"#4ac26b",ansi:{black:"#0d1117",blackBright:"#161b22",white:"#b1bac4",whiteBright:"#b1bac4",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#3fb950",greenBright:"#56d364",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",sidebarBg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",gradientIn:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23"}},control:{borderColor:{emphasis:"var(--jp-inverse-border-color)"}},avatar:{bg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",border:"var(--jp-border-color1, #616161)",stackFade:"#afb8c1",stackFadeMore:"var(--jp-border-color1, #616161)"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(175,184,193,0.5)",tapFocusBg:"#b6e3ff"},overlay:{backdrop:"rgba(140,149,159,0.2)"},header:{text:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",bg:"var(--jp-inverse-layout-color1)",divider:"var(--jp-inverse-layout-color2)",logo:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))"},headerSearch:{bg:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",border:"#57606a"},sidenav:{selectedBg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"var(--jp-layout-color2, #424242)"},timeline:{badgeBg:"var(--jp-layout-color2, #424242)"},ansi:{black:"#484f58",blackBright:"#6e7681",white:"#b1bac4",whiteBright:"#ffffff",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#3fb950",greenBright:"#56d364",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",bg:"var(--jp-layout-color1, #212121)",border:"var(--jp-border-color1, #616161)",hoverBg:"var(--jp-layout-color2, #424242)",hoverBorder:"var(--jp-border-color1, #616161)",activeBg:"var(--jp-layout-color3, #616161)",activeBorder:"var(--jp-border-color1, #616161)",selectedBg:"var(--jp-layout-color0, #111)",counterBg:"var(--jp-layout-color4, #757575)",primary:{text:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",bg:"var(--jp-brand-color1, #4caf50)",border:"var(--jp-border-color1, #616161)",hoverBg:"var(--jp-brand-color2, #81c784)",hoverBorder:"var(--jp-border-color1, #616161)",selectedBg:"var(--jp-brand-color0, #388e3c)",disabledText:"var(--jp-ui-font-color2)",disabledBg:"var(--jp-brand-color3, #c8e6c9)",disabledBorder:"var(--jp-border-color1, #616161)",icon:"var(--jp-ui-font-color2)",counterBg:"var(--jp-inverse-layout-color3)"},outline:{text:"var(--jp-brand-color1, #2196f3)",hoverText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",hoverBg:"var(--jp-brand-color1, #2196f3)",hoverBorder:"var(--jp-border-color1, #616161)",hoverCounterBg:"var(--jp-brand-color4)",selectedText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",selectedBg:"var(--jp-brand-color2, #64b5f6)",selectedBorder:"var(--jp-border-color1, #616161)",disabledText:"var(--jp-brand-color3, #bbdefb)",disabledBg:"var(--jp-layout-color1, #212121)",disabledCounterBg:"var(--jp-brand-color4)",counterBg:"var(--jp-brand-color4)",counterFg:"var(--jp-brand-color3, #bbdefb)",hoverCounterFg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",disabledCounterFg:"var(--jp-brand-color3, #bbdefb)"},danger:{text:"var(--jp-error-color0, #d32f2f)",hoverText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",hoverBg:"var(--jp-error-color1, #f44336)",hoverBorder:"var(--jp-border-color1, #616161)",hoverCounterBg:"var(--jp-brand-color4)",selectedText:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",selectedBg:"var(--jp-error-color0, #d32f2f)",selectedBorder:"var(--jp-border-color1, #616161)",disabledText:"var(--jp-error-color3, #ffcdd2)",disabledBg:"var(--jp-layout-color1, #212121)",disabledCounterBg:"var(--jp-error-color3, #ffcdd2)",counterBg:"var(--jp-error-color2, #e57373)",icon:"var(--jp-error-color0, #d32f2f)",hoverIcon:"var(--jp-ui-font-color1, rgba(0, 0, 0, 0.8))",counterFg:"var(--jp-error-color1, #f44336)",hoverCounterFg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",disabledCounterFg:"var(--jp-error-color3, #ffcdd2)"},inactive:{bg:"var(--jp-layout-color2, #424242)",text:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))"}},underlinenav:{icon:"var(--jp-ui-font-color3, rgba(255, 255, 255, 0.38))",borderHover:"var(--jp-border-color2, #424242)"},actionListItem:{inlineDivider:"rgba(208,215,222,0.48)",default:{hoverBg:"rgba(208,215,222,0.32)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(208,215,222,0.48)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(208,215,222,0.24)"},danger:{hoverBg:"var(--jp-error-color0, #d32f2f)",activeBg:"var(--jp-error-color3, #ffcdd2)",hoverText:"var(--jp-error-color2, #e57373)"}},switchTrack:{bg:"var(--jp-layout-color2, #424242)",hoverBg:"hsla(210,24%,90%,1)",activeBg:"hsla(210,24%,88%,1)",disabledBg:"var(--jp-layout-color4, #757575)",fg:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))",disabledFg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",border:"rgba(0,0,0,0)",checked:{bg:"var(--jp-brand-color1, #2196f3)",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",disabledFg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",disabledBg:"var(--jp-layout-color1, #212121)",border:"var(--jp-inverse-border-color)",checked:{bg:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",disabledBg:"var(--jp-layout-color1, #212121)",border:"var(--jp-brand-color1, #2196f3)"}},segmentedControl:{bg:"var(--jp-layout-color2, #424242)",button:{bg:"var(--jp-inverse-layout-color1)",hover:{bg:"var(--jp-inverse-layout-color2)"},active:{bg:"var(--jp-inverse-layout-color3)"},selected:{border:"var(--jp-border-color3, #212121)"}}},treeViewItem:{chevron:{hoverBg:"var(--jp-inverse-layout-color1)"},directory:{fill:"var(--jp-brand-color3, #bbdefb)"}},fg:{default:"var(--jp-ui-font-color1, rgba(255, 255, 255, 0.87))",muted:"var(--jp-ui-font-color2, rgba(255, 255, 255, 0.54))",subtle:"var(--jp-ui-font-color3, rgba(255, 255, 255, 0.38))",onEmphasis:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))"},canvas:{default:"var(--jp-layout-color1, #212121)",overlay:"var(--jp-ui-inverse-font-color1, rgba(0, 0, 0, 0.8))",inset:"var(--jp-layout-color1, #212121)",subtle:"var(--jp-layout-color1, #212121)"},border:{default:"var(--jp-border-color1, #616161)",muted:"var(--jp-border-color2, #424242)",subtle:"var(--jp-border-color3, #212121)"},neutral:{emphasisPlus:"var(--jp-layout-color3, #616161)",emphasis:"var(--jp-layout-color2, #424242)",muted:"var(--jp-layout-color1, #212121)",subtle:"var(--jp-layout-color0, #111)"},accent:{fg:"var(--jp-brand-color2, #64b5f6)",emphasis:"var(--jp-brand-color3, #bbdefb)",muted:"var(--jp-brand-color1, #2196f3)",subtle:"var(--jp-brand-color0, #1976d2)"},success:{fg:"var(--jp-success-color2, #81c784)",emphasis:"var(--jp-success-color3, #c8e6c9)",muted:"var(--jp-success-color1, #4caf50)",subtle:"var(--jp-success-color0, #388e3c)"},attention:{fg:"var(--jp-warn-color2, #ffb74d)",emphasis:"var(--jp-warn-color3, #ffe0b2)",muted:"var(--jp-warn-color1, #ff9800)",subtle:"var(--jp-warn-color0, #f57c00)"},severe:{fg:"var(--jp-warn-color2, #ffb74d)",emphasis:"var(--jp-warn-color3, #ffe0b2)",muted:"var(--jp-warn-color1, #ff9800)",subtle:"var(--jp-warn-color0, #f57c00)"},danger:{fg:"var(--jp-error-color2, #e57373)",emphasis:"var(--jp-error-color3, #ffcdd2)",muted:"var(--jp-error-color1, #f44336)",subtle:"var(--jp-error-color0, #d32f2f)"},open:{fg:"var(--jp-success-color2, #81c784)",emphasis:"var(--jp-success-color3, #c8e6c9)",muted:"var(--jp-success-color1, #4caf50)",subtle:"var(--jp-success-color0, #388e3c)"},closed:{fg:"var(--jp-error-color2, #e57373)",emphasis:"var(--jp-error-color3, #ffcdd2)",muted:"var(--jp-error-color1, #f44336)",subtle:"var(--jp-error-color0, #d32f2f)"},done:{fg:"var(--jp-info-color2, #4dd0e1)",emphasis:"var(--jp-info-color3, #b2ebf2)",muted:"var(--jp-info-color1, #00bcd4)",subtle:"var(--jp-info-color0, #0097a7)"},sponsors:{fg:"#db61a2",emphasis:"#bf4b8a",muted:"rgba(219,97,162,0.4)",subtle:"rgba(219,97,162,0.1)"},primer:{fg:{disabled:"var(--jp-layout-color4, #757575)"},canvas:{backdrop:"rgba(31,35,40,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#fd8c73",contrast:"rgba(31,35,40,0.1)"}}},shadows:{checks:{inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)"},mktg:{btn:{shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},avatar:{childShadow:"0 0 0 2px #0d1117"},overlay:{shadow:"0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)"},btn:{shadow:"0 0 transparent",insetShadow:"0 0 transparent",primary:{shadow:"0 0 transparent",insetShadow:"0 0 transparent",selectedShadow:"0 0 transparent"},outline:{hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",selectedShadow:"0 0 transparent"},danger:{hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",selectedShadow:"0 0 transparent"}},shadow:{small:"0 0 transparent",medium:"0 3px 6px #010409",large:"0 8px 24px #010409",extraLarge:"0 12px 48px #010409"},primer:{shadow:{highlight:"0 0 transparent",inset:"inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color)"}}}}}},Si=vi(yi,xi,{colorSchemes:{light:{},dark:{}}});Si.colorSchemes.light={colors:vi(bi.light.colors,wi.light.colors),shadows:vi(bi.light.shadows,wi.light.shadows)},Si.colorSchemes.dark={colors:vi(bi.dark.colors,wi.dark.colors),shadows:vi(bi.dark.shadows,wi.dark.shadows)};const Ci=({error:e,resetErrorBoundary:t})=>(0,s.jsxs)("div",{role:"alert",children:[(0,s.jsx)("p",{children:"Oops, something went wrong."}),(0,s.jsx)("pre",{children:e.message}),(0,s.jsx)("div",{style:{visibility:"hidden"},children:(0,s.jsx)("button",{onClick:t,children:"Try again"})})]}),ki=e=>{const{lite:t,collaborative:n,startDefaultKernel:r,defaultKernelName:o,injectableStore:a,theme:l,useRunningKernelId:c,useRunningKernelIndex:u,children:h,disableCssLoading:d}=e,p=(0,i.useMemo)((()=>(0,K.loadJupyterConfig)(e)),[e]);return(0,s.jsx)(V.ErrorBoundary,{FallbackComponent:Ci,onReset:()=>{console.log("Error Boundary reset has been invoked...")},children:(0,s.jsx)(D,{theme:Si,colorMode:"light"===l?"day":"night",dayScheme:"light",nightScheme:"dark",children:(0,s.jsx)(U,{children:(0,s.jsxs)(z.default,{color:"fg.default",bg:"canvas.default",children:[!p.insideJupyterLab&&!d&&(0,s.jsx)(W,{theme:l}),(0,s.jsx)(q.JupyterContextProvider,{baseUrl:(0,K.getJupyterServerHttpUrl)(),collaborative:n,defaultKernelName:o,disableCssLoading:d,injectableStore:a||Nt,lite:t,startDefaultKernel:r,theme:l,useRunningKernelId:c,useRunningKernelIndex:u??-1,variant:"default",wsUrl:(0,K.getJupyterServerWsUrl)(),children:h})]})})})})};ki.defaultProps={collaborative:!1,defaultKernelName:"python",disableCssLoading:!1,lite:!1,startDefaultKernel:!0,terminals:!1,theme:"light",useRunningKernelIndex:-1};const Ei=ki},65907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getJupyterServerHttpUrl:()=>o,getJupyterServerWsUrl:()=>l,getJupyterToken:()=>u,loadJupyterConfig:()=>h,setJupyterServerHttpUrl:()=>r,setJupyterServerWsUrl:()=>a,setJupyterToken:()=>c});var s=n(91891);let i={jupyterServerHttpUrl:"",jupyterServerWsUrl:"",jupyterToken:"",insideJupyterLab:!1,insideJupyterHub:!1};const r=e=>{i.jupyterServerHttpUrl=e},o=()=>i.jupyterServerHttpUrl,a=e=>{i.jupyterServerWsUrl=e},l=()=>i.jupyterServerWsUrl,c=e=>{i.jupyterToken=e},u=()=>i.jupyterToken,h=e=>{const{lite:t,jupyterServerHttpUrl:n,jupyterServerWsUrl:h,collaborative:d,terminals:p,jupyterToken:f}=e,g=document.getElementById("datalayer-config-data");if(g)i=JSON.parse(g.textContent||""),r(n??i.jupyterServerHttpUrl??location.protocol+"//"+location.host+"/api/jupyter"),a(h??i.jupyterServerWsUrl??location.protocol.replace("http","ws")+"//"+location.host+"/api/jupyter"),c(f??i.jupyterToken??"");else{const e=document.getElementById("jupyter-config-data");if(e){const t=JSON.parse(e.textContent||"");r(n??location.protocol+"//"+location.host+t.baseUrl),a(h??"https"===location.protocol?"wss://"+location.host:"ws://"+location.host+t.baseUrl),c(f??t.token),i.insideJupyterLab="JupyterLab"===t.appName}else r(n??location.protocol+"//"+location.host+"/api/jupyter"),a(h??location.protocol.replace("http","ws")+"//"+location.host+"/api/jupyter"),c(f??"")}return t&&(r(location.protocol+"//"+location.host),a("https"===location.protocol?"wss://"+location.host:"ws://"+location.host)),s.PageConfig.setOption("baseUrl",o()),s.PageConfig.setOption("wsUrl",l()),s.PageConfig.setOption("token",u()),s.PageConfig.setOption("collaborative",String(d)),s.PageConfig.setOption("disableRTC",String(!d)),s.PageConfig.setOption("terminalsAvailable",String(p)),s.PageConfig.setOption("mathjaxUrl","https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"),s.PageConfig.setOption("mathjaxConfig","TeX-AMS_CHTML-full,Safe"),i.insideJupyterHub=""!==s.PageConfig.getOption("hubHost"),i}},75600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JupyterContext:()=>M,JupyterContextConsumer:()=>D,JupyterContextProvider:()=>j,createServerSettings:()=>R,ensureJupyterAuth:()=>A,useJupyter:()=>T});var s=n(85893),i=n(67294),r=n(2664),o=n(67822),a=n(65907),l=n(91891);class c extends Error{}const u=c;var h,d,p,f,g=n(98104),m=n(45159),_=n(95082),v=n(90106);!function(e){function t(e,t,n=0,s=-1){let i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let o=0;o<i;++o){let s=(n+o)%r;if(e[s]===t)return s}return-1}function n(e,t,n=-1,s=0){let i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(let o=0;o<i;++o){let s=(n-o+r)%r;if(e[s]===t)return s}return-1}function s(e,t,n=0,s=-1){let i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let o=0;o<i;++o){let s=(n+o)%r;if(t(e[s],s))return s}return-1}function i(e,t,n=-1,s=0){let i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(let o=0;o<i;++o){let s=(n-o+r)%r;if(t(e[s],s))return s}return-1}function r(e,t=0,n=-1){let s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){let s=e[t],i=e[n];e[t++]=i,e[n--]=s}}function o(e,t){let n=e.length;if(t<0&&(t+=n),t<0||t>=n)return;let s=e[t];for(let i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n=0,i=-1){let r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n=-1,s=0){let r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s=0,i=-1){let r=e.length;if(0===r)return 0;let o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;for(;a>0;){let s=a>>1,i=o+s;n(e[i],t)<0?(o=i+1,a-=s+1):a=s}return o},e.upperBound=function(e,t,n,s=0,i=-1){let r=e.length;if(0===r)return 0;let o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;for(;a>0;){let s=a>>1,i=o+s;n(e[i],t)>0?a=s:(o=i+1,a-=s+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t={}){let{start:n,stop:s,step:i}=t;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");let r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);let a=[];for(let l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){let s=e.length;if(s<=1)return;if((t=t<0?Math.max(0,t+s):Math.min(t,s-1))===(n=n<0?Math.max(0,n+s):Math.min(n,s-1)))return;let i=e[t],r=t<n?1:-1;for(let o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i},e.reverse=r,e.rotate=function(e,t,n=0,s=-1){let i=e.length;if(i<=1)return;if((n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))return;let o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0===t)return;let a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)},e.fill=function(e,t,n=0,s=-1){let i,r=e.length;if(0!==r){n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let s=0;s<i;++s)e[(n+s)%r]=t}},e.insert=function(e,t,n){let s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(let i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s=0,i=-1){let r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s=-1,i=0){let r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n=0,s=-1){let i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);let r=0;for(let o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n=0,i=-1){let r,a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n=-1,s=0){let r,a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n=0,s=-1){let i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);let r=0;for(let o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(h||(h={})),function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(d||(d={})),function(e){function t(e,t,n=0){let s=new Array(t.length);for(let i=0,r=n,o=t.length;i<o;++i,++r){if(r=e.indexOf(t[i],r),-1===r)return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s=0){let i=t(e,n,s);if(!i)return null;let r=0;for(let t=0,o=i.length;t<o;++t){let e=i[t]-s;r+=e*e}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s=0){let i=t(e,n,s);if(!i)return null;let r=0,o=s-1;for(let t=0,a=i.length;t<a;++t){let e=i[t];r+=e-o-1,o=e}return{score:r,indices:i}},e.highlight=function(e,t,n){let s=[],i=0,r=0,o=t.length;for(;i<o;){let a=t[i],l=t[i];for(;++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(p||(p={}));class b{constructor(e){this._delegate=new _.PromiseDelegate,this._plugins=new Map,this._services=new Map,this._started=!1,this._bubblingKeydown=!1,this.commands=new m.CommandRegistry,this.contextMenu=new v.ContextMenu({commands:this.commands,renderer:e.contextMenuRenderer}),this.shell=e.shell}get started(){return this._delegate.promise}getPluginDescription(e){var t,n;return null!==(n=null===(t=this._plugins.get(e))||void 0===t?void 0:t.description)&&void 0!==n?n:""}hasPlugin(e){return this._plugins.has(e)}isPluginActivated(e){var t,n;return null!==(n=null===(t=this._plugins.get(e))||void 0===t?void 0:t.activated)&&void 0!==n&&n}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(e){if(this._plugins.has(e.id))throw new TypeError(`Plugin '${e.id}' is already registered.`);const t=f.createPluginData(e);f.ensureNoCycle(t,this._plugins,this._services),t.provides&&this._services.set(t.provides,t.id),this._plugins.set(t.id,t)}registerPlugins(e){for(const t of e)this.registerPlugin(t)}deregisterPlugin(e,t){const n=this._plugins.get(e);if(n){if(n.activated&&!t)throw new Error(`Plugin '${e}' is still active.`);this._plugins.delete(e)}}async activatePlugin(e){const t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(t.activated)return;if(t.promise)return t.promise;const n=t.requires.map((e=>this.resolveRequiredService(e))),s=t.optional.map((e=>this.resolveOptionalService(e)));return t.promise=Promise.all([...n,...s]).then((e=>t.activate.apply(void 0,[this,...e]))).then((e=>{t.service=e,t.activated=!0,t.promise=null})).catch((e=>{throw t.promise=null,e})),t.promise}async deactivatePlugin(e){const t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(!t.activated)return[];if(!t.deactivate)throw new TypeError(`Plugin '${e}'#deactivate() method missing`);const n=f.findDependents(e,this._plugins,this._services),s=n.map((e=>this._plugins.get(e)));for(const i of s)if(!i.deactivate)throw new TypeError(`Plugin ${i.id}#deactivate() method missing (depends on ${e})`);for(const i of s){const e=[...i.requires,...i.optional].map((e=>{const t=this._services.get(e);return t?this._plugins.get(t).service:null}));await i.deactivate(this,...e),i.service=null,i.activated=!1}return n.pop(),n}async resolveRequiredService(e){const t=this._services.get(e);if(!t)throw new TypeError(`No provider for: ${e.name}.`);const n=this._plugins.get(t);return n.activated||await this.activatePlugin(t),n.service}async resolveOptionalService(e){const t=this._services.get(e);if(!t)return null;const n=this._plugins.get(t);if(!n.activated)try{await this.activatePlugin(t)}catch(s){return console.error(s),null}return n.service}start(e={}){if(this._started)return this._delegate.promise;this._started=!0,this._bubblingKeydown=e.bubblingKeydown||!1;const t=e.hostID||"",n=f.collectStartupPlugins(this._plugins,e).map((e=>this.activatePlugin(e).catch((t=>{console.error(`Plugin '${e}' failed to activate.`),console.error(t)}))));return Promise.all(n).then((()=>{this.attachShell(t),this.addEventListeners(),this._delegate.resolve()})),this._delegate.promise}get deferredPlugins(){return Array.from(this._plugins).filter((([e,t])=>"defer"===t.autoStart)).map((([e,t])=>e))}async activateDeferredPlugins(){const e=this.deferredPlugins.filter((e=>this._plugins.get(e).autoStart)).map((e=>this.activatePlugin(e)));await Promise.all(e)}handleEvent(e){switch(e.type){case"resize":this.evtResize(e);break;case"keydown":this.evtKeydown(e);break;case"contextmenu":this.evtContextMenu(e)}}attachShell(e){v.Widget.attach(this.shell,e&&document.getElementById(e)||document.body)}addEventListeners(){document.addEventListener("contextmenu",this),document.addEventListener("keydown",this,!this._bubblingKeydown),window.addEventListener("resize",this)}evtKeydown(e){this.commands.processKeydownEvent(e)}evtContextMenu(e){e.shiftKey||this.contextMenu.open(e)&&(e.preventDefault(),e.stopPropagation())}evtResize(e){this.shell.update()}}!function(e){e.createPluginData=function(e){var t,n,s,i;return{id:e.id,description:null!==(t=e.description)&&void 0!==t?t:"",service:null,promise:null,activated:!1,activate:e.activate,deactivate:null!==(n=e.deactivate)&&void 0!==n?n:null,provides:null!==(s=e.provides)&&void 0!==s?s:null,autoStart:null!==(i=e.autoStart)&&void 0!==i&&i,requires:e.requires?e.requires.slice():[],optional:e.optional?e.optional.slice():[]}},e.ensureNoCycle=function(e,t,n){const s=[...e.requires,...e.optional],i=s=>{if(s===e.provides)return!0;const o=n.get(s);if(!o)return!1;const a=t.get(o),l=[...a.requires,...a.optional];return 0!==l.length&&(r.push(o),!!l.some(i)||(r.pop(),!1))};if(!e.provides||0===s.length)return;const r=[e.id];if(s.some(i))throw new ReferenceError(`Cycle detected: ${r.join(" -> ")}.`)},e.findDependents=function(e,t,n){const s=new Array,i=e=>{const i=t.get(e),r=[...i.requires,...i.optional];s.push(...r.reduce(((t,s)=>{const i=n.get(s);return i&&t.push([e,i]),t}),[]))};for(const c of t.keys())i(c);const r=s.filter((t=>t[1]===e));let o=0;for(;r.length>o;){const e=r.length,t=new Set(r.map((e=>e[0])));for(const n of t)s.filter((e=>e[1]===n)).forEach((e=>{r.includes(e)||r.push(e)}));o=e}const a=function(e){let t=[],n=new Set,s=new Map;for(const o of e)i(o);for(const[o]of s)r(o);return t;function i(e){let[t,n]=e,i=s.get(n);i?i.push(t):s.set(n,[t])}function r(e){if(n.has(e))return;n.add(e);let i=s.get(e);if(i)for(const t of i)r(t);t.push(e)}}(r),l=a.findIndex((t=>t===e));return-1===l?[e]:a.slice(0,l+1)},e.collectStartupPlugins=function(e,t){const n=new Set;for(const s of e.keys())!0===e.get(s).autoStart&&n.add(s);if(t.startPlugins)for(const s of t.startPlugins)n.add(s);if(t.ignorePlugins)for(const s of t.ignorePlugins)n.delete(s);return Array.from(n)}}(f||(f={}));var y=n(31670);class w{constructor(){this._routes=[]}get(e,t){this._add("GET",e,t)}put(e,t){this._add("PUT",e,t)}post(e,t){this._add("POST",e,t)}patch(e,t){this._add("PATCH",e,t)}delete(e,t){this._add("DELETE",e,t)}async route(e){const t=new URL(e.url),{method:n}=e,{pathname:s}=t;for(const i of this._routes){if(i.method!==n)continue;const r=s.match(i.pattern);if(!r)continue;const o=r.slice(1);let a;if("PATCH"===i.method||"PUT"===i.method||"POST"===i.method)try{a=JSON.parse(await e.text())}catch{a=void 0}return i.callback.call(null,{pathname:s,body:a,query:Object.fromEntries(t.searchParams)},...o)}throw new Error("Cannot route "+e.method+" "+e.url)}_add(e,t,n){"string"==typeof t&&(t=new RegExp(t)),this._routes.push({method:e,pattern:t,callback:n})}}class x extends b{constructor(e){var t;super(e),this.name="JupyterLite Server",this.namespace=this.name,this.version="unknown",this._router=new w,this._serviceManager=new g.ServiceManager({standby:"never",serverSettings:{...g.ServerConnection.makeSettings(),WebSocket:y.WebSocket,fetch:null!==(t=this.fetch.bind(this))&&void 0!==t?t:void 0}})}get router(){return this._router}get serviceManager(){return this._serviceManager}async fetch(e,t){if(!(e instanceof Request))throw Error("Request info is not a Request");return this._router.route(e)}attachShell(e){}evtResize(e){}registerPluginModule(e){let t=e.default;Object.prototype.hasOwnProperty.call(e,"__esModule")||(t=e),Array.isArray(t)||(t=[t]),t.forEach((e=>{try{this.registerPlugin(e)}catch(t){console.error(t)}}))}registerPluginModules(e){e.forEach((e=>{this.registerPluginModule(e)}))}}const S=[Promise.all([n.e(8154),n.e(6963)]).then(n.bind(n,44111)),Promise.all([n.e(8154),n.e(3833),n.e(6700)]).then(n.bind(n,43833))],C=["@jupyterlab/apputils-extension:workspaces","@jupyterlab/application-extension:logo","@jupyterlab/application-extension:main","@jupyterlab/application-extension:tree-resolver","@jupyterlab/apputils-extension:resolver","@jupyterlab/docmanager-extension:download","@jupyterlab/filebrowser-extension:download","@jupyterlab/filebrowser-extension:share-file","@jupyterlab/help-extension:about"];async function k(){const e=[];(await Promise.all(S)).forEach((t=>{for(let n of function*(e){let t;t=e.hasOwnProperty("__esModule")?e.default:e;let n=Array.isArray(t)?t:[t];for(let s of n)l.PageConfig.Extension.isDisabled(s.id)||C.includes(s.id)||C.includes(s.id.split(":")[0])||(yield s)}(t))e.push(n)}));const t=new x({});t.registerPluginModules(e),await t.start();const{serviceManager:n}=t;return n}var E=n(35259);const O=class{_clientId;_connectionStatus;_id;_info;_kernelConnection;_kernelManager;_kernelName;_kernelSpecManager;_kernelSpecName;_kernelType;_path;_ready;_readyResolve;_serverSettings;_session;_sessionId;_sessionManager;constructor(e){const{kernelManager:t,kernelName:n,kernelType:s,kernelSpecName:i,kernelModel:r,serverSettings:a}=e;this._kernelSpecManager=new o.KernelSpecManager({serverSettings:a}),this._kernelManager=t,this._kernelName=n,this._kernelType=s,this._kernelSpecName=i,this._serverSettings=a,this.initReady=this.initReady.bind(this),this.initReady(),this.requestKernel(r)}initReady(){this._ready=new Promise(((e,t)=>{this._readyResolve=e}))}async requestKernel(e){if(await this._kernelManager.ready,this._sessionManager=new o.SessionManager({kernelManager:this._kernelManager,serverSettings:this._serverSettings,standby:"never"}),await this._sessionManager.ready,e){console.log("Reusing a pre-existing kernel model."),await this._sessionManager.refreshRunning();const e=(0,E.find)(this._sessionManager.running(),(e=>e.path===this._path));e&&(this._session=this._sessionManager.connectTo({model:e}))}else{let e=(e=>{const t=e.length+1;return document.cookie.split(";").map((e=>e.trim())).filter((n=>n.substring(0,t)===`${e}=`)).map((e=>decodeURIComponent(e.substring(t))))[0]||null})(this.cookieName);e||(e="kernel-"+_.UUID.uuid4(),document.cookie=this.cookieName+"="+e),this._path=e,this._session=await this._sessionManager.startNew({name:this._kernelName,path:this._path,type:this._kernelType,kernel:{name:this._kernelSpecName}},{kernelConnectionOptions:{handleComms:!0}})}this._kernelConnection=this._session.kernel;const t=()=>{"connected"===this._connectionStatus&&(this._clientId=this._session.kernel.clientId,this._id=this._session.kernel.id,this._readyResolve())};this._kernelConnection&&(this._sessionId=this._session.id,this._connectionStatus=this._kernelConnection.connectionStatus,t(),this._kernelConnection.connectionStatusChanged.connect(((e,n)=>{this._connectionStatus=n,t()})),this._kernelConnection.info.then((e=>{this._info=e,console.log("Kernel info",this.toJSON())})))}get cookieName(){return"jupyter-react-kernel-path_"+this._kernelSpecName}get ready(){return this._ready}get clientId(){return this._clientId}get id(){return this._id}get sessionId(){return this._sessionId}get info(){return this._info}get session(){return this._session}get kernelManager(){return this._kernelManager}get kernelSpecManager(){return this._kernelSpecManager}get sessionManager(){return this._sessionManager}get path(){return this._path}get connection(){return this._kernelConnection}toJSON(){return{path:this._path,id:this.id,clientId:this.clientId,sessionId:this.sessionId,kernelInfo:this.info}}toString(){return`id:${this.id} - client_id:${this.clientId} - session_id:${this.sessionId} - path:${this._path}`}shutdown(){this._session.kernel?.shutdown(),this.connection?.dispose()}},M=(0,i.createContext)(void 0),T=()=>{const e=(0,i.useContext)(M);if(!e)throw new Error("useContext must be inside a provider with a value.");return e},D=M.Consumer,P=M.Provider,A=e=>async function(e,t="api",n="",s={}){const i=l.URLExt.join(e.baseUrl,t,n);let r;try{if(r=await o.ServerConnection.makeRequest(i,s,e),403===r.status)throw new u}catch(c){throw new o.ServerConnection.NetworkError(c)}let a=await r.text();if(a.length>0)try{a=JSON.parse(a)}catch(c){console.warn("Not a JSON response body.",r)}if(!r.ok)throw new o.ServerConnection.ResponseError(r,a.message||a);return a}(e,"api","").then((e=>!0)).catch((e=>(console.log("The Jupyter Server API has failed with reason",e),!1))),R=(e,t)=>o.ServerConnection.makeSettings({baseUrl:e,wsUrl:t,token:(0,a.getJupyterToken)(),appendToken:!0,init:{mode:"cors",credentials:"include",cache:"no-cache"}}),j=e=>{const{children:t,lite:n,collaborative:l,startDefaultKernel:c,defaultKernelName:u,disableCssLoading:h,useRunningKernelId:d,useRunningKernelIndex:p,variant:f,baseUrl:g,wsUrl:m,injectableStore:_,theme:v}=e,[b,y]=(0,i.useState)("default"),[w]=(0,i.useState)(R(g??"",m??"")),[x,S]=(0,i.useState)(),[C,E]=(0,i.useState)(),[M,T]=(0,i.useState)();return(0,i.useEffect)((()=>{n?k().then((e=>{S(e);const t=e.sessions._kernelManager;E(t),t.ready.then((()=>{if(console.log("Kernel Manager is ready",t),c){const e=new O({kernelManager:t,kernelName:u,kernelSpecName:u,kernelType:"notebook",serverSettings:w});e.ready.then((()=>{console.log("Lite Kernel is ready",e.toString()),T(e)}))}}))})):A(w).then((e=>{if(!e){const e=(0,a.getJupyterServerHttpUrl)()+"/login?next="+window.location;console.warn("Redirecting to Jupyter Server login URL",e),window.location.replace(e)}if(d&&p>-1)throw new Error("You can not ask for useRunningKernelId and useRunningKernelIndex at the same time.");if(c&&(d||p>-1))throw new Error("You can not ask for startDefaultKernel and (useRunningKernelId or useRunningKernelIndex) at the same time.");const t=new o.ServiceManager({serverSettings:w});S(t);const n=t.sessions._kernelManager;E(n),n.ready.then((()=>{if(console.log("Kernel Manager is ready."),p>-1){const e=n.running();let t=e.next(),s=0;for(;!t.done;){if(s===p){T(new O({kernelManager:n,kernelName:u,kernelSpecName:u,kernelModel:t.value,kernelType:"notebook",serverSettings:w}));break}t=e.next(),s++}}else if(c){console.log("Starting Kernel",u);const e=new O({kernelManager:n,kernelName:u,kernelSpecName:u,kernelType:"notebook",serverSettings:w});e.ready.then((()=>{console.log("Kernel is ready",e),T(e)}))}}))})),y(f)}),[n,f,v]),(0,s.jsx)(r.Provider,{store:_,children:(0,s.jsx)(P,{value:{baseUrl:g,collaborative:l,defaultKernel:M,disableCssLoading:h,injectableStore:_,kernelManager:C,lite:n,serverSettings:w,serviceManager:x,setVariant:y,startDefaultKernel:c,variant:f,wsUrl:m},children:t})})}},26203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},21560:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(26203),t),i(n(36713),t),i(n(10074),t),i(n(14930),t),i(n(20864),t),i(n(33786),t),i(n(35658),t),i(n(74870),t),i(n(30940),t),i(n(61682),t)},36713:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},14930:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},20864:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(61682);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},33786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},35658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},74870:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},30940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},61682:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},72683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(17586);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},11325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(21560),i=n(17586);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},68572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(21560),i=n(35862);var r;!function(e){e.create=function(e){const t=new o(e);return t.load().then((()=>t))}}(r||(t.ConfigSection=r={}));class o{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},24478:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(21560),a=n(4016),l=n(35862),c=r(n(81142));var u,h;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(u||(t.Contents=u={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new d({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class d{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s=t.hash?"1":"0",i={...t,content:e,hash:s};n+=o.URLExt.objectToQueryString(i)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=h.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=d,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(h||(h={}))},81142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(5252);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},50844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(21560),i=n(23114),r=n(4016),o=n(17586),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},35862:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(72683),t),i(n(68572),t),i(n(24478),t),i(n(50844),t),i(n(89326),t),i(n(453),t),i(n(34690),t),i(n(17586),t),i(n(82484),t),i(n(81699),t),i(n(29795),t),i(n(39588),t),i(n(9085),t),i(n(48053),t)},52602:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(45417));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},89849:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(21560),a=n(95082),l=n(4016),c=n(35862),u=n(52602),h=r(n(45417)),d=n(85477),p=r(n(23422)),f=n(453),g=r(n(78005)),m="_RESTARTING_";class _{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,g.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await g.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*v.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=this.serverSettings.serializer.deserialize(e.data,this._ws.protocol),p.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=f.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new _({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===m)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==m)this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return g.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=m,await g.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await g.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await v.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,v.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==m&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await v.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===m,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===m&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=v.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var v;t.KernelConnection=_,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(v||(v={}))},85477:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(45417));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},89326:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(37738));t.Kernel=a;const l=r(n(45417));t.KernelMessage=l;const c=r(n(78005));t.KernelAPI=c;const u=n(89849);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(55197),t)},37738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(35862),o=n(72683),a=n(78005),l=n(89849);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c||(t.KernelManager=c={}))},45417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);var i;t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(i||(t.supportedKernelWebSocketProtocols=i={}))},78005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(17586),i=n(21560),r=n(23422);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},83310:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(45417));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},23422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(5252),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},453:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(59617));t.KernelSpec=a;const l=r(n(96675));t.KernelSpecAPI=l,o(n(85901),t)},59617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},85901:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(96675)),u=n(72683);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},96675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(17586),i=n(83403),r=n(21560);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},83403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(5252);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},34690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(11325),r=n(24478),o=n(50844),a=n(89326),l=n(453),c=n(48053),u=n(17586),h=n(82484),d=n(81699),p=n(29795),f=n(39588),g=n(9085);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},48053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(21560),i=n(17586),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},17586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(21560),i=n(83310);let r;var o,a;r="undefined"==typeof window?n(32830):WebSocket,function(e){e.makeSettings=function(e){return a.makeSettings(e)},e.makeRequest=function(e,t,n){return a.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(o||(t.ServerConnection=o={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),o=s.PageConfig.getWsUrl(),a=s.URLExt.normalize(e.baseUrl)||n;let l=e.wsUrl;return l||a!==n||(l=o),l||0!==a.indexOf("http")||(l="ws"+a.slice(4)),l=null!=l?l:o,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:r,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(l),serializer:{serialize:i.serialize,deserialize:i.deserialize},...e,baseUrl:a,wsUrl:l}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let r=!1;if(n.token&&(r=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(r=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&r&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new o.NetworkError(e)}))}}(a||(a={}))},53526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(35862),r=n(16884),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},82484:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(80140));t.Session=a;const l=r(n(16884));t.SessionAPI=l,o(n(10828),t)},10828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(17586),o=n(72683),a=n(53526),l=n(16884);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.SessionManager=c={}))},16884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(17586),i=n(21560),r=n(82253);function o(e,n){const s=i.URLExt.join(e,t.SESSION_SERVICE_URL),r=i.URLExt.join(s,n);if(!r.startsWith(s))throw new Error("Can only be used for services requests");return r}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},80140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},82253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(23422),i=n(5252);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},81699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(21560),i=n(17266),r=n(17586);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"",r=s.URLExt.join(e,"api/settings"),o=s.URLExt.join(r,t);if(!o.startsWith(r))throw new Error("Can only be used for workspaces requests");return`${o}${i}`}}(a||(a={}))},32830:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},70845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(21560),i=n(95082),r=n(4016),o=n(35862),a=n(11279);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},29795:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(89138));t.Terminal=a;const l=r(n(11279));t.TerminalAPI=l,o(n(53272),t)},53272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(35862),o=n(72683),a=n(11279),l=n(70845);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.TerminalManager=c={}))},11279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(21560),i=n(17586);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL),l=s.URLExt.join(a,e);if(!l.startsWith(a))throw new Error("Can only be used for terminal requests");const c=await i.ServerConnection.makeRequest(l,{method:"DELETE"},n);if(404===c.status){const t=null!==(r=(await c.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==c.status){throw await i.ServerConnection.ResponseError.create(c)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},89138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(11279);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},39588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(21560),i=n(95082),r=n(23114),o=n(4016),a=n(17586),l=n(72683),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},5252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},9085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(21560),i=n(17266),r=n(17586);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){const n=s.URLExt.join(e,"api/workspaces"),i=s.URLExt.join(n,t);if(!i.startsWith(n))throw new Error("Can only be used for workspaces requests");return i}}(a||(a={}))},27864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},58786:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(27864),t),i(n(52414),t),i(n(74529),t),i(n(29740),t),i(n(58246),t),i(n(98533),t),i(n(8715),t),i(n(20536),t),i(n(49029),t),i(n(36827),t)},52414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74529:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},29740:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},58246:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(36827);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},98533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},8715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},20536:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},49029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},36827:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},49718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(53650);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},7878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(58786),i=n(53650);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},97391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(58786),i=n(69153);var r;!function(e){e.create=function(e){const t=new o(e);return t.load().then((()=>t))}}(r||(t.ConfigSection=r={}));class o{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},86317:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(58786),a=n(4016),l=n(69153),c=r(n(65198));var u,h;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(u||(t.Contents=u={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new d({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class d{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s=t.hash?"1":"0",i={...t,content:e,hash:s};n+=o.URLExt.objectToQueryString(i)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=h.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=d,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(h||(h={}))},65198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(32822);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},83362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(58786),i=n(23114),r=n(4016),o=n(53650),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},69153:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(49718),t),i(n(97391),t),i(n(86317),t),i(n(83362),t),i(n(65153),t),i(n(95697),t),i(n(65332),t),i(n(53650),t),i(n(255),t),i(n(77690),t),i(n(82346),t),i(n(18889),t),i(n(99455),t),i(n(26879),t)},78917:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(67617));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},67925:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(58786),a=n(95082),l=n(4016),c=n(69153),u=n(78917),h=r(n(67617)),d=n(99564),p=r(n(45569)),f=n(95697),g=r(n(99547)),m="_RESTARTING_";class _{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,g.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await g.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*v.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=this.serverSettings.serializer.deserialize(e.data,this._ws.protocol),p.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=f.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new _({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===m)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==m)this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return g.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=m,await g.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await g.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await v.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,v.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==m&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await v.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===m,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===m&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=v.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var v;t.KernelConnection=_,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(v||(v={}))},99564:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(67617));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},65153:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(56653));t.Kernel=a;const l=r(n(67617));t.KernelMessage=l;const c=r(n(99547));t.KernelAPI=c;const u=n(67925);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(77995),t)},56653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},77995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(69153),o=n(49718),a=n(99547),l=n(67925);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c||(t.KernelManager=c={}))},67617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);var i;t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(i||(t.supportedKernelWebSocketProtocols=i={}))},99547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(53650),i=n(58786),r=n(45569);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},65275:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(67617));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},45569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(32822),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},95697:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(87947));t.KernelSpec=a;const l=r(n(53519));t.KernelSpecAPI=l,o(n(18093),t)},87947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18093:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(53519)),u=n(49718);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},53519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(53650),i=n(85159),r=n(58786);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},85159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(32822);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},65332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(7878),r=n(86317),o=n(83362),a=n(65153),l=n(95697),c=n(26879),u=n(53650),h=n(255),d=n(77690),p=n(82346),f=n(18889),g=n(99455);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},26879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(58786),i=n(53650),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},53650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(58786),i=n(65275);let r;var o,a;r="undefined"==typeof window?n(70193):WebSocket,function(e){e.makeSettings=function(e){return a.makeSettings(e)},e.makeRequest=function(e,t,n){return a.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(o||(t.ServerConnection=o={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),o=s.PageConfig.getWsUrl(),a=s.URLExt.normalize(e.baseUrl)||n;let l=e.wsUrl;return l||a!==n||(l=o),l||0!==a.indexOf("http")||(l="ws"+a.slice(4)),l=null!=l?l:o,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:r,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(l),serializer:{serialize:i.serialize,deserialize:i.deserialize},...e,baseUrl:a,wsUrl:l}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let r=!1;if(n.token&&(r=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(r=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&r&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new o.NetworkError(e)}))}}(a||(a={}))},4446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(69153),r=n(85779),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},255:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(88270));t.Session=a;const l=r(n(85779));t.SessionAPI=l,o(n(97386),t)},97386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(53650),o=n(49718),a=n(4446),l=n(85779);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.SessionManager=c={}))},85779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(53650),i=n(58786),r=n(2598);function o(e,n){const s=i.URLExt.join(e,t.SESSION_SERVICE_URL),r=i.URLExt.join(s,n);if(!r.startsWith(s))throw new Error("Can only be used for services requests");return r}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},88270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(45569),i=n(32822);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},77690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(58786),i=n(17266),r=n(53650);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"",r=s.URLExt.join(e,"api/settings"),o=s.URLExt.join(r,t);if(!o.startsWith(r))throw new Error("Can only be used for workspaces requests");return`${o}${i}`}}(a||(a={}))},70193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},82243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(58786),i=n(95082),r=n(4016),o=n(69153),a=n(63147);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},82346:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(92340));t.Terminal=a;const l=r(n(63147));t.TerminalAPI=l,o(n(11409),t)},11409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(69153),o=n(49718),a=n(63147),l=n(82243);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.TerminalManager=c={}))},63147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(58786),i=n(53650);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL),l=s.URLExt.join(a,e);if(!l.startsWith(a))throw new Error("Can only be used for terminal requests");const c=await i.ServerConnection.makeRequest(l,{method:"DELETE"},n);if(404===c.status){const t=null!==(r=(await c.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==c.status){throw await i.ServerConnection.ResponseError.create(c)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},92340:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(63147);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},18889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(58786),i=n(95082),r=n(23114),o=n(4016),a=n(53650),l=n(49718),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},32822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},99455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(58786),i=n(17266),r=n(53650);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){const n=s.URLExt.join(e,"api/workspaces"),i=s.URLExt.join(n,t);if(!i.startsWith(n))throw new Error("Can only be used for workspaces requests");return i}}(a||(a={}))},41461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},24831:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(41461),t),i(n(76351),t),i(n(83984),t),i(n(78903),t),i(n(1041),t),i(n(334),t),i(n(78585),t),i(n(51869),t),i(n(57294),t),i(n(43635),t)},76351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},83984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},78903:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},1041:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(43635);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},78585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},51869:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},57294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},43635:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},82483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},99776:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(82483),t),i(n(88261),t),i(n(20714),t),i(n(49751),t),i(n(56655),t),i(n(21206),t),i(n(76386),t),i(n(33857),t),i(n(27983),t),i(n(19617),t)},88261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},49751:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},56655:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(19617);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},21206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},76386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},33857:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},27983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},19617:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},55160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},91891:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(55160),t),i(n(50643),t),i(n(66689),t),i(n(51348),t),i(n(48225),t),i(n(24303),t),i(n(5486),t),i(n(31695),t),i(n(8869),t)},50643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},66689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},51348:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(8869);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))},48225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},24303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},5486:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(t.Text||(t.Text={}))},31695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(t.Time||(t.Time={}))},8869:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e){const{protocol:n}=t(e);return(!n||0!==e.toLowerCase().indexOf(n))&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},45772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},81008:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(45772),t),i(n(9980),t),i(n(54351),t),i(n(55155),t),i(n(91538),t),i(n(22474),t),i(n(62912),t),i(n(17065),t),i(n(12887),t),i(n(75939),t)},9980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},55155:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},91538:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(75939);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},22474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},62912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},17065:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},12887:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},75939:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},26071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(49659);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},47302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(4532),i=n(49659);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},74189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(4532),i=n(67822);!function(e){e.create=function(e){const t=new r(e);return t.load().then((()=>t))}}(t.ConfigSection||(t.ConfigSection={}));class r{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},2748:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(4532),a=n(4016),l=n(67822),c=r(n(40824));var u;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(t.Contents||(t.Contents={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class h{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s={...t,content:e};n+=o.URLExt.objectToQueryString(s)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=u.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(u||(u={}))},40824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(87192);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},64537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(4532),i=n(23114),r=n(4016),o=n(49659),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},67822:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(26071),t),i(n(74189),t),i(n(2748),t),i(n(64537),t),i(n(39012),t),i(n(95006),t),i(n(48960),t),i(n(49659),t),i(n(95283),t),i(n(32994),t),i(n(22225),t),i(n(73675),t),i(n(52177),t),i(n(80617),t)},83760:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(63904));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},45002:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(4532),a=n(95082),l=n(4016),c=n(67822),u=n(83760),h=r(n(63904)),d=n(24266),p=n(20926),f=r(n(54671)),g=n(95006),m=r(n(61684)),_="_RESTARTING_";class v{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await m.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*b.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=(0,p.deserialize)(e.data,this._ws.protocol),f.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===_)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send((0,p.serialize)(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==_)this._ws.send((0,p.serialize)(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=_,await m.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==_&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===_,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===_&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},24266:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(63904));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},39012:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(58775));t.Kernel=a;const l=r(n(63904));t.KernelMessage=l;const c=r(n(61684));t.KernelAPI=c;const u=n(45002);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(39905),t)},58775:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},39905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(67822),o=n(26071),a=n(61684),l=n(45002);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c=t.KernelManager||(t.KernelManager={}))},63904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(t.supportedKernelWebSocketProtocols||(t.supportedKernelWebSocketProtocols={}))},61684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(49659),i=n(4532),r=n(54671);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},20926:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(63904));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},54671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(87192),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},95006:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(75103));t.KernelSpec=a;const l=r(n(70477));t.KernelSpecAPI=l,o(n(40011),t)},75103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},40011:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(70477)),u=n(26071);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},70477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(49659),i=n(20936),r=n(4532);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},20936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(87192);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},48960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(47302),r=n(2748),o=n(64537),a=n(39012),l=n(95006),c=n(80617),u=n(49659),h=n(95283),d=n(32994),p=n(22225),f=n(73675),g=n(52177);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},80617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(4532),i=n(49659),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},49659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(4532);let i;var r,o;i="undefined"==typeof window?n(39241):WebSocket,function(e){e.makeSettings=function(e){return o.makeSettings(e)},e.makeRequest=function(e,t,n){return o.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(r=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),r=s.PageConfig.getWsUrl(),o=s.URLExt.normalize(e.baseUrl)||n;let a=e.wsUrl;return a||o!==n||(a=r),a||0!==o.indexOf("http")||(a="ws"+o.slice(4)),a=null!=a?a:r,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:i,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(a),...e,baseUrl:o,wsUrl:a}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let o=!1;if(n.token&&(o=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(o=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&o&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new r.NetworkError(e)}))}}(o||(o={}))},81240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(67822),r=n(91117),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},95283:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(76445));t.Session=a;const l=r(n(91117));t.SessionAPI=l,o(n(23115),t)},23115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(49659),o=n(26071),a=n(81240),l=n(91117);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.SessionManager||(t.SessionManager={}))},91117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(49659),i=n(4532),r=n(3313);function o(e,n){return i.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},76445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(54671),i=n(87192);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},32994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(4532),i=n(17266),r=n(49659);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"";return`${s.URLExt.join(e,"api/settings",t)}${i}`}}(a||(a={}))},39241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},92480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(4532),i=n(95082),r=n(4016),o=n(67822),a=n(52675);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},22225:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(53709));t.Terminal=a;const l=r(n(52675));t.TerminalAPI=l,o(n(34274),t)},34274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(67822),o=n(26071),a=n(52675),l=n(92480);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.TerminalManager||(t.TerminalManager={}))},52675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(4532),i=n(49659);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),l=await i.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===l.status){const t=null!==(r=(await l.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==l.status){throw await i.ServerConnection.ResponseError.create(l)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},53709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(52675);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},73675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(4532),i=n(95082),r=n(23114),o=n(4016),a=n(49659),l=n(26071),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},87192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},52177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(4532),i=n(17266),r=n(49659);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){return s.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},88685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},4532:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88685),t),i(n(53013),t),i(n(12877),t),i(n(40932),t),i(n(13422),t),i(n(91313),t),i(n(32025),t),i(n(16337),t),i(n(94849),t),i(n(73797),t)},53013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},12877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},40932:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},13422:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(73797);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},91313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},32025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},16337:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},94849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},73797:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},20016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(67610);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},66229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(13776),i=n(67610);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},93637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(13776),i=n(98104);!function(e){e.create=function(e){const t=new r(e);return t.load().then((()=>t))}}(t.ConfigSection||(t.ConfigSection={}));class r{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data=Object.assign(Object.assign({},this._data),e);const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},15419:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(13776),a=n(4016),l=n(98104),c=r(n(28949));var u;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(t.Contents||(t.Contents={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getModelDBFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.modelDBFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push(Object.assign(Object.assign({},s),{path:this._toGlobalPath(n,s.path)}));return Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,s),content:t})}return Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,s)})}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled(Object.assign(Object.assign({},e),{path:s})).then((e=>Object.assign(Object.assign({},e),{path:o.PathExt.join(t,e.name)})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,r)})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,Object.assign(Object.assign({},t),{path:i})).then((e=>Object.assign(Object.assign({},e),{path:n})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,e.path)})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i=Object.assign(Object.assign({},t.newValue),{path:this._toGlobalPath(e,t.newValue.path)})),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r=Object.assign(Object.assign({},t.oldValue),{path:this._toGlobalPath(e,t.oldValue.path)})),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class h{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s=Object.assign(Object.assign({},t),{content:e});n+=o.URLExt.objectToQueryString(s)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=u.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(u||(u={}))},28949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(4063);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},98104:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(93637),t),i(n(15419),t),i(n(24568),t),i(n(42918),t),i(n(50141),t),i(n(67610),t),i(n(51903),t),i(n(97776),t),i(n(85459),t),i(n(19467),t),i(n(18058),t)},24236:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(21703));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},31116:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(13776),a=n(95082),l=n(4016),c=n(98104),u=n(24236),h=r(n(21703)),d=n(40187),p=n(91755),f=r(n(7754)),g=n(42918),m=r(n(47355)),_="_RESTARTING_";class v{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await m.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*b.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=(0,p.deserialize)(e.data,this._ws.protocol),f.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v(Object.assign({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1},e))}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===_)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send((0,p.serialize)(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==_)this._ws.send((0,p.serialize)(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=_,await m.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign(Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1}),e),metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==_&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===_,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===_&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},40187:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(21703));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},24568:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(20754));t.Kernel=a;const l=r(n(21703));t.KernelMessage=l;const c=r(n(47355));t.KernelAPI=c;const u=n(31116);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(9624),t)},20754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(98104),o=n(20016),a=n(47355),l=n(31116);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection(Object.assign(Object.assign({handleComms:s},e),{serverSettings:this.serverSettings}));return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&t.name===e.name}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c=t.KernelManager||(t.KernelManager={}))},21703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(t.supportedKernelWebSocketProtocols||(t.supportedKernelWebSocketProtocols={}))},47355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(67610),i=n(13776),r=n(7754);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},91755:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(21703));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length;d++)d==i.length-1?h.push(e.slice(i[d])):h.push(e.slice(i[d],i[d+1]));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},7754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(4063),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},42918:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(27588));t.KernelSpec=a;const l=r(n(67299));t.KernelSpecAPI=l,o(n(65666),t)},27588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65666:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(67299)),u=n(20016);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},67299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(67610),i=n(70012),r=n(13776);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},70012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(4063);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},50141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(66229),r=n(18058),o=n(15419),a=n(24568),l=n(42918),c=n(67610),u=n(51903),h=n(97776),d=n(85459),p=n(19467);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const f=e.defaultDrive,g=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),m={defaultDrive:f,serverSettings:g,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"},_=e.kernels||new a.KernelManager(m);this.serverSettings=g,this.contents=e.contents||new o.ContentsManager(m),this.sessions=e.sessions||new u.SessionManager(Object.assign(Object.assign({},m),{kernelManager:_})),this.settings=e.settings||new h.SettingManager(m),this.terminals=e.terminals||new d.TerminalManager(m),this.builder=e.builder||new i.BuildManager(m),this.workspaces=e.workspaces||new p.WorkspaceManager(m),this.nbconvert=e.nbconvert||new r.NbConvertManager(m),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(m),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const v=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&v.push(this.terminals.ready),this._readyPromise=Promise.all(v).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},18058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(13776),i=n(67610);t.NbConvertManager=class{constructor(e={}){var t;this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async getExportFormats(){const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,r=await i.ServerConnection.makeRequest(t,{},n);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const o=await r.json(),a={};return Object.keys(o).forEach((function(e){const t=o[e].output_mimetype;a[e]={output_mimetype:t}})),a}}},67610:(e,t,n)=>{"use strict";var s,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const o=n(13776);let a,l,c,u;if("undefined"==typeof window){const e=n(21549);a=null!==(s=n.g.fetch)&&void 0!==s?s:e,c=null!==(i=n.g.Request)&&void 0!==i?i:e.Request,l=null!==(r=n.g.Headers)&&void 0!==r?r:e.Headers,u=n(14771)}else a=fetch,c=Request,l=Headers,u=WebSocket;var h,d;!function(e){e.makeSettings=function(e){return d.makeSettings(e)},e.makeRequest=function(e,t,n){return d.handleRequest(e,t,n)};class t extends Error{constructor(e,t=`Invalid response: ${e.status} ${e.statusText}`,n=""){super(t),this.response=e,this.traceback=n}static async create(e){try{const n=await e.json();return n.traceback&&console.error(n.traceback),n.message?new t(e,n.message):new t(e)}catch(n){return console.debug(n),new t(e)}}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(h=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){var t;const n=o.PageConfig.getBaseUrl(),s=o.PageConfig.getWsUrl(),i=o.URLExt.normalize(e.baseUrl)||n;let r=e.wsUrl;return r||i!==n||(r=s),r||0!==i.indexOf("http")||(r="ws"+i.slice(4)),r=null!=r?r:s,Object.assign(Object.assign({init:{cache:"no-store",credentials:"same-origin"},fetch:a,Headers:l,Request:c,WebSocket:u,token:o.PageConfig.getToken(),appUrl:o.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||o.URLExt.getHostName(n)!==o.URLExt.getHostName(r)},e),{baseUrl:i,wsUrl:r})},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,Object.assign(Object.assign({},n.init),t));let r=!1;if(n.token&&(r=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(r=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&r&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new h.NetworkError(e)}))}}(d||(d={}))},62180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(98104),r=n(63863),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel(Object.assign(Object.assign({},this._kernelConnectionOptions),{model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings}));this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)(Object.assign(Object.assign({},e),{id:this._id}),this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},51903:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(48176));t.Session=a;const l=r(n(63863));t.SessionAPI=l,o(n(7694),t)},7694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(67610),o=n(20016),a=n(62180),l=n(63863);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection(Object.assign(Object.assign({},e),{connectToKernel:this._connectToKernel,serverSettings:this.serverSettings}));return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.SessionManager||(t.SessionManager={}))},63863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(67610),i=n(13776),r=n(84001);function o(e,n){return i.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},48176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(7754),i=n(4063);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},97776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(13776),i=n(98820),r=n(67610);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){var e,t;const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,""),h=await o(u,{},n);if(200!==h.status)throw new l(h);const d=await h.json(),p=null!==(t=null===(e=null==d?void 0:d.settings)||void 0===e?void 0:e.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==t?t:[];return{ids:p.map((e=>e.id)),values:p}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t){return s.URLExt.join(e,"api/settings",t)}}(a||(a={}))},14771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},97273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(13776),i=n(95082),r=n(4016),o=n(98104),a=n(94356);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},85459:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(33021));t.Terminal=a;const l=r(n(94356));t.TerminalAPI=l,o(n(70570),t)},70570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(98104),o=n(20016),a=n(94356),l=n(97273);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection(Object.assign(Object.assign({},e),{serverSettings:this.serverSettings}));return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.TerminalManager||(t.TerminalManager={}))},94356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(13776),i=n(67610);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),l=await i.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===l.status){const t=null!==(r=(await l.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==l.status){throw await i.ServerConnection.ResponseError.create(l)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},33021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(94356);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},4063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},19467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(13776),i=n(98820),r=n(67610);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){return s.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},27790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},13776:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(27790),t),i(n(8395),t),i(n(38428),t),i(n(99753),t),i(n(75118),t),i(n(45981),t),i(n(85401),t),i(n(8145),t),i(n(38897),t),i(n(7896),t)},8395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},99753:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},75118:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(7896);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},45981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},85401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},8145:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},38897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},7896:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},17383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0;t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},98820:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17383),t),i(n(60657),t),i(n(22988),t),i(n(12715),t),i(n(34550),t)},60657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const s=n(95082),i=n(39770),r=n(4016);var o;t.RestorablePool=class{constructor(e){this._added=new r.Signal(this),this._current=null,this._currentChanged=new r.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new s.PromiseDelegate,this._updated=new r.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(e)){if(this._restore){const{connector:s}=this._restore,i=this._restore.name(e);if(i){const r=`${this.namespace}:${i}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);o.nameProperty.set(e,r),await s.save(r,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),r.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return o.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:s,when:i}=e,r=this.namespace,o=i?[n.list(r)].concat(i):[n.list(r)];this._restore=e;const[a]=await Promise.all(o),l=await Promise.all(a.ids.map((async(e,i)=>{const r=a.values[i],o=r&&r.data;return void 0===o?n.remove(e):s.execute(t,o).catch((()=>n.remove(e)))})));return this._restored.resolve(),l}async save(e){var t,n;const s=o.injectedProperty.get(e);if(!this._restore||!this.has(e)||s)return;const{connector:i}=this._restore,r=this._restore.name(e),a=o.nameProperty.get(e),l=r?`${this.namespace}:${r}`:"";if(a&&a!==l&&await i.remove(a),o.nameProperty.set(e,l),l){const s=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await i.save(l,{data:s})}a!==l&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=o.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(o||(o={}))},12715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const s=n(4016);class i{constructor(e={}){this._changed=new s.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,s)=>(t[e[s]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i||(t.StateDB=i={}))},34550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const s=n(95082);t.IStateDB=new s.Token("@jupyterlab/coreutils:IStateDB",'A service for the JupyterLab state database.\n  Use this if you want to store data that will persist across page loads.\n  See "state database" for more information.')},55257:(e,t,n)=>{const s=n(23719),i=n(63150),{isPlainObject:r}=n(26057),o=n(9996),a=n(79430),{parse:l}=n(50020),c=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function h(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function d(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return h(e,(function(e){t(e)&&n.push(e)})),n}e.exports=g;const f=/^[^\0\t\n\f\r /<=>]+$/;function g(e,t,n){if(null==e)return"";"number"==typeof e&&(e=e.toString());let _="",v="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=_.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(D.length){D[D.length-1].text+=n.text}},this.updateParentNodeMediaChildren=function(){if(D.length&&c.includes(this.tag)){D[D.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},g.defaults,t)).parser=Object.assign({},m,t.parser);const y=function(e){return!1===t.allowedTags||(t.allowedTags||[]).indexOf(e)>-1};u.forEach((function(e){y(e)&&!t.allowVulnerableTags&&console.warn(`\n\n\u26a0\ufe0f Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let x,S;t.allowedAttributes&&(x={},S={},h(t.allowedAttributes,(function(e,t){x[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):x[t].push(e)})),n.length&&(S[t]=new RegExp("^("+n.join("|")+")$"))})));const C={},k={},E={};h(t.allowedClasses,(function(e,t){if(x&&(d(x,t)||(x[t]=[]),x[t].push("class")),C[t]=e,Array.isArray(e)){const n=[];C[t]=[],E[t]=[],e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):e instanceof RegExp?E[t].push(e):C[t].push(e)})),n.length&&(k[t]=new RegExp("^("+n.join("|")+")$"))}}));const O={};let M,T,D,P,A,R,j;h(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=g.simpleTransform(e)),"*"===t?M=n:O[t]=n}));let I=!1;L();const N=new s.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&L(),R)return void j++;const s=new b(e,n);D.push(s);let i=!1;const c=!!s.text;let u;if(d(O,e)&&(u=O[e](e,n),s.attribs=n=u.attribs,void 0!==u.text&&(s.innerText=u.text),e!==u.tagName&&(s.name=e=u.tagName,A[T]=u.tagName)),M&&(u=M(e,n),s.attribs=n=u.attribs,e!==u.tagName&&(s.name=e=u.tagName,A[T]=u.tagName)),(!y(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(d(e,t))return!1;return!0}(P)||null!=t.nestingLimit&&T>=t.nestingLimit)&&(i=!0,P[T]=!0,"discard"===t.disallowedTagsMode&&-1!==w.indexOf(e)&&(R=!0,j=1),P[T]=!0),T++,i){if("discard"===t.disallowedTagsMode)return;v=_,_=""}_+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(s.innerText=""),(!x||d(x,e)||x["*"])&&h(n,(function(n,i){if(!f.test(i))return void delete s.attribs[i];if(""===n&&(t.nonBooleanAttributes.includes(i)||t.nonBooleanAttributes.includes("*")))return void delete s.attribs[i];let c=!1;if(!x||d(x,e)&&-1!==x[e].indexOf(i)||x["*"]&&-1!==x["*"].indexOf(i)||d(S,e)&&S[e].test(i)||S["*"]&&S["*"].test(i))c=!0;else if(x&&x[e])for(const t of x[e])if(r(t)&&t.name&&t.name===i){c=!0;let e="";if(!0===t.multiple){const s=n.split(" ");for(const n of s)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&$(e,n))return void delete s.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const s=F(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===s.url.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return s.url.hostname===e||s.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(u){e=!1}if(!e)return void delete s.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{const s=F(n);if(s.isRelativeUrl)e=d(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===s.url.hostname})),i=(t.allowedIframeDomains||[]).find((function(e){return s.url.hostname===e||s.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(u){e=!1}if(!e)return void delete s.attribs[i]}if("srcset"===i)try{let e=a(n);if(e.forEach((function(e){$("srcset",e.url)&&(e.evil=!0)})),e=p(e,(function(e){return!e.evil})),!e.length)return void delete s.attribs[i];n=p(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),s.attribs[i]=n}catch(u){return void delete s.attribs[i]}if("class"===i){const t=C[e],r=C["*"],a=k[e],l=E[e],c=[a,k["*"]].concat(l).filter((function(e){return e}));if(!(n=U(n,t&&r?o(t,r):t||r,c)).length)return void delete s.attribs[i]}if("style"===i)if(t.parseStyleAttributes)try{const r=function(e,t){if(!t)return e;const n=e.nodes[0];let s;s=t[n.selector]&&t["*"]?o(t[n.selector],t["*"]):t[n.selector]||t["*"];s&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){if(d(e,n.prop)){e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n)}return t}}(s),[]));return e}(l(e+" {"+n+"}"),t.allowedStyles);if(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(r),0===n.length)return void delete s.attribs[i]}catch(u){return"undefined"!=typeof window&&console.warn('Failed to parse "'+e+" {"+n+"}\", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547"),void delete s.attribs[i]}else if(t.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.");_+=" "+i,n&&n.length&&(_+='="'+B(n,!0)+'"')}else delete s.attribs[i]})),-1!==t.selfClosing.indexOf(e)?_+=" />":(_+=">",!s.innerText||c||t.textFilter||(_+=B(s.innerText),I=!0)),i&&(_=v+B(_),v="")},ontext:function(e){if(R)return;const n=D[D.length-1];let s;if(n&&(s=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==s&&"style"!==s){const n=B(e,!1);t.textFilter&&!I?_+=t.textFilter(n,s):I||(_+=n)}else _+=e;if(D.length){D[D.length-1].text+=e}},onclosetag:function(e,n){if(R){if(j--,j)return;R=!1}const s=D.pop();if(!s)return;if(s.tag!==e)return void D.push(s);R=!!t.enforceHtmlBoundary&&"html"===e,T--;const i=P[T];if(i){if(delete P[T],"discard"===t.disallowedTagsMode)return void s.updateParentNodeText();v=_,_=""}A[T]&&(e=A[T],delete A[T]),t.exclusiveFilter&&t.exclusiveFilter(s)?_=_.substr(0,s.tagPosition):(s.updateParentNodeMediaChildren(),s.updateParentNodeText(),-1!==t.selfClosing.indexOf(e)||n&&!y(e)&&["escape","recursiveEscape"].indexOf(t.disallowedTagsMode)>=0?i&&(_=v,v=""):(_+="</"+e+">",i&&(_=v+B(_),v=""),I=!1))}},t.parser);return N.write(e),N.end(),_;function L(){_="",T=0,D=[],P={},A={},R=!1,j=0}function B(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function $(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const s=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!s)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=s[1].toLowerCase();return d(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function F(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let s=0;s<100;s++)t+=`/${s}`;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}function U(e,t,n){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||n.some((function(t){return t.test(e)}))})).join(" "):e}}const m={decodeEntities:!0};g.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},g.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(s,i){let r;if(n)for(r in t)i[r]=t[r];else i=t;return{tagName:e,attribs:i}}}},59332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},41334:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59332),t),i(n(16745),t),i(n(29111),t),i(n(40559),t),i(n(31791),t),i(n(65141),t),i(n(2248),t),i(n(39209),t),i(n(69843),t)},16745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},40559:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(69843);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))},31791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},65141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},2248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(t.Text||(t.Text={}))},39209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(t.Time||(t.Time={}))},69843:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e){const{protocol:n}=t(e);return(!n||0!==e.toLowerCase().indexOf(n))&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},47496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(3487);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},39596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(41334),i=n(3487);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},85284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(41334),i=n(18653);!function(e){e.create=function(e){const t=new r(e);return t.load().then((()=>t))}}(t.ConfigSection||(t.ConfigSection={}));class r{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},92582:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(41334),a=n(4016),l=n(18653),c=r(n(65064));var u;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(t.Contents||(t.Contents={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class h{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s={...t,content:e};n+=o.URLExt.objectToQueryString(s)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=u.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(u||(u={}))},65064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(60222);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},29575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(41334),i=n(23114),r=n(4016),o=n(3487),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},18653:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(47496),t),i(n(85284),t),i(n(92582),t),i(n(29575),t),i(n(70046),t),i(n(95942),t),i(n(71791),t),i(n(3487),t),i(n(98855),t),i(n(18202),t),i(n(95343),t),i(n(14886),t),i(n(19074),t),i(n(77662),t)},53798:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(85690));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},536:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(41334),a=n(95082),l=n(4016),c=n(18653),u=n(53798),h=r(n(85690)),d=n(19272),p=n(87880),f=r(n(37974)),g=n(95942),m=r(n(51690)),_="_RESTARTING_";class v{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await m.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*b.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=(0,p.deserialize)(e.data,this._ws.protocol),f.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===_)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send((0,p.serialize)(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==_)this._ws.send((0,p.serialize)(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=_,await m.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==_&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===_,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===_&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},19272:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(85690));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},70046:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(17596));t.Kernel=a;const l=r(n(85690));t.KernelMessage=l;const c=r(n(51690));t.KernelAPI=c;const u=n(536);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(95103),t)},17596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},95103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(18653),o=n(47496),a=n(51690),l=n(536);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c=t.KernelManager||(t.KernelManager={}))},85690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(t.supportedKernelWebSocketProtocols||(t.supportedKernelWebSocketProtocols={}))},51690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(3487),i=n(41334),r=n(37974);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},87880:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(85690));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},37974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(60222),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},95942:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(72735));t.KernelSpec=a;const l=r(n(81261));t.KernelSpecAPI=l,o(n(46428),t)},72735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46428:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(81261)),u=n(47496);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},81261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(3487),i=n(73425),r=n(41334);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},73425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(60222);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},71791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(39596),r=n(92582),o=n(29575),a=n(70046),l=n(95942),c=n(77662),u=n(3487),h=n(98855),d=n(18202),p=n(95343),f=n(14886),g=n(19074);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},77662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(41334),i=n(3487),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},3487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(41334);let i;var r,o;i="undefined"==typeof window?n(47866):WebSocket,function(e){e.makeSettings=function(e){return o.makeSettings(e)},e.makeRequest=function(e,t,n){return o.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(r=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),r=s.PageConfig.getWsUrl(),o=s.URLExt.normalize(e.baseUrl)||n;let a=e.wsUrl;return a||o!==n||(a=r),a||0!==o.indexOf("http")||(a="ws"+o.slice(4)),a=null!=a?a:r,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:i,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(a),...e,baseUrl:o,wsUrl:a}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let o=!1;if(n.token&&(o=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(o=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&o&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new r.NetworkError(e)}))}}(o||(o={}))},87927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(18653),r=n(23228),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},98855:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(92178));t.Session=a;const l=r(n(23228));t.SessionAPI=l,o(n(2894),t)},2894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(3487),o=n(47496),a=n(87927),l=n(23228);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.SessionManager||(t.SessionManager={}))},23228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(3487),i=n(41334),r=n(65211);function o(e,n){return i.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},92178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(37974),i=n(60222);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},18202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(41334),i=n(4509),r=n(3487);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"";return`${s.URLExt.join(e,"api/settings",t)}${i}`}}(a||(a={}))},47866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},26342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(41334),i=n(95082),r=n(4016),o=n(18653),a=n(63711);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},95343:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(22025));t.Terminal=a;const l=r(n(63711));t.TerminalAPI=l,o(n(33541),t)},33541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(18653),o=n(47496),a=n(63711),l=n(26342);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.TerminalManager||(t.TerminalManager={}))},63711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(41334),i=n(3487);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),l=await i.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===l.status){const t=null!==(r=(await l.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==l.status){throw await i.ServerConnection.ResponseError.create(l)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},22025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(63711);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},14886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(41334),i=n(95082),r=n(23114),o=n(4016),a=n(3487),l=n(47496),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},60222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},19074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(41334),i=n(4509),r=n(3487);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){return s.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},93233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0;t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},4509:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(93233),t),i(n(15573),t),i(n(92423),t),i(n(95386),t),i(n(71986),t)},15573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const s=n(95082),i=n(39770),r=n(4016);var o;t.RestorablePool=class{constructor(e){this._added=new r.Signal(this),this._current=null,this._currentChanged=new r.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new s.PromiseDelegate,this._updated=new r.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(e)){if(this._restore){const{connector:s}=this._restore,i=this._restore.name(e);if(i){const r=`${this.namespace}:${i}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);o.nameProperty.set(e,r),await s.save(r,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),r.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return o.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:s,when:i}=e,r=this.namespace,o=i?[n.list(r)].concat(i):[n.list(r)];this._restore=e;const[a]=await Promise.all(o),l=await Promise.all(a.ids.map((async(e,i)=>{const r=a.values[i],o=r&&r.data;return void 0===o?n.remove(e):s.execute(t,o).catch((()=>n.remove(e)))})));return this._restored.resolve(),l}async save(e){var t,n;const s=o.injectedProperty.get(e);if(!this._restore||!this.has(e)||s)return;const{connector:i}=this._restore,r=this._restore.name(e),a=o.nameProperty.get(e),l=r?`${this.namespace}:${r}`:"";if(a&&a!==l&&await i.remove(a),o.nameProperty.set(e,l),l){const s=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await i.save(l,{data:s})}a!==l&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=o.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(o||(o={}))},95386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const s=n(4016);class i{constructor(e={}){this._changed=new s.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,s)=>(t[e[s]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i=t.StateDB||(t.StateDB={}))},71986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const s=n(95082);t.IStateDB=new s.Token("@jupyterlab/coreutils:IStateDB",'A service for the JupyterLab state database.\n  Use this if you want to store data that will persist across page loads.\n  See "state database" for more information.')},99807:(e,t,n)=>{e.exports={v1:{state:n(64263),view:n(12034)},v2:{state:n(90823),view:n(92860)}}},47542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},79622:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(47542),t),i(n(92086),t),i(n(83833),t),i(n(47390),t),i(n(99458),t),i(n(20176),t),i(n(2643),t),i(n(47846),t),i(n(32533),t),i(n(57319),t)},92086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},83833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0;t.LruCache=class{constructor(e={}){this._map=new Map,this._maxSize=(null==e?void 0:e.maxSize)||128}get size(){return this._map.size}clear(){this._map.clear()}get(e){const t=this._map.get(e)||null;return null!=t&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}}},47390:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(n||(t.MarkdownCodeBlocks=n={}))},99458:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(57319);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))},20176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);var i;!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.joinWithLeadingSlash=function(...e){const t=s.posix.join(...e);return"."===t?"":t},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(i||(t.PathExt=i={}))},2643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},47846:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(n||(t.Text=n={}))},32533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];var s;!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(s||(t.Time=s={}))},57319:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));var o;!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e,n=!1){const{protocol:s}=t(e);return(!s||0!==e.toLowerCase().indexOf(s))&&(n?0!==e.indexOf("//"):0!==e.indexOf("/"))}}(o||(t.URLExt=o={}))},87351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const s=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new s.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},38520:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(87351),t),i(n(55073),t),i(n(1017),t),i(n(53926),t),i(n(59337),t),i(n(41718),t),i(n(89993),t),i(n(23148),t),i(n(3890),t)},55073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const s=t.split("\n"),i=[];let r=null;for(let o=0;o<s.length;o++){const t=s[o],a=0===t.indexOf(e.CODE_BLOCK_MARKER),l=null!=r;if(a||l)if(l)r&&(a?(r.endLine=o-1,i.push(r),r=null):r.code+=t+"\n");else{r=new n(o);const s=t.indexOf(e.CODE_BLOCK_MARKER),a=t.lastIndexOf(e.CODE_BLOCK_MARKER);s!==a&&(r.code=t.substring(s+e.CODE_BLOCK_MARKER.length,a),r.endLine=o,i.push(r),r=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},53926:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(3890);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const t in configData)"string"!=typeof configData[t]&&(configData[t]=JSON.stringify(configData[t]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,s,i;let r=e.toShare?getShareUrl():getBaseUrl();const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),a=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),l="single-document"===o?"doc":"lab";r=url_1.URLExt.join(r,l),a!==PageConfig.defaultWorkspace&&(r=url_1.URLExt.join(r,"workspaces",encodeURIComponent(null!==(s=getOption("workspace"))&&void 0!==s?s:PageConfig.defaultWorkspace)));const c=null!==(i=e.treePath)&&void 0!==i?i:getOption("treePath");return c&&(r=url_1.URLExt.join(r,"tree",url_1.URLExt.encodeParts(c))),r}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const s=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,s);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.deferred.some((e=>e===t||s&&e===s))},e.isDisabled=function(t){const n=t.indexOf(":");let s="";return-1!==n&&(s=t.slice(0,n)),e.disabled.some((e=>e===t||s&&e===s))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))},59337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const s=n(26470);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=s.posix.join(...e);return"."===n?"":t(n)},e.basename=function(e,t){return s.posix.basename(e,t)},e.dirname=function(e){const n=t(s.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return s.posix.extname(e)},e.normalize=function(e){return""===e?"":t(s.posix.normalize(e))},e.resolve=function(...e){return t(s.posix.resolve(...e))},e.relative=function(e,n){return t(s.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},41718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalToPromise=void 0;const s=n(95082);t.signalToPromise=function(e,t){const n=new s.PromiseDelegate;function i(){e.disconnect(r)}function r(e,t){i(),n.resolve([e,t])}return e.connect(r),(null!=t?t:0)>0&&setTimeout((()=>{i(),n.reject(`Signal not emitted within ${t} ms.`)}),t),n.promise}},89993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){e.jsIndexToCharIndex=function(e,t){return e},e.charIndexToJsIndex=function(e,t){return e},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,s){return s?s.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(t.Text||(t.Text={}))},23148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const n=[{name:"years",milliseconds:31536e6},{name:"months",milliseconds:2592e6},{name:"days",milliseconds:864e5},{name:"hours",milliseconds:36e5},{name:"minutes",milliseconds:6e4},{name:"seconds",milliseconds:1e3}];!function(e){e.formatHuman=function(e){const t=document.documentElement.lang||"en",s=new Intl.RelativeTimeFormat(t,{numeric:"auto"}),i=new Date(e).getTime()-Date.now();for(let r of n){const e=Math.ceil(i/r.milliseconds);if(0!==e)return s.format(e,r.name)}return s.format(0,"seconds")},e.format=function(e){const t=document.documentElement.lang||"en";return new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"short"}).format(new Date(e))}}(t.Time||(t.Time={}))},3890:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),r=s(n(84564));!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return(0,r.default)(e)}function n(...e){let t=(0,r.default)(e[0],{});const n=""===t.protocol&&t.slashes;n&&(t=(0,r.default)(e[0],"https:"+e[0]));const s=`${n?"":t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,o=i.posix.join(`${s&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${s}${"."===o?"":o}`}e.parse=t,e.getHostName=function(e){return(0,r.default)(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,s]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(s||"")),e}),{})},e.isLocal=function(e){const{protocol:n}=t(e);return(!n||0!==e.toLowerCase().indexOf(n))&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},66277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(19813);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},84009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(38520),i=n(19813);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},32415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(38520),i=n(49623);!function(e){e.create=function(e){const t=new r(e);return t.load().then((()=>t))}}(t.ConfigSection||(t.ConfigSection={}));class r{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},35916:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(38520),a=n(4016),l=n(49623),c=r(n(77372));var u;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(t.Contents||(t.Contents={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class h{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s={...t,content:e};n+=o.URLExt.objectToQueryString(s)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=u.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(u||(u={}))},77372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(99677);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},62361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(38520),i=n(23114),r=n(4016),o=n(19813),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},49623:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(66277),t),i(n(32415),t),i(n(35916),t),i(n(62361),t),i(n(81707),t),i(n(28769),t),i(n(9473),t),i(n(19813),t),i(n(46922),t),i(n(57167),t),i(n(55789),t),i(n(65049),t),i(n(11828),t),i(n(43653),t)},80600:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(66571));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},77335:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(38520),a=n(95082),l=n(4016),c=n(49623),u=n(80600),h=r(n(66571)),d=n(48644),p=n(86631),f=r(n(47053)),g=n(28769),m=r(n(92521)),_="_RESTARTING_";class v{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await m.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*b.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=(0,p.deserialize)(e.data,this._ws.protocol),f.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===_)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send((0,p.serialize)(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==_)this._ws.send((0,p.serialize)(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=_,await m.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==_&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===_,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===_&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},48644:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(66571));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},81707:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(12729));t.Kernel=a;const l=r(n(66571));t.KernelMessage=l;const c=r(n(92521));t.KernelAPI=c;const u=n(77335);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(47319),t)},12729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(49623),o=n(66277),a=n(92521),l=n(77335);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c=t.KernelManager||(t.KernelManager={}))},66571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(t.supportedKernelWebSocketProtocols||(t.supportedKernelWebSocketProtocols={}))},92521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(19813),i=n(38520),r=n(47053);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},86631:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(66571));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},47053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(99677),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},28769:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(78342));t.KernelSpec=a;const l=r(n(50114));t.KernelSpecAPI=l,o(n(84726),t)},78342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84726:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(50114)),u=n(66277);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},50114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(19813),i=n(31175),r=n(38520);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},31175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(99677);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},9473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(84009),r=n(35916),o=n(62361),a=n(81707),l=n(28769),c=n(43653),u=n(19813),h=n(46922),d=n(57167),p=n(55789),f=n(65049),g=n(11828);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},43653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(38520),i=n(19813),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},19813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(38520);let i;var r,o;i="undefined"==typeof window?n(94664):WebSocket,function(e){e.makeSettings=function(e){return o.makeSettings(e)},e.makeRequest=function(e,t,n){return o.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(r=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),r=s.PageConfig.getWsUrl(),o=s.URLExt.normalize(e.baseUrl)||n;let a=e.wsUrl;return a||o!==n||(a=r),a||0!==o.indexOf("http")||(a="ws"+o.slice(4)),a=null!=a?a:r,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:i,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(a),...e,baseUrl:o,wsUrl:a}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let o=!1;if(n.token&&(o=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(o=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&o&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new r.NetworkError(e)}))}}(o||(o={}))},44184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(49623),r=n(62545),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},46922:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(48788));t.Session=a;const l=r(n(62545));t.SessionAPI=l,o(n(66222),t)},66222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(19813),o=n(66277),a=n(44184),l=n(62545);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.SessionManager||(t.SessionManager={}))},62545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(19813),i=n(38520),r=n(64729);function o(e,n){return i.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},48788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(47053),i=n(99677);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},57167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(38520),i=n(22562),r=n(19813);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"";return`${s.URLExt.join(e,"api/settings",t)}${i}`}}(a||(a={}))},94664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},27681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(38520),i=n(95082),r=n(4016),o=n(49623),a=n(84615);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},55789:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(1775));t.Terminal=a;const l=r(n(84615));t.TerminalAPI=l,o(n(70811),t)},70811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(49623),o=n(66277),a=n(84615),l=n(27681);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c=t.TerminalManager||(t.TerminalManager={}))},84615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(38520),i=n(19813);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),l=await i.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===l.status){const t=null!==(r=(await l.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==l.status){throw await i.ServerConnection.ResponseError.create(l)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},1775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(84615);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},65049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(38520),i=n(95082),r=n(23114),o=n(4016),a=n(19813),l=n(66277),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},99677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},11828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(38520),i=n(22562),r=n(19813);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){return s.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},88989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0;t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},22562:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88989),t),i(n(69367),t),i(n(28727),t),i(n(79632),t),i(n(68565),t)},69367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},28727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const s=n(95082),i=n(39770),r=n(4016);var o;t.RestorablePool=class{constructor(e){this._added=new r.Signal(this),this._current=null,this._currentChanged=new r.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new s.PromiseDelegate,this._updated=new r.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(e)){if(this._restore){const{connector:s}=this._restore,i=this._restore.name(e);if(i){const r=`${this.namespace}:${i}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);o.nameProperty.set(e,r),await s.save(r,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),r.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return o.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:s,when:i}=e,r=this.namespace,o=i?[n.list(r)].concat(i):[n.list(r)];this._restore=e;const[a]=await Promise.all(o),l=await Promise.all(a.ids.map((async(e,i)=>{const r=a.values[i],o=r&&r.data;return void 0===o?n.remove(e):s.execute(t,o).catch((()=>n.remove(e)))})));return this._restored.resolve(),l}async save(e){var t,n;const s=o.injectedProperty.get(e);if(!this._restore||!this.has(e)||s)return;const{connector:i}=this._restore,r=this._restore.name(e),a=o.nameProperty.get(e),l=r?`${this.namespace}:${r}`:"";if(a&&a!==l&&await i.remove(a),o.nameProperty.set(e,l),l){const s=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await i.save(l,{data:s})}a!==l&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=o.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(o||(o={}))},79632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const s=n(4016);class i{constructor(e={}){this._changed=new s.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,s)=>(t[e[s]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i=t.StateDB||(t.StateDB={}))},68565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const s=n(95082);t.IStateDB=new s.Token("@jupyterlab/coreutils:IStateDB",'A service for the JupyterLab state database.\n  Use this if you want to store data that will persist across page loads.\n  See "state database" for more information.')},50591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const s=n(4016),i=n(28477);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new s.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._disposed.emit(void 0),s.Signal.clearData(this))}}},33227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const s=n(79622),i=n(28477);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:r}=this.serverSettings;this._url=s.URLExt.join(n,r,"api/build")}get isAvailable(){return"true"===s.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===s.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}.\n\n        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').\n\n        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},95077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const s=n(79622),i=n(76240);var r;!function(e){e.create=function(e){const t=new o(e);return t.load().then((()=>t))}}(r||(t.ConfigSection=r={}));class o{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=s.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status){throw await i.ServerConnection.ResponseError.create(e)}this._data=await e.json()}async update(e){this._data={...this._data,...e};const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status){throw await i.ServerConnection.ResponseError.create(n)}return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},63644:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const o=n(79622),a=n(4016),l=n(76240),c=r(n(65460));var u,h;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(u||(t.Contents=u={}));t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new a.Signal(this);const s=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new d({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.sharedModelFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?o.PathExt.join(n.slice(1).join(":"),...t.slice(1)):o.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?o.PathExt.normalize(e):`${t[0]}:${o.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),s=this.localPath(e),i=o.PathExt.resolve("/",s,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,s]=this._driveForPath(e);return n.get(s,t).then((e=>{const t=[];if("directory"===e.type&&e.content){for(const s of e.content)t.push({...s,path:this._toGlobalPath(n,s.path)});return{...e,path:this._toGlobalPath(n,s),content:t,serverPath:e.path}}return{...e,path:this._toGlobalPath(n,s),serverPath:e.path}}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,s]=this._driveForPath(t);return n.newUntitled({...e,path:s}).then((e=>({...e,path:o.PathExt.join(t,e.name),serverPath:e.path})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,r).then((e=>({...e,path:this._toGlobalPath(n,r),serverPath:e.path})))}save(e,t={}){const n=this.normalize(e),[s,i]=this._driveForPath(e);return s.save(i,{...t,path:i}).then((e=>({...e,path:n,serverPath:e.path})))}copy(e,t){const[n,s]=this._driveForPath(e),[i,r]=this._driveForPath(t);if(n===i)return n.copy(s,r).then((e=>({...e,path:this._toGlobalPath(n,e.path),serverPath:e.path})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.restoreCheckpoint(s,t)}deleteCheckpoint(e,t){const[n,s]=this._driveForPath(e);return n.deleteCheckpoint(s,t)}_toGlobalPath(e,t){return e===this._defaultDrive?o.PathExt.removeSlash(t):`${e.name}:${o.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,s;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,r=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i={...t.newValue,path:this._toGlobalPath(e,t.newValue.path)}),(null===(s=t.oldValue)||void 0===s?void 0:s.path)&&(r={...t.oldValue,path:this._toGlobalPath(e,t.oldValue.path)}),this._fileChanged.emit({type:t.type,newValue:i,oldValue:r})}}};class d{constructor(e={}){var t,n,s;this._isDisposed=!1,this._fileChanged=new a.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(s=e.serverSettings)&&void 0!==s?s:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",s=t.hash?"1":"0",i={...t,content:e,hash:s};n+=o.URLExt.objectToQueryString(i)}const s=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},s);if(200!==i.status){throw await l.ServerConnection.ResponseError.create(i)}const r=await i.json();return c.validateContentsModel(r),r}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=o.URLExt.join(t,"files",o.URLExt.encodeParts(e));const s=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(s){const e=new URL(n);e.searchParams.append("_xsrf",s[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=h.normalizeExtension(e.ext)),n=JSON.stringify(e));const s=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),r={method:"POST",body:n},o=await l.ServerConnection.makeRequest(i,r,s);if(201!==o.status){throw await l.ServerConnection.ResponseError.create(o)}const a=await o.json();return c.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,s=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,s=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:o}),o}async save(e,t={}){const n=this.serverSettings,s=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},r=await l.ServerConnection.makeRequest(s,i,n);if(200!==r.status&&201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"save",oldValue:null,newValue:o}),o}async copy(e,t){const n=this.serverSettings,s=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},r=await l.ServerConnection.makeRequest(s,i,n);if(201!==r.status){throw await l.ServerConnection.ResponseError.create(r)}const o=await r.json();return c.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();return c.validateCheckpointModel(s),s}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status){throw await l.ServerConnection.ResponseError.create(n)}const s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)c.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),s=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==s.status){throw await l.ServerConnection.ResponseError.create(s)}}_getUrl(...e){const t=e.map((e=>o.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return o.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=d,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(h||(h={}))},65460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const s=n(46901);t.validateContentsModel=function(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"path","string"),(0,s.validateProperty)(e,"type","string"),(0,s.validateProperty)(e,"created","string"),(0,s.validateProperty)(e,"last_modified","string"),(0,s.validateProperty)(e,"mimetype","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"format","object")},t.validateCheckpointModel=function(e){(0,s.validateProperty)(e,"id","string"),(0,s.validateProperty)(e,"last_modified","string")}},57316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const s=n(79622),i=n(23114),r=n(4016),o=n(28477),a="api/events";t.EventManager=class{constructor(e={}){var t;this._socket=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._poll=new i.Poll({factory:()=>this._subscribe()}),this._stream=new r.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const e=this._socket;e&&(this._socket=null,e.onopen=()=>{},e.onerror=()=>{},e.onmessage=()=>{},e.onclose=()=>{},e.close()),r.Signal.clearData(this),this._stream.stop()}async emit(e){const{serverSettings:t}=this,{baseUrl:n,token:i}=t,{makeRequest:r,ResponseError:l}=o.ServerConnection,c=s.URLExt.join(n,a)+(i?`?token=${i}`:""),u={body:JSON.stringify(e),method:"POST"},h=await r(c,u,t);if(204!==h.status)throw new l(h)}_subscribe(){return new Promise(((e,t)=>{if(this.isDisposed)return;const{token:n,WebSocket:i,wsUrl:r}=this.serverSettings,o=s.URLExt.join(r,a,"subscribe")+(n?`?token=${encodeURIComponent(n)}`:""),l=this._socket=new i(o),c=this._stream;l.onclose=()=>t(new Error("EventManager socket closed")),l.onmessage=e=>e.data&&c.emit(JSON.parse(e.data))}))}}},76240:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(50591),t),i(n(95077),t),i(n(63644),t),i(n(57316),t),i(n(62604),t),i(n(12902),t),i(n(93079),t),i(n(28477),t),i(n(41874),t),i(n(92726),t),i(n(93247),t),i(n(95598),t),i(n(45399),t),i(n(4574),t)},54500:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const o=n(70725),a=r(n(75253));class l extends o.DisposableDelegate{constructor(e,t,n,s){super(s),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const s=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(e,t,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const s=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),r=this._onClose;if(r){r(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}))}return this.dispose(),i}}t.CommHandler=l},19883:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const o=n(79622),a=n(95082),l=n(4016),c=n(76240),u=n(54500),h=r(n(75253)),d=n(38707),p=r(n(96512)),f=n(12902),g=r(n(2183)),m="_RESTARTING_";class _{constructor(e){var t,n,s,i;this._createSocket=(e=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const t=this.serverSettings,n=o.URLExt.join(t.wsUrl,g.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),s=n.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${s}`);let i=o.URLExt.join(n,"channels?session_id="+encodeURIComponent(this._clientId));const r=t.token;t.appendToken&&""!==r&&(i+=`&token=${encodeURIComponent(r)}`);const a=e?this._supportedProtocols:[];this._ws=new t.WebSocket(i,a),this._ws.binaryType="arraybuffer";let l=!1;const u=async e=>{var n,s;if(!this._isDisposed){this._reason="",this._model=void 0;try{const n=await g.getKernelModel(this._id,t);this._model=n,"dead"===(null==n?void 0:n.execution_state)?this._updateStatus("dead"):this._onWSClose(e)}catch(i){if(i instanceof c.ServerConnection.NetworkError||503===(null===(n=i.response)||void 0===n?void 0:n.status)||424===(null===(s=i.response)||void 0===s?void 0:s.status)){const t=1e3*v.getRandomIntInclusive(10,30);setTimeout(u,t,e)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},h=async e=>{l||(l=!0,await u(e))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=h,this._ws.onerror=h},this._onWSOpen=e=>{if(""!==this._ws.protocol&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=this.serverSettings.serializer.deserialize(e.data,this._ws.protocol),p.validateMessage(t)}catch(n){throw n.message=`Kernel message validation error: ${n.message}`,n}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(h.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new l.Signal(this),this._connectionStatusChanged=new l.Signal(this),this._disposed=new l.Signal(this),this._iopubMessage=new l.Signal(this),this._anyMessage=new l.Signal(this),this._pendingInput=new l.Signal(this),this._unhandledMessage=new l.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:c.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(s=e.username)&&void 0!==s?s:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=f.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new _({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,...e})}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),l.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,s=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const s=n.indexOf(e);if(-1===s)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(s,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,s,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===m)&&h.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==m)this._ws.send(this.serverSettings.serializer.serialize(e,this._ws.protocol));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if(this.hasPendingInput=!1,"dead"===this.status)throw new Error("Kernel is dead");return g.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=m,await g.restartKernel(this.id,this.serverSettings),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await g.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=h.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await v.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=h.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestInspect(e){const t=h.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestHistory(e){const t=h.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const s=h.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1,...e},metadata:n});return this.sendShellMessage(s,!0,t)}requestDebug(e,t=!0){const n=h.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=h.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestCommInfo(e){const t=h.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}sendInputReply(e,t){const n=h.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});n.parent_header=t,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.registerMessageHook(t)}removeMessageHook(e,t){var n;const s=null===(n=this._futures)||void 0===n?void 0:n.get(e);s&&s.removeMessageHook(t)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(e,t){var n,s;const i=t.parent_header.msg_id;let r=this._displayIdToParentIds.get(e);if(r){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;r=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===r.indexOf(i)&&r.push(i),this._displayIdToParentIds.set(e,r);const o=null!==(s=this._msgIdToDisplayIds.get(i))&&void 0!==s?s:[];return-1===o.indexOf(i)&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,v.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==m&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const s=await v.loadObject(t.target_name,t.target_module,this._targetRegistry);await s(n,e)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const s=n.onClose;s&&await s(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const s=n.onMsg;s&&await s(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===m,t=this.requestKernelInfo(),n=!1,s=()=>{n||(n=!0,e&&this._kernelSession===m&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(s);let i=setTimeout(s,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let s=!1;if(e.parent_header&&"iopub"===e.channel&&(h.isDisplayDataMsg(e)||h.isUpdateDisplayDataMsg(e)||h.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(s=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!s&&e.parent_header){const t=e.parent_header,s=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(s)await s.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=v.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`);const t=""!==this._selectedProtocol;this._reconnectTimeout=setTimeout(this._createSocket,e,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(e){this._hasPendingInput=e,this._pendingInput.emit(e)}}var v;t.KernelConnection=_,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((s,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else s(n[e])}),i)}else(null==n?void 0:n[e])?s(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(v||(v={}))},38707:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const o=n(95082),a=n(70725),l=r(n(75253));class c extends a.DisposableDelegate{constructor(e,t,n,s,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new o.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e,t){this._kernel.sendInputReply(e,t)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){this._kernel.hasPendingInput=!0;const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),l.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=c;t.KernelControlFutureHandler=class extends c{};var u;t.KernelShellFutureHandler=class extends c{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new o.PromiseDelegate;let n;this._processing=t.promise;for(let i=this._hooks.length-1;i>=0;i--){const r=this._hooks[i];if(null!==r){try{n=await r(e)}catch(s){n=!0,console.error(s)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},62604:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=r(n(38868));t.Kernel=a;const l=r(n(75253));t.KernelMessage=l;const c=r(n(2183));t.KernelAPI=c;const u=n(19883);Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return u.KernelConnection}}),o(n(71825),t)},38868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const s=n(23114),i=n(4016),r=n(76240),o=n(50591),a=n(2183),l=n(19883);class c extends o.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let s=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const r of this._kernelConnections)if(r.id===n&&r.handleComms){s=!1;break}const i=new l.KernelConnection({handleComms:s,...e,serverSettings:this.serverSettings});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await(0,a.startNew)(e,this.serverSettings);return this.connectTo({...t,model:n})}async shutdown(e){await(0,a.shutdownKernel)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,a.shutdownKernel)(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{const t=this._models.get(e.id);return!!t&&(t.connections===e.connections&&t.execution_state===e.execution_state&&t.last_activity===e.last_activity&&t.name===e.name&&t.reason===e.reason&&t.traceback===e.traceback)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e={},t={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(e){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then((()=>this._readyPromise))}async requestRunning(){return Promise.resolve()}}}(c||(t.KernelManager=c={}))},75253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const s=n(95082);var i;t.createMessage=function(e){var t,n,i,r,o;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:s.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(r=e.metadata)&&void 0!==r?r:{},parent_header:null!==(o=e.parentHeader)&&void 0!==o?o:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(i||(t.supportedKernelWebSocketProtocols=i={}))},2183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const s=n(28477),i=n(79622),r=n(96512);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();return(0,r.validateModels)(a),a},t.startNew=async function(e={},n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.validateModel)(c),c},t.restartKernel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await s.ServerConnection.makeRequest(o,{method:"POST"},n);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();(0,r.validateModel)(l)},t.interruptKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),o=await s.ServerConnection.makeRequest(r,{method:"POST"},n);if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.shutdownKernel=async function(e,n=s.ServerConnection.makeSettings()){const r=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),o=await s.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==o.status){throw await s.ServerConnection.ResponseError.create(o)}},t.getKernelModel=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await s.ServerConnection.makeRequest(o,{},n);if(404===a.status)return;if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.validateModel)(l),l}},86002:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const o=r(n(75253));var a;t.serialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.serializeV1KernelWebsocketJupyterOrg(e):a.serializeDefault(e)},t.deserialize=function(e,t=""){return t===o.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?a.deserializeV1KernelWebsocketJupyterOrg(e):a.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const n=new DataView(e),s=Number(n.getBigUint64(0,!0));let i=[];for(let d=0;d<s;d++)i.push(Number(n.getBigUint64(8*(d+1),!0)));const r=new TextDecoder("utf8"),o=r.decode(e.slice(i[0],i[1])),a=JSON.parse(r.decode(e.slice(i[1],i[2]))),l=JSON.parse(r.decode(e.slice(i[2],i[3]))),c=JSON.parse(r.decode(e.slice(i[3],i[4]))),u=JSON.parse(r.decode(e.slice(i[4],i[5])));let h=[];for(let d=5;d<i.length-1;d++)h.push(new DataView(e.slice(i[d],i[d+1])));return t={channel:o,header:a,parent_header:l,metadata:c,content:u,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),n=null==e.parent_header?"{}":JSON.stringify(e.parent_header),s=JSON.stringify(e.metadata),i=JSON.stringify(e.content),r=void 0!==e.buffers?e.buffers:[],o=5+r.length+1;let a=[];a.push(8*(1+o)),a.push(e.channel.length+a[a.length-1]);const l=new TextEncoder,c=l.encode(e.channel),u=l.encode(t),h=l.encode(n),d=l.encode(s),p=l.encode(i),f=new Uint8Array(c.length+u.length+h.length+d.length+p.length);f.set(c),f.set(u,c.length),f.set(h,c.length+u.length),f.set(d,c.length+u.length+h.length),f.set(p,c.length+u.length+h.length+d.length);for(let b of[u.length,h.length,d.length,p.length])a.push(b+a[a.length-1]);let g=0;for(let b of r){let e=b.byteLength;a.push(e+a[a.length-1]),g+=e}const m=new Uint8Array(8*(1+o)+f.byteLength+g),_=new ArrayBuffer(8),v=new DataView(_);v.setBigUint64(0,BigInt(o),!0),m.set(new Uint8Array(_),0);for(let b=0;b<a.length;b++)v.setBigUint64(0,BigInt(a[b]),!0),m.set(new Uint8Array(_),8*(b+1));m.set(f,a[0]);for(let b=0;b<r.length;b++){const e=r[b];m.set(new Uint8Array(ArrayBuffer.isView(e)?e.buffer:e),a[5+b])}return m.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),s=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let o=1;o<=n;o++)s.push(t.getUint32(4*o));const i=new Uint8Array(e.slice(s[0],s[1])),r=JSON.parse(new TextDecoder("utf8").decode(i));r.buffers=[];for(let o=1;o<n;o++){const t=s[o],n=s[o+1]||e.byteLength;r.buffers.push(new DataView(e.slice(t,n)))}return r}(e),t},e.serializeDefault=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],s=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const r=s.encode(JSON.stringify(e));n.push(r.buffer);for(let c=0;c<i.length;c++){const e=i[c];n.push(ArrayBuffer.isView(e)?e.buffer:e)}const o=n.length;t.push(4*(o+1));for(let c=0;c+1<n.length;c++)t.push(t[t.length-1]+n[c].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),l=new DataView(a.buffer);l.setUint32(0,o);for(let c=0;c<t.length;c++)l.setUint32(4*(c+1),t[c]);for(let c=0;c<n.length;c++)a.set(new Uint8Array(n[c]),t[c]);return a.buffer}(e):JSON.stringify(e),n}}(a||(a={}))},96512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const s=n(46901),i=["username","version","session","msg_id","msg_type"],r={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e){(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"id","string")}t.validateMessage=function(e){(0,s.validateProperty)(e,"metadata","object"),(0,s.validateProperty)(e,"content","object"),(0,s.validateProperty)(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)(0,s.validateProperty)(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=r[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let r=t[n[e]];Array.isArray(r)||(r=[r]),(0,s.validateProperty)(i,n[e],...r)}}}(e)},t.validateModel=o,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>o(e)))}},12902:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=r(n(79453));t.KernelSpec=a;const l=r(n(33415));t.KernelSpecAPI=l,o(n(54936),t)},79453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54936:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const o=n(95082),a=n(23114),l=n(4016),c=r(n(33415)),u=n(50591);class h extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new l.Signal(this),this._specs=null,this._specsChanged=new l.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await c.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=h},33415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const s=n(28477),i=n(73103),r=n(79622);t.getSpecs=async function(e=s.ServerConnection.makeSettings()){const t=r.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await s.ServerConnection.makeRequest(t,{},e);if(200!==n.status){throw await s.ServerConnection.ResponseError.create(n)}const o=await n.json();return(0,i.validateSpecModels)(o)}},73103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const s=n(46901);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,s.validateProperty)(e,"name","string"),(0,s.validateProperty)(e,"resources","object"),(0,s.validateProperty)(t,"language","string"),(0,s.validateProperty)(t,"display_name","string"),(0,s.validateProperty)(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&((0,s.validateProperty)(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&((0,s.validateProperty)(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let s=e.default;for(let o=0;o<t.length;o++){const s=e.kernelspecs[t[o]];try{n[t[o]]=i(s)}catch(r){console.warn(`Removing errant kernel spec: ${t[o]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return s&&"string"==typeof s&&s in n||(s=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:s,kernelspecs:n}}},93079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const s=n(4016),i=n(33227),r=n(63644),o=n(57316),a=n(62604),l=n(12902),c=n(4574),u=n(28477),h=n(41874),d=n(92726),p=n(93247),f=n(95598),g=n(45399);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new s.Signal(this),this._isReady=!1;const m=e.defaultDrive,_=null!==(t=e.serverSettings)&&void 0!==t?t:u.ServerConnection.makeSettings(),v={defaultDrive:m,serverSettings:_,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"};this.serverSettings=_,this.contents=e.contents||new r.ContentsManager(v),this.events=e.events||new o.EventManager(v),this.kernels=e.kernels||new a.KernelManager(v),this.sessions=e.sessions||new h.SessionManager({...v,kernelManager:this.kernels}),this.settings=e.settings||new d.SettingManager(v),this.terminals=e.terminals||new p.TerminalManager(v),this.builder=e.builder||new i.BuildManager(v),this.workspaces=e.workspaces||new g.WorkspaceManager(v),this.nbconvert=e.nbconvert||new c.NbConvertManager(v),this.kernelspecs=e.kernelspecs||new l.KernelSpecManager(v),this.user=e.user||new f.UserManager(v),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const b=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&b.push(this.terminals.ready),this._readyPromise=Promise.all(b).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},4574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const s=n(79622),i=n(28477),r=n(95082);t.NbConvertManager=class{constructor(e={}){var t;this._exportFormats=null,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new r.PromiseDelegate,this._exportFormats=null;const e=this.serverSettings.baseUrl,t=s.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status){throw await i.ServerConnection.ResponseError.create(o)}const a=await o.json(),l={};return Object.keys(a).forEach((function(e){const t=a[e].output_mimetype;l[e]={output_mimetype:t}})),this._exportFormats=l,this._requestingFormats.resolve(l),l}async getExportFormats(e=!0){return this._requestingFormats?this._requestingFormats.promise:e||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}}},28477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const s=n(79622),i=n(86002);let r;var o,a;r="undefined"==typeof window?n(12447):WebSocket,function(e){e.makeSettings=function(e){return a.makeSettings(e)},e.makeRequest=function(e,t,n){return a.handleRequest(e,t,n)};class t extends Error{static async create(e){try{const n=await e.json(),{message:s,traceback:i}=n;return i&&console.error(i),new t(e,null!=s?s:t._defaultMessage(e),null!=i?i:"")}catch(n){return console.debug(n),new t(e)}}constructor(e,n=t._defaultMessage(e),s=""){super(n),this.response=e,this.traceback=s}static _defaultMessage(e){return`Invalid response: ${e.status} ${e.statusText}`}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(o||(t.ServerConnection=o={})),function(e){e.makeSettings=function(e={}){var t;const n=s.PageConfig.getBaseUrl(),o=s.PageConfig.getWsUrl(),a=s.URLExt.normalize(e.baseUrl)||n;let l=e.wsUrl;return l||a!==n||(l=o),l||0!==a.indexOf("http")||(l="ws"+a.slice(4)),l=null!=l?l:o,{init:{cache:"no-store",credentials:"same-origin"},fetch:fetch,Headers:Headers,Request:Request,WebSocket:r,token:s.PageConfig.getToken(),appUrl:s.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||"undefined"!=typeof process&&void 0!==(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.JEST_WORKER_ID)||s.URLExt.getHostName(n)!==s.URLExt.getHostName(l),serializer:{serialize:i.serialize,deserialize:i.deserialize},...e,baseUrl:a,wsUrl:l}},e.handleRequest=function(e,t,n){var s;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(s=t.cache)&&void 0!==s?s:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,{...n.init,...t});let r=!1;if(n.token&&(r=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return null==t?void 0:t[1]}("_xsrf");void 0!==e&&(r=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&r&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new o.NetworkError(e)}))}}(a||(a={}))},35410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const s=n(4016),i=n(76240),r=n(56807),o=n(95082);t.SessionConnection=class{constructor(e){var t,n,r,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new s.Signal(this),this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._connectionStatusChanged=new s.Signal(this),this._pendingInput=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:o.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(r=e.kernelConnectionOptions)&&void 0!==r?r:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}s.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await(0,r.shutdownSession)(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel({...this._kernelConnectionOptions,model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.pendingInput.connect(this.onPendingInput,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onPendingInput(e,t){this._pendingInput.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await(0,r.updateSession)({...e,id:this._id},this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},41874:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=r(n(11372));t.Session=a;const l=r(n(56807));t.SessionAPI=l,o(n(57847),t)},57847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const s=n(23114),i=n(4016),r=n(28477),o=n(50591),a=n(35410),l=n(56807);class c extends o.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new a.SessionConnection({...e,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings});return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await(0,l.startSession)(e,this.serverSettings);return await this.refreshRunning(),this.connectTo({...t,model:n})}async shutdown(e){await(0,l.shutdownSession)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>(0,l.shutdownSession)(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await(0,l.listRunning)(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(t){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await(0,l.listRunning)(this.serverSettings)}catch(s){throw(s instanceof r.ServerConnection.NetworkError||503===(null===(e=s.response)||void 0===e?void 0:e.status)||424===(null===(t=s.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every((e=>{var t,n,s,i;const r=this._models.get(e.id);return!!r&&((null===(t=r.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(s=r.kernel)||void 0===s?void 0:s.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&r.name===e.name&&r.path===e.path&&r.type===e.type)}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}async startNew(e,t={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(e){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then((()=>this._readyPromise))}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.SessionManager=c={}))},56807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const s=n(28477),i=n(79622),r=n(29145);function o(e,n){const s=i.URLExt.join(e,t.SESSION_SERVICE_URL),r=i.URLExt.join(s,n);if(!r.startsWith(s))throw new Error("Can only be used for services requests");return r}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=s.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),o=await s.ServerConnection.makeRequest(n,{},e);if(200!==o.status){throw await s.ServerConnection.ResponseError.create(o)}const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{(0,r.updateLegacySessionModel)(e),(0,r.validateModel)(e)})),a},t.getSessionUrl=o,t.shutdownSession=async function(e,t=s.ServerConnection.makeSettings()){var n;const i=o(t.baseUrl,e),r=await s.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===r.status){const t=null!==(n=(await r.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===r.status)throw new s.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status){throw await s.ServerConnection.ResponseError.create(r)}}},t.getSessionModel=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e),i=await s.ServerConnection.makeRequest(n,{},t);if(200!==i.status){throw await s.ServerConnection.ResponseError.create(i)}const a=await i.json();return(0,r.updateLegacySessionModel)(a),(0,r.validateModel)(a),a},t.startSession=async function(e,n=s.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},l=await s.ServerConnection.makeRequest(o,a,n);if(201!==l.status){throw await s.ServerConnection.ResponseError.create(l)}const c=await l.json();return(0,r.updateLegacySessionModel)(c),(0,r.validateModel)(c),c},t.updateSession=async function(e,t=s.ServerConnection.makeSettings()){const n=o(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await s.ServerConnection.makeRequest(n,i,t);if(200!==a.status){throw await s.ServerConnection.ResponseError.create(a)}const l=await a.json();return(0,r.updateLegacySessionModel)(l),(0,r.validateModel)(l),l}},11372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const s=n(96512),i=n(46901);function r(e){(0,i.validateProperty)(e,"id","string"),(0,i.validateProperty)(e,"type","string"),(0,i.validateProperty)(e,"name","string"),(0,i.validateProperty)(e,"path","string"),(0,i.validateProperty)(e,"kernel","object"),(0,s.validateModel)(e.kernel)}t.validateModel=r,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>r(e)))}},92726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const s=n(79622),i=n(17266),r=n(28477);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(e){var t,n,s,i;const{serverSettings:o}=this,{baseUrl:l,appUrl:c}=o,{makeRequest:u,ResponseError:h}=r.ServerConnection,d=l+c,p=a.url(d,"","ids"===e),f=await u(p,{},o);if(200!==f.status)throw new h(f);const g=await f.json(),m=null!==(n=null===(t=null==g?void 0:g.settings)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==n?n:[];let _=[];return e||(_=null!==(i=null===(s=null==g?void 0:g.settings)||void 0===s?void 0:s.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==i?i:[]),{ids:m,values:_}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify({raw:t}),method:"PUT"},d=await o(u,h,n);if(204!==d.status)throw new l(d)}}var a;t.SettingManager=o,function(e){e.url=function(e,t,n){const i=n?s.URLExt.objectToQueryString({ids_only:!0}):"",r=s.URLExt.join(e,"api/settings"),o=s.URLExt.join(r,t);if(!o.startsWith(r))throw new Error("Can only be used for workspaces requests");return`${o}${i}`}}(a||(a={}))},12447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},71146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const s=n(79622),i=n(95082),r=n(4016),o=n(76240),a=n(43286);class l{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=s.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new r.Signal(this),this._isDisposed=!1,this._disposed=new r.Signal(this),this._messageReceived=new r.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),r.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,s)=>{"connected"===s?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===s&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=c.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await(0,a.shutdownTerminal)(this.name,this.serverSettings),this.dispose()}clone(){return new l(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var c;t.TerminalConnection=l,function(e){e.getTermUrl=function(e,t){return s.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(c||(c={}))},93247:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=r(n(58353));t.Terminal=a;const l=r(n(43286));t.TerminalAPI=l,o(n(61546),t)},61546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const s=n(23114),i=n(4016),r=n(76240),o=n(50591),a=n(43286),l=n(71146);class c extends o.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new i.Signal(this),this._connectionFailure=new i.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new s.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return(0,a.isAvailable)()}connectTo(e){const t=new l.TerminalConnection({...e,serverSettings:this.serverSettings});return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const t=await(0,a.startNew)(this.serverSettings,null==e?void 0:e.name,null==e?void 0:e.cwd);return await this.refreshRunning(),this.connectTo({model:t})}async shutdown(e){await(0,a.shutdownTerminal)(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>(0,a.shutdownTerminal)(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await(0,a.listRunning)(this.serverSettings)}catch(i){throw(i instanceof r.ServerConnection.NetworkError||503===(null===(e=i.response)||void 0===e?void 0:e.status)||424===(null===(t=i.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;const s=n.map((({name:e})=>e)).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach((e=>{s.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=c,function(e){e.NoopManager=class extends e{constructor(){super(...arguments),this._readyPromise=new Promise((()=>{}))}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then((()=>this._readyPromise))}async startNew(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(e){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(e){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}}(c||(t.TerminalManager=c={}))},43286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const s=n(79622),i=n(28477);function r(){return"true"===String(s.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var o;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=r,t.startNew=async function(e=i.ServerConnection.makeSettings(),n,r){o.errorIfNotAvailable();const a=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),l={method:"POST",body:JSON.stringify({name:n,cwd:r})},c=await i.ServerConnection.makeRequest(a,l,e);if(200!==c.status){throw await i.ServerConnection.ResponseError.create(c)}return await c.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){o.errorIfNotAvailable();const n=s.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),r=await i.ServerConnection.makeRequest(n,{},e);if(200!==r.status){throw await i.ServerConnection.ResponseError.create(r)}const a=await r.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var r;o.errorIfNotAvailable();const a=s.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL),l=s.URLExt.join(a,e);if(!l.startsWith(a))throw new Error("Can only be used for terminal requests");const c=await i.ServerConnection.makeRequest(l,{method:"DELETE"},n);if(404===c.status){const t=null!==(r=(await c.json()).message)&&void 0!==r?r:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==c.status){throw await i.ServerConnection.ResponseError.create(c)}},function(e){e.errorIfNotAvailable=function(){if(!r())throw new Error("Terminals Unavailable")}}(o||(o={}))},58353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const s=n(43286);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return s.isAvailable}})},95598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;const s=n(79622),i=n(95082),r=n(23114),o=n(4016),a=n(28477),l=n(50591),c="@jupyterlab/services:UserManager#user";class u extends l.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._userChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._ready=this.requestUser().then((()=>{this.isDisposed||(this._isReady=!0)})).catch((e=>new Promise((()=>{})))),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61e3,backoff:!0,max:3e5},name:c,standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;const{baseUrl:e}=this.serverSettings,{makeRequest:t,ResponseError:n}=a.ServerConnection,r=s.URLExt.join(e,"api/me"),o=await t(r,{},this.serverSettings);if(200!==o.status){throw await n.create(o)}const l={identity:this._identity,permissions:this._permissions},u=await o.json(),d=u.identity,{localStorage:p}=window,f=p.getItem(c);if(f&&(!d.initials||!d.color)){const e=JSON.parse(f);d.initials=d.initials||e.initials||d.name.substring(0,1),d.color=d.color||e.color||h.getRandomColor()}i.JSONExt.deepEqual(u,l)||(this._identity=d,this._permissions=u.permissions,p.setItem(c,JSON.stringify(d)),this._userChanged.emit(u))}}var h;t.UserManager=u,function(e){const t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]}(h||(h={}))},46901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,s=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(s.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=s.includes(i);break;default:e=s.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(s)}`)}}}},45399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const s=n(79622),i=n(17266),r=n(28477);class o extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:r.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{},t);if(200!==u.status){throw await o.create(u)}return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:s,ResponseError:i}=r.ServerConnection,o=t+n,l=a.url(o,""),c=await s(l,{},e);if(200!==c.status){throw await i.create(c)}return(await c.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:s}=t,{makeRequest:i,ResponseError:o}=r.ServerConnection,l=n+s,c=a.url(l,e),u=await i(c,{method:"DELETE"},t);if(204!==u.status){throw await o.create(u)}}async save(e,t){const{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:o,ResponseError:l}=r.ServerConnection,c=s+i,u=a.url(c,e),h={body:JSON.stringify(t),method:"PUT"},d=await o(u,h,n);if(204!==d.status){throw await l.create(d)}}}var a;t.WorkspaceManager=o,function(e){e.url=function(e,t){const n=s.URLExt.join(e,"api/workspaces"),i=s.URLExt.join(n,t);if(!i.startsWith(n))throw new Error("Can only be used for workspaces requests");return i}}(a||(a={}))},89525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0;t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},17266:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(89525),t),i(n(14623),t),i(n(51156),t),i(n(64962),t),i(n(7263),t)},14623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const s=n(95082),i=n(39770),r=n(4016);var o;t.RestorablePool=class{constructor(e){this._added=new r.Signal(this),this._current=null,this._currentChanged=new r.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new s.PromiseDelegate,this._updated=new r.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(e)){if(this._restore){const{connector:s}=this._restore,i=this._restore.name(e);if(i){const r=`${this.namespace}:${i}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);o.nameProperty.set(e,r),await s.save(r,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),r.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return o.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:s,when:i}=e,r=this.namespace,o=i?[n.list(r)].concat(i):[n.list(r)];this._restore=e;const[a]=await Promise.all(o),l=await Promise.all(a.ids.map((async(e,i)=>{const r=a.values[i],o=r&&r.data;return void 0===o?n.remove(e):s.execute(t,o).catch((()=>n.remove(e)))})));return this._restored.resolve(),l}async save(e){var t,n;const s=o.injectedProperty.get(e);if(!this._restore||!this.has(e)||s)return;const{connector:i}=this._restore,r=this._restore.name(e),a=o.nameProperty.get(e),l=r?`${this.namespace}:${r}`:"";if(a&&a!==l&&await i.remove(a),o.nameProperty.set(e,l),l){const s=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await i.save(l,{data:s})}a!==l&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=o.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(o||(o={}))},64962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const s=n(4016);class i{constructor(e={}){this._changed=new s.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,s)=>(t[e[s]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i||(t.StateDB=i={}))},7263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const s=n(95082);t.IStateDB=new s.Token("@jupyterlab/coreutils:IStateDB",'A service for the JupyterLab state database.\n  Use this if you want to store data that will persist across page loads.\n  See "state database" for more information.')},35259:(e,t,n)=>{"use strict";var s,i,r;function*o(...e){for(const t of e)yield*t}function*a(){}function*l(e,t=0){for(const n of e)yield[t++,n]}function*c(e,t){let n=0;for(const s of e)t(s,n++)&&(yield s)}function u(e,t){let n=0;for(const s of e)if(t(s,n++))return s}function h(e,t){let n=0;for(const s of e)if(t(s,n++))return n-1;return-1}function d(e,t){let n;for(const s of e)void 0!==n?t(s,n)<0&&(n=s):n=s;return n}function p(e,t){let n;for(const s of e)void 0!==n?t(s,n)>0&&(n=s):n=s;return n}function f(e,t){let n,s,i=!0;for(const r of e)i?(n=r,s=r,i=!1):t(r,n)<0?n=r:t(r,s)>0&&(s=r);return i?void 0:[n,s]}function g(e){return Array.from(e)}function m(e){const t={};for(const[n,s]of e)t[n]=s;return t}function _(e,t){let n=0;for(const s of e)if(!1===t(s,n++))return}function v(e,t){let n=0;for(const s of e)if(!1===t(s,n++))return!1;return!0}function b(e,t){let n=0;for(const s of e)if(t(s,n++))return!0;return!1}function*y(e,t){let n=0;for(const s of e)yield t(s,n++)}function*w(e,t,n){void 0===t?(t=e,e=0,n=1):void 0===n&&(n=1);const s=i.rangeLength(e,t,n);for(let i=0;i<s;i++)yield e+n*i}function x(e,t,n){const s=e[Symbol.iterator]();let i=0,r=s.next();if(r.done&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(r.done)return n;let o,a,l=s.next();if(l.done&&void 0===n)return r.value;if(l.done)return t(n,r.value,i++);for(o=t(void 0===n?r.value:t(n,r.value,i++),l.value,i++);!(a=s.next()).done;)o=t(o,a.value,i++);return o}function*S(e,t){for(;0<t--;)yield e}function*C(e){yield e}function*k(e){if("function"==typeof e.retro)yield*e.retro();else for(let t=e.length-1;t>-1;t--)yield e[t]}function E(e){let t=[],n=new Set,s=new Map;for(const o of e)i(o);for(const[o]of s)r(o);return t;function i(e){let[t,n]=e,i=s.get(n);i?i.push(t):s.set(n,[t])}function r(e){if(n.has(e))return;n.add(e);let i=s.get(e);if(i)for(const t of i)r(t);t.push(e)}}function*O(e,t){let n=0;for(const s of e)0==n++%t&&(yield s)}function*M(e,t){if(t<1)return;const n=e[Symbol.iterator]();let s;for(;0<t--&&!(s=n.next()).done;)yield s.value}function*T(...e){const t=e.map((e=>e[Symbol.iterator]()));let n=t.map((e=>e.next()));for(;v(n,(e=>!e.done));n=t.map((e=>e.next())))yield n.map((e=>e.value))}n.r(t),n.d(t,{ArrayExt:()=>s,StringExt:()=>r,chain:()=>o,each:()=>_,empty:()=>a,enumerate:()=>l,every:()=>v,filter:()=>c,find:()=>u,findIndex:()=>h,map:()=>y,max:()=>p,min:()=>d,minmax:()=>f,once:()=>C,range:()=>w,reduce:()=>x,repeat:()=>S,retro:()=>k,some:()=>b,stride:()=>O,take:()=>M,toArray:()=>g,toObject:()=>m,topologicSort:()=>E,zip:()=>T}),function(e){function t(e,t,n=0,s=-1){let i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let o=0;o<i;++o){let s=(n+o)%r;if(e[s]===t)return s}return-1}function n(e,t,n=-1,s=0){let i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(let o=0;o<i;++o){let s=(n-o+r)%r;if(e[s]===t)return s}return-1}function s(e,t,n=0,s=-1){let i,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let o=0;o<i;++o){let s=(n+o)%r;if(t(e[s],s))return s}return-1}function i(e,t,n=-1,s=0){let i,r=e.length;if(0===r)return-1;i=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<(s=s<0?Math.max(0,s+r):Math.min(s,r-1))?n+1+(r-s):n-s+1;for(let o=0;o<i;++o){let s=(n-o+r)%r;if(t(e[s],s))return s}return-1}function r(e,t=0,n=-1){let s=e.length;if(!(s<=1))for(t=t<0?Math.max(0,t+s):Math.min(t,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);t<n;){let s=e[t],i=e[n];e[t++]=i,e[n--]=s}}function o(e,t){let n=e.length;if(t<0&&(t+=n),t<0||t>=n)return;let s=e[t];for(let i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,s}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=s,e.findLastIndex=i,e.findFirstValue=function(e,t,n=0,i=-1){let r=s(e,t,n,i);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,n=-1,s=0){let r=i(e,t,n,s);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,n,s=0,i=-1){let r=e.length;if(0===r)return 0;let o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;for(;a>0;){let s=a>>1,i=o+s;n(e[i],t)<0?(o=i+1,a-=s+1):a=s}return o},e.upperBound=function(e,t,n,s=0,i=-1){let r=e.length;if(0===r)return 0;let o=s=s<0?Math.max(0,s+r):Math.min(s,r-1),a=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))-s+1;for(;a>0;){let s=a>>1,i=o+s;n(e[i],t)>0?a=s:(o=i+1,a-=s+1)}return o},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0,i=e.length;s<i;++s)if(n?!n(e[s],t[s]):e[s]!==t[s])return!1;return!0},e.slice=function(e,t={}){let{start:n,stop:s,step:i}=t;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");let r,o=e.length;void 0===n?n=i<0?o-1:0:n<0?n=Math.max(n+o,i<0?-1:0):n>=o&&(n=i<0?o-1:o),void 0===s?s=i<0?-1:o:s<0?s=Math.max(s+o,i<0?-1:0):s>=o&&(s=i<0?o-1:o),r=i<0&&s>=n||i>0&&n>=s?0:i<0?Math.floor((s-n+1)/i+1):Math.floor((s-n-1)/i+1);let a=[];for(let l=0;l<r;++l)a[l]=e[n+l*i];return a},e.move=function(e,t,n){let s=e.length;if(s<=1)return;if((t=t<0?Math.max(0,t+s):Math.min(t,s-1))===(n=n<0?Math.max(0,n+s):Math.min(n,s-1)))return;let i=e[t],r=t<n?1:-1;for(let o=t;o!==n;o+=r)e[o]=e[o+r];e[n]=i},e.reverse=r,e.rotate=function(e,t,n=0,s=-1){let i=e.length;if(i<=1)return;if((n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(s=s<0?Math.max(0,s+i):Math.min(s,i-1)))return;let o=s-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0===t)return;let a=n+t;r(e,n,a-1),r(e,a,s),r(e,n,s)},e.fill=function(e,t,n=0,s=-1){let i,r=e.length;if(0!==r){n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))<n?s+1+(r-n):s-n+1;for(let s=0;s<i;++s)e[(n+s)%r]=t}},e.insert=function(e,t,n){let s=e.length;t=t<0?Math.max(0,t+s):Math.min(t,s);for(let i=s;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,s=0,i=-1){let r=t(e,n,s,i);return-1!==r&&o(e,r),r},e.removeLastOf=function(e,t,s=-1,i=0){let r=n(e,t,s,i);return-1!==r&&o(e,r),r},e.removeAllOf=function(e,t,n=0,s=-1){let i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);let r=0;for(let o=0;o<i;++o)n<=s&&o>=n&&o<=s&&e[o]===t||s<n&&(o<=s||o>=n)&&e[o]===t?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r},e.removeFirstWhere=function(e,t,n=0,i=-1){let r,a=s(e,t,n,i);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeLastWhere=function(e,t,n=-1,s=0){let r,a=i(e,t,n,s);return-1!==a&&(r=o(e,a)),{index:a,value:r}},e.removeAllWhere=function(e,t,n=0,s=-1){let i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=s<0?Math.max(0,s+i):Math.min(s,i-1);let r=0;for(let o=0;o<i;++o)n<=s&&o>=n&&o<=s&&t(e[o],o)||s<n&&(o<=s||o>=n)&&t(e[o],o)?r++:r>0&&(e[o-r]=e[o]);return r>0&&(e.length=i-r),r}}(s||(s={})),function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(i||(i={})),function(e){function t(e,t,n=0){let s=new Array(t.length);for(let i=0,r=n,o=t.length;i<o;++i,++r){if(r=e.indexOf(t[i],r),-1===r)return null;s[i]=r}return s}e.findIndices=t,e.matchSumOfSquares=function(e,n,s=0){let i=t(e,n,s);if(!i)return null;let r=0;for(let t=0,o=i.length;t<o;++t){let e=i[t]-s;r+=e*e}return{score:r,indices:i}},e.matchSumOfDeltas=function(e,n,s=0){let i=t(e,n,s);if(!i)return null;let r=0,o=s-1;for(let t=0,a=i.length;t<a;++t){let e=i[t];r+=e-o-1,o=e}return{score:r,indices:i}},e.highlight=function(e,t,n){let s=[],i=0,r=0,o=t.length;for(;i<o;){let a=t[i],l=t[i];for(;++i<o&&t[i]===l+1;)l++;r<a&&s.push(e.slice(r,a)),a<l+1&&s.push(n(e.slice(a,l+1))),r=l+1}return r<e.length&&s.push(e.slice(r)),s},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(r||(r={}))},45159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CommandRegistry:()=>u});var s,i=n(35259),r=n(95082),o=n(70725),a=n(19150),l=n(27347),c=n(4016);class u{constructor(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=new Map,this._commandChanged=new c.Signal(this),this._commandExecuted=new c.Signal(this),this._keyBindingChanged=new c.Signal(this)}get commandChanged(){return this._commandChanged}get commandExecuted(){return this._commandExecuted}get keyBindingChanged(){return this._keyBindingChanged}get keyBindings(){return this._keyBindings}listCommands(){return Array.from(this._commands.keys())}hasCommand(e){return this._commands.has(e)}addCommand(e,t){if(this._commands.has(e))throw new Error(`Command '${e}' already registered.`);return this._commands.set(e,s.createCommand(t)),this._commandChanged.emit({id:e,type:"added"}),new o.DisposableDelegate((()=>{this._commands.delete(e),this._commandChanged.emit({id:e,type:"removed"})}))}notifyCommandChanged(e){if(void 0!==e&&!this._commands.has(e))throw new Error(`Command '${e}' is not registered.`);this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})}describedBy(e,t=r.JSONExt.emptyObject){var n;let s=this._commands.get(e);return Promise.resolve(null!==(n=null==s?void 0:s.describedBy.call(void 0,t))&&void 0!==n?n:{args:null})}label(e,t=r.JSONExt.emptyObject){var n;let s=this._commands.get(e);return null!==(n=null==s?void 0:s.label.call(void 0,t))&&void 0!==n?n:""}mnemonic(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.mnemonic.call(void 0,t):-1}icon(e,t=r.JSONExt.emptyObject){var n;return null===(n=this._commands.get(e))||void 0===n?void 0:n.icon.call(void 0,t)}iconClass(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.iconClass.call(void 0,t):""}iconLabel(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.iconLabel.call(void 0,t):""}caption(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.caption.call(void 0,t):""}usage(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.usage.call(void 0,t):""}className(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.className.call(void 0,t):""}dataset(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return n?n.dataset.call(void 0,t):{}}isEnabled(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return!!n&&n.isEnabled.call(void 0,t)}isToggled(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return!!n&&n.isToggled.call(void 0,t)}isToggleable(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return!!n&&n.isToggleable}isVisible(e,t=r.JSONExt.emptyObject){let n=this._commands.get(e);return!!n&&n.isVisible.call(void 0,t)}execute(e,t=r.JSONExt.emptyObject){let n,s=this._commands.get(e);if(!s)return Promise.reject(new Error(`Command '${e}' not registered.`));try{n=s.execute.call(void 0,t)}catch(o){n=Promise.reject(o)}let i=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:t,result:i}),i}addKeyBinding(e){let t=s.createKeyBinding(e);return this._keyBindings.push(t),this._keyBindingChanged.emit({binding:t,type:"added"}),new o.DisposableDelegate((()=>{i.ArrayExt.removeFirstOf(this._keyBindings,t),this._keyBindingChanged.emit({binding:t,type:"removed"})}))}processKeydownEvent(e){if(this._replaying||u.isModifierKeyPressed(e))return;let t=u.keystrokeForKeydownEvent(e);if(!t)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(t);let{exact:n,partial:i}=s.matchKeyBinding(this._keyBindings,this._keystrokes,e);return n||i?(e.preventDefault(),e.stopPropagation(),n&&!i?(this._executeKeyBinding(n),void this._clearPendingState()):(n&&(this._exactKeyMatch=n),this._keydownEvents.push(e),void this._startTimer())):(this._replayKeydownEvents(),void this._clearPendingState())}_startTimer(){this._clearTimer(),this._timerID=window.setTimeout((()=>{this._onPendingTimeout()}),s.CHORD_TIMEOUT)}_clearTimer(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)}_replayKeydownEvents(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(s.replayKeyEvent),this._replaying=!1)}_executeKeyBinding(e){let{command:t,args:n}=e,s={_luminoEvent:{type:"keybinding",keys:e.keys},...n};if(this.hasCommand(t)&&this.isEnabled(t,s))this.execute(t,s);else{let n=this.hasCommand(t)?"enabled":"registered",s=`Cannot execute key binding '${e.keys.join(", ")}':`,i=`command '${t}' is not ${n}.`;console.warn(`${s} ${i}`)}}_clearPendingState(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0}_onPendingTimeout(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()}}!function(e){function t(e){let t="",n=!1,s=!1,i=!1,r=!1;for(let o of e.split(/\s+/))"Accel"===o?a.Platform.IS_MAC?s=!0:i=!0:"Alt"===o?n=!0:"Cmd"===o?s=!0:"Ctrl"===o?i=!0:"Shift"===o?r=!0:o.length>0&&(t=o);return{cmd:s,ctrl:i,alt:n,shift:r,key:t}}function n(e){let n="",s=t(e);return s.ctrl&&(n+="Ctrl "),s.alt&&(n+="Alt "),s.shift&&(n+="Shift "),s.cmd&&a.Platform.IS_MAC&&(n+="Cmd "),n+s.key}e.parseKeystroke=t,e.normalizeKeystroke=n,e.normalizeKeys=function(e){let t;return t=a.Platform.IS_WIN?e.winKeys||e.keys:a.Platform.IS_MAC?e.macKeys||e.keys:e.linuxKeys||e.keys,t.map(n)},e.formatKeystroke=function(e){return"string"==typeof e?n(e):e.map(n).join(", ");function n(e){let n=[],i=a.Platform.IS_MAC?" ":"+",r=t(e);return r.ctrl&&n.push("Ctrl"),r.alt&&n.push("Alt"),r.shift&&n.push("Shift"),a.Platform.IS_MAC&&r.cmd&&n.push("Cmd"),n.push(r.key),n.map(s.formatKey).join(i)}},e.isModifierKeyPressed=function(e){let t=(0,l.getKeyboardLayout)(),n=t.keyForKeydownEvent(e);return t.isModifierKey(n)},e.keystrokeForKeydownEvent=function(e){let t=(0,l.getKeyboardLayout)(),n=t.keyForKeydownEvent(e);if(!n||t.isModifierKey(n))return"";let s=[];return e.ctrlKey&&s.push("Ctrl"),e.altKey&&s.push("Alt"),e.shiftKey&&s.push("Shift"),e.metaKey&&a.Platform.IS_MAC&&s.push("Cmd"),s.push(n),s.join(" ")}}(u||(u={})),function(e){e.CHORD_TIMEOUT=1e3,e.createCommand=function(e){return{execute:e.execute,describedBy:d("function"==typeof e.describedBy?e.describedBy:{args:null,...e.describedBy},(()=>({args:null}))),label:d(e.label,s),mnemonic:d(e.mnemonic,i),icon:d(e.icon,h),iconClass:d(e.iconClass,s),iconLabel:d(e.iconLabel,s),caption:d(e.caption,s),usage:d(e.usage,s),className:d(e.className,s),dataset:d(e.dataset,c),isEnabled:e.isEnabled||o,isToggled:e.isToggled||l,isToggleable:e.isToggleable||!!e.isToggled,isVisible:e.isVisible||o}},e.createKeyBinding=function(e){return{keys:u.normalizeKeys(e),selector:p(e),command:e.command,args:e.args||r.JSONExt.emptyObject}},e.matchKeyBinding=function(e,t,n){let s=null,i=!1,r=1/0,o=0;for(let l=0,c=e.length;l<c;++l){let c=e[l],u=f(c.keys,t);if(0===u)continue;if(2===u){i||-1===g(c.selector,n)||(i=!0);continue}let h=g(c.selector,n);if(-1===h||h>r)continue;let d=a.Selector.calculateSpecificity(c.selector);(!s||h<r||d>=o)&&(s=c,r=h,o=d)}return{exact:s,partial:i}},e.replayKeyEvent=function(e){e.target.dispatchEvent(function(e){let t=document.createEvent("Event"),n=e.bubbles||!0,s=e.cancelable||!0;return t.initEvent(e.type||"keydown",n,s),t.key=e.key||"",t.keyCode=e.keyCode||0,t.which=e.keyCode||0,t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.view=e.view||window,t}(e))},e.formatKey=function(e){return a.Platform.IS_MAC?t.hasOwnProperty(e)?t[e]:e:n.hasOwnProperty(e)?n[e]:e};const t={Backspace:"\u232b",Tab:"\u21e5",Enter:"\u23ce",Shift:"\u21e7",Ctrl:"\u2303",Alt:"\u2325",Escape:"\u238b",PageUp:"\u21de",PageDown:"\u21df",End:"\u2198",Home:"\u2196",ArrowLeft:"\u2190",ArrowUp:"\u2191",ArrowRight:"\u2192",ArrowDown:"\u2193",Delete:"\u2326",Cmd:"\u2318"},n={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},s=()=>"",i=()=>-1,o=()=>!0,l=()=>!1,c=()=>({}),h=()=>{};function d(e,t){return void 0===e?t:"function"==typeof e?e:()=>e}function p(e){if(-1!==e.selector.indexOf(","))throw new Error(`Selector cannot contain commas: ${e.selector}`);if(!a.Selector.isValid(e.selector))throw new Error(`Invalid selector: ${e.selector}`);return e.selector}function f(e,t){if(e.length<t.length)return 0;for(let n=0,s=t.length;n<s;++n)if(e[n]!==t[n])return 0;return e.length>t.length?2:1}function g(e,t){let n=t.target,s=t.currentTarget;for(let i=0;null!==n;n=n.parentElement,++i){if(n.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(a.Selector.matches(n,e))return i;if(n===s)return-1}return-1}}(s||(s={}))},95082:function(e,t){!function(e){"use strict";e.JSONExt=void 0,function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function s(e){return!t(e)&&!n(e)}function i(e,s){if(e===s)return!0;if(t(e)||t(s))return!1;let i=n(e),r=n(s);return i===r&&(i&&r?o(e,s):a(e,s))}function r(e){return t(e)?e:n(e)?l(e):c(e)}function o(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;++n)if(!i(e[n],t[n]))return!1;return!0}function a(e,t){if(e===t)return!0;for(let n in e)if(void 0!==e[n]&&!(n in t))return!1;for(let n in t)if(void 0!==t[n]&&!(n in e))return!1;for(let n in e){let s=e[n],r=t[n];if(void 0!==s||void 0!==r){if(void 0===s||void 0===r)return!1;if(!i(s,r))return!1}}return!0}function l(e){let t=new Array(e.length);for(let n=0,s=e.length;n<s;++n)t[n]=r(e[n]);return t}function c(e){let t={};for(let n in e){let s=e[n];void 0!==s&&(t[n]=r(s))}return t}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=s,e.deepEqual=i,e.deepCopy=r}(e.JSONExt||(e.JSONExt={}));class t{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(e){return-1!==this._types.indexOf(e)}getData(e){let t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0}setData(e,t){this.clearData(e),this._types.push(e),this._values.push(t)}clearData(e){let t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))}clear(){this._types.length=0,this._values.length=0}}class n{constructor(){this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){(0,this._resolve)(e)}reject(e){(0,this._reject)(e)}}class s{constructor(e,t){this.name=e,this.description=null!=t?t:"",this._tokenStructuralPropertyT=null}}function i(e){let t=0;for(let n=0,s=e.length;n<s;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}function r(e){const t=new Uint8Array(16),n=new Array(256);for(let s=0;s<16;++s)n[s]="0"+s.toString(16);for(let s=16;s<256;++s)n[s]=s.toString(16);return function(){return e(t),t[6]=64|15&t[6],t[8]=128|63&t[8],n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]]+"-"+n[t[4]]+n[t[5]]+"-"+n[t[6]]+n[t[7]]+"-"+n[t[8]]+n[t[9]]+"-"+n[t[10]]+n[t[11]]+n[t[12]]+n[t[13]]+n[t[14]]+n[t[15]]}}e.Random=void 0,(e.Random||(e.Random={})).getRandomValues=(()=>{const e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||null;return e&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:i})(),e.UUID=void 0,(e.UUID||(e.UUID={})).uuid4=r(e.Random.getRandomValues),e.MimeData=t,e.PromiseDelegate=n,e.Token=s}(t)},70725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisposableDelegate:()=>i,DisposableSet:()=>o,ObservableDisposableDelegate:()=>r,ObservableDisposableSet:()=>a});var s=n(4016);class i{constructor(e){this._fn=e}get isDisposed(){return!this._fn}dispose(){if(!this._fn)return;let e=this._fn;this._fn=null,e()}}class r extends i{constructor(){super(...arguments),this._disposed=new s.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),s.Signal.clearData(this))}}class o{constructor(){this._isDisposed=!1,this._items=new Set}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((e=>{e.dispose()})),this._items.clear())}contains(e){return this._items.has(e)}add(e){this._items.add(e)}remove(e){this._items.delete(e)}clear(){this._items.clear()}}!function(e){e.from=function(t){let n=new e;for(const e of t)n.add(e);return n}}(o||(o={}));class a extends o{constructor(){super(...arguments),this._disposed=new s.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),s.Signal.clearData(this))}}!function(e){e.from=function(t){let n=new e;for(const e of t)n.add(e);return n}}(a||(a={}))},19150:(e,t,n)=>{"use strict";var s,i,r,o,a;n.r(t),n.d(t,{ClipboardExt:()=>s,ElementExt:()=>i,Platform:()=>r,Selector:()=>o}),function(e){e.copyText=function(e){const t=document.body,n=s=>{s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",e),t.removeEventListener("copy",n,!0)};t.addEventListener("copy",n,!0),document.execCommand("copy")}}(s||(s={})),function(e){e.boxSizing=function(e){let t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,s=parseFloat(t.borderLeftWidth)||0,i=parseFloat(t.borderRightWidth)||0,r=parseFloat(t.borderBottomWidth)||0,o=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,c=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:s,borderRight:i,borderBottom:r,paddingTop:o,paddingLeft:a,paddingRight:l,paddingBottom:c,horizontalSum:s+a+l+i,verticalSum:n+o+c+r}},e.sizeLimits=function(e){let t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,s=parseFloat(t.minHeight)||0,i=parseFloat(t.maxWidth)||1/0,r=parseFloat(t.maxHeight)||1/0;return i=Math.max(n,i),r=Math.max(s,r),{minWidth:n,minHeight:s,maxWidth:i,maxHeight:r}},e.hitTest=function(e,t,n){let s=e.getBoundingClientRect();return t>=s.left&&t<s.right&&n>=s.top&&n<s.bottom},e.scrollIntoViewIfNeeded=function(e,t){let n=e.getBoundingClientRect(),s=t.getBoundingClientRect();s.top<=n.top&&s.bottom>=n.bottom||(s.top<n.top&&s.height<=n.height||s.bottom>n.bottom&&s.height>=n.height?e.scrollTop-=n.top-s.top:(s.top<n.top&&s.height>n.height||s.bottom>n.bottom&&s.height<n.height)&&(e.scrollTop-=n.bottom-s.bottom))}}(i||(i={})),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent),e.accelKey=function(t){return e.IS_MAC?t.metaKey:t.ctrlKey}}(r||(r={})),function(e){e.calculateSpecificity=function(e){if(e in a.specificityCache)return a.specificityCache[e];let t=a.calculateSingle(e);return a.specificityCache[e]=t},e.isValid=function(e){if(e in a.validityCache)return a.validityCache[e];let t=!0;try{a.testElem.querySelector(e)}catch(n){t=!1}return a.validityCache[e]=t},e.matches=function(e,t){return a.protoMatchFunc.call(e,t)}}(o||(o={})),function(e){e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(()=>{let e=Element.prototype;return e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){let t=this,n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return-1!==Array.prototype.indexOf.call(n,t)}})(),e.calculateSingle=function(e){let c=0,u=0,h=0;function d(t){let n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(l," $1 ");e.length>0;)if(d(t))c++;else if(d(n))u++;else if(d(s))u++;else if(d(r))h++;else if(d(o))u++;else if(d(i))h++;else if(!d(a))return 0;return c=Math.min(c,255),u=Math.min(u,255),h=Math.min(h,255),c<<16|u<<8|h};const t=/^#[^\s\+>~#\.\[:]+/,n=/^\.[^\s\+>~#\.\[:]+/,s=/^\[[^\]]+\]/,i=/^[^\s\+>~#\.\[:]+/,r=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,o=/^:[^\s\+>~#\.\[:]+/,a=/^[\s\+>~\*]+/,l=/:not\(([^\)]+)\)/g}(a||(a={}))},27347:(e,t,n)=>{"use strict";function s(){return a.keyboardLayout}function i(e){a.keyboardLayout=e}n.r(t),n.d(t,{EN_US:()=>o,KeycodeLayout:()=>r,getKeyboardLayout:()=>s,setKeyboardLayout:()=>i});class r{constructor(e,t,n=[]){this.name=e,this._codes=t,this._keys=r.extractKeys(t),this._modifierKeys=r.convertToKeySet(n)}keys(){return Object.keys(this._keys)}isValidKey(e){return e in this._keys}isModifierKey(e){return e in this._modifierKeys}keyForKeydownEvent(e){return this._codes[e.keyCode]||""}}!function(e){e.extractKeys=function(e){let t=Object.create(null);for(let n in e)t[e[n]]=!0;return t},e.convertToKeySet=function(e){let t=Object(null);for(let n=0,s=e.length;n<s;++n)t[e[n]]=!0;return t}}(r||(r={}));const o=new r("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]);var a;!function(e){e.keyboardLayout=o}(a||(a={}))},59523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConflatableMessage:()=>l,Message:()=>a,MessageLoop:()=>i});var s,i,r=n(35259);class o{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return 0===this._size}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const t of e)this.addLast(t)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let t=new s.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t}addLast(e){let t=new s.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t}insertBefore(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof s.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let n=new s.LinkedListNode(this,e),i=t,r=i.prev;return n.next=i,n.prev=r,i.prev=n,r.next=n,this._size++,n}insertAfter(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof s.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");let n=new s.LinkedListNode(this,e),i=t,r=i.next;return n.next=r,n.prev=i,i.next=n,r.prev=n,this._size++,n}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof s.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--}clear(){let e=this._first;for(;e;){let t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0}}!function(e){e.from=function(t){let n=new e;return n.assign(t),n}}(o||(o={})),function(e){e.LinkedListNode=class{constructor(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t}}}(s||(s={}));class a{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}}class l extends a{get isConflatable(){return!0}conflate(e){return!0}}!function(e){let t=null;const n=(s=Promise.resolve(),e=>{let t=!1;return s.then((()=>!t&&e())),()=>{t=!0}});var s;function i(e,t){let n=l.get(e);if(!n||0===n.length)return void d(e,t);let s=(0,r.every)((0,r.retro)(n),(n=>!n||function(e,t,n){let s=!0;try{s="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(i){u(i)}return s}(n,e,t)));s&&d(e,t)}e.sendMessage=i,e.postMessage=function(e,t){if(!t.isConflatable)return void p(e,t);(0,r.some)(a,(n=>n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))))||p(e,t)},e.installMessageHook=function(e,t){let n=l.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):l.set(e,[t]))},e.removeMessageHook=function(e,t){let n=l.get(e);if(!n)return;let s=n.indexOf(t);-1!==s&&(n[s]=null,g(n))},e.clearData=function(e){let t=l.get(e);t&&t.length>0&&(r.ArrayExt.fill(t,null),g(t));for(const n of a)n.handler===e&&(n.handler=null,n.msg=null)},e.flush=function(){h||null===t||(t(),t=null,h=!0,f(),h=!1)},e.getExceptionHandler=function(){return u},e.setExceptionHandler=function(e){let t=u;return u=e,t};const a=new o,l=new WeakMap,c=new Set;let u=e=>{console.error(e)},h=!1;function d(e,t){try{e.processMessage(t)}catch(n){u(n)}}function p(e,s){a.addLast({handler:e,msg:s}),null===t&&(t=n(f))}function f(){if(t=null,a.isEmpty)return;let e={handler:null,msg:null};for(a.addLast(e);;){let t=a.removeFirst();if(t===e)return;t.handler&&t.msg&&i(t.handler,t.msg)}}function g(e){0===c.size&&n(m),c.add(e)}function m(){c.forEach(_),c.clear()}function _(e){r.ArrayExt.removeAllWhere(e,v)}function v(e){return null===e}}(i||(i={}))},23114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Debouncer:()=>l,Poll:()=>o,RateLimiter:()=>a,Throttler:()=>c});var s,i=n(95082),r=n(4016);class o{constructor(e){var t;this._disposed=new r.Signal(this),this._lingered=0,this._tick=new i.PromiseDelegate,this._ticked=new r.Signal(this),this._factory=e.factory,this._linger=null!==(t=e.linger)&&void 0!==t?t:s.DEFAULT_LINGER,this._standby=e.standby||s.DEFAULT_STANDBY,this._state={...s.DEFAULT_STATE,timestamp:(new Date).getTime()};const n=e.frequency||{},o=Math.max(n.interval||0,n.max||0,s.DEFAULT_FREQUENCY.max);this.frequency={...s.DEFAULT_FREQUENCY,...n,max:o},this.name=e.name||s.DEFAULT_NAME,"auto"in e&&!e.auto||setTimeout((()=>this.start()))}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(e){if(this.isDisposed||i.JSONExt.deepEqual(e,this.frequency||{}))return;let{backoff:t,interval:n,max:s}=e;if(n=Math.round(n),s=Math.round(s),"number"==typeof t&&t<1)throw new Error("Poll backoff growth factor must be at least 1");if((n<0||n>s)&&n!==o.NEVER)throw new Error("Poll interval must be between 0 and max");if(s>o.MAX_INTERVAL&&s!==o.NEVER)throw new Error(`Max interval must be less than ${o.MAX_INTERVAL}`);this._frequency={backoff:t,interval:n,max:s}}get isDisposed(){return"disposed"===this.state.phase}get standby(){return this._standby}set standby(e){this.isDisposed||this.standby===e||(this._standby=e)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}async*[Symbol.asyncIterator](){for(;!this.isDisposed;)yield this.state,await this.tick.catch((()=>{}))}dispose(){this.isDisposed||(this._state={...s.DISPOSED_STATE,timestamp:(new Date).getTime()},this._tick.promise.catch((e=>{})),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(void 0),r.Signal.clearData(this))}refresh(){return this.schedule({cancel:({phase:e})=>"refreshed"===e,interval:o.IMMEDIATE,phase:"refreshed"})}async schedule(e={}){if(this.isDisposed)return;if(e.cancel&&e.cancel(this.state))return;const t=this._tick,n=new i.PromiseDelegate,s={interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime(),...e};if(this._state=s,this._tick=n,clearTimeout(this._timeout),this._ticked.emit(this.state),t.resolve(this),await t.promise,s.interval===o.NEVER)return void(this._timeout=void 0);this._timeout=setTimeout((()=>{this.isDisposed||this.tick!==n.promise||this._execute()}),s.interval)}start(){return this.schedule({cancel:({phase:e})=>"constructed"!==e&&"standby"!==e&&"stopped"!==e,interval:o.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:e})=>"stopped"===e,interval:o.NEVER,phase:"stopped"})}get hidden(){return s.hidden}_execute(){let e="function"==typeof this.standby?this.standby():this.standby;if("never"===e?e=!1:"when-hidden"===e&&(this.hidden?e=++this._lingered>this._linger:(this._lingered=0,e=!1)),e)return void this.schedule();const t=this.tick;this._factory(this.state).then((e=>{this.isDisposed||this.tick!==t||this.schedule({payload:e,phase:"rejected"===this.state.phase?"reconnected":"resolved"})})).catch((e=>{this.isDisposed||this.tick!==t||this.schedule({interval:s.sleep(this.frequency,this.state),payload:e,phase:"rejected"})}))}}!function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(o||(o={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_LINGER=1,e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:o.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:o.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,n){const{backoff:s,interval:i,max:r}=t;if(i===o.NEVER)return i;const a=!0===s?e.DEFAULT_BACKOFF:!1===s?1:s,l=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(i,n.interval*a);return Math.min(r,l)},e.hidden="undefined"!=typeof document&&(document.addEventListener("visibilitychange",(()=>{e.hidden="hidden"===document.visibilityState})),document.addEventListener("pagehide",(()=>{e.hidden="hidden"===document.visibilityState})),"hidden"===document.visibilityState)}(s||(s={}));class a{constructor(e,t=500){this.args=void 0,this.payload=null,this.limit=t,this.poll=new o({auto:!1,factory:async()=>{const{args:t}=this;return this.args=void 0,e(...t)},frequency:{backoff:!1,interval:o.NEVER,max:o.NEVER},standby:"never"}),this.payload=new i.PromiseDelegate,this.poll.ticked.connect(((e,t)=>{const{payload:n}=this;return"resolved"===t.phase?(this.payload=new i.PromiseDelegate,void n.resolve(t.payload)):"rejected"===t.phase||"stopped"===t.phase?(this.payload=new i.PromiseDelegate,n.promise.catch((e=>{})),void n.reject(t.payload)):void 0}),this)}get isDisposed(){return null===this.payload}dispose(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}class l extends a{invoke(...e){return this.args=e,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}class c extends a{constructor(e,t){super(e,"number"==typeof t?t:t&&t.limit),this._trailing=!1,"number"!=typeof t&&t&&"trailing"===t.edge&&(this._trailing=!0),this._interval=this._trailing?this.limit:o.IMMEDIATE}invoke(...e){const t="invoked"!==this.poll.state.phase;return(t||this._trailing)&&(this.args=e),t&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise}}},39770:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachedProperty:()=>s});class s{constructor(e){this._pid=i.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}get(e){let t,n=i.ensureMap(e);return t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e),t}set(e,t){let n,s=i.ensureMap(e);n=this._pid in s?s[this._pid]:s[this._pid]=this._createValue(e);let r=this._coerceValue(e,t);this._maybeNotify(e,n,s[this._pid]=r)}coerce(e){let t,n=i.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);let s=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=s)}_createValue(e){return(0,this._create)(e)}_coerceValue(e,t){let n=this._coerce;return n?n(e,t):t}_compareValue(e,t){let n=this._compare;return n?n(e,t):e===t}_maybeNotify(e,t,n){let s=this._changed;s&&!this._compareValue(t,n)&&s(e,t,n)}}var i;!function(e){e.clearData=function(e){i.ownerData.delete(e)}}(s||(s={})),function(e){e.ownerData=new WeakMap,e.nextPID=(()=>{let e=0;return()=>`pid-${`${Math.random()}`.slice(2)}-${e++}`})(),e.ensureMap=function(t){let n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(i||(i={}))},4016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Signal:()=>o,Stream:()=>a});var s,i=n(35259),r=n(95082);class o{constructor(e){this.sender=e}connect(e,t){return s.connect(this,e,t)}disconnect(e,t){return s.disconnect(this,e,t)}emit(e){s.emit(this,e)}}!function(e){e.disconnectBetween=function(e,t){s.disconnectBetween(e,t)},e.disconnectSender=function(e){s.disconnectSender(e)},e.disconnectReceiver=function(e){s.disconnectReceiver(e)},e.disconnectAll=function(e){s.disconnectAll(e)},e.clearData=function(e){s.disconnectAll(e)},e.getExceptionHandler=function(){return s.exceptionHandler},e.setExceptionHandler=function(e){let t=s.exceptionHandler;return s.exceptionHandler=e,t}}(o||(o={}));class a extends o{constructor(){super(...arguments),this._pending=new r.PromiseDelegate}async*[Symbol.asyncIterator](){let e=this._pending;for(;;)try{const{args:t,next:n}=await e.promise;e=n,yield t}catch(t){return}}emit(e){const t=this._pending,n=this._pending=new r.PromiseDelegate;t.resolve({args:e,next:n}),super.emit(e)}stop(){this._pending.promise.catch((()=>{})),this._pending.reject("stop"),this._pending=new r.PromiseDelegate}}!function(e){function t(e){let t=s.get(e);if(t&&0!==t.length){for(const e of t){if(!e.signal)continue;let t=e.thisArg||e.slot;e.signal=null,u(r.get(t))}u(t)}}function n(e){let t=r.get(e);if(t&&0!==t.length){for(const e of t){if(!e.signal)continue;let t=e.signal.sender;e.signal=null,u(s.get(t))}u(t)}}e.exceptionHandler=e=>{console.error(e)},e.connect=function(e,t,n){n=n||void 0;let i=s.get(e.sender);if(i||(i=[],s.set(e.sender,i)),l(i,e,t,n))return!1;let o=n||t,a=r.get(o);a||(a=[],r.set(o,a));let c={signal:e,slot:t,thisArg:n};return i.push(c),a.push(c),!0},e.disconnect=function(e,t,n){n=n||void 0;let i=s.get(e.sender);if(!i||0===i.length)return!1;let o=l(i,e,t,n);if(!o)return!1;let a=n||t,c=r.get(a);return o.signal=null,u(i),u(c),!0},e.disconnectBetween=function(e,t){let n=s.get(e);if(!n||0===n.length)return;let i=r.get(t);if(i&&0!==i.length){for(const t of i)t.signal&&t.signal.sender===e&&(t.signal=null);u(n),u(i)}},e.disconnectSender=t,e.disconnectReceiver=n,e.disconnectAll=function(e){t(e),n(e)},e.emit=function(e,t){let n=s.get(e.sender);if(n&&0!==n.length)for(let s=0,i=n.length;s<i;++s){let i=n[s];i.signal===e&&c(i,t)}};const s=new WeakMap,r=new WeakMap,o=new Set,a="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function l(e,t,n,s){return(0,i.find)(e,(e=>e.signal===t&&e.slot===n&&e.thisArg===s))}function c(t,n){let{signal:s,slot:i,thisArg:r}=t;try{i.call(r,s.sender,n)}catch(o){e.exceptionHandler(o)}}function u(e){0===o.size&&a(h),o.add(e)}function h(){o.forEach(d),o.clear()}function d(e){i.ArrayExt.removeAllWhere(e,p)}function p(e){return null===e.signal}}(s||(s={}))},90106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccordionLayout:()=>U,AccordionPanel:()=>q,BoxEngine:()=>v,BoxLayout:()=>H,BoxPanel:()=>W,BoxSizer:()=>S,CommandPalette:()=>K,ContextMenu:()=>J,DockLayout:()=>oe,DockPanel:()=>ae,FocusTracker:()=>le,GridLayout:()=>ce,Layout:()=>E,LayoutItem:()=>O,Menu:()=>G,MenuBar:()=>ue,Panel:()=>z,PanelLayout:()=>M,ScrollBar:()=>he,SingletonLayout:()=>de,SplitLayout:()=>F,SplitPanel:()=>V,StackedLayout:()=>pe,StackedPanel:()=>fe,TabBar:()=>X,TabPanel:()=>ge,Title:()=>C,Widget:()=>k});var s,i=n(35259),r=n(95082),o=n(19150),a=n(59523),l=n(39770),c=n(4016),u=n(70725);class h{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:e,edge:t,distance:n}=this._scrollTarget,i=s.SCROLL_EDGE_SIZE-n,r=Math.pow(i/s.SCROLL_EDGE_SIZE,2),o=Math.max(1,Math.round(r*s.SCROLL_EDGE_SIZE));switch(t){case"top":e.scrollTop-=o;break;case"left":e.scrollLeft-=o;break;case"right":e.scrollLeft+=o;break;case"bottom":e.scrollTop+=o}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});s.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,t){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise((e=>{this._resolve=e}));let n=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:t});return document.dispatchEvent(n),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation()}}moveDragImage(e,t){if(!this.dragImage)return;this.dragImage.style.transform=`translate(${e}px, ${t}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),0!==e.button)return;if(this._updateCurrentTarget(e),!this._currentTarget)return void this._finalize("none");if("none"===this._dropAction)return s.dispatchDragLeave(this,this._currentTarget,null,e),void this._finalize("none");let t=s.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let t=s.findScrollTarget(e);(this._scrollTarget||t)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)}_updateCurrentTarget(e){let t=this._currentTarget,n=this._currentTarget,i=this._currentElement,r=s.findElementBehindBackdrop(e,this.document);this._currentElement=r,r!==i&&r!==n&&s.dispatchDragExit(this,n,r,e),r!==i&&r!==n&&(n=s.dispatchDragEnter(this,r,n,e)),n!==t&&(this._currentTarget=n,s.dispatchDragLeave(this,t,n,e));let o=s.dispatchDragOver(this,n,e);this._setDropAction(o)}_attachDragImage(e,t){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.transform=`translate(${e}px, ${t}px)`;(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=s.validateAction(e,this.supportedActions),!this._override||this._dropAction!==e)switch(e){case"none":this._dropAction=e,this._override=h.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=h.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=h.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=h.overrideCursor("move",this.document)}}_finalize(e){let t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)}}!function(e){class t extends DragEvent{constructor(e,t){super(t.type,{bubbles:!0,cancelable:!0,altKey:e.altKey,button:e.button,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,detail:0,metaKey:e.metaKey,relatedTarget:t.related,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,view:window});const{drag:n}=t;this.dropAction="none",this.mimeData=n.mimeData,this.proposedAction=n.proposedAction,this.supportedActions=n.supportedActions,this.source=n.source}}e.Event=t,e.overrideCursor=function(e,t=document){return s.overrideCursor(e,t)}}(h||(h={})),function(e){function t(t,i=document){if(t){if(n&&t==n.event)return n.element;e.cursorBackdrop.style.zIndex="-1000";const s=i.elementFromPoint(t.clientX,t.clientY);return e.cursorBackdrop.style.zIndex="",n={event:t,element:s},s}{const t=e.cursorBackdrop.style.transform;if(s&&t===s.transform)return s.element;const n=e.cursorBackdrop.getBoundingClientRect();e.cursorBackdrop.style.zIndex="-1000";const r=i.elementFromPoint(n.left+n.width/2,n.top+n.height/2);return e.cursorBackdrop.style.zIndex="",s={transform:t,element:r},r}}e.SCROLL_EDGE_SIZE=20,e.validateAction=function(e,t){return i[e]&r[t]?e:"none"},e.findElementBehindBackdrop=t;let n=null,s=null;e.findScrollTarget=function(n){let s=n.clientX,i=n.clientY,r=t(n);for(;r;r=r.parentElement){if(!r.hasAttribute("data-lm-dragscroll"))continue;let t=0,n=0;r===document.body&&(t=window.pageXOffset,n=window.pageYOffset);let o=r.getBoundingClientRect(),a=o.top+n,l=o.left+t,c=l+o.width,u=a+o.height;if(s<l||s>=c||i<a||i>=u)continue;let h,d=s-l+1,p=i-a+1,f=c-s,g=u-i,m=Math.min(d,p,f,g);if(m>e.SCROLL_EDGE_SIZE)continue;switch(m){case g:h="bottom";break;case p:h="top";break;case f:h="right";break;case d:h="left";break;default:throw"unreachable"}let _,v=r.scrollWidth-r.clientWidth,b=r.scrollHeight-r.clientHeight;switch(h){case"top":_=b>0&&r.scrollTop>0;break;case"left":_=v>0&&r.scrollLeft>0;break;case"right":_=v>0&&r.scrollLeft<v;break;case"bottom":_=b>0&&r.scrollTop<b;break;default:throw"unreachable"}if(_)return{element:r,edge:h,distance:m}}return null},e.dispatchDragEnter=function(e,t,n,s){if(!t)return null;let i=new h.Event(s,{drag:e,related:n,type:"lm-dragenter"});if(!t.dispatchEvent(i))return t;const r=e.document instanceof Document?e.document.body:e.document.firstElementChild;return t===r?n:(i=new h.Event(s,{drag:e,related:n,type:"lm-dragenter"}),r.dispatchEvent(i),r)},e.dispatchDragExit=function(e,t,n,s){if(!t)return;let i=new h.Event(s,{drag:e,related:n,type:"lm-dragexit"});t.dispatchEvent(i)},e.dispatchDragLeave=function(e,t,n,s){if(!t)return;let i=new h.Event(s,{drag:e,related:n,type:"lm-dragleave"});t.dispatchEvent(i)},e.dispatchDragOver=function(e,t,n){if(!t)return"none";let s=new h.Event(n,{drag:e,related:null,type:"lm-dragover"});return!t.dispatchEvent(s)?s.dropAction:"none"},e.dispatchDrop=function(e,t,n){if(!t)return"none";let s=new h.Event(n,{drag:e,related:null,type:"lm-drop"});return!t.dispatchEvent(s)?s.dropAction:"none"};const i={none:0,copy:1,link:2,move:4},r={none:i.none,copy:i.copy,link:i.link,move:i.move,"copy-link":i.copy|i.link,"copy-move":i.copy|i.move,"link-move":i.link|i.move,all:i.copy|i.link|i.move};function o(t){e.cursorBackdrop&&(e.cursorBackdrop.style.transform=`translate(${t.clientX}px, ${t.clientY}px)`)}function a(n){if(!e.cursorBackdrop)return;let s=t();if(!s)return;const i=s.closest("[data-lm-dragscroll]");i&&(i.scrollTop+=e.cursorBackdrop.scrollTop-c,i.scrollLeft+=e.cursorBackdrop.scrollLeft-c,l())}function l(){e.cursorBackdrop.scrollTop=c,e.cursorBackdrop.scrollLeft=c}e.overrideCursor=function(t,n=document){let s=++d;const i=n instanceof Document?n.body:n.firstElementChild;return e.cursorBackdrop.isConnected||(e.cursorBackdrop.style.transform="scale(0)",i.appendChild(e.cursorBackdrop),l(),document.addEventListener("pointermove",o,{capture:!0,passive:!0}),e.cursorBackdrop.addEventListener("scroll",a,{capture:!0,passive:!0})),e.cursorBackdrop.style.cursor=t,new u.DisposableDelegate((()=>{s===d&&e.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",o,!0),e.cursorBackdrop.removeEventListener("scroll",a,!0),i.removeChild(e.cursorBackdrop))}))};const c=500;let d=0;e.cursorBackdrop=function(){const e=document.createElement("div");return e.classList.add("lm-cursor-backdrop"),e}()}(s||(s={}));var d,p,f=n(45159);class g{constructor(e){this.type="text",this.content=e}}class m{constructor(e,t,n,s){this.type="element",this.tag=e,this.attrs=t,this.children=n,this.renderer=s}}function _(e){let t,n={},s=[];for(let r=1,o=arguments.length;r<o;++r){let e=arguments[r];"string"==typeof e?s.push(new g(e)):e instanceof g||e instanceof m?s.push(e):e instanceof Array?i(s,e):1!==r&&2!==r||!e||"object"!=typeof e||("render"in e?t=e:n=e)}return new m(e,n,s,t);function i(e,t){for(let n of t)"string"==typeof n?e.push(new g(n)):(n instanceof g||n instanceof m)&&e.push(n)}}!function(e){e.a=e.bind(void 0,"a"),e.abbr=e.bind(void 0,"abbr"),e.address=e.bind(void 0,"address"),e.area=e.bind(void 0,"area"),e.article=e.bind(void 0,"article"),e.aside=e.bind(void 0,"aside"),e.audio=e.bind(void 0,"audio"),e.b=e.bind(void 0,"b"),e.bdi=e.bind(void 0,"bdi"),e.bdo=e.bind(void 0,"bdo"),e.blockquote=e.bind(void 0,"blockquote"),e.br=e.bind(void 0,"br"),e.button=e.bind(void 0,"button"),e.canvas=e.bind(void 0,"canvas"),e.caption=e.bind(void 0,"caption"),e.cite=e.bind(void 0,"cite"),e.code=e.bind(void 0,"code"),e.col=e.bind(void 0,"col"),e.colgroup=e.bind(void 0,"colgroup"),e.data=e.bind(void 0,"data"),e.datalist=e.bind(void 0,"datalist"),e.dd=e.bind(void 0,"dd"),e.del=e.bind(void 0,"del"),e.dfn=e.bind(void 0,"dfn"),e.div=e.bind(void 0,"div"),e.dl=e.bind(void 0,"dl"),e.dt=e.bind(void 0,"dt"),e.em=e.bind(void 0,"em"),e.embed=e.bind(void 0,"embed"),e.fieldset=e.bind(void 0,"fieldset"),e.figcaption=e.bind(void 0,"figcaption"),e.figure=e.bind(void 0,"figure"),e.footer=e.bind(void 0,"footer"),e.form=e.bind(void 0,"form"),e.h1=e.bind(void 0,"h1"),e.h2=e.bind(void 0,"h2"),e.h3=e.bind(void 0,"h3"),e.h4=e.bind(void 0,"h4"),e.h5=e.bind(void 0,"h5"),e.h6=e.bind(void 0,"h6"),e.header=e.bind(void 0,"header"),e.hr=e.bind(void 0,"hr"),e.i=e.bind(void 0,"i"),e.iframe=e.bind(void 0,"iframe"),e.img=e.bind(void 0,"img"),e.input=e.bind(void 0,"input"),e.ins=e.bind(void 0,"ins"),e.kbd=e.bind(void 0,"kbd"),e.label=e.bind(void 0,"label"),e.legend=e.bind(void 0,"legend"),e.li=e.bind(void 0,"li"),e.main=e.bind(void 0,"main"),e.map=e.bind(void 0,"map"),e.mark=e.bind(void 0,"mark"),e.meter=e.bind(void 0,"meter"),e.nav=e.bind(void 0,"nav"),e.noscript=e.bind(void 0,"noscript"),e.object=e.bind(void 0,"object"),e.ol=e.bind(void 0,"ol"),e.optgroup=e.bind(void 0,"optgroup"),e.option=e.bind(void 0,"option"),e.output=e.bind(void 0,"output"),e.p=e.bind(void 0,"p"),e.param=e.bind(void 0,"param"),e.pre=e.bind(void 0,"pre"),e.progress=e.bind(void 0,"progress"),e.q=e.bind(void 0,"q"),e.rp=e.bind(void 0,"rp"),e.rt=e.bind(void 0,"rt"),e.ruby=e.bind(void 0,"ruby"),e.s=e.bind(void 0,"s"),e.samp=e.bind(void 0,"samp"),e.section=e.bind(void 0,"section"),e.select=e.bind(void 0,"select"),e.small=e.bind(void 0,"small"),e.source=e.bind(void 0,"source"),e.span=e.bind(void 0,"span"),e.strong=e.bind(void 0,"strong"),e.sub=e.bind(void 0,"sub"),e.summary=e.bind(void 0,"summary"),e.sup=e.bind(void 0,"sup"),e.table=e.bind(void 0,"table"),e.tbody=e.bind(void 0,"tbody"),e.td=e.bind(void 0,"td"),e.textarea=e.bind(void 0,"textarea"),e.tfoot=e.bind(void 0,"tfoot"),e.th=e.bind(void 0,"th"),e.thead=e.bind(void 0,"thead"),e.time=e.bind(void 0,"time"),e.title=e.bind(void 0,"title"),e.tr=e.bind(void 0,"tr"),e.track=e.bind(void 0,"track"),e.u=e.bind(void 0,"u"),e.ul=e.bind(void 0,"ul"),e.var_=e.bind(void 0,"var"),e.video=e.bind(void 0,"video"),e.wbr=e.bind(void 0,"wbr")}(_||(_={})),function(e){e.realize=function(e){return p.createDOMNode(e)},e.render=function(e,t){let n=p.hostMap.get(t)||[],s=p.asContentArray(e);p.hostMap.set(t,s),p.updateContent(t,n,s)}}(d||(d={})),function(e){function t(e){let n=arguments[1]||null;const i=arguments[2]||null;if(n)n.insertBefore(t(e),i);else{if("text"===e.type)return document.createTextNode(e.content);if(n=document.createElement(e.tag),function(e,t){for(let n in t)n in s||("on"===n.substr(0,2)?e[n]=t[n]:e.setAttribute(n,t[n]));void 0!==t.className&&e.setAttribute("class",t.className);void 0!==t.htmlFor&&e.setAttribute("for",t.htmlFor);t.dataset&&function(e,t){for(let n in t)e.setAttribute(`data-${n}`,t[n])}(e,t.dataset);t.style&&function(e,t){let n,s=e.style;for(n in t)s[n]=t[n]}(e,t.style)}(n,e.attrs),e.renderer)return e.renderer.render(n,{attrs:e.attrs,children:e.children}),n;for(let s=0,i=e.children.length;s<i;++s)t(e.children[s],n)}return n}function n(e,t,s,i){for(let r=t.length-1;r>=s;--r){const s=t[r],o=i?e.lastChild:e.childNodes[r];"text"===s.type||(s.renderer&&s.renderer.unrender?s.renderer.unrender(o,{attrs:s.attrs,children:s.children}):n(o,s.children,0,!1)),i&&e.removeChild(o)}}e.hostMap=new WeakMap,e.asContentArray=function(e){return e?e instanceof Array?e:[e]:[]},e.createDOMNode=t,e.updateContent=function e(s,o,a){if(o===a)return;let l=function(e,t){let n=e.firstChild,s=Object.create(null);for(let i of t)"element"===i.type&&i.attrs.key&&(s[i.attrs.key]={vNode:i,element:n}),n=n.nextSibling;return s}(s,o),c=o.slice(),u=s.firstChild,h=a.length;for(let n=0;n<h;++n){if(n>=c.length){t(a[n],s);continue}let o=c[n],h=a[n];if(o===h){u=u.nextSibling;continue}if("text"===o.type&&"text"===h.type){u.textContent!==h.content&&(u.textContent=h.content),u=u.nextSibling;continue}if("text"===o.type||"text"===h.type){i.ArrayExt.insert(c,n,h),t(h,s,u);continue}if(!o.renderer!=!h.renderer){i.ArrayExt.insert(c,n,h),t(h,s,u);continue}let d=h.attrs.key;if(d&&d in l){let e=l[d];e.vNode!==o&&(i.ArrayExt.move(c,c.indexOf(e.vNode,n+1),n),s.insertBefore(e.element,u),o=e.vNode,u=e.element)}if(o===h){u=u.nextSibling;continue}let p=o.attrs.key;p&&p!==d?(i.ArrayExt.insert(c,n,h),t(h,s,u)):o.tag===h.tag?(r(u,o.attrs,h.attrs),h.renderer?h.renderer.render(u,{attrs:h.attrs,children:h.children}):e(u,o.children,h.children),u=u.nextSibling):(i.ArrayExt.insert(c,n,h),t(h,s,u))}n(s,c,h,!0)};const s={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function r(e,t,n){if(t===n)return;let i;for(i in t)i in s||i in n||("on"===i.substr(0,2)?e[i]=null:e.removeAttribute(i));for(i in n)i in s||t[i]===n[i]||("on"===i.substr(0,2)?e[i]=n[i]:e.setAttribute(i,n[i]));t.className!==n.className&&(void 0!==n.className?e.setAttribute("class",n.className):e.removeAttribute("class")),t.htmlFor!==n.htmlFor&&(void 0!==n.htmlFor?e.setAttribute("for",n.htmlFor):e.removeAttribute("for")),t.dataset!==n.dataset&&function(e,t,n){for(let s in t)s in n||e.removeAttribute(`data-${s}`);for(let s in n)t[s]!==n[s]&&e.setAttribute(`data-${s}`,n[s])}(e,t.dataset||{},n.dataset||{}),t.style!==n.style&&function(e,t,n){let s,i=e.style;for(s in t)s in n||(i[s]="");for(s in n)t[s]!==n[s]&&(i[s]=n[s])}(e,t.style||{},n.style||{})}}(p||(p={}));var v,b,y,w,x=n(27347);class S{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}}!function(e){e.calc=function(e,t){let n=e.length;if(0===n)return t;let s=0,i=0,r=0,o=0,a=0;for(let u=0;u<n;++u){let t=e[u],n=t.minSize,l=t.maxSize,c=t.sizeHint;t.done=!1,t.size=Math.max(n,Math.min(c,l)),r+=t.size,s+=n,i+=l,t.stretch>0&&(o+=t.stretch,a++)}if(t===r)return 0;if(t<=s){for(let t=0;t<n;++t){let n=e[t];n.size=n.minSize}return t-s}if(t>=i){for(let t=0;t<n;++t){let n=e[t];n.size=n.maxSize}return t-i}let l=.01,c=n;if(t<r){let s=r-t;for(;a>0&&s>l;){let t=s,i=o;for(let r=0;r<n;++r){let n=e[r];if(n.done||0===n.stretch)continue;let l=n.stretch*t/i;n.size-l<=n.minSize?(s-=n.size-n.minSize,o-=n.stretch,n.size=n.minSize,n.done=!0,c--,a--):(s-=l,n.size-=l)}}for(;c>0&&s>l;){let t=s/c;for(let i=0;i<n;++i){let n=e[i];n.done||(n.size-t<=n.minSize?(s-=n.size-n.minSize,n.size=n.minSize,n.done=!0,c--):(s-=t,n.size-=t))}}}else{let s=t-r;for(;a>0&&s>l;){let t=s,i=o;for(let r=0;r<n;++r){let n=e[r];if(n.done||0===n.stretch)continue;let l=n.stretch*t/i;n.size+l>=n.maxSize?(s-=n.maxSize-n.size,o-=n.stretch,n.size=n.maxSize,n.done=!0,c--,a--):(s-=l,n.size+=l)}}for(;c>0&&s>l;){let t=s/c;for(let i=0;i<n;++i){let n=e[i];n.done||(n.size+t>=n.maxSize?(s-=n.maxSize-n.size,n.size=n.maxSize,n.done=!0,c--):(s-=t,n.size+=t))}}}return 0},e.adjust=function(e,t,n){0!==e.length&&0!==n&&(n>0?function(e,t,n){let s=0;for(let a=0;a<=t;++a){let t=e[a];s+=t.maxSize-t.size}let i=0;for(let a=t+1,l=e.length;a<l;++a){let t=e[a];i+=t.size-t.minSize}n=Math.min(n,s,i);let r=n;for(let a=t;a>=0&&r>0;--a){let t=e[a],n=t.maxSize-t.size;n>=r?(t.sizeHint=t.size+r,r=0):(t.sizeHint=t.size+n,r-=n)}let o=n;for(let a=t+1,l=e.length;a<l&&o>0;++a){let t=e[a],n=t.size-t.minSize;n>=o?(t.sizeHint=t.size-o,o=0):(t.sizeHint=t.size-n,o-=n)}}(e,t,n):function(e,t,n){let s=0;for(let a=t+1,l=e.length;a<l;++a){let t=e[a];s+=t.maxSize-t.size}let i=0;for(let a=0;a<=t;++a){let t=e[a];i+=t.size-t.minSize}n=Math.min(n,s,i);let r=n;for(let a=t+1,l=e.length;a<l&&r>0;++a){let t=e[a],n=t.maxSize-t.size;n>=r?(t.sizeHint=t.size+r,r=0):(t.sizeHint=t.size+n,r-=n)}let o=n;for(let a=t;a>=0&&o>0;--a){let t=e[a],n=t.size-t.minSize;n>=o?(t.sizeHint=t.size-o,o=0):(t.sizeHint=t.size-n,o-=n)}}(e,t,-n))}}(v||(v={}));class C{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new c.Signal(this),this._isDisposed=!1,this.owner=e.owner,void 0!==e.label&&(this._label=e.label),void 0!==e.mnemonic&&(this._mnemonic=e.mnemonic),void 0!==e.icon&&(this._icon=e.icon),void 0!==e.iconClass&&(this._iconClass=e.iconClass),void 0!==e.iconLabel&&(this._iconLabel=e.iconLabel),void 0!==e.caption&&(this._caption=e.caption),void 0!==e.className&&(this._className=e.className),void 0!==e.closable&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,c.Signal.clearData(this))}}class k{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new c.Signal(this),this._hiddenMode=k.HiddenMode.Display,this.node=b.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(k.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&k.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),c.Signal.clearData(this),a.MessageLoop.clearData(this),l.AttachedProperty.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(k.Flag.IsDisposed)}get isAttached(){return this.testFlag(k.Flag.IsAttached)}get isHidden(){return this.testFlag(k.Flag.IsHidden)}get isVisible(){return this.testFlag(k.Flag.IsVisible)}get title(){return b.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==k.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let e=new k.ChildMessage("child-removed",this);a.MessageLoop.sendMessage(this._parent,e)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let e=new k.ChildMessage("child-added",this);a.MessageLoop.sendMessage(this._parent,e)}this.isDisposed||a.MessageLoop.sendMessage(this,k.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(k.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let t=e;t;t=t._parent)if(t===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,t){return!0===t?(this.node.classList.add(e),!0):!1===t?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){a.MessageLoop.postMessage(this,k.Msg.UpdateRequest)}fit(){a.MessageLoop.postMessage(this,k.Msg.FitRequest)}activate(){a.MessageLoop.postMessage(this,k.Msg.ActivateRequest)}close(){a.MessageLoop.sendMessage(this,k.Msg.CloseRequest)}show(){if(this.testFlag(k.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,k.Msg.BeforeShow),this.clearFlag(k.Flag.IsHidden),this._toggleHidden(!1),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,k.Msg.AfterShow),this.parent)){let e=new k.ChildMessage("child-shown",this);a.MessageLoop.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(k.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,k.Msg.BeforeHide),this.setFlag(k.Flag.IsHidden),this._toggleHidden(!0),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,k.Msg.AfterHide),this.parent)){let e=new k.ChildMessage("child-hidden",this);a.MessageLoop.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return 0!=(this._flags&e)}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(k.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(k.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(k.Flag.IsVisible),this.setFlag(k.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(k.Flag.IsVisible),this.clearFlag(k.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e)}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&k.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case k.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case k.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case k.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1"}else switch(this._hiddenMode){case k.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case k.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case k.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex=""}}}!function(e){var t,n,s;(t=e.HiddenMode||(e.HiddenMode={}))[t.Display=0]="Display",t[t.Scale=1]="Scale",t[t.ContentVisibility=2]="ContentVisibility",(n=e.Flag||(e.Flag={}))[n.IsDisposed=1]="IsDisposed",n[n.IsAttached=2]="IsAttached",n[n.IsHidden=4]="IsHidden",n[n.IsVisible=8]="IsVisible",n[n.DisallowLayout=16]="DisallowLayout",(s=e.Msg||(e.Msg={})).BeforeShow=new a.Message("before-show"),s.AfterShow=new a.Message("after-show"),s.BeforeHide=new a.Message("before-hide"),s.AfterHide=new a.Message("after-hide"),s.BeforeAttach=new a.Message("before-attach"),s.AfterAttach=new a.Message("after-attach"),s.BeforeDetach=new a.Message("before-detach"),s.AfterDetach=new a.Message("after-detach"),s.ParentChanged=new a.Message("parent-changed"),s.UpdateRequest=new a.ConflatableMessage("update-request"),s.FitRequest=new a.ConflatableMessage("fit-request"),s.ActivateRequest=new a.ConflatableMessage("activate-request"),s.CloseRequest=new a.ConflatableMessage("close-request");class i extends a.Message{constructor(e,t){super(e),this.child=t}}e.ChildMessage=i;class r extends a.Message{constructor(e,t){super("resize"),this.width=e,this.height=t}}e.ResizeMessage=r,function(e){e.UnknownSize=new e(-1,-1)}(r=e.ResizeMessage||(e.ResizeMessage={})),e.attach=function(t,n,s=null){if(t.parent)throw new Error("Cannot attach a child widget.");if(t.isAttached||t.node.isConnected)throw new Error("Widget is already attached.");if(!n.isConnected)throw new Error("Host is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeAttach),n.insertBefore(t.node,s),a.MessageLoop.sendMessage(t,e.Msg.AfterAttach)},e.detach=function(t){if(t.parent)throw new Error("Cannot detach a child widget.");if(!t.isAttached||!t.node.isConnected)throw new Error("Widget is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeDetach),t.node.parentNode.removeChild(t.node),a.MessageLoop.sendMessage(t,e.Msg.AfterDetach)}}(k||(k={})),function(e){e.titleProperty=new l.AttachedProperty({name:"title",create:e=>new C({owner:e})}),e.createNode=function(e){return e.node||document.createElement(e.tag||"div")}}(b||(b={}));class E{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,c.Signal.clearData(this),l.AttachedProperty.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e)}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const t of this)a.MessageLoop.sendMessage(t,k.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const t of this)a.MessageLoop.sendMessage(t,k.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const t of this)a.MessageLoop.sendMessage(t,e)}onAfterAttach(e){for(const t of this)a.MessageLoop.sendMessage(t,e)}onBeforeDetach(e){for(const t of this)a.MessageLoop.sendMessage(t,e)}onAfterDetach(e){for(const t of this)a.MessageLoop.sendMessage(t,e)}onBeforeShow(e){for(const t of this)t.isHidden||a.MessageLoop.sendMessage(t,e)}onAfterShow(e){for(const t of this)t.isHidden||a.MessageLoop.sendMessage(t,e)}onBeforeHide(e){for(const t of this)t.isHidden||a.MessageLoop.sendMessage(t,e)}onAfterHide(e){for(const t of this)t.isHidden||a.MessageLoop.sendMessage(t,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}}!function(e){e.getHorizontalAlignment=function(e){return y.horizontalAlignmentProperty.get(e)},e.setHorizontalAlignment=function(e,t){y.horizontalAlignmentProperty.set(e,t)},e.getVerticalAlignment=function(e){return y.verticalAlignmentProperty.get(e)},e.setVerticalAlignment=function(e,t){y.verticalAlignmentProperty.set(e,t)}}(E||(E={}));class O{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=o.ElementExt.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,t,n,s){let i=Math.max(this._minWidth,Math.min(n,this._maxWidth)),r=Math.max(this._minHeight,Math.min(s,this._maxHeight));if(i<n)switch(E.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-i)/2;break;case"right":e+=n-i;break;default:throw"unreachable"}if(r<s)switch(E.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(s-r)/2;break;case"bottom":t+=s-r;break;default:throw"unreachable"}let o=!1,l=this.widget.node.style;if(this._top!==t&&(this._top=t,l.top=`${t}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==i&&(o=!0,this._width=i,l.width=`${i}px`),this._height!==r&&(o=!0,this._height=r,l.height=`${r}px`),o){let e=new k.ResizeMessage(i,r);a.MessageLoop.sendMessage(this.widget,e)}}}!function(e){function t(e){e.parent&&e.parent.layout&&e.parent.update()}e.horizontalAlignmentProperty=new l.AttachedProperty({name:"horizontalAlignment",create:()=>"center",changed:t}),e.verticalAlignmentProperty=new l.AttachedProperty({name:"verticalAlignment",create:()=>"top",changed:t})}(y||(y={}));class M extends E{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,t){t.parent=this.parent;let n=this._widgets.indexOf(t),s=Math.max(0,Math.min(e,this._widgets.length));if(-1===n)return i.ArrayExt.insert(this._widgets,s,t),void(this.parent&&this.attachWidget(s,t));s===this._widgets.length&&s--,n!==s&&(i.ArrayExt.move(this._widgets,n,s),this.parent&&this.moveWidget(n,s,t))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let t=i.ArrayExt.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)}init(){super.init();let e=0;for(const t of this)this.attachWidget(e++,t)}attachWidget(e,t){let n=this.parent.node.children[e];this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,n),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterAttach)}moveWidget(e,t,n){this.parent.isAttached&&a.MessageLoop.sendMessage(n,k.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&a.MessageLoop.sendMessage(n,k.Msg.AfterDetach);let s=this.parent.node.children[t];this.parent.isAttached&&a.MessageLoop.sendMessage(n,k.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,s),this.parent.isAttached&&a.MessageLoop.sendMessage(n,k.Msg.AfterAttach)}detachWidget(e,t){this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterDetach)}}!function(e){e.clampDimension=function(e){return Math.max(0,Math.floor(e))}}(w||(w={}));var T,D,P,A,R,j,I,N,L,B,$=w;class F extends M{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,void 0!==e.orientation&&(this._orientation=e.orientation),void 0!==e.alignment&&(this._alignment=e.alignment),void 0!==e.spacing&&(this._spacing=w.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=w.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map((e=>e.size))}relativeSizes(){return T.normalize(this._sizers.map((e=>e.size)))}setRelativeSizes(e,t=!0){let n=this._sizers.length,s=e.slice(0,n);for(;s.length<n;)s.push(0);let i=T.normalize(s);for(let r=0;r<n;++r){let e=this._sizers[r];e.sizeHint=i[r],e.size=i[r]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()}moveHandle(e,t){let n,s=this._handles[e];if(s&&!s.classList.contains("lm-mod-hidden")&&(n="horizontal"===this._orientation?t-s.offsetLeft:t-s.offsetTop,0!==n)){for(let e of this._sizers)e.size>0&&(e.sizeHint=e.size);v.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){let n=new O(t),s=T.createHandle(this.renderer),r=T.averageSize(this._sizers),o=T.createSizer(r);i.ArrayExt.insert(this._items,e,n),i.ArrayExt.insert(this._sizers,e,o),i.ArrayExt.insert(this._handles,e,s),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(s),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,n){i.ArrayExt.move(this._items,e,t),i.ArrayExt.move(this._sizers,e,t),i.ArrayExt.move(this._handles,e,t),this.parent.fit()}detachWidget(e,t){let n=i.ArrayExt.removeAt(this._items,e),s=i.ArrayExt.removeAt(this._handles,e);i.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(s),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,t,n,s,i,r,o){const a=this._items[e];if(a.isHidden)return;let l=this._handles[e].style;t?(n+=this.widgetOffset,a.update(n,s,o,i),n+=o,l.top=`${s}px`,l.left=`${n}px`,l.width=`${this._spacing}px`,l.height=`${i}px`):(s+=this.widgetOffset,a.update(n,s,r,o),s+=o,l.top=`${s}px`,l.left=`${n}px`,l.width=`${r}px`,l.height=`${this._spacing}px`)}_fit(){let e=0,t=-1;for(let o=0,a=this._items.length;o<a;++o)this._items[o].isHidden?this._handles[o].classList.add("lm-mod-hidden"):(this._handles[o].classList.remove("lm-mod-hidden"),t=o,e++);-1!==t&&this._handles[t].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let n="horizontal"===this._orientation,s=n?this._fixed:0,i=n?0:this._fixed;for(let o=0,a=this._items.length;o<a;++o){let e=this._items[o],t=this._sizers[o];t.size>0&&(t.sizeHint=t.size),e.isHidden?(t.minSize=0,t.maxSize=0):(e.fit(),t.stretch=F.getStretch(e.widget),n?(t.minSize=e.minWidth,t.maxSize=e.maxWidth,s+=e.minWidth,i=Math.max(i,e.minHeight)):(t.minSize=e.minHeight,t.maxSize=e.maxHeight,i+=e.minHeight,s=Math.max(s,e.minWidth)))}let r=this._box=o.ElementExt.boxSizing(this.parent.node);s+=r.horizontalSum,i+=r.verticalSum;let l=this.parent.node.style;l.minWidth=`${s}px`,l.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,k.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let n=0;for(let o=0,h=this._items.length;o<h;++o)n+=+!this._items[o].isHidden;if(0===n&&0===this.widgetOffset)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let s=this._box.paddingTop,i=this._box.paddingLeft,r=e-this._box.horizontalSum,a=t-this._box.verticalSum,l=0,c=0,u="horizontal"===this._orientation;if(n>0){let e;if(e=u?Math.max(0,r-this._fixed):Math.max(0,a-this._fixed),this._hasNormedSizes){for(let t of this._sizers)t.sizeHint*=e;this._hasNormedSizes=!1}let t=v.calc(this._sizers,e);if(t>0)switch(this._alignment){case"start":break;case"center":l=0,c=t/2;break;case"end":l=0,c=t;break;case"justify":l=t/n,c=0;break;default:throw"unreachable"}}for(let o=0,h=this._items.length;o<h;++o){const e=this._items[o].isHidden?0:this._sizers[o].size+l;this.updateItemPosition(o,u,u?i+c:i,u?s:s+c,a,r,e);const t=this.widgetOffset+(this._handles[o].classList.contains("lm-mod-hidden")?0:this._spacing);u?i+=e+t:s+=e+t}}}!function(e){e.getStretch=function(e){return T.stretchProperty.get(e)},e.setStretch=function(e,t){T.stretchProperty.set(e,t)}}(F||(F={})),function(e){e.stretchProperty=new l.AttachedProperty({name:"stretch",create:()=>0,coerce:(e,t)=>Math.max(0,Math.floor(t)),changed:function(e){e.parent&&e.parent.layout instanceof F&&e.parent.fit()}}),e.createSizer=function(e){let t=new S;return t.sizeHint=Math.floor(e),t},e.createHandle=function(e){let t=e.createHandle();return t.style.position="absolute",t.style.contain="style",t},e.averageSize=function(e){return e.reduce(((e,t)=>e+t.size),0)/e.length||0},e.normalize=function(e){let t=e.length;if(0===t)return[];let n=e.reduce(((e,t)=>e+Math.abs(t)),0);return 0===n?e.map((e=>1/t)):e.map((e=>e/n))}}(T||(T={}));class U extends F{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=$.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,t){const n=this._titles[e],s=n.classList.contains("lm-mod-expanded"),i=D.createTitle(this.renderer,t.title,s);this._titles[e]=i,this.parent.node.replaceChild(i,n)}insertWidget(e,t){t.id||(t.id=`id-${r.UUID.uuid4()}`),super.insertWidget(e,t)}attachWidget(e,t){const n=D.createTitle(this.renderer,t.title);i.ArrayExt.insert(this._titles,e,n),this.parent.node.appendChild(n),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",n.id),super.attachWidget(e,t)}moveWidget(e,t,n){i.ArrayExt.move(this._titles,e,t),super.moveWidget(e,t,n)}detachWidget(e,t){const n=i.ArrayExt.removeAt(this._titles,e);this.parent.node.removeChild(n),super.detachWidget(e,t)}updateItemPosition(e,t,n,s,i,r,o){const a=this._titles[e].style;a.top=`${s}px`,a.left=`${n}px`,a.height=`${this.widgetOffset}px`,a.width=t?`${i}px`:`${r}px`,super.updateItemPosition(e,t,n,s,i,r,o)}}!function(e){e.createTitle=function(e,t,n=!0){const s=e.createSectionTitle(t);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${t.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",t.owner.id),n&&s.classList.add("lm-mod-expanded"),s}}(D||(D={}));class z extends k{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=P.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,t){this.layout.insertWidget(e,t)}}!function(e){e.createLayout=function(e){return e.layout||new M}}(P||(P={}));class V extends z{constructor(e={}){super({layout:A.createLayout(e)}),this._handleMoved=new c.Signal(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,t=!0){this.layout.setRelativeSizes(e,t)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),27===e.keyCode&&this._releaseMouse()}_evtPointerDown(e){if(0!==e.button)return;let t,n=this.layout,s=i.ArrayExt.findFirstIndex(n.handles,(t=>t.contains(e.target)));if(-1===s)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let r=n.handles[s],o=r.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-o.left:e.clientY-o.top;let a=window.getComputedStyle(r),l=h.overrideCursor(a.cursor);this._pressData={index:s,delta:t,override:l}}_evtPointerMove(e){let t;e.preventDefault(),e.stopPropagation();let n=this.layout,s=this.node.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-s.left-this._pressData.delta:e.clientY-s.top-this._pressData.delta,n.moveHandle(this._pressData.index,t)}_evtPointerUp(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}}!function(e){class t{createHandle(){let e=document.createElement("div");return e.className="lm-SplitPanel-handle",e}}e.Renderer=t,e.defaultRenderer=new t,e.getStretch=function(e){return F.getStretch(e)},e.setStretch=function(e,t){F.setStretch(e,t)}}(V||(V={})),function(e){e.createLayout=function(e){return e.layout||new F({renderer:e.renderer||V.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}}(A||(A={}));class q extends V{constructor(e={}){super({...e,layout:R.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new c.Signal(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)}expand(e){const t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)}insertWidget(e,t){super.insertWidget(e,t),t.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e)}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const t=i.ArrayExt.findFirstIndex(this.widgets,(t=>t.contains(e.owner)));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())}_computeWidgetSize(e){const t=this.layout,n=t.widgets[e];if(!n)return;const s=n.isHidden,i=t.absoluteSizes(),r=(s?-1:1)*this.spacing,o=i.reduce(((e,t)=>e+t));let a=[...i];if(s){const t=this._widgetSizesCache.get(n);if(!t)return;a[e]+=t;const s=a.map((e=>e-t>0)).lastIndexOf(!0);-1===s?a.forEach(((n,s)=>{s!==e&&(a[s]-=i[s]/o*(t-r))})):a[s]-=t-r}else{const t=i[e];this._widgetSizesCache.set(n,t),a[e]=0;const s=a.map((e=>e>0)).lastIndexOf(!0);if(-1===s)return;a[s]=i[s]+t+r}return a.map((e=>e/(o+r)))}_evtClick(e){const t=e.target;if(t){const n=i.ArrayExt.findFirstIndex(this.titles,(e=>e.contains(t)));n>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(n))}}_eventKeyDown(e){if(e.defaultPrevented)return;const t=e.target;let n=!1;if(t){const s=i.ArrayExt.findFirstIndex(this.titles,(e=>e.contains(t)));if(s>=0){const i=e.keyCode.toString();if(e.key.match(/Space|Enter/)||i.match(/13|32/))t.click(),n=!0;else if("horizontal"===this.orientation?e.key.match(/ArrowLeft|ArrowRight/)||i.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||i.match(/38|40/)){const t=e.key.match(/ArrowLeft|ArrowUp/)||i.match(/37|38/)?-1:1,r=this.titles.length,o=(s+r+t)%r;this.titles[o].focus(),n=!0}else"End"===e.key||"35"===i?(this.titles[this.titles.length-1].focus(),n=!0):"Home"!==e.key&&"36"!==i||(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}_toggleExpansion(e){const t=this.titles[e],n=this.layout.widgets[e],s=this._computeWidgetSize(e);s&&this.setRelativeSizes(s,!1),n.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),n.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),n.hide()),this._expansionToggled.emit(e)}}!function(e){class t extends V.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++t._nInstance}createCollapseIcon(e){return document.createElement("span")}createSectionTitle(e){const t=document.createElement("h3");t.setAttribute("tabindex","0"),t.id=this.createTitleKey(e),t.className=this.titleClassName;for(const s in e.dataset)t.dataset[s]=e.dataset[s];t.appendChild(this.createCollapseIcon(e)).className="lm-AccordionPanel-titleCollapser";const n=t.appendChild(document.createElement("span"));return n.className="lm-AccordionPanel-titleLabel",n.textContent=e.label,n.title=e.caption||e.label,t}createTitleKey(e){let t=this._titleKeys.get(e);return void 0===t&&(t=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(e,t)),t}}t._nInstance=0,e.Renderer=t,e.defaultRenderer=new t}(q||(q={})),function(e){e.createLayout=function(e){return e.layout||new U({renderer:e.renderer||q.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing,titleSpace:e.titleSpace})}}(R||(R={}));class H extends M{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",void 0!==e.direction&&(this._direction=e.direction),void 0!==e.alignment&&(this._alignment=e.alignment),void 0!==e.spacing&&(this._spacing=$.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=$.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,t){i.ArrayExt.insert(this._items,e,new O(t)),i.ArrayExt.insert(this._sizers,e,new S),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,n){i.ArrayExt.move(this._items,e,t),i.ArrayExt.move(this._sizers,e,t),this.parent.update()}detachWidget(e,t){let n=i.ArrayExt.removeAt(this._items,e);i.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterDetach),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let o=0,a=this._items.length;o<a;++o)e+=+!this._items[o].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let t=j.isHorizontal(this._direction),n=t?this._fixed:0,s=t?0:this._fixed;for(let o=0,a=this._items.length;o<a;++o){let e=this._items[o],i=this._sizers[o];e.isHidden?(i.minSize=0,i.maxSize=0):(e.fit(),i.sizeHint=H.getSizeBasis(e.widget),i.stretch=H.getStretch(e.widget),t?(i.minSize=e.minWidth,i.maxSize=e.maxWidth,n+=e.minWidth,s=Math.max(s,e.minHeight)):(i.minSize=e.minHeight,i.maxSize=e.maxHeight,s+=e.minHeight,n=Math.max(n,e.minWidth)))}let i=this._box=o.ElementExt.boxSizing(this.parent.node);n+=i.horizontalSum,s+=i.verticalSum;let r=this.parent.node.style;r.minWidth=`${n}px`,r.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,k.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let n=0;for(let o=0,h=this._items.length;o<h;++o)n+=+!this._items[o].isHidden;if(0===n)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let s,i=this._box.paddingTop,r=this._box.paddingLeft,a=e-this._box.horizontalSum,l=t-this._box.verticalSum;switch(this._direction){case"left-to-right":s=v.calc(this._sizers,Math.max(0,a-this._fixed));break;case"top-to-bottom":s=v.calc(this._sizers,Math.max(0,l-this._fixed));break;case"right-to-left":s=v.calc(this._sizers,Math.max(0,a-this._fixed)),r+=a;break;case"bottom-to-top":s=v.calc(this._sizers,Math.max(0,l-this._fixed)),i+=l;break;default:throw"unreachable"}let c=0,u=0;if(s>0)switch(this._alignment){case"start":break;case"center":c=0,u=s/2;break;case"end":c=0,u=s;break;case"justify":c=s/n,u=0;break;default:throw"unreachable"}for(let o=0,h=this._items.length;o<h;++o){let e=this._items[o];if(e.isHidden)continue;let t=this._sizers[o].size;switch(this._direction){case"left-to-right":e.update(r+u,i,t+c,l),r+=t+c+this._spacing;break;case"top-to-bottom":e.update(r,i+u,a,t+c),i+=t+c+this._spacing;break;case"right-to-left":e.update(r-u-t-c,i,t+c,l),r-=t+c+this._spacing;break;case"bottom-to-top":e.update(r,i-u-t-c,a,t+c),i-=t+c+this._spacing;break;default:throw"unreachable"}}}}!function(e){e.getStretch=function(e){return j.stretchProperty.get(e)},e.setStretch=function(e,t){j.stretchProperty.set(e,t)},e.getSizeBasis=function(e){return j.sizeBasisProperty.get(e)},e.setSizeBasis=function(e,t){j.sizeBasisProperty.set(e,t)}}(H||(H={})),function(e){function t(e){e.parent&&e.parent.layout instanceof H&&e.parent.fit()}e.stretchProperty=new l.AttachedProperty({name:"stretch",create:()=>0,coerce:(e,t)=>Math.max(0,Math.floor(t)),changed:t}),e.sizeBasisProperty=new l.AttachedProperty({name:"sizeBasis",create:()=>0,coerce:(e,t)=>Math.max(0,Math.floor(t)),changed:t}),e.isHorizontal=function(e){return"left-to-right"===e||"right-to-left"===e},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))}}(j||(j={}));class W extends z{constructor(e={}){super({layout:I.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}}!function(e){e.getStretch=function(e){return H.getStretch(e)},e.setStretch=function(e,t){H.setStretch(e,t)},e.getSizeBasis=function(e){return H.getSizeBasis(e)},e.setSizeBasis=function(e,t){H.setSizeBasis(e,t)}}(W||(W={})),function(e){e.createLayout=function(e){return e.layout||new H(e)}}(I||(I={}));class K extends k{constructor(e){super({node:N.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(k.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||K.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let t=N.createItem(this.commands,e);return this._items.push(t),this.refresh(),t}addItems(e){const t=e.map((e=>N.createItem(this.commands,e)));return t.forEach((e=>this._items.push(e))),this.refresh(),t}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){i.ArrayExt.removeAt(this._items,e)&&this.refresh()}clearItems(){0!==this._items.length&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,""!==this.inputNode.value){this.node.getElementsByClassName("lm-close-icon")[0].style.display="inherit"}else{this.node.getElementsByClassName("lm-close-icon")[0].style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused()}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let e=this.inputNode;e.focus(),e.select()}}onUpdateRequest(e){if(this.isHidden)return;let t=this.inputNode.value,n=this.contentNode,s=this._results;if(s||(s=this._results=N.search(this._items,t),this._activeIndex=t?i.ArrayExt.findFirstIndex(s,N.canActivate):-1),!t&&0===s.length)return void d.render(null,n);if(t&&0===s.length){let e=this.renderer.renderEmptyMessage({query:t});return void d.render(e,n)}let r=this.renderer,a=this._activeIndex,l=new Array(s.length);for(let i=0,o=s.length;i<o;++i){let e=s[i];if("header"===e.type){let t=e.indices,n=e.category;l[i]=r.renderHeader({category:n,indices:t})}else{let t=e.item,n=e.indices,s=i===a;l[i]=r.renderItem({item:t,indices:n,active:s})}}if(d.render(l,n),a<0||a>=s.length)n.scrollTop=0;else{let e=n.children[a];o.ElementExt.scrollIntoViewIfNeeded(n,e)}}_evtClick(e){if(0!==e.button)return;if(e.target.classList.contains("lm-close-icon"))return this.inputNode.value="",void this.refresh();let t=i.ArrayExt.findFirstIndex(this.contentNode.children,(t=>t.contains(e.target)));-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem()}}_activateNextItem(){if(!this._results||0===this._results.length)return;let e=this._activeIndex,t=this._results.length,n=e<t-1?e+1:0,s=0===n?t-1:n-1;this._activeIndex=i.ArrayExt.findFirstIndex(this._results,N.canActivate,n,s),this.update()}_activatePreviousItem(){if(!this._results||0===this._results.length)return;let e=this._activeIndex,t=this._results.length,n=e<=0?t-1:e-1,s=n===t-1?0:n+1;this._activeIndex=i.ArrayExt.findLastIndex(this._results,N.canActivate,n,s),this.update()}_execute(e){if(!this._results)return;let t=this._results[e];if(t){if("header"===t.type){let e=this.inputNode;return e.value=`${t.category.toLowerCase()} `,e.focus(),void this.refresh()}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}}!function(e){class t{renderHeader(e){let t=this.formatHeader(e);return _.li({className:"lm-CommandPalette-header"},t)}renderItem(e){let t=this.createItemClass(e),n=this.createItemDataset(e);return e.item.isToggleable?_.li({className:t,dataset:n,role:"menuitemcheckbox","aria-checked":`${e.item.isToggled}`},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e)):_.li({className:t,dataset:n,role:"menuitem"},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e))}renderEmptyMessage(e){let t=this.formatEmptyMessage(e);return _.li({className:"lm-CommandPalette-emptyMessage"},t)}renderItemIcon(e){let t=this.createIconClass(e);return _.div({className:t},e.item.icon,e.item.iconLabel)}renderItemContent(e){return _.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(e),this.renderItemCaption(e))}renderItemLabel(e){let t=this.formatItemLabel(e);return _.div({className:"lm-CommandPalette-itemLabel"},t)}renderItemCaption(e){let t=this.formatItemCaption(e);return _.div({className:"lm-CommandPalette-itemCaption"},t)}renderItemShortcut(e){let t=this.formatItemShortcut(e);return _.div({className:"lm-CommandPalette-itemShortcut"},t)}createItemClass(e){let t="lm-CommandPalette-item";e.item.isEnabled||(t+=" lm-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled"),e.active&&(t+=" lm-mod-active");let n=e.item.className;return n&&(t+=` ${n}`),t}createItemDataset(e){return{...e.item.dataset,command:e.item.command}}createIconClass(e){let t="lm-CommandPalette-itemIcon",n=e.item.iconClass;return n?`${t} ${n}`:t}formatHeader(e){return e.indices&&0!==e.indices.length?i.StringExt.highlight(e.category,e.indices,_.mark):e.category}formatEmptyMessage(e){return`No commands found that match '${e.query}'`}formatItemShortcut(e){let t=e.item.keyBinding;return t?f.CommandRegistry.formatKeystroke(t.keys):null}formatItemLabel(e){return e.indices&&0!==e.indices.length?i.StringExt.highlight(e.item.label,e.indices,_.mark):e.item.label}formatItemCaption(e){return e.item.caption}}e.Renderer=t,e.defaultRenderer=new t}(K||(K={})),function(e){function t(e,t){let n=e.category.toLowerCase(),s=`${n} ${e.label.toLowerCase()}`,r=1/0,o=null,a=/\b\w/g;for(;;){let e=a.exec(s);if(!e)break;let n=i.StringExt.matchSumOfDeltas(s,t,e.index);if(!n)break;n.score<=r&&(r=n.score,o=n.indices)}if(!o||r===1/0)return null;let l=n.length+1,c=i.ArrayExt.lowerBound(o,l,((e,t)=>e-t)),u=o.slice(0,c),h=o.slice(c);for(let i=0,d=h.length;i<d;++i)h[i]-=l;return 0===u.length?{matchType:0,categoryIndices:null,labelIndices:h,score:r,item:e}:0===h.length?{matchType:1,categoryIndices:u,labelIndices:null,score:r,item:e}:{matchType:2,categoryIndices:u,labelIndices:h,score:r,item:e}}function n(e,t){let n=e.matchType-t.matchType;if(0!==n)return n;let s=e.score-t.score;if(0!==s)return s;let i=0,r=0;switch(e.matchType){case 0:i=e.labelIndices[0],r=t.labelIndices[0];break;case 1:case 2:i=e.categoryIndices[0],r=t.categoryIndices[0]}if(i!==r)return i-r;let o=e.item.category.localeCompare(t.item.category);if(0!==o)return o;let a=e.item.rank,l=t.item.rank;return a!==l?a<l?-1:1:e.item.label.localeCompare(t.item.label)}e.createNode=function(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("input"),i=document.createElement("ul"),r=document.createElement("button");return t.className="lm-CommandPalette-search",n.className="lm-CommandPalette-wrapper",s.className="lm-CommandPalette-input",r.className="lm-close-icon",i.className="lm-CommandPalette-content",i.setAttribute("role","menu"),s.spellcheck=!1,n.appendChild(s),n.appendChild(r),t.appendChild(n),e.appendChild(t),e.appendChild(i),e},e.createItem=function(e,t){return new s(e,t)},e.search=function(e,s){let r=function(e,n){s=n,n=s.replace(/\s+/g,"").toLowerCase();var s;let i=[];for(let r=0,o=e.length;r<o;++r){let s=e[r];if(!s.isVisible)continue;if(!n){i.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:s});continue}let o=t(s,n);o&&(s.isEnabled||(o.score+=1e3),i.push(o))}return i}(e,s);return r.sort(n),function(e){let t=new Array(e.length);i.ArrayExt.fill(t,!1);let n=[];for(let s=0,i=e.length;s<i;++s){if(t[s])continue;let{item:r,categoryIndices:o}=e[s],a=r.category;n.push({type:"header",category:a,indices:o});for(let l=s;l<i;++l){if(t[l])continue;let{item:s,labelIndices:i}=e[l];s.category===a&&(n.push({type:"item",item:s,indices:i}),t[l]=!0)}}return n}(r)},e.canActivate=function(e){return"item"===e.type&&e.item.isEnabled};class s{constructor(e,t){this._commands=e,this.category=t.category.trim().replace(/\s+/g," "),this.command=t.command,this.args=t.args||r.JSONExt.emptyObject,this.rank=void 0!==t.rank?t.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:e,args:t}=this;return i.ArrayExt.findLastValue(this._commands.keyBindings,(n=>n.command===e&&r.JSONExt.deepEqual(n.args,t)))||null}}}(N||(N={}));class G extends k{constructor(e){super({node:L.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new c.Signal(this),this._menuRequested=new c.Signal(this),this.addClass("lm-Menu"),this.setFlag(k.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||G.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),-1===e||L.canActivate(this._items[e])||(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,t=this._activeIndex,n=t<e-1?t+1:0,s=0===n?e-1:n-1;this.activeIndex=i.ArrayExt.findFirstIndex(this._items,L.canActivate,n,s)}activatePreviousItem(){let e=this._items.length,t=this._activeIndex,n=t<=0?e-1:t-1,s=n===e-1?0:n+1;this.activeIndex=i.ArrayExt.findLastIndex(this._items,L.canActivate,n,s)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"===e.type)return void this._openChildMenu(!0);this.rootMenu.close();let{command:t,args:n}=e;this.commands.isEnabled(t,n)?this.commands.execute(t,n):console.log(`Command '${t}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,t){this.isAttached&&this.close(),this.activeIndex=-1;let n=Math.max(0,Math.min(e,this._items.length)),s=L.createItem(this,t);return i.ArrayExt.insert(this._items,n,s),this.update(),s}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,i.ArrayExt.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())}open(e,t,n={}){if(this.isAttached)return;let s=n.forceX||!1,i=n.forceY||!1;L.openRootMenu(this,e,t,s,i),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let t=this._items,n=this.renderer,s=this._activeIndex,i=L.computeCollapsed(t),r=new Array(t.length);for(let o=0,a=t.length;o<a;++o){let e=t[o],a=o===s,l=i[o];r[o]=n.renderItem({item:e,active:a,collapsed:l,onfocus:()=>{this.activeIndex=o}})}d.render(r,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());let n=this._parentMenu;n&&(this._parentMenu=null,n._childIndex=-1,n._childMenu=null,n.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let t=e.keyCode;if(13===t)return void this.triggerActiveItem();if(27===t)return void this.close();if(37===t)return void(this._parentMenu?this.close():this._menuRequested.emit("previous"));if(38===t)return void this.activatePreviousItem();if(39===t){let e=this.activeItem;return void(e&&"submenu"===e.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next"))}if(40===t)return void this.activateNextItem();let n=(0,x.getKeyboardLayout)().keyForKeydownEvent(e);if(!n)return;let s=this._activeIndex+1,i=L.findMnemonic(this._items,n,s);-1===i.index||i.multiple?-1!==i.index?this.activeIndex=i.index:-1!==i.auto&&(this.activeIndex=i.auto):(this.activeIndex=i.index,this.triggerActiveItem())}_evtMouseUp(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let t=i.ArrayExt.findFirstIndex(this.contentNode.children,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(t===this._activeIndex)return;if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();let n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}_evtMouseEnter(e){for(let t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu)return void(this.activeIndex=-1);let{clientX:t,clientY:n}=e;o.ElementExt.hitTest(this._childMenu.node,t,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}_evtMouseDown(e){this._parentMenu||(L.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let t=this.activeItem;if(!t||"submenu"!==t.type||!t.submenu)return void this._closeChildMenu();let n=t.submenu;if(n===this._childMenu)return;G.saveWindowData(),this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,a.MessageLoop.sendMessage(this,k.Msg.UpdateRequest);let s=this.contentNode.children[this._activeIndex];L.openSubmenu(n,s),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){0===this._openTimerID&&(this._openTimerID=window.setTimeout((()=>{this._openTimerID=0,this._openChildMenu()}),L.TIMER_DELAY))}_startCloseTimer(){0===this._closeTimerID&&(this._closeTimerID=window.setTimeout((()=>{this._closeTimerID=0,this._closeChildMenu()}),L.TIMER_DELAY))}_cancelOpenTimer(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){L.saveWindowData()}}!function(e){class t{renderItem(e){let t=this.createItemClass(e),n=this.createItemDataset(e),s=this.createItemARIA(e);return _.li({className:t,dataset:n,tabindex:"0",onfocus:e.onfocus,...s},this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))}renderIcon(e){let t=this.createIconClass(e);return _.div({className:t},e.item.icon,e.item.iconLabel)}renderLabel(e){let t=this.formatLabel(e);return _.div({className:"lm-Menu-itemLabel"},t)}renderShortcut(e){let t=this.formatShortcut(e);return _.div({className:"lm-Menu-itemShortcut"},t)}renderSubmenu(e){return _.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(e){let t="lm-Menu-item";e.item.isEnabled||(t+=" lm-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled"),e.item.isVisible||(t+=" lm-mod-hidden"),e.active&&(t+=" lm-mod-active"),e.collapsed&&(t+=" lm-mod-collapsed");let n=e.item.className;return n&&(t+=` ${n}`),t}createItemDataset(e){let t,{type:n,command:s,dataset:i}=e.item;return t="command"===n?{...i,type:n,command:s}:{...i,type:n},t}createIconClass(e){let t="lm-Menu-itemIcon",n=e.item.iconClass;return n?`${t} ${n}`:t}createItemARIA(e){let t={};switch(e.item.type){case"separator":t.role="presentation";break;case"submenu":t["aria-haspopup"]="true",e.item.isEnabled||(t["aria-disabled"]="true");break;default:e.item.isEnabled||(t["aria-disabled"]="true"),t.role="menuitem"}return t}formatLabel(e){let{label:t,mnemonic:n}=e.item;if(n<0||n>=t.length)return t;let s=t.slice(0,n),i=t.slice(n+1),r=t[n];return[s,_.span({className:"lm-Menu-itemMnemonic"},r),i]}formatShortcut(e){let t=e.item.keyBinding;return t?f.CommandRegistry.formatKeystroke(t.keys):null}}e.Renderer=t,e.defaultRenderer=new t}(G||(G={})),function(e){e.TIMER_DELAY=300,e.SUBMENU_OVERLAP=3;let t=null,n=0;function s(){return n>0?(n--,t):c()}function l(e){return"separator"!==e.type&&e.isEnabled&&e.isVisible}function c(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}e.saveWindowData=function(){t=c(),n++},e.createNode=function(){let e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-Menu-content",e.appendChild(t),t.setAttribute("role","menu"),e.tabIndex=0,e},e.canActivate=l,e.createItem=function(e,t){return new u(e.commands,t)},e.hitTestMenus=function(e,t,n){for(let s=e;s;s=s.childMenu)if(o.ElementExt.hitTest(s.node,t,n))return!0;return!1},e.computeCollapsed=function(e){let t=new Array(e.length);i.ArrayExt.fill(t,!1);let n=0,s=e.length;for(;n<s;++n){let s=e[n];if(s.isVisible){if("separator"!==s.type)break;t[n]=!0}}let r=s-1;for(;r>=0;--r){let n=e[r];if(n.isVisible){if("separator"!==n.type)break;t[r]=!0}}let o=!1;for(;++n<r;){let s=e[n];s.isVisible&&("separator"!==s.type?o=!1:o?t[n]=!0:o=!0)}return t},e.openRootMenu=function(e,t,n,i,r){const o=s();let l=o.pageXOffset,c=o.pageYOffset,u=o.clientWidth,h=o.clientHeight;a.MessageLoop.sendMessage(e,k.Msg.UpdateRequest);let d=h-(r?n:0),p=e.node,f=p.style;f.opacity="0",f.maxHeight=`${d}px`,k.attach(e,document.body);let{width:g,height:m}=p.getBoundingClientRect();!i&&t+g>l+u&&(t=l+u-g),!r&&n+m>c+h&&(n>c+h?n=c+h-m:n-=m),f.transform=`translate(${Math.max(0,t)}px, ${Math.max(0,n)}px`,f.opacity="1"},e.openSubmenu=function(t,n){const i=s();let r=i.pageXOffset,l=i.pageYOffset,c=i.clientWidth,u=i.clientHeight;a.MessageLoop.sendMessage(t,k.Msg.UpdateRequest);let h=u,d=t.node,p=d.style;p.opacity="0",p.maxHeight=`${h}px`,k.attach(t,document.body);let{width:f,height:g}=d.getBoundingClientRect(),m=o.ElementExt.boxSizing(t.node),_=n.getBoundingClientRect(),v=_.right-e.SUBMENU_OVERLAP;v+f>r+c&&(v=_.left+e.SUBMENU_OVERLAP-f);let b=_.top-m.borderTop-m.paddingTop;b+g>l+u&&(b=_.bottom+m.borderBottom+m.paddingBottom-g),p.transform=`translate(${Math.max(0,v)}px, ${Math.max(0,b)}px`,p.opacity="1"},e.findMnemonic=function(e,t,n){let s=-1,i=-1,r=!1,o=t.toUpperCase();for(let a=0,c=e.length;a<c;++a){let t=(a+n)%c,u=e[t];if(!l(u))continue;let h=u.label;if(0===h.length)continue;let d=u.mnemonic;d>=0&&d<h.length?h[d].toUpperCase()===o&&(-1===s?s=t:r=!0):-1===i&&h[0].toUpperCase()===o&&(i=t)}return{index:s,multiple:r,auto:i}};class u{constructor(e,t){this._commands=e,this.type=t.type||"command",this.command=t.command||"",this.args=t.args||r.JSONExt.emptyObject,this.submenu=t.submenu||null}get label(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""}get mnemonic(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){return"command"===this.type?this._commands.icon(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.icon:void 0}get iconClass(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""}get className(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""}get dataset(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu}get isToggled(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)}get isVisible(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu}get keyBinding(){if("command"===this.type){let{command:e,args:t}=this;return i.ArrayExt.findLastValue(this._commands.keyBindings,(n=>n.command===e&&r.JSONExt.deepEqual(n.args,t)))||null}return null}}}(L||(L={}));class J{constructor(e){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;const{groupByTarget:t,sortBySelector:n,...s}=e;this.menu=new G(s),this._groupByTarget=!1!==t,this._sortBySelector=!1!==n}addItem(e){let t=B.createItem(e,this._idTick++);return this._items.push(t),new u.DisposableDelegate((()=>{i.ArrayExt.removeFirstOf(this._items,t)}))}open(e){if(G.saveWindowData(),this.menu.clearItems(),0===this._items.length)return!1;let t=B.matchItems(this._items,e,this._groupByTarget,this._sortBySelector);if(!t||0===t.length)return!1;for(const n of t)this.menu.addItem(n);return this.menu.open(e.clientX,e.clientY),!0}}!function(e){function t(e,t){let n=e.rank,s=t.rank;return n!==s?n<s?-1:1:e.id-t.id}function n(e,n){let s=o.Selector.calculateSpecificity(e.selector),i=o.Selector.calculateSpecificity(n.selector);return s!==i?i-s:t(e,n)}e.createItem=function(e,t){let n=function(e){if(-1!==e.indexOf(","))throw new Error(`Selector cannot contain commas: ${e}`);if(!o.Selector.isValid(e))throw new Error(`Invalid selector: ${e}`);return e}(e.selector),s=void 0!==e.rank?e.rank:1/0;return{...e,selector:n,rank:s,id:t}},e.matchItems=function(e,s,i,r){let a=s.target;if(!a)return null;let l=s.currentTarget;if(!l)return null;if(!l.contains(a)&&(a=document.elementFromPoint(s.clientX,s.clientY),!a||!l.contains(a)))return null;let c=[],u=e.slice();for(;null!==a;){let e=[];for(let t=0,n=u.length;t<n;++t){let n=u[t];n&&(o.Selector.matches(a,n.selector)&&(e.push(n),u[t]=null))}if(0!==e.length&&(i&&e.sort(r?n:t),c.push(...e)),a===l)break;a=a.parentElement}return i||c.sort(r?n:t),c}}(B||(B={}));const Y=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];class X extends k{constructor(e={}){super({node:Z.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new c.Signal(this),this._currentChanged=new c.Signal(this),this._addRequested=new c.Signal(this),this._tabCloseRequested=new c.Signal(this),this._tabDetachRequested=new c.Signal(this),this._tabActivateRequested=new c.Signal(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(k.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||X.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let t=this._currentIndex,n=this._titles[t]||null,s=e,i=this._titles[s]||null;this._currentIndex=s,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:s,currentTitle:i})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,t){this._releaseMouse();let n=Z.asTitle(t),s=this._titles.indexOf(n),r=Math.max(0,Math.min(e,this._titles.length));return-1===s?(i.ArrayExt.insert(this._titles,r,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(r,n),n):(r===this._titles.length&&r--,s===r||(i.ArrayExt.move(this._titles,s,r),this.update(),this._adjustCurrentForMove(s,r)),n)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let t=i.ArrayExt.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))}clearTabs(){if(0===this._titles.length)return;this._releaseMouse();for(let n of this._titles)n.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,t=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==e&&this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var t;let n=this._titles,s=this.renderer,i=this.currentTitle,r=new Array(n.length);const o=null!==(t=this._getCurrentTabindex())&&void 0!==t?t:this._currentIndex>-1?this._currentIndex:0;for(let a=0,l=n.length;a<l;++a){let e=n[a],t=e===i,c=t?l:l-a-1,u=o===a?0:-1;r[a]=s.renderTab({title:e,current:t,zIndex:c,tabIndex:u})}d.render(r,this.contentNode)}_getCurrentTabindex(){let e=null;const t=this.contentNode.querySelector('li[tabindex="0"]');return t?e=[...this.contentNode.children].indexOf(t):this._addButtonEnabled&&"0"===this.addButtonNode.getAttribute("tabindex")&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let t=this.contentNode.children,n=i.ArrayExt.findFirstIndex(t,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(-1===n)return;let s=this.titles[n],r=t[n].querySelector(".lm-TabBar-tabLabel");if(r&&r.contains(e.target)){let e=s.label||"",t=r.innerHTML;r.innerHTML="";let n=document.createElement("input");n.classList.add("lm-TabBar-tabInput"),n.value=e,r.appendChild(n);let i=()=>{n.removeEventListener("blur",i),r.innerHTML=t,this.node.addEventListener("keydown",this)};n.addEventListener("dblclick",(e=>e.stopPropagation())),n.addEventListener("blur",i),n.addEventListener("keydown",(e=>{"Enter"===e.key?(""!==n.value&&(s.label=s.caption=n.value),i()):"Escape"===e.key&&i()})),this.node.removeEventListener("keydown",this),n.select(),n.focus(),r.children.length>0&&r.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),"Escape"===e.key&&this._releaseMouse())}_evtKeyDown(e){var t,n,s;if("Tab"!==e.key&&e.eventPhase!==Event.CAPTURING_PHASE)if("Enter"===e.key||"Spacebar"===e.key||" "===e.key){const t=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(t))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const n=i.ArrayExt.findFirstIndex(this.contentNode.children,(e=>e.contains(t)));n>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=n)}}else if(Y.includes(e.key)){const i=[...this.contentNode.children];if(this.addButtonEnabled&&i.push(this.addButtonNode),i.length<=1)return;e.preventDefault(),e.stopPropagation();let r,o=i.indexOf(document.activeElement);-1===o&&(o=this._currentIndex),"ArrowRight"===e.key&&"horizontal"===this._orientation||"ArrowDown"===e.key&&"vertical"===this._orientation?r=null!==(t=i[o+1])&&void 0!==t?t:i[0]:"ArrowLeft"===e.key&&"horizontal"===this._orientation||"ArrowUp"===e.key&&"vertical"===this._orientation?r=null!==(n=i[o-1])&&void 0!==n?n:i[i.length-1]:"Home"===e.key?r=i[0]:"End"===e.key&&(r=i[i.length-1]),r&&(null===(s=i[o])||void 0===s||s.setAttribute("tabindex","-1"),null==r||r.setAttribute("tabindex","0"),r.focus())}}_evtPointerDown(e){if(0!==e.button&&1!==e.button)return;if(this._dragData)return;if(e.target.classList.contains("lm-TabBar-tabInput"))return;let t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,s=i.ArrayExt.findFirstIndex(n,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(-1===s&&!t)return;if(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[s],index:s,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),1===e.button||t)return;let r=n[s].querySelector(this.renderer.closeIconSelector);r&&r.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===s?this.currentIndex=-1:this.currentIndex=s,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let t=this._dragData;if(!t)return;e.preventDefault(),e.stopPropagation();let n=this.contentNode.children;if(t.dragActive||Z.dragExceeded(t,e)){if(!t.dragActive){let e=t.tab.getBoundingClientRect();"horizontal"===this._orientation?(t.tabPos=t.tab.offsetLeft,t.tabSize=e.width,t.tabPressPos=t.pressX-e.left):(t.tabPos=t.tab.offsetTop,t.tabSize=e.height,t.tabPressPos=t.pressY-e.top),t.tabPressOffset={x:t.pressX-e.left,y:t.pressY-e.top},t.tabLayout=Z.snapTabLayout(n,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=h.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&Z.detachExceeded(t,e)){t.detachRequested=!0;let s=t.index,i=e.clientX,r=e.clientY,o=n[s],a=this._titles[s];if(this._tabDetachRequested.emit({index:s,title:a,tab:o,clientX:i,clientY:r,offset:t.tabPressOffset}),t.dragAborted)return}Z.layoutTabs(n,t,e,this._orientation)}}_evtPointerUp(e){if(0!==e.button&&1!==e.button)return;const t=this._dragData;if(!t)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!t.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target))return void this._addRequested.emit(void 0);let n=this.contentNode.children,s=i.ArrayExt.findFirstIndex(n,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(s!==t.index)return;let r=this._titles[s];if(!r.closable)return;if(1===e.button)return void this._tabCloseRequested.emit({index:s,title:r});let a=n[s].querySelector(this.renderer.closeIconSelector);return a&&a.contains(e.target)?void this._tabCloseRequested.emit({index:s,title:r}):void 0}if(0!==e.button)return;Z.finalizeTabPosition(t,this._orientation),t.tab.classList.remove("lm-mod-dragging");let n=Z.parseTransitionDuration(t.tab);setTimeout((()=>{if(t.dragAborted)return;this._dragData=null,Z.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),this.removeClass("lm-mod-dragging");let e=t.index,n=t.targetIndex;-1!==n&&e!==n&&(i.ArrayExt.move(this._titles,e,n),this._adjustCurrentForMove(e,n),this._tabMoved.emit({fromIndex:e,toIndex:n,title:this._titles[n]}),a.MessageLoop.sendMessage(this,k.Msg.UpdateRequest))}),n)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Z.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,t){let n=this.currentTitle,s=this._currentIndex,i=this.insertBehavior;if("select-tab"===i||"select-tab-if-needed"===i&&-1===s)return this._currentIndex=e,this._previousTitle=n,void this._currentChanged.emit({previousIndex:s,previousTitle:n,currentIndex:e,currentTitle:t});s>=e&&this._currentIndex++}_adjustCurrentForMove(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--}_adjustCurrentForRemove(e,t){let n=this._currentIndex,s=this.removeBehavior;if(n===e){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});if("select-tab-after"===s)return this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===s)return this._currentIndex=Math.max(0,e-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===s)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}else n>e&&this._currentIndex--}_onTitleChanged(e){this.update()}}var Z,Q,ee,te,ne,se,ie,re;!function(e){class t{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++t._nInstance}renderTab(e){let t=e.title.caption,n=this.createTabKey(e),s=n,i=this.createTabStyle(e),r=this.createTabClass(e),o=this.createTabDataset(e),a=this.createTabARIA(e);return e.title.closable?_.li({id:s,key:n,className:r,title:t,style:i,dataset:o,...a},this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e)):_.li({id:s,key:n,className:r,title:t,style:i,dataset:o,...a},this.renderIcon(e),this.renderLabel(e))}renderIcon(e){const{title:t}=e;let n=this.createIconClass(e);return _.div({className:n},t.icon,t.iconLabel)}renderLabel(e){return _.div({className:"lm-TabBar-tabLabel"},e.title.label)}renderCloseIcon(e){return _.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(e){let t=this._tabKeys.get(e.title);return void 0===t&&(t=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(e.title,t)),t}createTabStyle(e){return{zIndex:`${e.zIndex}`}}createTabClass(e){let t="lm-TabBar-tab";return e.title.className&&(t+=` ${e.title.className}`),e.title.closable&&(t+=" lm-mod-closable"),e.current&&(t+=" lm-mod-current"),t}createTabDataset(e){return e.title.dataset}createTabARIA(e){var t;return{role:"tab","aria-selected":e.current.toString(),tabindex:`${null!==(t=e.tabIndex)&&void 0!==t?t:"-1"}`}}createIconClass(e){let t="lm-TabBar-tabIcon",n=e.title.iconClass;return n?`${t} ${n}`:t}}t._nInstance=0,e.Renderer=t,e.defaultRenderer=new t,e.addButtonSelector=".lm-TabBar-addButton"}(X||(X={})),function(e){e.DRAG_THRESHOLD=5,e.DETACH_THRESHOLD=20,e.createNode=function(){let e=document.createElement("div"),t=document.createElement("ul");t.setAttribute("role","tablist"),t.className="lm-TabBar-content",e.appendChild(t);let n=document.createElement("div");return n.className="lm-TabBar-addButton lm-mod-hidden",n.setAttribute("tabindex","-1"),n.setAttribute("role","button"),e.appendChild(n),e},e.asTitle=function(e){return e instanceof C?e:new C(e)},e.parseTransitionDuration=function(e){let t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)},e.snapTabLayout=function(e,t){let n=new Array(e.length);for(let s=0,i=e.length;s<i;++s){let i=e[s],r=window.getComputedStyle(i);n[s]="horizontal"===t?{pos:i.offsetLeft,size:i.offsetWidth,margin:parseFloat(r.marginLeft)||0}:{pos:i.offsetTop,size:i.offsetHeight,margin:parseFloat(r.marginTop)||0}}return n},e.dragExceeded=function(t,n){let s=Math.abs(n.clientX-t.pressX),i=Math.abs(n.clientY-t.pressY);return s>=e.DRAG_THRESHOLD||i>=e.DRAG_THRESHOLD},e.detachExceeded=function(t,n){let s=t.contentRect;return n.clientX<s.left-e.DETACH_THRESHOLD||n.clientX>=s.right+e.DETACH_THRESHOLD||n.clientY<s.top-e.DETACH_THRESHOLD||n.clientY>=s.bottom+e.DETACH_THRESHOLD},e.layoutTabs=function(e,t,n,s){let i,r,o,a;"horizontal"===s?(i=t.pressX,r=n.clientX-t.contentRect.left,o=n.clientX,a=t.contentRect.width):(i=t.pressY,r=n.clientY-t.contentRect.top,o=n.clientY,a=t.contentRect.height);let l=t.index,c=r-t.tabPressPos,u=c+t.tabSize;for(let h=0,d=e.length;h<d;++h){let n,r=t.tabLayout[h],d=r.pos+(r.size>>1);if(h<t.index&&c<d)n=`${t.tabSize+t.tabLayout[h+1].margin}px`,l=Math.min(l,h);else if(h>t.index&&u>d)n=-t.tabSize-r.margin+"px",l=Math.max(l,h);else if(h===t.index){let e=o-i,s=a-(t.tabPos+t.tabSize);n=`${Math.max(-t.tabPos,Math.min(e,s))}px`}else n="";"horizontal"===s?e[h].style.left=n:e[h].style.top=n}t.targetIndex=l},e.finalizeTabPosition=function(e,t){let n,s;if(n="horizontal"===t?e.contentRect.width:e.contentRect.height,e.targetIndex===e.index)s=0;else if(e.targetIndex>e.index){let t=e.tabLayout[e.targetIndex];s=t.pos+t.size-e.tabSize-e.tabPos}else{s=e.tabLayout[e.targetIndex].pos-e.tabPos}let i=n-(e.tabPos+e.tabSize),r=Math.max(-e.tabPos,Math.min(s,i));"horizontal"===t?e.tab.style.left=`${r}px`:e.tab.style.top=`${r}px`},e.resetTabPositions=function(e,t){for(const n of e)"horizontal"===t?n.style.left="":n.style.top=""}}(Z||(Z={}));class oe extends E{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,void 0!==e.spacing&&(this._spacing=$.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=void 0!==e.hiddenMode?e.hiddenMode:k.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach((e=>{e.dispose()})),this._box=null,this._root=null,this._items.clear();for(const t of e)t.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const e of this.tabBars())if(e.titles.length>1)for(const t of e.titles)t.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=$.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return null===this._root}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():(0,i.empty)()}widgets(){return this._root?this._root.iterUserWidgets():(0,i.empty)()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():(0,i.empty)()}tabBars(){return this._root?this._root.iterTabBars():(0,i.empty)()}handles(){return this._root?this._root.iterHandles():(0,i.empty)()}moveHandle(e,t,n){let s=e.classList.contains("lm-mod-hidden");if(!this._root||s)return;let i,r=this._root.findSplitNode(e);r&&(i="horizontal"===r.node.orientation?t-e.offsetLeft:n-e.offsetTop,0!==i&&(r.node.holdSizes(),v.adjust(r.node.sizers,r.index,i),this.parent&&this.parent.update()))}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let t,n=new Set;t=e.main?Q.normalizeAreaConfig(e.main,n):null;let s=this.widgets(),i=this.tabBars(),r=this.handles();this._root=null;for(const o of s)n.has(o)||(o.parent=null);for(const o of i)o.dispose();for(const o of r)o.parentNode&&o.parentNode.removeChild(o);for(const o of n)o.parent=this.parent;this._root=t?Q.realizeAreaConfig(t,{createTabBar:e=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):null,this.parent&&(n.forEach((e=>{this.attachWidget(e)})),this.parent.fit())}addWidget(e,t={}){let n=t.ref||null,s=t.mode||"tab-after",i=null;if(this._root&&n&&(i=this._root.findTabNode(n)),n&&!i)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,s){case"tab-after":this._insertTab(e,n,i,!0);break;case"tab-before":this._insertTab(e,n,i,!1);break;case"split-top":this._insertSplit(e,n,i,"vertical",!1);break;case"split-left":this._insertSplit(e,n,i,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,i,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,i,"vertical",!0);break;case"merge-top":this._insertSplit(e,n,i,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,n,i,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,n,i,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,n,i,"vertical",!0,!0)}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let n=this.parent.node.getBoundingClientRect(),s=e-n.left-this._box.borderLeft,i=t-n.top-this._box.borderTop,r=this._root.hitTestTabNodes(s,i);if(!r)return null;let{tabBar:a,top:l,left:c,width:u,height:h}=r,d=this._box.borderLeft+this._box.borderRight,p=this._box.borderTop+this._box.borderBottom;return{tabBar:a,x:s,y:i,top:l,left:c,right:n.width-d-(c+u),bottom:n.height-p-(l+h),width:u,height:h}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new O(e)),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterDetach);let t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let t=this._root.findTabNode(e);if(!t)return;if(Q.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===k.HiddenMode.Scale&&1==t.tabBar.titles.length){t.tabBar.titles[0].owner.hiddenMode=k.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t)return void(this._root=null);this._root.holdAllSizes();let n=t.parent;t.parent=null;let s=i.ArrayExt.removeFirstOf(n.children,t),r=i.ArrayExt.removeAt(n.handles,s);if(i.ArrayExt.removeAt(n.sizers,s),r.parentNode&&r.parentNode.removeChild(r),n.children.length>1)return void n.syncHandles();let o=n.parent;n.parent=null;let a=n.children[0],l=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===n)return a.parent=null,void(this._root=a);let c=o,u=c.children.indexOf(n);if(a instanceof Q.TabLayoutNode)return a.parent=c,void(c.children[u]=a);let h=i.ArrayExt.removeAt(c.handles,u);i.ArrayExt.removeAt(c.children,u),i.ArrayExt.removeAt(c.sizers,u),h.parentNode&&h.parentNode.removeChild(h);for(let d=0,p=a.children.length;d<p;++d){let e=a.children[d],t=a.handles[d],n=a.sizers[d];i.ArrayExt.insert(c.children,u+d,e),i.ArrayExt.insert(c.handles,u+d,t),i.ArrayExt.insert(c.sizers,u+d,n),e.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let t=new Q.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),Q.addAria(e,t.tabBar),t}_insertTab(e,t,n,s){if(e===t)return;if(!this._root){let t=new Q.TabLayoutNode(this._createTabBar());return t.tabBar.addTab(e.title),this._root=t,void Q.addAria(e,t.tabBar)}let i;if(n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(e.title)&&(this._removeWidget(e),e.hide()),i=t?n.tabBar.titles.indexOf(t.title):n.tabBar.currentIndex,this._hiddenMode===k.HiddenMode.Scale)if(0===n.tabBar.titles.length)e.hiddenMode=k.HiddenMode.Display;else if(1==n.tabBar.titles.length){n.tabBar.titles[0].owner.hiddenMode=k.HiddenMode.Scale}else e.hiddenMode=k.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;n.tabBar.insertTab(i+(s?1:0),e.title),Q.addAria(e,n.tabBar)}_insertSplit(e,t,n,s,r,o=!1){if(e===t&&n&&1===n.tabBar.titles.length)return;if(this._removeWidget(e),!this._root)return void(this._root=this._createTabNode(e));if(!n||!n.parent){let t=this._splitRoot(s),o=r?t.children.length:0;t.normalizeSizes();let a=Q.createSizer(n?1:Q.GOLDEN_RATIO),l=this._createTabNode(e);return i.ArrayExt.insert(t.children,o,l),i.ArrayExt.insert(t.sizers,o,a),i.ArrayExt.insert(t.handles,o,this._createHandle()),l.parent=t,t.normalizeSizes(),void t.syncHandles()}let a=n.parent;if(a.orientation===s){let t=a.children.indexOf(n);if(o){let n=t+(r?1:-1),s=a.children[n];if(s instanceof Q.TabLayoutNode)return this._insertTab(e,null,s,!0),void++s.tabBar.currentIndex}a.normalizeSizes();let s=a.sizers[t].sizeHint/=2,l=t+(r?1:0),c=this._createTabNode(e);return i.ArrayExt.insert(a.children,l,c),i.ArrayExt.insert(a.sizers,l,Q.createSizer(s)),i.ArrayExt.insert(a.handles,l,this._createHandle()),c.parent=a,void a.syncHandles()}let l=i.ArrayExt.removeFirstOf(a.children,n),c=new Q.SplitLayoutNode(s);c.normalized=!0,c.children.push(n),c.sizers.push(Q.createSizer(.5)),c.handles.push(this._createHandle()),n.parent=c;let u=r?1:0,h=this._createTabNode(e);i.ArrayExt.insert(c.children,u,h),i.ArrayExt.insert(c.sizers,u,Q.createSizer(.5)),i.ArrayExt.insert(c.handles,u,this._createHandle()),h.parent=c,c.syncHandles(),i.ArrayExt.insert(a.children,l,c),c.parent=a}_splitRoot(e){let t=this._root;if(t instanceof Q.SplitLayoutNode&&t.orientation===e)return t;let n=this._root=new Q.SplitLayoutNode(e);return t&&(n.children.push(t),n.sizers.push(Q.createSizer(0)),n.handles.push(this._createHandle()),t.parent=n),n}_fit(){let e=0,t=0;if(this._root){let n=this._root.fit(this._spacing,this._items);e=n.minWidth,t=n.minHeight}let n=this._box=o.ElementExt.boxSizing(this.parent.node);e+=n.horizontalSum,t+=n.verticalSum;let s=this.parent.node.style;s.minWidth=`${e}px`,s.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,k.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest)}_update(e,t){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,i=e-this._box.horizontalSum,r=t-this._box.verticalSum;this._root.update(n,s,i,r,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.contain="strict",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e}}!function(e){function t(e){let t=new S;return t.sizeHint=e,t.size=e,t}function n(e,t){let s;return s="tab-area"===e.type?function(e,t){if(0===e.widgets.length)return null;let n=[];for(const i of e.widgets)t.has(i)||(t.add(i),n.push(i));if(0===n.length)return null;let s=e.currentIndex;-1!==s&&(s<0||s>=n.length)&&(s=0);return{type:"tab-area",widgets:n,currentIndex:s}}(e,t):function(e,t){let s=e.orientation,i=[],r=[];for(let o=0,a=e.children.length;o<a;++o){let a=n(e.children[o],t);a&&("tab-area"===a.type||a.orientation!==s?(i.push(a),r.push(Math.abs(e.sizes[o]||0))):(i.push(...a.children),r.push(...a.sizes)))}if(0===i.length)return null;if(1===i.length)return i[0];return{type:"split-area",orientation:s,children:i,sizes:r}}(e,t),s}function s(n,o,a){let l;return l="tab-area"===n.type?function(t,n,s){let r=n.createTabBar(s);for(const i of t.widgets)i.hide(),r.addTab(i.title),e.addAria(i,r);return r.currentIndex=t.currentIndex,new i(r)}(n,o,a):function(e,n,i){let o=new r(e.orientation);return e.children.forEach(((r,a)=>{let l=s(r,n,i),c=t(e.sizes[a]),u=n.createHandle();o.children.push(l),o.handles.push(u),o.sizers.push(c),l.parent=o})),o.syncHandles(),o.normalizeSizes(),o}(n,o,a),l}e.GOLDEN_RATIO=.618,e.createSizer=t,e.normalizeAreaConfig=n,e.realizeAreaConfig=s;class i{constructor(e){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let t=new S,n=new S;t.stretch=0,n.stretch=1,this.tabBar=e,this.sizers=[t,n]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const e of this.tabBar.titles)yield e.owner}*iterSelectedWidgets(){let e=this.tabBar.currentTitle;e&&(yield e.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(e){return-1!==this.tabBar.titles.indexOf(e.title)?this:null}findSplitNode(e){return null}findFirstTabNode(){return this}hitTestTabNodes(e,t){return e<this._left||e>=this._left+this._width||t<this._top||t>=this._top+this._height?null:this}createConfig(){return{type:"tab-area",widgets:this.tabBar.titles.map((e=>e.owner)),currentIndex:this.tabBar.currentIndex}}holdAllSizes(){}fit(e,t){let n=0,s=0,i=t.get(this.tabBar),r=this.tabBar.currentTitle,o=r?t.get(r.owner):void 0,[a,l]=this.sizers;return i&&i.fit(),o&&o.fit(),i&&!i.isHidden?(n=Math.max(n,i.minWidth),s+=i.minHeight,a.minSize=i.minHeight,a.maxSize=i.maxHeight):(a.minSize=0,a.maxSize=0),o&&!o.isHidden?(n=Math.max(n,o.minWidth),s+=o.minHeight,l.minSize=o.minHeight,l.maxSize=1/0):(l.minSize=0,l.maxSize=1/0),{minWidth:n,minHeight:s,maxWidth:Infinity,maxHeight:Infinity}}update(e,t,n,s,i,r){this._top=t,this._left=e,this._width=n,this._height=s;let o=r.get(this.tabBar),a=this.tabBar.currentTitle,l=a?r.get(a.owner):void 0;if(v.calc(this.sizers,s),o&&!o.isHidden){let s=this.sizers[0].size;o.update(e,t,n,s),t+=s}if(l&&!l.isHidden){let s=this.sizers[1].size;l.update(e,t,n,s)}}}e.TabLayoutNode=i;class r{constructor(e){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=e}*iterAllWidgets(){for(const e of this.children)yield*e.iterAllWidgets()}*iterUserWidgets(){for(const e of this.children)yield*e.iterUserWidgets()}*iterSelectedWidgets(){for(const e of this.children)yield*e.iterSelectedWidgets()}*iterTabBars(){for(const e of this.children)yield*e.iterTabBars()}*iterHandles(){yield*this.handles;for(const e of this.children)yield*e.iterHandles()}findTabNode(e){for(let t=0,n=this.children.length;t<n;++t){let n=this.children[t].findTabNode(e);if(n)return n}return null}findSplitNode(e){let t=this.handles.indexOf(e);if(-1!==t)return{index:t,node:this};for(let n=0,s=this.children.length;n<s;++n){let t=this.children[n].findSplitNode(e);if(t)return t}return null}findFirstTabNode(){return 0===this.children.length?null:this.children[0].findFirstTabNode()}hitTestTabNodes(e,t){for(let n=0,s=this.children.length;n<s;++n){let s=this.children[n].hitTestTabNodes(e,t);if(s)return s}return null}createConfig(){let e=this.orientation,t=this.createNormalizedSizes();return{type:"split-area",orientation:e,children:this.children.map((e=>e.createConfig())),sizes:t}}syncHandles(){this.handles.forEach(((e,t)=>{e.setAttribute("data-orientation",this.orientation),t===this.handles.length-1?e.classList.add("lm-mod-hidden"):e.classList.remove("lm-mod-hidden")}))}holdSizes(){for(const e of this.sizers)e.sizeHint=e.size}holdAllSizes(){for(const e of this.children)e.holdAllSizes();this.holdSizes()}normalizeSizes(){let e=this.sizers.length;if(0===e)return;this.holdSizes();let t=this.sizers.reduce(((e,t)=>e+t.sizeHint),0);if(0===t)for(const n of this.sizers)n.size=n.sizeHint=1/e;else for(const n of this.sizers)n.size=n.sizeHint/=t;this.normalized=!0}createNormalizedSizes(){let e=this.sizers.length;if(0===e)return[];let t=this.sizers.map((e=>e.size)),n=t.reduce(((e,t)=>e+t),0);if(0===n)for(let s=t.length-1;s>-1;s--)t[s]=1/e;else for(let s=t.length-1;s>-1;s--)t[s]/=n;return t}fit(e,t){let n="horizontal"===this.orientation,s=Math.max(0,this.children.length-1)*e,i=n?s:0,r=n?0:s;for(let o=0,a=this.children.length;o<a;++o){let s=this.children[o].fit(e,t);n?(r=Math.max(r,s.minHeight),i+=s.minWidth,this.sizers[o].minSize=s.minWidth):(i=Math.max(i,s.minWidth),r+=s.minHeight,this.sizers[o].minSize=s.minHeight)}return{minWidth:i,minHeight:r,maxWidth:Infinity,maxHeight:Infinity}}update(e,t,n,s,i,r){let o="horizontal"===this.orientation,a=Math.max(0,this.children.length-1)*i,l=Math.max(0,(o?n:s)-a);if(this.normalized){for(const e of this.sizers)e.sizeHint*=l;this.normalized=!1}v.calc(this.sizers,l);for(let c=0,u=this.children.length;c<u;++c){let a=this.children[c],l=this.sizers[c].size,u=this.handles[c].style;o?(a.update(e,t,l,s,i,r),e+=l,u.top=`${t}px`,u.left=`${e}px`,u.width=`${i}px`,u.height=`${s}px`,e+=i):(a.update(e,t,n,l,i,r),t+=l,u.top=`${t}px`,u.left=`${e}px`,u.width=`${n}px`,u.height=`${i}px`,t+=i)}}}e.SplitLayoutNode=r,e.addAria=function(e,t){e.node.setAttribute("role","tabpanel");let n=t.renderer;if(n instanceof X.Renderer){let t=n.createTabKey({title:e.title,current:!1,zIndex:0});e.node.setAttribute("aria-labelledby",t)}},e.removeAria=function(e){e.node.removeAttribute("role"),e.node.removeAttribute("aria-labelledby")}}(Q||(Q={}));class ae extends k{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new c.Signal(this),this._addRequested=new c.Signal(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||ae.defaultRenderer,this._edges=e.edges||ee.DEFAULT_EDGES,void 0!==e.tabsMovable&&(this._tabsMovable=e.tabsMovable),void 0!==e.tabsConstrained&&(this._tabsConstrained=e.tabsConstrained),void 0!==e.addButtonEnabled&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let t={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new oe({document:this._document,renderer:t,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new ae.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let t=this.layout;switch(e){case"multiple-document":for(const e of t.tabBars())e.show();break;case"single-document":t.restoreLayout(ee.createSingleDocumentConfig(this));break;default:throw"unreachable"}a.MessageLoop.postMessage(this,ee.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const t of this.tabBars())t.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const t of this.tabBars())t.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let t=(0,i.find)(this.tabBars(),(t=>-1!==t.titles.indexOf(e.title)));if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(o.Platform.IS_EDGE||o.Platform.IS_IE)&&a.MessageLoop.flush(),a.MessageLoop.postMessage(this,ee.LayoutModified)}addWidget(e,t={}){"single-document"===this._mode?this.layout.addWidget(e):this.layout.addWidget(e,t),a.MessageLoop.postMessage(this,ee.LayoutModified)}processMessage(e){"layout-modified"===e.type?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){ee.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){ee.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),a.MessageLoop.postMessage(this,ee.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||"invalid"===this._showOverlay(e.clientX,e.clientY)?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),"none"===e.proposedAction)return void(e.dropAction="none");let{clientX:t,clientY:n}=e,{zone:s,target:i}=ee.findDropTarget(this,t,n,this._edges);if(this._tabsConstrained&&e.source!==this||"invalid"===s)return void(e.dropAction="none");let r=e.mimeData.getData("application/vnd.lumino.widget-factory");if("function"!=typeof r)return void(e.dropAction="none");let o=r();if(!(o instanceof k))return void(e.dropAction="none");if(o.contains(this))return void(e.dropAction="none");let a=i?ee.getDropRef(i.tabBar):null;switch(s){case"root-all":this.addWidget(o);break;case"root-top":this.addWidget(o,{mode:"split-top"});break;case"root-left":this.addWidget(o,{mode:"split-left"});break;case"root-right":this.addWidget(o,{mode:"split-right"});break;case"root-bottom":this.addWidget(o,{mode:"split-bottom"});break;case"widget-all":case"widget-tab":this.addWidget(o,{mode:"tab-after",ref:a});break;case"widget-top":this.addWidget(o,{mode:"split-top",ref:a});break;case"widget-left":this.addWidget(o,{mode:"split-left",ref:a});break;case"widget-right":this.addWidget(o,{mode:"split-right",ref:a});break;case"widget-bottom":this.addWidget(o,{mode:"split-bottom",ref:a});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(o)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&(this._releaseMouse(),a.MessageLoop.postMessage(this,ee.LayoutModified))}_evtPointerDown(e){if(0!==e.button)return;let t=this.layout,n=e.target,s=(0,i.find)(t.handles(),(e=>e.contains(n)));if(!s)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let r=s.getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top,l=window.getComputedStyle(s),c=h.overrideCursor(l.cursor,this._document);this._pressData={handle:s,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let t=this.node.getBoundingClientRect(),n=e.clientX-t.left-this._pressData.deltaX,s=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,s)}_evtPointerUp(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),a.MessageLoop.postMessage(this,ee.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,t){let n,s,i,r,{zone:a,target:l}=ee.findDropTarget(this,e,t,this._edges);if("invalid"===a)return this.overlay.hide(100),a;let c=o.ElementExt.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(a){case"root-all":n=c.paddingTop,s=c.paddingLeft,i=c.paddingRight,r=c.paddingBottom;break;case"root-top":n=c.paddingTop,s=c.paddingLeft,i=c.paddingRight,r=u.height*ee.GOLDEN_RATIO;break;case"root-left":n=c.paddingTop,s=c.paddingLeft,i=u.width*ee.GOLDEN_RATIO,r=c.paddingBottom;break;case"root-right":n=c.paddingTop,s=u.width*ee.GOLDEN_RATIO,i=c.paddingRight,r=c.paddingBottom;break;case"root-bottom":n=u.height*ee.GOLDEN_RATIO,s=c.paddingLeft,i=c.paddingRight,r=c.paddingBottom;break;case"widget-all":n=l.top,s=l.left,i=l.right,r=l.bottom;break;case"widget-top":n=l.top,s=l.left,i=l.right,r=l.bottom+l.height/2;break;case"widget-left":n=l.top,s=l.left,i=l.right+l.width/2,r=l.bottom;break;case"widget-right":n=l.top,s=l.left+l.width/2,i=l.right,r=l.bottom;break;case"widget-bottom":n=l.top+l.height/2,s=l.left,i=l.right,r=l.bottom;break;case"widget-tab":{const e=l.tabBar.node.getBoundingClientRect().height;n=l.top,s=l.left,i=l.right,r=l.bottom+l.height-e;break}default:throw"unreachable"}return this.overlay.show({top:n,left:s,right:i,bottom:r}),a}_createTabBar(){let e=this._renderer.createTabBar(this._document);return ee.isGeneratedTabBarProperty.set(e,!0),"single-document"===this._mode&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){a.MessageLoop.postMessage(this,ee.LayoutModified)}_onCurrentChanged(e,t){let{previousTitle:n,currentTitle:s}=t;n&&n.owner.hide(),s&&s.owner.show(),(o.Platform.IS_EDGE||o.Platform.IS_IE)&&a.MessageLoop.flush(),a.MessageLoop.postMessage(this,ee.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabDetachRequested(e,t){if(this._drag)return;e.releaseMouse();let{title:n,tab:s,clientX:i,clientY:o,offset:a}=t,l=new r.MimeData;l.setData("application/vnd.lumino.widget-factory",(()=>n.owner));let c=s.cloneNode(!0);a&&(c.style.top=`-${a.y}px`,c.style.left=`-${a.x}px`),this._drag=new h({document:this._document,mimeData:l,dragImage:c,proposedAction:"move",supportedActions:"move",source:this}),s.classList.add("lm-mod-hidden");this._drag.start(i,o).then((()=>{this._drag=null,s.classList.remove("lm-mod-hidden")}))}}!function(e){e.Overlay=class{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(e){let t=this.node.style;t.top=`${e.top}px`,t.left=`${e.left}px`,t.right=`${e.right}px`,t.bottom=`${e.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(e){if(!this._hidden)return e<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,void this.node.classList.add("lm-mod-hidden")):void(-1===this._timer&&(this._timer=window.setTimeout((()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")}),e)))}};class t{createTabBar(e){let t=new X({document:e});return t.addClass("lm-DockPanel-tabBar"),t}createHandle(){let e=document.createElement("div");return e.className="lm-DockPanel-handle",e}}e.Renderer=t,e.defaultRenderer=new t}(ae||(ae={})),function(e){e.GOLDEN_RATIO=.618,e.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},e.LayoutModified=new a.ConflatableMessage("layout-modified"),e.isGeneratedTabBarProperty=new l.AttachedProperty({name:"isGeneratedTabBar",create:()=>!1}),e.createSingleDocumentConfig=function(e){if(e.isEmpty)return{main:null};let t=Array.from(e.widgets()),n=e.selectedWidgets().next().value,s=n?t.indexOf(n):-1;return{main:{type:"tab-area",widgets:t,currentIndex:s}}},e.findDropTarget=function(e,t,n,s){if(!o.ElementExt.hitTest(e.node,t,n))return{zone:"invalid",target:null};let i=e.layout;if(i.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===e.mode){let i=e.node.getBoundingClientRect(),r=t-i.left+1,o=n-i.top+1,a=i.right-t,l=i.bottom-n;switch(Math.min(o,a,l,r)){case o:if(o<s.top)return{zone:"root-top",target:null};break;case a:if(a<s.right)return{zone:"root-right",target:null};break;case l:if(l<s.bottom)return{zone:"root-bottom",target:null};break;case r:if(r<s.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let r=i.hitTestTabAreas(t,n);if(!r)return{zone:"invalid",target:null};if("single-document"===e.mode)return{zone:"widget-all",target:r};let a=r.x-r.left+1,l=r.y-r.top+1,c=r.left+r.width-r.x,u=r.top+r.height-r.y;if(l<r.tabBar.node.getBoundingClientRect().height)return{zone:"widget-tab",target:r};let h,d=Math.round(r.width/3),p=Math.round(r.height/3);if(a>d&&c>d&&l>p&&u>p)return{zone:"widget-all",target:r};switch(a/=d,l/=p,c/=d,u/=p,Math.min(a,l,c,u)){case a:h="widget-left";break;case l:h="widget-top";break;case c:h="widget-right";break;case u:h="widget-bottom";break;default:throw"unreachable"}return{zone:h,target:r}},e.getDropRef=function(e){return 0===e.titles.length?null:e.currentTitle?e.currentTitle.owner:e.titles[e.titles.length-1].owner}}(ee||(ee={}));class le{constructor(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new c.Signal(this),this._currentChanged=new c.Signal(this)}dispose(){if(!(this._counter<0)){this._counter=-1,c.Signal.clearData(this);for(const e of this._widgets)e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0);this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0}}get currentChanged(){return this._currentChanged}get activeChanged(){return this._activeChanged}get isDisposed(){return this._counter<0}get currentWidget(){return this._currentWidget}get activeWidget(){return this._activeWidget}get widgets(){return this._widgets}focusNumber(e){let t=this._numbers.get(e);return void 0===t?-1:t}has(e){return this._numbers.has(e)}add(e){if(this._numbers.has(e))return;let t=e.node.contains(document.activeElement),n=t?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,n),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),t&&this._setWidgets(e,e)}remove(e){if(!this._numbers.has(e))return;if(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),i.ArrayExt.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget!==e)return;let t=this._widgets.filter((e=>-1!==this._numbers.get(e))),n=(0,i.max)(t,((e,t)=>this._numbers.get(e)-this._numbers.get(t)))||null;this._setWidgets(n,null)}handleEvent(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e)}}_setWidgets(e,t){let n=this._currentWidget;this._currentWidget=e;let s=this._activeWidget;this._activeWidget=t,n!==e&&this._currentChanged.emit({oldValue:n,newValue:e}),s!==t&&this._activeChanged.emit({oldValue:s,newValue:t})}_evtFocus(e){let t=this._nodes.get(e.currentTarget);t!==this._currentWidget&&this._numbers.set(t,this._counter++),this._setWidgets(t,t)}_evtBlur(e){let t=this._nodes.get(e.currentTarget),n=e.relatedTarget;n&&(t.node.contains(n)||(0,i.find)(this._widgets,(e=>e.node.contains(n))))||this._setWidgets(this._currentWidget,null)}_onWidgetDisposed(e){this.remove(e)}}class ce extends E{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new S],this._columnSizers=[new S],this._box=null,void 0!==e.rowCount&&te.reallocSizers(this._rowSizers,e.rowCount),void 0!==e.columnCount&&te.reallocSizers(this._columnSizers,e.columnCount),void 0!==e.rowSpacing&&(this._rowSpacing=te.clampValue(e.rowSpacing)),void 0!==e.columnSpacing&&(this._columnSpacing=te.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let t=e.widget;e.dispose(),t.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(te.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(te.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=te.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=te.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let t=this._rowSizers[e];return t?t.stretch:-1}setRowStretch(e,t){let n=this._rowSizers[e];n&&(t=te.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))}columnStretch(e){let t=this._columnSizers[e];return t?t.stretch:-1}setColumnStretch(e,t){let n=this._columnSizers[e];n&&(t=te.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){-1===i.ArrayExt.findFirstIndex(this._items,(t=>t.widget===e))&&(this._items.push(new O(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let t=i.ArrayExt.findFirstIndex(this._items,(t=>t.widget===e));if(-1===t)return;let n=i.ArrayExt.removeAt(this._items,t);this.parent&&this.detachWidget(e),n.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let o=0,a=this.rowCount;o<a;++o)this._rowSizers[o].minSize=0;for(let o=0,a=this.columnCount;o<a;++o)this._columnSizers[o].minSize=0;let e=this._items.filter((e=>!e.isHidden));for(let o=0,a=e.length;o<a;++o)e[o].fit();let t=this.rowCount-1,n=this.columnCount-1;e.sort(te.rowSpanCmp);for(let o=0,a=e.length;o<a;++o){let n=e[o],s=ce.getCellConfig(n.widget),i=Math.min(s.row,t),r=Math.min(s.row+s.rowSpan-1,t);te.distributeMin(this._rowSizers,i,r,n.minHeight)}e.sort(te.columnSpanCmp);for(let o=0,a=e.length;o<a;++o){let t=e[o],s=ce.getCellConfig(t.widget),i=Math.min(s.column,n),r=Math.min(s.column+s.columnSpan-1,n);te.distributeMin(this._columnSizers,i,r,t.minWidth)}if("set-no-constraint"===this.fitPolicy)return void a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest);let s=t*this._rowSpacing,i=n*this._columnSpacing;for(let o=0,a=this.rowCount;o<a;++o)s+=this._rowSizers[o].minSize;for(let o=0,a=this.columnCount;o<a;++o)i+=this._columnSizers[o].minSize;let r=this._box=o.ElementExt.boxSizing(this.parent.node);i+=r.horizontalSum,s+=r.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,k.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest)}_update(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,i=e-this._box.horizontalSum,r=t-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;v.calc(this._rowSizers,Math.max(0,r-c)),v.calc(this._columnSizers,Math.max(0,i-u));for(let o=0,h=n,d=this.rowCount;o<d;++o)this._rowStarts[o]=h,h+=this._rowSizers[o].size+this._rowSpacing;for(let o=0,h=s,d=this.columnCount;o<d;++o)this._columnStarts[o]=h,h+=this._columnSizers[o].size+this._columnSpacing;for(let o=0,h=this._items.length;o<h;++o){let e=this._items[o];if(e.isHidden)continue;let t=ce.getCellConfig(e.widget),n=Math.min(t.row,a),s=Math.min(t.column,l),i=Math.min(t.row+t.rowSpan-1,a),r=Math.min(t.column+t.columnSpan-1,l),c=this._columnStarts[s],u=this._rowStarts[n],h=this._columnStarts[r]+this._columnSizers[r].size-c,d=this._rowStarts[i]+this._rowSizers[i].size-u;e.update(c,u,h,d)}}}!function(e){e.getCellConfig=function(e){return te.cellConfigProperty.get(e)},e.setCellConfig=function(e,t){te.cellConfigProperty.set(e,te.normalizeConfig(t))}}(ce||(ce={})),function(e){e.cellConfigProperty=new l.AttachedProperty({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:function(e){e.parent&&e.parent.layout instanceof ce&&e.parent.fit()}}),e.normalizeConfig=function(e){return{row:Math.max(0,Math.floor(e.row||0)),column:Math.max(0,Math.floor(e.column||0)),rowSpan:Math.max(1,Math.floor(e.rowSpan||0)),columnSpan:Math.max(1,Math.floor(e.columnSpan||0))}},e.clampValue=function(e){return Math.max(0,Math.floor(e))},e.rowSpanCmp=function(t,n){let s=e.cellConfigProperty.get(t.widget),i=e.cellConfigProperty.get(n.widget);return s.rowSpan-i.rowSpan},e.columnSpanCmp=function(t,n){let s=e.cellConfigProperty.get(t.widget),i=e.cellConfigProperty.get(n.widget);return s.columnSpan-i.columnSpan},e.reallocSizers=function(e,t){for(t=Math.max(1,Math.floor(t));e.length<t;)e.push(new S);e.length>t&&(e.length=t)},e.distributeMin=function(e,t,n,s){if(n<t)return;if(t===n){let n=e[t];return void(n.minSize=Math.max(n.minSize,s))}let i=0;for(let o=t;o<=n;++o)i+=e[o].minSize;if(i>=s)return;let r=(s-i)/(n-t+1);for(let o=t;o<=n;++o)e[o].minSize+=r}}(te||(te={}));class ue extends k{constructor(e={}){super({node:ne.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(k.Flag.DisallowLayout),this.renderer=e.renderer||ue.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&0===this._menus[e].items.length&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,t=!0){this.insertMenu(this._menus.length,e,t)}insertMenu(e,t,n=!0){this._closeChildMenu();let s=this._menus.indexOf(t),r=Math.max(0,Math.min(e,this._menus.length));if(-1===s)return i.ArrayExt.insert(this._menus,r,t),t.addClass("lm-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),void(n&&this.update());r===this._menus.length&&r--,s!==r&&(i.ArrayExt.move(this._menus,s,r),n&&this.update())}removeMenu(e,t=!0){this.removeMenuAt(this._menus.indexOf(e),t)}removeMenuAt(e,t=!0){this._closeChildMenu();let n=i.ArrayExt.removeAt(this._menus,e);n&&(n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),t&&this.update())}clearMenus(){if(0!==this._menus.length){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var t;let n=this._menus,s=this.renderer,i=this._activeIndex,r=this._tabFocusIndex>=0&&this._tabFocusIndex<n.length?this._tabFocusIndex:0,o=this._overflowIndex>-1?this._overflowIndex:n.length,a=0,l=!1;o=null!==this._overflowMenu?o-1:o;let c=new Array(o);for(let u=0;u<o;++u)c[u]=s.renderItem({title:n[u].title,active:u===i,tabbable:u===r,disabled:0===n[u].items.length,onfocus:()=>{this._tabFocusIndex=u,this.activeIndex=u}}),a+=this._menuItemSizes[u],n[u].title.label===this._overflowMenuOptions.title&&(l=!0,o--);if(this._overflowMenuOptions.isVisible)if(this._overflowIndex>-1&&!l){if(null===this._overflowMenu){const e=null!==(t=this._overflowMenuOptions.title)&&void 0!==t?t:"...";this._overflowMenu=new G({commands:new f.CommandRegistry}),this._overflowMenu.title.label=e,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let e=n.length-2;e>=o;e--){const t=this.menus[e];t.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:t}),this.removeMenu(t,!1)}c[o]=s.renderItem({title:this._overflowMenu.title,active:o===i&&0!==n[o].items.length,tabbable:o===r,disabled:0===n[o].items.length,onfocus:()=>{this._tabFocusIndex=o,this.activeIndex=o}}),o++}else if(null!==this._overflowMenu){let e=this._overflowMenu.items,t=this.node.offsetWidth,i=this._overflowMenu.items.length;for(let l=0;l<i;++l){let i=n.length-1-l;if(t-a>this._menuItemSizes[i]){let t=e[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(o,t,!1),c[o]=s.renderItem({title:t.title,active:!1,tabbable:o===r,disabled:0===n[o].items.length,onfocus:()=>{this._tabFocusIndex=o,this.activeIndex=o}}),o++}}0===this._overflowMenu.items.length&&(this.removeMenu(this._overflowMenu,!1),c.pop(),this._overflowMenu=null,this._overflowIndex=-1)}d.render(c,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let t=this.node.offsetWidth,n=0,s=-1,i=e.length;if(0==this._menuItemSizes.length)for(let r=0;r<i;r++){let i=e[r];n+=i.offsetWidth,this._menuItemSizes.push(i.offsetWidth),n>t&&-1===s&&(s=r)}else for(let r=0;r<this._menuItemSizes.length;r++)if(n+=this._menuItemSizes[r],n>t){s=r;break}this._overflowIndex=s}_evtKeyDown(e){let t=e.keyCode;if(9===t)return void(this.activeIndex=-1);if(e.preventDefault(),e.stopPropagation(),13===t||32===t||38===t||40===t){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;return void this.openActiveMenu()}if(27===t)return this._closeChildMenu(),void this._focusItemAt(this.activeIndex);if(37===t||39===t){let e=37===t?-1:1,n=this._tabFocusIndex+e,s=this._menus.length;for(let t=0;t<s;t++){let i=(s+n+e*t)%s;if(this._menus[i].items.length)return void this._focusItemAt(i)}return}let n=(0,x.getKeyboardLayout)().keyForKeydownEvent(e);if(!n)return;let s=this._activeIndex+1,i=ne.findMnemonic(this._menus,n,s);-1===i.index||i.multiple?-1!==i.index?(this.activeIndex=i.index,this._focusItemAt(this.activeIndex)):-1!==i.auto&&(this.activeIndex=i.auto,this._focusItemAt(this.activeIndex)):(this.activeIndex=i.index,this.openActiveMenu())}_evtMouseDown(e){if(!o.ElementExt.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let t=i.ArrayExt.findFirstIndex(this.contentNode.children,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(-1!==t){if(0===e.button)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{e.preventDefault();const n=this._positionForMenu(t);G.saveWindowData(),this.activeIndex=t,this._openChildMenu(n)}}else this._closeChildMenu()}_evtMouseMove(e){let t=i.ArrayExt.findFirstIndex(this.contentNode.children,(t=>o.ElementExt.hitTest(t,e.clientX,e.clientY)));if(t===this._activeIndex)return;if(-1===t&&this._childMenu)return;const n=t>=0&&this._childMenu?this._positionForMenu(t):null;G.saveWindowData(),this.activeIndex=t,n&&this._openChildMenu(n)}_positionForMenu(e){let t=this.contentNode.children[e],{left:n,bottom:s}=t.getBoundingClientRect();return{top:s,left:n}}_evtFocusOut(e){this._childMenu||this.node.contains(e.relatedTarget)||(this.activeIndex=-1)}_focusItemAt(e){const t=this.contentNode.childNodes[e];t&&t.focus()}_openChildMenu(e={}){let t=this.activeMenu;if(!t)return void this._closeChildMenu();let n=this._childMenu;if(n===t)return;this._childMenu=t,n?n.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,a.MessageLoop.sendMessage(this,k.Msg.UpdateRequest);let{left:s,top:i}=e;void 0!==s&&void 0!==i||({left:s,top:i}=this._positionForMenu(this._activeIndex)),n||this.addClass("lm-mod-active"),t.items.length>0&&t.open(s,i,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,t){if(e!==this._childMenu)return;let n=this._activeIndex,s=this._menus.length;switch(t){case"next":this.activeIndex=n===s-1?0:n+1;break;case"previous":this.activeIndex=0===n?s-1:n-1}this.openActiveMenu()}_onTitleChanged(){this.update()}}!function(e){class t{renderItem(e){let t=this.createItemClass(e),n=this.createItemDataset(e),s=this.createItemARIA(e);return _.li({className:t,dataset:n,...e.disabled?{}:{tabindex:e.tabbable?"0":"-1"},onfocus:e.onfocus,...s},this.renderIcon(e),this.renderLabel(e))}renderIcon(e){let t=this.createIconClass(e);return _.div({className:t},e.title.icon,e.title.iconLabel)}renderLabel(e){let t=this.formatLabel(e);return _.div({className:"lm-MenuBar-itemLabel"},t)}createItemClass(e){let t="lm-MenuBar-item";return e.title.className&&(t+=` ${e.title.className}`),e.active&&!e.disabled&&(t+=" lm-mod-active"),t}createItemDataset(e){return e.title.dataset}createItemARIA(e){return{role:"menuitem","aria-haspopup":"true","aria-disabled":e.disabled?"true":"false"}}createIconClass(e){let t="lm-MenuBar-itemIcon",n=e.title.iconClass;return n?`${t} ${n}`:t}formatLabel(e){let{label:t,mnemonic:n}=e.title;if(n<0||n>=t.length)return t;let s=t.slice(0,n),i=t.slice(n+1),r=t[n];return[s,_.span({className:"lm-MenuBar-itemMnemonic"},r),i]}}e.Renderer=t,e.defaultRenderer=new t}(ue||(ue={})),function(e){e.createNode=function(){let e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-MenuBar-content",e.appendChild(t),t.setAttribute("role","menubar"),e},e.findMnemonic=function(e,t,n){let s=-1,i=-1,r=!1,o=t.toUpperCase();for(let a=0,l=e.length;a<l;++a){let t=(a+n)%l,c=e[t].title;if(0===c.label.length)continue;let u=c.mnemonic;u>=0&&u<c.label.length?c.label[u].toUpperCase()===o&&(-1===s?s=t:r=!0):-1===i&&c.label[0].toUpperCase()===o&&(i=t)}return{index:s,multiple:r,auto:i}}}(ne||(ne={}));class he extends k{constructor(e={}){super({node:se.createNode()}),this._onRepeat=()=>{if(this._repeatTimer=-1,!this._pressData)return;let e=this._pressData.part;if("thumb"===e)return;this._repeatTimer=window.setTimeout(this._onRepeat,20);let t=this._pressData.mouseX,n=this._pressData.mouseY;if("decrement"!==e)if("increment"!==e){if("track"===e){if(!o.ElementExt.hitTest(this.trackNode,t,n))return;let e=this.thumbNode;if(o.ElementExt.hitTest(e,t,n))return;let s,i=e.getBoundingClientRect();return s="horizontal"===this._orientation?t<i.left?"decrement":"increment":n<i.top?"decrement":"increment",void this._pageRequested.emit(s)}}else{if(!o.ElementExt.hitTest(this.incrementNode,t,n))return;this._stepRequested.emit("increment")}else{if(!o.ElementExt.hitTest(this.decrementNode,t,n))return;this._stepRequested.emit("decrement")}},this._value=0,this._page=10,this._maximum=100,this._repeatTimer=-1,this._pressData=null,this._thumbMoved=new c.Signal(this),this._stepRequested=new c.Signal(this),this._pageRequested=new c.Signal(this),this.addClass("lm-ScrollBar"),this.setFlag(k.Flag.DisallowLayout),this._orientation=e.orientation||"vertical",this.dataset.orientation=this._orientation,void 0!==e.maximum&&(this._maximum=Math.max(0,e.maximum)),void 0!==e.page&&(this._page=Math.max(0,e.page)),void 0!==e.value&&(this._value=Math.max(0,Math.min(e.value,this._maximum)))}get thumbMoved(){return this._thumbMoved}get stepRequested(){return this._stepRequested}get pageRequested(){return this._pageRequested}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())}get value(){return this._value}set value(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())}get page(){return this._page}set page(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())}get maximum(){return this._maximum}set maximum(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())}get decrementNode(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]}get incrementNode(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]}get trackNode(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]}get thumbNode(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]}handleEvent(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onBeforeAttach(e){this.node.addEventListener("mousedown",this),this.update()}onAfterDetach(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()}onUpdateRequest(e){let t=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),n=Math.max(0,Math.min(n,100));let s=this.thumbNode.style;"horizontal"===this._orientation?(s.top="",s.height="",s.left=`${t}%`,s.width=`${n}%`,s.transform=`translate(${-t}%, 0%)`):(s.left="",s.width="",s.top=`${t}%`,s.height=`${n}%`,s.transform=`translate(0%, ${-t}%)`)}_evtKeyDown(e){if(e.preventDefault(),e.stopPropagation(),27!==e.keyCode)return;let t=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==t&&this._moveThumb(t)}_evtMouseDown(e){if(0!==e.button)return;if(this.activate(),this._pressData)return;let t=se.findPart(this,e.target);if(!t)return;e.preventDefault(),e.stopPropagation();let n=h.overrideCursor("default");if(this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===t){let t=this.thumbNode,n=t.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=e.clientX-n.left:this._pressData.delta=e.clientY-n.top,t.classList.add("lm-mod-active"),void(this._pressData.value=this._value)}if("track"===t){let t,n=this.thumbNode.getBoundingClientRect();return t="horizontal"===this._orientation?e.clientX<n.left?"decrement":"increment":e.clientY<n.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._pageRequested.emit(t)}return"decrement"===t?(this.decrementNode.classList.add("lm-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===t?(this.incrementNode.classList.add("lm-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}_evtMouseMove(e){if(!this._pressData)return;if(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,"thumb"!==this._pressData.part)return;let t,n,s=this.thumbNode.getBoundingClientRect(),i=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(t=e.clientX-i.left-this._pressData.delta,n=i.width-s.width):(t=e.clientY-i.top-this._pressData.delta,n=i.height-s.height);let r=0===n?0:t*this._maximum/n;this._moveThumb(r)}_evtMouseUp(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"))}_moveThumb(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))}}!function(e){e.createNode=function(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");return t.className="lm-ScrollBar-button",n.className="lm-ScrollBar-button",t.dataset.action="decrement",n.dataset.action="increment",s.className="lm-ScrollBar-track",i.className="lm-ScrollBar-thumb",s.appendChild(i),e.appendChild(t),e.appendChild(s),e.appendChild(n),e},e.findPart=function(e,t){return e.thumbNode.contains(t)?"thumb":e.trackNode.contains(t)?"track":e.decrementNode.contains(t)?"decrement":e.incrementNode.contains(t)?"increment":null}}(se||(se={}));class de extends E{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&a.MessageLoop.sendMessage(e,k.Msg.AfterDetach)}}class pe extends M{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=void 0!==e.hiddenMode?e.hiddenMode:k.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach((e=>{e.hiddenMode=this._hiddenMode})))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,t){this._hiddenMode===k.HiddenMode.Scale&&this._items.length>0?(1===this._items.length&&(this.widgets[0].hiddenMode=k.HiddenMode.Scale),t.hiddenMode=k.HiddenMode.Scale):t.hiddenMode=k.HiddenMode.Display,i.ArrayExt.insert(this._items,e,new O(t)),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterAttach),this.parent.fit()}moveWidget(e,t,n){i.ArrayExt.move(this._items,e,t),this.parent.update()}detachWidget(e,t){let n=i.ArrayExt.removeAt(this._items,e);this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,k.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===k.HiddenMode.Scale&&(t.hiddenMode=k.HiddenMode.Display,1===this._items.length&&(this._items[0].widget.hiddenMode=k.HiddenMode.Display)),n.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,t=0;for(let i=0,r=this._items.length;i<r;++i){let n=this._items[i];n.isHidden||(n.fit(),e=Math.max(e,n.minWidth),t=Math.max(t,n.minHeight))}let n=this._box=o.ElementExt.boxSizing(this.parent.node);e+=n.horizontalSum,t+=n.verticalSum;let s=this.parent.node.style;s.minWidth=`${e}px`,s.minHeight=`${t}px`,this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,k.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,k.Msg.UpdateRequest)}_update(e,t){this._dirty=!1;let n=0;for(let o=0,l=this._items.length;o<l;++o)n+=+!this._items[o].isHidden;if(0===n)return;e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=o.ElementExt.boxSizing(this.parent.node));let s=this._box.paddingTop,i=this._box.paddingLeft,r=e-this._box.horizontalSum,a=t-this._box.verticalSum;for(let o=0,l=this._items.length;o<l;++o){let e=this._items[o];e.isHidden||(e.widget.node.style.zIndex=`${o}`,e.update(i,s,r,a))}}}class fe extends z{constructor(e={}){super({layout:ie.createLayout(e)}),this._widgetRemoved=new c.Signal(this),this.addClass("lm-StackedPanel")}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get widgetRemoved(){return this._widgetRemoved}onChildAdded(e){e.child.addClass("lm-StackedPanel-child")}onChildRemoved(e){e.child.removeClass("lm-StackedPanel-child"),this._widgetRemoved.emit(e.child)}}!function(e){e.createLayout=function(e){return e.layout||new pe}}(ie||(ie={}));class ge extends k{constructor(e={}){super(),this._currentChanged=new c.Signal(this),this._addRequested=new c.Signal(this),this.addClass("lm-TabPanel"),this.tabBar=new X(e),this.tabBar.addClass("lm-TabPanel-tabBar"),this.stackedPanel=new fe,this.stackedPanel.addClass("lm-TabPanel-stackedPanel"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabBar.addRequested.connect(this._onTabAddRequested,this),this.stackedPanel.widgetRemoved.connect(this._onWidgetRemoved,this),this._tabPlacement=e.tabPlacement||"top";let t=re.directionFromPlacement(this._tabPlacement),n=re.orientationFromPlacement(this._tabPlacement);this.tabBar.orientation=n,this.tabBar.dataset.placement=this._tabPlacement;let s=new H({direction:t,spacing:0});H.setStretch(this.tabBar,0),H.setStretch(this.stackedPanel,1),s.addWidget(this.tabBar),s.addWidget(this.stackedPanel),this.layout=s}get currentChanged(){return this._currentChanged}get currentIndex(){return this.tabBar.currentIndex}set currentIndex(e){this.tabBar.currentIndex=e}get currentWidget(){let e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get addButtonEnabled(){return this.tabBar.addButtonEnabled}set addButtonEnabled(e){this.tabBar.addButtonEnabled=e}get tabPlacement(){return this._tabPlacement}set tabPlacement(e){if(this._tabPlacement===e)return;this._tabPlacement=e;let t=re.directionFromPlacement(e),n=re.orientationFromPlacement(e);this.tabBar.orientation=n,this.tabBar.dataset.placement=e,this.layout.direction=t}get addRequested(){return this._addRequested}get widgets(){return this.stackedPanel.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title),t.node.setAttribute("role","tabpanel");let n=this.tabBar.renderer;if(n instanceof X.Renderer){let e=n.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",e)}}_onCurrentChanged(e,t){let{previousIndex:n,previousTitle:s,currentIndex:i,currentTitle:r}=t,l=s?s.owner:null,c=r?r.owner:null;l&&l.hide(),c&&c.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:i,currentWidget:c}),(o.Platform.IS_EDGE||o.Platform.IS_IE)&&a.MessageLoop.flush()}_onTabAddRequested(e,t){this._addRequested.emit(e)}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabMoved(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)}_onWidgetRemoved(e,t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(t.title)}}!function(e){e.orientationFromPlacement=function(e){return t[e]},e.directionFromPlacement=function(e){return n[e]};const t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}}(re||(re={}))},70974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(13,17,23,0)",pageHeaderBg:"#0d1117",marketingIcon:{primary:"#79c0ff",secondary:"#1f6feb"},diffBlob:{addition:{numText:"#e6edf3",fg:"#e6edf3",numBg:"rgba(63,185,80,0.3)",lineBg:"rgba(46,160,67,0.15)",wordBg:"rgba(46,160,67,0.4)"},deletion:{numText:"#e6edf3",fg:"#e6edf3",numBg:"rgba(248,81,73,0.3)",lineBg:"rgba(248,81,73,0.1)",wordBg:"rgba(248,81,73,0.4)"},hunk:{numBg:"rgba(56,139,253,0.4)"},expander:{icon:"#848d97"},selectedLineHighlightMixBlendMode:"screen"},diffstat:{deletionBorder:"rgba(240,246,252,0.1)",additionBorder:"rgba(240,246,252,0.1)",additionBg:"#3fb950"},searchKeyword:{hl:"rgba(210,153,34,0.4)"},prettylights:{syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",storageModifierImport:"#c9d1d9",entityTag:"#7ee787",keyword:"#ff7b72",string:"#a5d6ff",variable:"#ffa657",brackethighlighterUnmatched:"#f85149",invalidIllegalText:"#f0f6fc",invalidIllegalBg:"#8e1519",carriageReturnText:"#f0f6fc",carriageReturnBg:"#b62324",stringRegexp:"#7ee787",markupList:"#f2cc60",markupHeading:"#1f6feb",markupItalic:"#c9d1d9",markupBold:"#c9d1d9",markupDeletedText:"#ffdcd7",markupDeletedBg:"#67060c",markupInsertedText:"#aff5b4",markupInsertedBg:"#033a16",markupChangedText:"#ffdfb6",markupChangedBg:"#5a1e02",markupIgnoredText:"#c9d1d9",markupIgnoredBg:"#1158c7",metaDiffRange:"#d2a8ff",brackethighlighterAngle:"#8b949e",sublimelinterGutterMark:"#484f58",constantOtherReferenceLink:"#a5d6ff"}},codemirror:{text:"#e6edf3",bg:"#0d1117",guttersBg:"#0d1117",guttermarkerText:"#0d1117",guttermarkerSubtleText:"#6e7681",linenumberText:"#848d97",cursor:"#e6edf3",selectionBg:"rgba(56,139,253,0.4)",activelineBg:"rgba(110,118,129,0.1)",matchingbracketText:"#e6edf3",linesBg:"#0d1117",syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",keyword:"#ff7b72",storage:"#ff7b72",string:"#a5d6ff",support:"#79c0ff",variable:"#ffa657"}},checks:{bg:"#010409",runBorderWidth:"1px",containerBorderWidth:"1px",textPrimary:"#e6edf3",textSecondary:"#848d97",textLink:"#2f81f7",btnIcon:"#848d97",btnHoverIcon:"#e6edf3",btnHoverBg:"rgba(110,118,129,0.1)",inputText:"#848d97",inputPlaceholderText:"#6e7681",inputFocusText:"#e6edf3",inputBg:"#161b22",inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)",donutError:"#f85149",donutPending:"#d29922",donutSuccess:"#2ea043",donutNeutral:"#8b949e",dropdownText:"#e6edf3",dropdownBg:"#161b22",dropdownBorder:"#30363d",dropdownShadow:"rgba(1,4,9,0.3)",dropdownHoverText:"#e6edf3",dropdownHoverBg:"rgba(110,118,129,0.1)",dropdownBtnHoverText:"#e6edf3",dropdownBtnHoverBg:"rgba(110,118,129,0.1)",scrollbarThumbBg:"rgba(110,118,129,0.4)",headerLabelText:"#848d97",headerLabelOpenText:"#e6edf3",headerBorder:"#21262d",headerIcon:"#848d97",lineText:"#848d97",lineNumText:"#6e7681",lineTimestampText:"#6e7681",lineHoverBg:"rgba(110,118,129,0.1)",lineSelectedBg:"rgba(56,139,253,0.1)",lineSelectedNumText:"#2f81f7",lineDtFmText:"#ffffff",lineDtFmBg:"#9e6a03",gateBg:"rgba(187,128,9,0.15)",gateText:"#848d97",gateWaitingText:"#d29922",stepHeaderOpenBg:"#161b22",stepErrorText:"#f85149",stepWarningText:"#d29922",loglineText:"#848d97",loglineNumText:"#6e7681",loglineDebugText:"#a371f7",loglineErrorText:"#848d97",loglineErrorNumText:"#6e7681",loglineErrorBg:"rgba(248,81,73,0.1)",loglineWarningText:"#848d97",loglineWarningNumText:"#d29922",loglineWarningBg:"rgba(187,128,9,0.15)",loglineCommandText:"#2f81f7",loglineSectionText:"#3fb950",ansi:{black:"#0d1117",blackBright:"#161b22",white:"#b1bac4",whiteBright:"#b1bac4",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#3fb950",greenBright:"#56d364",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#0d1117",sidebarBg:"#161b22",gradientIn:"#161b22",gradientOut:"rgba(22,27,34,0)"},mktg:{btn:{bg:"#f6f8fa",shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#606771"}},avatar:{bg:"rgba(255,255,255,0.1)",border:"rgba(240,246,252,0.1)",stackFade:"#30363d",stackFadeMore:"#21262d",childShadow:"0 0 0 2px #0d1117"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"#484f58",tapHighlight:"rgba(48,54,61,0.5)",tapFocusBg:"#0c2d6b"},overlay:{shadow:"0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)",backdrop:"rgba(22,27,34,0.4)"},header:{text:"rgba(255,255,255,0.7)",bg:"#161b22",divider:"#8b949e",logo:"#f0f6fc"},headerSearch:{bg:"#0d1117",border:"#30363d"},sidenav:{selectedBg:"#21262d"},menu:{bgActive:"#161b22"},input:{disabledBg:"rgba(110,118,129,0)"},timeline:{badgeBg:"#21262d"},ansi:{black:"#484f58",blackBright:"#6e7681",white:"#b1bac4",whiteBright:"#ffffff",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#3fb950",greenBright:"#56d364",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"#c9d1d9",bg:"#21262d",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#30363d",hoverBorder:"#8b949e",activeBg:"hsla(212,12%,18%,1)",activeBorder:"#6e7681",selectedBg:"#161b22",counterBg:"#30363d",primary:{text:"#ffffff",bg:"#238636",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#2ea043",hoverBorder:"rgba(240,246,252,0.1)",selectedBg:"#238636",selectedShadow:"0 0 transparent",disabledText:"rgba(255,255,255,0.5)",disabledBg:"rgba(35,134,54,0.6)",disabledBorder:"rgba(240,246,252,0.1)",icon:"#ffffff",counterBg:"rgba(4,38,15,0.2)"},outline:{text:"#388bfd",hoverText:"#58a6ff",hoverBg:"#30363d",hoverBorder:"rgba(240,246,252,0.1)",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(5,29,77,0.2)",selectedText:"#ffffff",selectedBg:"#0d419d",selectedBorder:"rgba(240,246,252,0.1)",selectedShadow:"0 0 transparent",disabledText:"rgba(88,166,255,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(31,111,235,0.05)",counterBg:"rgba(5,29,77,0.2)",hoverCounterFg:"#58a6ff",disabledCounterFg:"rgba(47,129,247,0.5)",counterFg:"#388bfd"},danger:{text:"#f85149",hoverText:"#ffffff",hoverBg:"#da3633",hoverBorder:"#f85149",hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",hoverIcon:"#ffffff",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#b62324",selectedBorder:"#ff7b72",selectedShadow:"0 0 transparent",disabledText:"rgba(248,81,73,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(218,54,51,0.05)",counterBg:"rgba(73,2,2,0.2)",icon:"#f85149",counterFg:"#f85149",disabledCounterFg:"rgba(248,81,73,0.5)",hoverCounterFg:"#ffffff"},inactive:{bg:"#21262d",text:"#8b949e"}},underlinenav:{icon:"#6e7681",borderHover:"rgba(110,118,129,0.4)"},actionListItem:{inlineDivider:"rgba(48,54,61,0.48)",default:{hoverBg:"rgba(177,186,196,0.12)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(177,186,196,0.2)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(177,186,196,0.08)"},danger:{hoverBg:"rgba(248,81,73,0.16)",activeBg:"rgba(248,81,73,0.24)",hoverText:"#ff7b72"}},switchTrack:{bg:"rgba(110,118,129,0.1)",hoverBg:"hsla(215,8%,72%,0.1)",activeBg:"rgba(110,118,129,0.4)",disabledBg:"#21262d",fg:"#848d97",disabledFg:"#010409",border:"rgba(0,0,0,0)",checked:{bg:"rgba(31,111,235,0.35)",hoverBg:"rgba(31,111,235,0.5)",activeBg:"rgba(31,111,235,0.65)",fg:"#ffffff",disabledFg:"#010409",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#0d1117",border:"#606771",disabledBg:"#161b22",checked:{bg:"#0d1117",disabledBg:"#161b22",border:"rgba(31,111,235,0.35)"}},segmentedControl:{bg:"rgba(110,118,129,0.1)",button:{bg:"#0d1117",hover:{bg:"#30363d"},active:{bg:"#21262d"},selected:{border:"#6e7681"}}},treeViewItem:{chevron:{hoverBg:"rgba(177,186,196,0.12)"},directory:{fill:"#848d97"}},fg:{default:"#e6edf3",muted:"#848d97",subtle:"#6e7681",onEmphasis:"#ffffff"},canvas:{default:"#0d1117",overlay:"#161b22",inset:"#010409",subtle:"#161b22"},border:{default:"#30363d",muted:"#21262d",subtle:"rgba(240,246,252,0.1)"},shadow:{small:"0 0 transparent",medium:"0 3px 6px #010409",large:"0 8px 24px #010409",extraLarge:"0 12px 48px #010409"},neutral:{emphasisPlus:"#6e7681",emphasis:"#6e7681",muted:"rgba(110,118,129,0.4)",subtle:"rgba(110,118,129,0.1)"},accent:{fg:"#2f81f7",emphasis:"#1f6feb",muted:"rgba(56,139,253,0.4)",subtle:"rgba(56,139,253,0.1)"},success:{fg:"#3fb950",emphasis:"#238636",muted:"rgba(46,160,67,0.4)",subtle:"rgba(46,160,67,0.15)"},attention:{fg:"#d29922",emphasis:"#9e6a03",muted:"rgba(187,128,9,0.4)",subtle:"rgba(187,128,9,0.15)"},severe:{fg:"#db6d28",emphasis:"#bd561d",muted:"rgba(219,109,40,0.4)",subtle:"rgba(219,109,40,0.1)"},danger:{fg:"#f85149",emphasis:"#da3633",muted:"rgba(248,81,73,0.4)",subtle:"rgba(248,81,73,0.1)"},open:{fg:"#3fb950",emphasis:"#238636",muted:"rgba(46,160,67,0.4)",subtle:"rgba(46,160,67,0.15)"},closed:{fg:"#f85149",emphasis:"#da3633",muted:"rgba(248,81,73,0.4)",subtle:"rgba(248,81,73,0.15)"},done:{fg:"#a371f7",emphasis:"#8957e5",muted:"rgba(163,113,247,0.4)",subtle:"rgba(163,113,247,0.1)"},sponsors:{fg:"#db61a2",emphasis:"#bf4b8a",muted:"rgba(219,97,162,0.4)",subtle:"rgba(219,97,162,0.1)"},primer:{fg:{disabled:"#484f58"},canvas:{backdrop:"rgba(1,4,9,0.8)",sticky:"rgba(13,17,23,0.95)"},border:{active:"#f78166",contrast:"rgba(255,255,255,0.2)"},shadow:{highlight:"0 0 transparent",inset:"0 0 transparent"}},scale:{black:"#010409",white:"#ffffff",gray:["#f0f6fc","#c9d1d9","#b1bac4","#8b949e","#6e7681","#484f58","#30363d","#21262d","#161b22","#0d1117"],blue:["#cae8ff","#a5d6ff","#79c0ff","#58a6ff","#388bfd","#1f6feb","#1158c7","#0d419d","#0c2d6b","#051d4d"],green:["#aff5b4","#7ee787","#56d364","#3fb950","#2ea043","#238636","#196c2e","#0f5323","#033a16","#04260f"],yellow:["#f8e3a1","#f2cc60","#e3b341","#d29922","#bb8009","#9e6a03","#845306","#693e00","#4b2900","#341a00"],orange:["#ffdfb6","#ffc680","#ffa657","#f0883e","#db6d28","#bd561d","#9b4215","#762d0a","#5a1e02","#3d1300"],red:["#ffdcd7","#ffc1ba","#ffa198","#ff7b72","#f85149","#da3633","#b62324","#8e1519","#67060c","#490202"],purple:["#eddeff","#e2c5ff","#d2a8ff","#bc8cff","#a371f7","#8957e5","#6e40c9","#553098","#3c1e70","#271052"],pink:["#ffdaec","#ffbedd","#ff9bce","#f778ba","#db61a2","#bf4b8a","#9e3670","#7d2457","#5e103e","#42062a"],coral:["#ffddd2","#ffc2b2","#ffa28b","#f78166","#ea6045","#cf462d","#ac3220","#872012","#640d04","#460701"]}}},56433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(13,17,23,0)",pageHeaderBg:"#0d1117",marketingIcon:{primary:"#79c0ff",secondary:"#1f6feb"},diffBlob:{addition:{numText:"#c9d1d9",fg:"#c9d1d9",numBg:"rgba(88,166,255,0.3)",lineBg:"rgba(56,139,253,0.15)",wordBg:"rgba(56,139,253,0.4)"},deletion:{numText:"#c9d1d9",fg:"#c9d1d9",numBg:"rgba(212,118,22,0.3)",lineBg:"rgba(212,118,22,0.1)",wordBg:"rgba(212,118,22,0.4)"},hunk:{numBg:"rgba(56,139,253,0.4)"},expander:{icon:"#8b949e"},selectedLineHighlightMixBlendMode:"screen"},diffstat:{deletionBorder:"rgba(240,246,252,0.1)",additionBorder:"rgba(240,246,252,0.1)",additionBg:"#58a6ff"},searchKeyword:{hl:"rgba(210,153,34,0.4)"},prettylights:{syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",storageModifierImport:"#c9d1d9",entityTag:"#a5d6ff",keyword:"#ec8e2c",string:"#a5d6ff",variable:"#fdac54",brackethighlighterUnmatched:"#d47616",invalidIllegalText:"#f0f6fc",invalidIllegalBg:"#6c3906",carriageReturnText:"#f0f6fc",carriageReturnBg:"#914d04",stringRegexp:"#a5d6ff",markupList:"#f2cc60",markupHeading:"#1f6feb",markupItalic:"#c9d1d9",markupBold:"#c9d1d9",markupDeletedText:"#ffe2bb",markupDeletedBg:"#4e2906",markupInsertedText:"#cae8ff",markupInsertedBg:"#0c2d6b",markupChangedText:"#ffe2bb",markupChangedBg:"#4e2906",markupIgnoredText:"#c9d1d9",markupIgnoredBg:"#1158c7",metaDiffRange:"#d2a8ff",brackethighlighterAngle:"#8b949e",sublimelinterGutterMark:"#484f58",constantOtherReferenceLink:"#a5d6ff"}},codemirror:{text:"#c9d1d9",bg:"#0d1117",guttersBg:"#0d1117",guttermarkerText:"#0d1117",guttermarkerSubtleText:"#6e7681",linenumberText:"#8b949e",cursor:"#c9d1d9",selectionBg:"rgba(56,139,253,0.4)",activelineBg:"rgba(110,118,129,0.1)",matchingbracketText:"#c9d1d9",linesBg:"#0d1117",syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",keyword:"#ec8e2c",storage:"#ec8e2c",string:"#a5d6ff",support:"#79c0ff",variable:"#fdac54"}},checks:{bg:"#010409",runBorderWidth:"1px",containerBorderWidth:"1px",textPrimary:"#c9d1d9",textSecondary:"#8b949e",textLink:"#58a6ff",btnIcon:"#8b949e",btnHoverIcon:"#c9d1d9",btnHoverBg:"rgba(110,118,129,0.1)",inputText:"#8b949e",inputPlaceholderText:"#6e7681",inputFocusText:"#c9d1d9",inputBg:"#161b22",inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)",donutError:"#d47616",donutPending:"#d29922",donutSuccess:"#388bfd",donutNeutral:"#8b949e",dropdownText:"#c9d1d9",dropdownBg:"#161b22",dropdownBorder:"#30363d",dropdownShadow:"rgba(1,4,9,0.3)",dropdownHoverText:"#c9d1d9",dropdownHoverBg:"rgba(110,118,129,0.1)",dropdownBtnHoverText:"#c9d1d9",dropdownBtnHoverBg:"rgba(110,118,129,0.1)",scrollbarThumbBg:"rgba(110,118,129,0.4)",headerLabelText:"#8b949e",headerLabelOpenText:"#c9d1d9",headerBorder:"#21262d",headerIcon:"#8b949e",lineText:"#8b949e",lineNumText:"#6e7681",lineTimestampText:"#6e7681",lineHoverBg:"rgba(110,118,129,0.1)",lineSelectedBg:"rgba(56,139,253,0.1)",lineSelectedNumText:"#58a6ff",lineDtFmText:"#ffffff",lineDtFmBg:"#9e6a03",gateBg:"rgba(187,128,9,0.15)",gateText:"#8b949e",gateWaitingText:"#d29922",stepHeaderOpenBg:"#161b22",stepErrorText:"#d47616",stepWarningText:"#d29922",loglineText:"#8b949e",loglineNumText:"#6e7681",loglineDebugText:"#a371f7",loglineErrorText:"#8b949e",loglineErrorNumText:"#6e7681",loglineErrorBg:"rgba(212,118,22,0.1)",loglineWarningText:"#8b949e",loglineWarningNumText:"#d29922",loglineWarningBg:"rgba(187,128,9,0.15)",loglineCommandText:"#58a6ff",loglineSectionText:"#58a6ff",ansi:{black:"#0d1117",blackBright:"#161b22",white:"#b1bac4",whiteBright:"#b1bac4",gray:"#6e7681",red:"#ec8e2c",redBright:"#fdac54",green:"#58a6ff",greenBright:"#79c0ff",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#0d1117",sidebarBg:"#161b22",gradientIn:"#161b22",gradientOut:"rgba(22,27,34,0)"},mktg:{btn:{bg:"#f6f8fa",shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#606771"}},avatar:{bg:"rgba(255,255,255,0.1)",border:"rgba(240,246,252,0.1)",stackFade:"#30363d",stackFadeMore:"#21262d",childShadow:"0 0 0 2px #0d1117"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"#484f58",tapHighlight:"rgba(48,54,61,0.5)",tapFocusBg:"#0c2d6b"},overlay:{shadow:"0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)",backdrop:"rgba(22,27,34,0.4)"},header:{text:"rgba(255,255,255,0.7)",bg:"#161b22",divider:"#8b949e",logo:"#f0f6fc"},headerSearch:{bg:"#0d1117",border:"#30363d"},sidenav:{selectedBg:"#21262d"},menu:{bgActive:"#161b22"},input:{disabledBg:"rgba(110,118,129,0)"},timeline:{badgeBg:"#21262d"},ansi:{black:"#484f58",blackBright:"#6e7681",white:"#b1bac4",whiteBright:"#ffffff",gray:"#6e7681",red:"#ec8e2c",redBright:"#fdac54",green:"#58a6ff",greenBright:"#79c0ff",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"#c9d1d9",bg:"#21262d",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#30363d",hoverBorder:"#8b949e",activeBg:"hsla(212,12%,18%,1)",activeBorder:"#6e7681",selectedBg:"#161b22",counterBg:"#30363d",primary:{text:"#ffffff",bg:"#1f6feb",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#388bfd",hoverBorder:"rgba(240,246,252,0.1)",selectedBg:"#1f6feb",selectedShadow:"0 0 transparent",disabledText:"rgba(255,255,255,0.5)",disabledBg:"rgba(31,111,235,0.6)",disabledBorder:"rgba(240,246,252,0.1)",icon:"#ffffff",counterBg:"rgba(5,29,77,0.2)"},outline:{text:"#388bfd",hoverText:"#58a6ff",hoverBg:"#30363d",hoverBorder:"rgba(240,246,252,0.1)",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(5,29,77,0.2)",selectedText:"#ffffff",selectedBg:"#0d419d",selectedBorder:"rgba(240,246,252,0.1)",selectedShadow:"0 0 transparent",disabledText:"rgba(88,166,255,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(31,111,235,0.05)",counterBg:"rgba(5,29,77,0.2)",hoverCounterFg:"#58a6ff",disabledCounterFg:"rgba(88,166,255,0.5)",counterFg:"#388bfd"},danger:{text:"#d47616",hoverText:"#ffffff",hoverBg:"#b76100",hoverBorder:"#d47616",hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",hoverIcon:"#ffffff",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#914d04",selectedBorder:"#ec8e2c",selectedShadow:"0 0 transparent",disabledText:"rgba(212,118,22,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(183,97,0,0.05)",counterBg:"rgba(51,28,4,0.2)",icon:"#d47616",counterFg:"#d47616",disabledCounterFg:"rgba(212,118,22,0.5)",hoverCounterFg:"#ffffff"},inactive:{bg:"#21262d",text:"#8b949e"}},underlinenav:{icon:"#6e7681",borderHover:"rgba(110,118,129,0.4)"},actionListItem:{inlineDivider:"rgba(48,54,61,0.48)",default:{hoverBg:"rgba(177,186,196,0.12)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(177,186,196,0.2)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(177,186,196,0.08)"},danger:{hoverBg:"rgba(212,118,22,0.16)",activeBg:"rgba(212,118,22,0.24)",hoverText:"#ec8e2c"}},switchTrack:{bg:"rgba(110,118,129,0.1)",hoverBg:"hsla(215,8%,72%,0.1)",activeBg:"rgba(110,118,129,0.4)",disabledBg:"#21262d",fg:"#8b949e",disabledFg:"#010409",border:"rgba(0,0,0,0)",checked:{bg:"rgba(31,111,235,0.35)",hoverBg:"rgba(31,111,235,0.5)",activeBg:"rgba(31,111,235,0.65)",fg:"#ffffff",disabledFg:"#010409",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#0d1117",border:"#606771",disabledBg:"#161b22",checked:{bg:"#0d1117",disabledBg:"#161b22",border:"rgba(31,111,235,0.35)"}},segmentedControl:{bg:"rgba(110,118,129,0.1)",button:{bg:"#0d1117",hover:{bg:"#30363d"},active:{bg:"#21262d"},selected:{border:"#6e7681"}}},treeViewItem:{chevron:{hoverBg:"rgba(177,186,196,0.12)"},directory:{fill:"#8b949e"}},fg:{default:"#c9d1d9",muted:"#8b949e",subtle:"#6e7681",onEmphasis:"#ffffff"},canvas:{default:"#0d1117",overlay:"#161b22",inset:"#010409",subtle:"#161b22"},border:{default:"#30363d",muted:"#21262d",subtle:"rgba(240,246,252,0.1)"},shadow:{small:"0 0 transparent",medium:"0 3px 6px #010409",large:"0 8px 24px #010409",extraLarge:"0 12px 48px #010409"},neutral:{emphasisPlus:"#6e7681",emphasis:"#6e7681",muted:"rgba(110,118,129,0.4)",subtle:"rgba(110,118,129,0.1)"},accent:{fg:"#58a6ff",emphasis:"#1f6feb",muted:"rgba(56,139,253,0.4)",subtle:"rgba(56,139,253,0.1)"},success:{fg:"#58a6ff",emphasis:"#1f6feb",muted:"rgba(56,139,253,0.4)",subtle:"rgba(56,139,253,0.15)"},attention:{fg:"#d29922",emphasis:"#9e6a03",muted:"rgba(187,128,9,0.4)",subtle:"rgba(187,128,9,0.15)"},severe:{fg:"#d47616",emphasis:"#b76100",muted:"rgba(212,118,22,0.4)",subtle:"rgba(212,118,22,0.1)"},danger:{fg:"#d47616",emphasis:"#b76100",muted:"rgba(212,118,22,0.4)",subtle:"rgba(212,118,22,0.1)"},open:{fg:"#ec8e2c",emphasis:"#b76100",muted:"rgba(212,118,22,0.4)",subtle:"rgba(212,118,22,0.15)"},closed:{fg:"#8b949e",emphasis:"#6e7681",muted:"rgba(110,118,129,0.4)",subtle:"rgba(110,118,129,0.1)"},done:{fg:"#a371f7",emphasis:"#8957e5",muted:"rgba(163,113,247,0.4)",subtle:"rgba(163,113,247,0.1)"},sponsors:{fg:"#db61a2",emphasis:"#bf4b8a",muted:"rgba(219,97,162,0.4)",subtle:"rgba(219,97,162,0.1)"},primer:{fg:{disabled:"#484f58"},canvas:{backdrop:"rgba(1,4,9,0.8)",sticky:"rgba(13,17,23,0.95)"},border:{active:"#f78166",contrast:"rgba(255,255,255,0.2)"},shadow:{highlight:"0 0 transparent",inset:"0 0 transparent"}},scale:{black:"#010409",white:"#ffffff",gray:["#f0f6fc","#c9d1d9","#b1bac4","#8b949e","#6e7681","#484f58","#30363d","#21262d","#161b22","#0d1117"],blue:["#cae8ff","#a5d6ff","#79c0ff","#58a6ff","#388bfd","#1f6feb","#1158c7","#0d419d","#0c2d6b","#051d4d"],green:["#cae8ff","#a5d6ff","#79c0ff","#58a6ff","#388bfd","#1f6feb","#1158c7","#0d419d","#0c2d6b","#051d4d"],yellow:["#f8e3a1","#f2cc60","#e3b341","#d29922","#bb8009","#9e6a03","#845306","#693e00","#4b2900","#341a00"],orange:["#ffe2bb","#ffc981","#fdac54","#ec8e2c","#d47616","#b76100","#914d04","#6c3906","#4e2906","#331c04"],red:["#ffe2bb","#ffc981","#fdac54","#ec8e2c","#d47616","#b76100","#914d04","#6c3906","#4e2906","#331c04"],purple:["#eddeff","#e2c5ff","#d2a8ff","#bc8cff","#a371f7","#8957e5","#6e40c9","#553098","#3c1e70","#271052"],pink:["#ffdaec","#ffbedd","#ff9bce","#f778ba","#db61a2","#bf4b8a","#9e3670","#7d2457","#5e103e","#42062a"],coral:["#ffddd2","#ffc2b2","#ffa28b","#f78166","#ea6045","#cf462d","#ac3220","#872012","#640d04","#460701"]}}},7323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(34,39,46,0)",pageHeaderBg:"#22272e",marketingIcon:{primary:"#6cb6ff",secondary:"#316dca"},diffBlob:{addition:{numText:"#adbac7",fg:"#adbac7",numBg:"rgba(87,171,90,0.3)",lineBg:"rgba(70,149,74,0.15)",wordBg:"rgba(70,149,74,0.4)"},deletion:{numText:"#adbac7",fg:"#adbac7",numBg:"rgba(229,83,75,0.3)",lineBg:"rgba(229,83,75,0.1)",wordBg:"rgba(229,83,75,0.4)"},hunk:{numBg:"rgba(65,132,228,0.4)"},expander:{icon:"#adbac7"},selectedLineHighlightMixBlendMode:"screen"},diffstat:{deletionBorder:"rgba(205,217,229,0.1)",additionBorder:"rgba(205,217,229,0.1)",additionBg:"#57ab5a"},searchKeyword:{hl:"rgba(198,144,38,0.4)"},prettylights:{syntax:{comment:"#768390",constant:"#6cb6ff",entity:"#dcbdfb",storageModifierImport:"#adbac7",entityTag:"#8ddb8c",keyword:"#f47067",string:"#96d0ff",variable:"#f69d50",brackethighlighterUnmatched:"#e5534b",invalidIllegalText:"#cdd9e5",invalidIllegalBg:"#922323",carriageReturnText:"#cdd9e5",carriageReturnBg:"#ad2e2c",stringRegexp:"#8ddb8c",markupList:"#eac55f",markupHeading:"#316dca",markupItalic:"#adbac7",markupBold:"#adbac7",markupDeletedText:"#ffd8d3",markupDeletedBg:"#78191b",markupInsertedText:"#b4f1b4",markupInsertedBg:"#1b4721",markupChangedText:"#ffddb0",markupChangedBg:"#682d0f",markupIgnoredText:"#adbac7",markupIgnoredBg:"#255ab2",metaDiffRange:"#dcbdfb",brackethighlighterAngle:"#768390",sublimelinterGutterMark:"#545d68",constantOtherReferenceLink:"#96d0ff"}},codemirror:{text:"#adbac7",bg:"#22272e",guttersBg:"#22272e",guttermarkerText:"#22272e",guttermarkerSubtleText:"#636e7b",linenumberText:"#768390",cursor:"#adbac7",selectionBg:"rgba(65,132,228,0.4)",activelineBg:"rgba(99,110,123,0.1)",matchingbracketText:"#adbac7",linesBg:"#22272e",syntax:{comment:"#768390",constant:"#6cb6ff",entity:"#dcbdfb",keyword:"#f47067",storage:"#f47067",string:"#96d0ff",support:"#6cb6ff",variable:"#f69d50"}},checks:{bg:"#1c2128",runBorderWidth:"1px",containerBorderWidth:"1px",textPrimary:"#adbac7",textSecondary:"#768390",textLink:"#539bf5",btnIcon:"#768390",btnHoverIcon:"#adbac7",btnHoverBg:"rgba(99,110,123,0.1)",inputText:"#768390",inputPlaceholderText:"#636e7b",inputFocusText:"#adbac7",inputBg:"#2d333b",inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)",donutError:"#e5534b",donutPending:"#c69026",donutSuccess:"#46954a",donutNeutral:"#768390",dropdownText:"#adbac7",dropdownBg:"#2d333b",dropdownBorder:"#444c56",dropdownShadow:"rgba(28,33,40,0.3)",dropdownHoverText:"#adbac7",dropdownHoverBg:"rgba(99,110,123,0.1)",dropdownBtnHoverText:"#adbac7",dropdownBtnHoverBg:"rgba(99,110,123,0.1)",scrollbarThumbBg:"rgba(99,110,123,0.4)",headerLabelText:"#768390",headerLabelOpenText:"#adbac7",headerBorder:"#373e47",headerIcon:"#768390",lineText:"#768390",lineNumText:"#636e7b",lineTimestampText:"#636e7b",lineHoverBg:"rgba(99,110,123,0.1)",lineSelectedBg:"rgba(65,132,228,0.1)",lineSelectedNumText:"#539bf5",lineDtFmText:"#cdd9e5",lineDtFmBg:"#966600",gateBg:"rgba(174,124,20,0.15)",gateText:"#768390",gateWaitingText:"#c69026",stepHeaderOpenBg:"#2d333b",stepErrorText:"#e5534b",stepWarningText:"#c69026",loglineText:"#768390",loglineNumText:"#636e7b",loglineDebugText:"#986ee2",loglineErrorText:"#768390",loglineErrorNumText:"#636e7b",loglineErrorBg:"rgba(229,83,75,0.1)",loglineWarningText:"#768390",loglineWarningNumText:"#c69026",loglineWarningBg:"rgba(174,124,20,0.15)",loglineCommandText:"#539bf5",loglineSectionText:"#57ab5a",ansi:{black:"#22272e",blackBright:"#2d333b",white:"#909dab",whiteBright:"#909dab",gray:"#636e7b",red:"#f47067",redBright:"#ff938a",green:"#57ab5a",greenBright:"#6bc46d",yellow:"#c69026",yellowBright:"#daaa3f",blue:"#539bf5",blueBright:"#6cb6ff",magenta:"#b083f0",magentaBright:"#dcbdfb",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#22272e",sidebarBg:"#2d333b",gradientIn:"#2d333b",gradientOut:"rgba(45,51,59,0)"},mktg:{btn:{bg:"#f6f8fa",shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#606771"}},avatar:{bg:"rgba(205,217,229,0.1)",border:"rgba(205,217,229,0.1)",stackFade:"#444c56",stackFadeMore:"#373e47",childShadow:"0 0 0 2px #22272e"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"#545d68",tapHighlight:"rgba(68,76,86,0.5)",tapFocusBg:"#143d79"},overlay:{shadow:"0 0 0 1px #444c56, 0 16px 32px rgba(28,33,40,0.85)",backdrop:"rgba(45,51,59,0.4)"},header:{text:"rgba(205,217,229,0.7)",bg:"#2d333b",divider:"#768390",logo:"#cdd9e5"},headerSearch:{bg:"#22272e",border:"#444c56"},sidenav:{selectedBg:"#373e47"},menu:{bgActive:"#2d333b"},input:{disabledBg:"rgba(99,110,123,0)"},timeline:{badgeBg:"#373e47"},ansi:{black:"#545d68",blackBright:"#636e7b",white:"#909dab",whiteBright:"#cdd9e5",gray:"#636e7b",red:"#f47067",redBright:"#ff938a",green:"#57ab5a",greenBright:"#6bc46d",yellow:"#c69026",yellowBright:"#daaa3f",blue:"#539bf5",blueBright:"#6cb6ff",magenta:"#b083f0",magentaBright:"#dcbdfb",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"#adbac7",bg:"#373e47",border:"rgba(205,217,229,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#444c56",hoverBorder:"#768390",activeBg:"hsla(213,12%,27%,1)",activeBorder:"#636e7b",selectedBg:"#2d333b",counterBg:"#444c56",primary:{text:"#ffffff",bg:"#347d39",border:"rgba(205,217,229,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#46954a",hoverBorder:"rgba(205,217,229,0.1)",selectedBg:"#347d39",selectedShadow:"0 0 transparent",disabledText:"rgba(205,217,229,0.5)",disabledBg:"rgba(52,125,57,0.6)",disabledBorder:"rgba(205,217,229,0.1)",icon:"#cdd9e5",counterBg:"rgba(17,52,23,0.2)"},outline:{text:"#4184e4",hoverText:"#539bf5",hoverBg:"#444c56",hoverBorder:"rgba(205,217,229,0.1)",hoverShadow:"0 1px 0 rgba(28,33,40,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(205,217,229,0.03)",hoverCounterBg:"rgba(15,45,92,0.2)",selectedText:"#cdd9e5",selectedBg:"#1b4b91",selectedBorder:"rgba(205,217,229,0.1)",selectedShadow:"0 0 transparent",disabledText:"rgba(83,155,245,0.5)",disabledBg:"#22272e",disabledCounterBg:"rgba(49,109,202,0.05)",counterBg:"rgba(15,45,92,0.2)",hoverCounterFg:"#539bf5",disabledCounterFg:"rgba(83,155,245,0.5)",counterFg:"#4184e4"},danger:{text:"#e5534b",hoverText:"#cdd9e5",hoverBg:"#c93c37",hoverBorder:"#e5534b",hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",hoverIcon:"#cdd9e5",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#ad2e2c",selectedBorder:"#f47067",selectedShadow:"0 0 transparent",disabledText:"rgba(229,83,75,0.5)",disabledBg:"#22272e",disabledCounterBg:"rgba(201,60,55,0.05)",counterBg:"rgba(93,15,18,0.2)",icon:"#e5534b",counterFg:"#e5534b",disabledCounterFg:"rgba(229,83,75,0.5)",hoverCounterFg:"#cdd9e5"},inactive:{bg:"#373e47",text:"#768390"}},underlinenav:{icon:"#636e7b",borderHover:"rgba(99,110,123,0.4)"},actionListItem:{inlineDivider:"rgba(68,76,86,0.48)",default:{hoverBg:"rgba(144,157,171,0.12)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(144,157,171,0.2)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(144,157,171,0.08)"},danger:{hoverBg:"rgba(229,83,75,0.16)",activeBg:"rgba(229,83,75,0.24)",hoverText:"#f47067"}},switchTrack:{bg:"rgba(99,110,123,0.1)",hoverBg:"hsla(213,11%,69%,0.1)",activeBg:"rgba(99,110,123,0.4)",disabledBg:"#373e47",fg:"#768390",disabledFg:"#1c2128",border:"rgba(0,0,0,0)",checked:{bg:"rgba(49,109,202,0.35)",hoverBg:"rgba(49,109,202,0.5)",activeBg:"rgba(49,109,202,0.65)",fg:"#cdd9e5",disabledFg:"#1c2128",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#22272e",border:"#606771",disabledBg:"#2d333b",checked:{bg:"#22272e",disabledBg:"#2d333b",border:"rgba(49,109,202,0.35)"}},segmentedControl:{bg:"rgba(99,110,123,0.1)",button:{bg:"#22272e",hover:{bg:"#444c56"},active:{bg:"#373e47"},selected:{border:"#636e7b"}}},treeViewItem:{chevron:{hoverBg:"rgba(144,157,171,0.12)"},directory:{fill:"#768390"}},fg:{default:"#adbac7",muted:"#768390",subtle:"#636e7b",onEmphasis:"#cdd9e5"},canvas:{default:"#22272e",overlay:"#2d333b",inset:"#1c2128",subtle:"#2d333b"},border:{default:"#444c56",muted:"#373e47",subtle:"rgba(205,217,229,0.1)"},shadow:{small:"0 0 transparent",medium:"0 3px 6px #1c2128",large:"0 8px 24px #1c2128",extraLarge:"0 12px 48px #1c2128"},neutral:{emphasisPlus:"#636e7b",emphasis:"#636e7b",muted:"rgba(99,110,123,0.4)",subtle:"rgba(99,110,123,0.1)"},accent:{fg:"#539bf5",emphasis:"#316dca",muted:"rgba(65,132,228,0.4)",subtle:"rgba(65,132,228,0.1)"},success:{fg:"#57ab5a",emphasis:"#347d39",muted:"rgba(70,149,74,0.4)",subtle:"rgba(70,149,74,0.15)"},attention:{fg:"#c69026",emphasis:"#966600",muted:"rgba(174,124,20,0.4)",subtle:"rgba(174,124,20,0.15)"},severe:{fg:"#cc6b2c",emphasis:"#ae5622",muted:"rgba(204,107,44,0.4)",subtle:"rgba(204,107,44,0.1)"},danger:{fg:"#e5534b",emphasis:"#c93c37",muted:"rgba(229,83,75,0.4)",subtle:"rgba(229,83,75,0.1)"},open:{fg:"#57ab5a",emphasis:"#347d39",muted:"rgba(70,149,74,0.4)",subtle:"rgba(70,149,74,0.15)"},closed:{fg:"#e5534b",emphasis:"#c93c37",muted:"rgba(229,83,75,0.4)",subtle:"rgba(229,83,75,0.15)"},done:{fg:"#986ee2",emphasis:"#8256d0",muted:"rgba(152,110,226,0.4)",subtle:"rgba(152,110,226,0.1)"},sponsors:{fg:"#c96198",emphasis:"#ae4c82",muted:"rgba(201,97,152,0.4)",subtle:"rgba(201,97,152,0.1)"},primer:{fg:{disabled:"#545d68"},canvas:{backdrop:"rgba(28,33,40,0.8)",sticky:"rgba(34,39,46,0.95)"},border:{active:"#ec775c",contrast:"rgba(205,217,229,0.2)"},shadow:{highlight:"0 0 transparent",inset:"0 0 transparent"}},scale:{black:"#1c2128",white:"#cdd9e5",gray:["#cdd9e5","#adbac7","#909dab","#768390","#636e7b","#545d68","#444c56","#373e47","#2d333b","#22272e"],blue:["#c6e6ff","#96d0ff","#6cb6ff","#539bf5","#4184e4","#316dca","#255ab2","#1b4b91","#143d79","#0f2d5c"],green:["#b4f1b4","#8ddb8c","#6bc46d","#57ab5a","#46954a","#347d39","#2b6a30","#245829","#1b4721","#113417"],yellow:["#fbe090","#eac55f","#daaa3f","#c69026","#ae7c14","#966600","#805400","#6c4400","#593600","#452700"],orange:["#ffddb0","#ffbc6f","#f69d50","#e0823d","#cc6b2c","#ae5622","#94471b","#7f3913","#682d0f","#4d210c"],red:["#ffd8d3","#ffb8b0","#ff938a","#f47067","#e5534b","#c93c37","#ad2e2c","#922323","#78191b","#5d0f12"],purple:["#eedcff","#dcbdfb","#dcbdfb","#b083f0","#986ee2","#8256d0","#6b44bc","#5936a2","#472c82","#352160"],pink:["#ffd7eb","#ffb3d8","#fc8dc7","#e275ad","#c96198","#ae4c82","#983b6e","#7e325a","#69264a","#551639"],coral:["#ffdacf","#ffb9a5","#f79981","#ec775c","#de5b41","#c2442d","#a93524","#8d291b","#771d13","#5d1008"]}}},51667:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(10,12,16,0)",pageHeaderBg:"#0a0c10",marketingIcon:{primary:"#91cbff",secondary:"#409eff"},diffBlob:{addition:{numText:"#f0f3f6",fg:"#0a0c10",numBg:"rgba(38,205,77,0.3)",lineBg:"rgba(9,180,58,0.15)",wordBg:"#09b43a"},deletion:{numText:"#f0f3f6",fg:"#0a0c10",numBg:"rgba(255,106,105,0.3)",lineBg:"rgba(255,106,105,0.1)",wordBg:"#ff6a69"},hunk:{numBg:"rgba(64,158,255,0.4)"},expander:{icon:"#f0f3f6"},selectedLineHighlightMixBlendMode:"screen"},diffstat:{deletionBorder:"#ffb1af",additionBorder:"#4ae168",additionBg:"#26cd4d"},searchKeyword:{hl:"rgba(240,183,47,0.4)"},prettylights:{syntax:{comment:"#bdc4cc",constant:"#91cbff",entity:"#dbb7ff",storageModifierImport:"#f0f3f6",entityTag:"#72f088",keyword:"#ff9492",string:"#addcff",variable:"#ffb757",brackethighlighterUnmatched:"#ff6a69",invalidIllegalText:"#ffffff",invalidIllegalBg:"#e82a2f",carriageReturnText:"#ffffff",carriageReturnBg:"#ff4445",stringRegexp:"#72f088",markupList:"#fbd669",markupHeading:"#409eff",markupItalic:"#f0f3f6",markupBold:"#f0f3f6",markupDeletedText:"#ffdedb",markupDeletedBg:"#cc1421",markupInsertedText:"#acf7b6",markupInsertedBg:"#007728",markupChangedText:"#ffe1b4",markupChangedBg:"#a74c00",markupIgnoredText:"#f0f3f6",markupIgnoredBg:"#318bf8",metaDiffRange:"#dbb7ff",brackethighlighterAngle:"#bdc4cc",sublimelinterGutterMark:"#7a828e",constantOtherReferenceLink:"#addcff"}},codemirror:{text:"#f0f3f6",bg:"#0a0c10",guttersBg:"#0a0c10",guttermarkerText:"#0a0c10",guttermarkerSubtleText:"#9ea7b3",linenumberText:"#f0f3f6",cursor:"#f0f3f6",selectionBg:"rgba(64,158,255,0.4)",activelineBg:"rgba(158,167,179,0.1)",matchingbracketText:"#f0f3f6",linesBg:"#0a0c10",syntax:{comment:"#bdc4cc",constant:"#91cbff",entity:"#dbb7ff",keyword:"#ff9492",storage:"#ff9492",string:"#addcff",support:"#91cbff",variable:"#ffb757"}},checks:{bg:"#010409",runBorderWidth:"1px",containerBorderWidth:"1px",textPrimary:"#f0f3f6",textSecondary:"#f0f3f6",textLink:"#71b7ff",btnIcon:"#f0f3f6",btnHoverIcon:"#f0f3f6",btnHoverBg:"rgba(158,167,179,0.1)",inputText:"#f0f3f6",inputPlaceholderText:"#9ea7b3",inputFocusText:"#f0f3f6",inputBg:"#272b33",inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)",donutError:"#ff6a69",donutPending:"#f0b72f",donutSuccess:"#09b43a",donutNeutral:"#bdc4cc",dropdownText:"#f0f3f6",dropdownBg:"#272b33",dropdownBorder:"#7a828e",dropdownShadow:"rgba(1,4,9,0.3)",dropdownHoverText:"#f0f3f6",dropdownHoverBg:"rgba(158,167,179,0.1)",dropdownBtnHoverText:"#f0f3f6",dropdownBtnHoverBg:"rgba(158,167,179,0.1)",scrollbarThumbBg:"rgba(158,167,179,0.4)",headerLabelText:"#f0f3f6",headerLabelOpenText:"#f0f3f6",headerBorder:"#7a828e",headerIcon:"#f0f3f6",lineText:"#f0f3f6",lineNumText:"#9ea7b3",lineTimestampText:"#9ea7b3",lineHoverBg:"rgba(158,167,179,0.1)",lineSelectedBg:"rgba(64,158,255,0.1)",lineSelectedNumText:"#71b7ff",lineDtFmText:"#0a0c10",lineDtFmBg:"#e09b13",gateBg:"rgba(224,155,19,0.15)",gateText:"#f0f3f6",gateWaitingText:"#f0b72f",stepHeaderOpenBg:"#272b33",stepErrorText:"#ff6a69",stepWarningText:"#f0b72f",loglineText:"#f0f3f6",loglineNumText:"#9ea7b3",loglineDebugText:"#b780ff",loglineErrorText:"#f0f3f6",loglineErrorNumText:"#9ea7b3",loglineErrorBg:"rgba(255,106,105,0.1)",loglineWarningText:"#f0f3f6",loglineWarningNumText:"#f0b72f",loglineWarningBg:"rgba(224,155,19,0.15)",loglineCommandText:"#71b7ff",loglineSectionText:"#26cd4d",ansi:{black:"#0a0c10",blackBright:"#272b33",white:"#d9dee3",whiteBright:"#d9dee3",gray:"#9ea7b3",red:"#ff9492",redBright:"#ffb1af",green:"#26cd4d",greenBright:"#4ae168",yellow:"#f0b72f",yellowBright:"#f7c843",blue:"#71b7ff",blueBright:"#91cbff",magenta:"#cb9eff",magentaBright:"#dbb7ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#0a0c10",sidebarBg:"#272b33",gradientIn:"#272b33",gradientOut:"rgba(39,43,51,0)"},mktg:{btn:{bg:"#f6f8fa",shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#9ea7b3"}},avatar:{bg:"rgba(255,255,255,0.1)",border:"rgba(255,255,255,0.9)",stackFade:"#525964",stackFadeMore:"#272b33",childShadow:"0 0 0 2px #0a0c10"},topicTag:{border:"#409eff"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"#7a828e",tapHighlight:"rgba(82,89,100,0.5)",tapFocusBg:"#1e60d5"},overlay:{shadow:"0 0 0 1px #525964, 0 16px 32px rgba(1,4,9,0.85)",backdrop:"rgba(39,43,51,0.4)"},header:{text:"rgba(255,255,255,0.7)",bg:"#272b33",divider:"#bdc4cc",logo:"#ffffff"},headerSearch:{bg:"#0a0c10",border:"#525964"},sidenav:{selectedBg:"#272b33"},menu:{bgActive:"#272b33"},input:{disabledBg:"rgba(158,167,179,0)"},timeline:{badgeBg:"#272b33"},ansi:{black:"#7a828e",blackBright:"#9ea7b3",white:"#d9dee3",whiteBright:"#ffffff",gray:"#9ea7b3",red:"#ff9492",redBright:"#ffb1af",green:"#26cd4d",greenBright:"#4ae168",yellow:"#f0b72f",yellowBright:"#f7c843",blue:"#71b7ff",blueBright:"#91cbff",magenta:"#cb9eff",magentaBright:"#dbb7ff",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"#f0f3f6",bg:"#272b33",border:"#7a828e",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#525964",hoverBorder:"#bdc4cc",activeBg:"hsla(217,10%,33%,1)",activeBorder:"#9ea7b3",selectedBg:"rgba(82,89,100,0.9)",counterBg:"#525964",primary:{text:"#0a0c10",bg:"#09b43a",border:"#4ae168",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#26cd4d",hoverBorder:"#4ae168",selectedBg:"#09b43a",selectedShadow:"0 0 transparent",disabledText:"rgba(10,12,16,0.5)",disabledBg:"rgba(9,180,58,0.6)",disabledBorder:"rgba(74,225,104,0.4)",icon:"#0a0c10",counterBg:"rgba(1,4,9,0.15)"},outline:{text:"#409eff",hoverText:"#71b7ff",hoverBg:"#525964",hoverBorder:"#7a828e",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(25,79,177,0.2)",selectedText:"#ffffff",selectedBg:"#2672f3",selectedBorder:"#7a828e",selectedShadow:"0 0 transparent",disabledText:"rgba(113,183,255,0.5)",disabledBg:"#0a0c10",disabledCounterBg:"rgba(64,158,255,0.05)",counterBg:"rgba(25,79,177,0.2)",hoverCounterFg:"#71b7ff",disabledCounterFg:"rgba(113,183,255,0.5)",counterFg:"#409eff"},danger:{text:"#ff6a69",hoverText:"#0a0c10",hoverBg:"#ff6a69",hoverBorder:"#ff6a69",hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",hoverIcon:"#0a0c10",hoverCounterBg:"rgba(1,4,9,0.15)",selectedText:"#ffffff",selectedBg:"#ff4445",selectedBorder:"#ff9492",selectedShadow:"0 0 transparent",disabledText:"rgba(255,106,105,0.5)",disabledBg:"#0a0c10",disabledCounterBg:"rgba(255,106,105,0.05)",counterBg:"rgba(1,4,9,0.15)",icon:"#ff6a69",counterFg:"#ff6a69",disabledCounterFg:"rgba(255,106,105,0.5)",hoverCounterFg:"#ffffff"},inactive:{bg:"#272b33",text:"#bdc4cc"}},underlinenav:{icon:"#f0f3f6",borderHover:"#bdc4cc"},actionListItem:{inlineDivider:"#7a828e",default:{hoverBg:"#272b33",hoverBorder:"#7a828e",activeBg:"#525964",activeBorder:"#9ea7b3",selectedBg:"#525964"},danger:{hoverBg:"#ff6a69",activeBg:"#ff4445",hoverText:"#0a0c10"}},switchTrack:{bg:"#9ea7b3",hoverBg:"hsla(214,12%,61%,1)",activeBg:"hsla(214,12%,58%,1)",disabledBg:"#272b33",fg:"#0a0c10",disabledFg:"#010409",border:"rgba(0,0,0,0)",checked:{bg:"#409eff",hoverBg:"rgba(64,158,255,0.5)",activeBg:"rgba(64,158,255,0.65)",fg:"#0a0c10",disabledFg:"#010409",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#0a0c10",border:"#9ea7b3",disabledBg:"#272b33",checked:{bg:"#0a0c10",disabledBg:"#272b33",border:"#409eff"}},segmentedControl:{bg:"rgba(158,167,179,0.1)",button:{bg:"#0a0c10",hover:{bg:"#525964"},active:{bg:"#272b33"},selected:{border:"#9ea7b3"}}},treeViewItem:{chevron:{hoverBg:"#525964"},directory:{fill:"#f0f3f6"}},fg:{default:"#f0f3f6",muted:"#f0f3f6",subtle:"#9ea7b3",onEmphasis:"#0a0c10"},canvas:{default:"#0a0c10",overlay:"#272b33",inset:"#010409",subtle:"#272b33"},border:{default:"#7a828e",muted:"#7a828e",subtle:"#7a828e"},shadow:{small:"0 0 transparent",medium:"0 3px 6px #010409",large:"0 8px 24px #010409",extraLarge:"0 12px 48px #010409"},neutral:{emphasisPlus:"#ffffff",emphasis:"#9ea7b3",muted:"rgba(158,167,179,0.4)",subtle:"rgba(158,167,179,0.1)"},accent:{fg:"#71b7ff",emphasis:"#409eff",muted:"#409eff",subtle:"rgba(64,158,255,0.1)"},success:{fg:"#26cd4d",emphasis:"#09b43a",muted:"#09b43a",subtle:"rgba(9,180,58,0.15)"},attention:{fg:"#f0b72f",emphasis:"#e09b13",muted:"#e09b13",subtle:"rgba(224,155,19,0.15)"},severe:{fg:"#e7811d",emphasis:"#e7811d",muted:"#e7811d",subtle:"rgba(231,129,29,0.1)"},danger:{fg:"#ff6a69",emphasis:"#ff6a69",muted:"#ff6a69",subtle:"rgba(255,106,105,0.1)"},open:{fg:"#26cd4d",emphasis:"#09b43a",muted:"rgba(9,180,58,0.4)",subtle:"rgba(9,180,58,0.15)"},closed:{fg:"#ff6a69",emphasis:"#ff6a69",muted:"rgba(255,106,105,0.4)",subtle:"rgba(255,106,105,0.15)"},done:{fg:"#b780ff",emphasis:"#b87fff",muted:"#b780ff",subtle:"rgba(183,128,255,0.1)"},sponsors:{fg:"#ef6eb1",emphasis:"#ef6eb1",muted:"#ef6eb1",subtle:"rgba(239,110,177,0.1)"},primer:{fg:{disabled:"#7a828e"},canvas:{backdrop:"rgba(1,4,9,0.8)",sticky:"rgba(10,12,16,0.95)"},border:{active:"#ff967d",contrast:"rgba(255,255,255,0.2)"},shadow:{highlight:"0 0 transparent",inset:"0 0 transparent"}},scale:{black:"#010409",white:"#ffffff",gray:["#ffffff","#f0f3f6","#d9dee3","#bdc4cc","#9ea7b3","#7a828e","#525964","#272b33","#272b33","#0a0c10"],blue:["#caeaff","#addcff","#91cbff","#71b7ff","#409eff","#409eff","#318bf8","#2672f3","#1e60d5","#194fb1"],green:["#acf7b6","#72f088","#4ae168","#26cd4d","#09b43a","#09b43a","#02a232","#008c2c","#007728","#006222"],yellow:["#fbe59e","#fbd669","#f7c843","#f0b72f","#e09b13","#e09b13","#c88508","#ae7104","#945d02","#7b4900"],orange:["#ffe1b4","#ffcf86","#ffb757","#fe9a2d","#e7811d","#e7811d","#d57014","#bf5e0a","#a74c00","#8f3c00"],red:["#ffdedb","#ffc9c7","#ffb1af","#ff9492","#ff6a69","#ff6a69","#ff4445","#e82a2f","#cc1421","#ad0116"],purple:["#f0dfff","#e6ccff","#dbb7ff","#cb9eff","#b780ff","#b87fff","#a66bff","#954ffd","#8031f7","#6921d7"],pink:["#ffdceb","#ffc7e1","#ffadd4","#ff8dc7","#ef6eb1","#ef6eb1","#e456a3","#d23d91","#b72c7d","#9c1d6a"],coral:["#ffded4","#ffcbb9","#ffb39b","#ff967d","#fc704f","#fc704f","#f75133","#e03b21","#c62612","#a91500"]}}},31571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(13,17,23,0)",pageHeaderBg:"#0d1117",marketingIcon:{primary:"#79c0ff",secondary:"#1f6feb"},diffBlob:{addition:{numText:"#c9d1d9",fg:"#c9d1d9",numBg:"rgba(88,166,255,0.3)",lineBg:"rgba(56,139,253,0.15)",wordBg:"rgba(56,139,253,0.4)"},deletion:{numText:"#c9d1d9",fg:"#c9d1d9",numBg:"rgba(248,81,73,0.3)",lineBg:"rgba(248,81,73,0.1)",wordBg:"rgba(248,81,73,0.4)"},hunk:{numBg:"rgba(56,139,253,0.4)"},expander:{icon:"#8b949e"},selectedLineHighlightMixBlendMode:"screen"},diffstat:{deletionBorder:"rgba(240,246,252,0.1)",additionBorder:"rgba(240,246,252,0.1)",additionBg:"#58a6ff"},searchKeyword:{hl:"rgba(210,153,34,0.4)"},prettylights:{syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",storageModifierImport:"#c9d1d9",entityTag:"#a5d6ff",keyword:"#ff7b72",string:"#a5d6ff",variable:"#ffa198",brackethighlighterUnmatched:"#f85149",invalidIllegalText:"#f0f6fc",invalidIllegalBg:"#8e1519",carriageReturnText:"#f0f6fc",carriageReturnBg:"#b62324",stringRegexp:"#a5d6ff",markupList:"#f2cc60",markupHeading:"#1f6feb",markupItalic:"#c9d1d9",markupBold:"#c9d1d9",markupDeletedText:"#ffdcd7",markupDeletedBg:"#67060c",markupInsertedText:"#cae8ff",markupInsertedBg:"#0c2d6b",markupChangedText:"#ffdcd7",markupChangedBg:"#67060c",markupIgnoredText:"#c9d1d9",markupIgnoredBg:"#1158c7",metaDiffRange:"#d2a8ff",brackethighlighterAngle:"#8b949e",sublimelinterGutterMark:"#484f58",constantOtherReferenceLink:"#a5d6ff"}},codemirror:{text:"#c9d1d9",bg:"#0d1117",guttersBg:"#0d1117",guttermarkerText:"#0d1117",guttermarkerSubtleText:"#6e7681",linenumberText:"#8b949e",cursor:"#c9d1d9",selectionBg:"rgba(56,139,253,0.4)",activelineBg:"rgba(110,118,129,0.1)",matchingbracketText:"#c9d1d9",linesBg:"#0d1117",syntax:{comment:"#8b949e",constant:"#79c0ff",entity:"#d2a8ff",keyword:"#ff7b72",storage:"#ff7b72",string:"#a5d6ff",support:"#79c0ff",variable:"#ffa198"}},checks:{bg:"#010409",runBorderWidth:"1px",containerBorderWidth:"1px",textPrimary:"#c9d1d9",textSecondary:"#8b949e",textLink:"#58a6ff",btnIcon:"#8b949e",btnHoverIcon:"#c9d1d9",btnHoverBg:"rgba(110,118,129,0.1)",inputText:"#8b949e",inputPlaceholderText:"#6e7681",inputFocusText:"#c9d1d9",inputBg:"#161b22",inputShadow:"0 0 0 1px (obj) => (0, get_1.default)(obj, path)",donutError:"#f85149",donutPending:"#d29922",donutSuccess:"#388bfd",donutNeutral:"#8b949e",dropdownText:"#c9d1d9",dropdownBg:"#161b22",dropdownBorder:"#30363d",dropdownShadow:"rgba(1,4,9,0.3)",dropdownHoverText:"#c9d1d9",dropdownHoverBg:"rgba(110,118,129,0.1)",dropdownBtnHoverText:"#c9d1d9",dropdownBtnHoverBg:"rgba(110,118,129,0.1)",scrollbarThumbBg:"rgba(110,118,129,0.4)",headerLabelText:"#8b949e",headerLabelOpenText:"#c9d1d9",headerBorder:"#21262d",headerIcon:"#8b949e",lineText:"#8b949e",lineNumText:"#6e7681",lineTimestampText:"#6e7681",lineHoverBg:"rgba(110,118,129,0.1)",lineSelectedBg:"rgba(56,139,253,0.1)",lineSelectedNumText:"#58a6ff",lineDtFmText:"#ffffff",lineDtFmBg:"#9e6a03",gateBg:"rgba(187,128,9,0.15)",gateText:"#8b949e",gateWaitingText:"#d29922",stepHeaderOpenBg:"#161b22",stepErrorText:"#f85149",stepWarningText:"#d29922",loglineText:"#8b949e",loglineNumText:"#6e7681",loglineDebugText:"#a371f7",loglineErrorText:"#8b949e",loglineErrorNumText:"#6e7681",loglineErrorBg:"rgba(248,81,73,0.1)",loglineWarningText:"#8b949e",loglineWarningNumText:"#d29922",loglineWarningBg:"rgba(187,128,9,0.15)",loglineCommandText:"#58a6ff",loglineSectionText:"#58a6ff",ansi:{black:"#0d1117",blackBright:"#161b22",white:"#b1bac4",whiteBright:"#b1bac4",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#58a6ff",greenBright:"#79c0ff",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#0d1117",sidebarBg:"#161b22",gradientIn:"#161b22",gradientOut:"rgba(22,27,34,0)"},mktg:{btn:{bg:"#f6f8fa",shadow:{outline:"rgb(255 255 255 / 25%) 0 0 0 1px inset",focus:"rgb(255 255 255 / 25%) 0 0 0 4px",hover:"0 4px 7px rgba(0, 0, 0, 0.15), 0 100px 80px rgba(255, 255, 255, 0.02), 0 42px 33px rgba(255, 255, 255, 0.024), 0 22px 18px rgba(255, 255, 255, 0.028), 0 12px 10px rgba(255, 255, 255, 0.034), 0 7px 5px rgba(255, 255, 255, 0.04), 0 3px 2px rgba(255, 255, 255, 0.07)",hoverMuted:"rgb(255 255 255) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#606771"}},avatar:{bg:"rgba(255,255,255,0.1)",border:"rgba(240,246,252,0.1)",stackFade:"#30363d",stackFadeMore:"#21262d",childShadow:"0 0 0 2px #0d1117"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"#484f58",tapHighlight:"rgba(48,54,61,0.5)",tapFocusBg:"#0c2d6b"},overlay:{shadow:"0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,0.85)",backdrop:"rgba(22,27,34,0.4)"},header:{text:"rgba(255,255,255,0.7)",bg:"#161b22",divider:"#8b949e",logo:"#f0f6fc"},headerSearch:{bg:"#0d1117",border:"#30363d"},sidenav:{selectedBg:"#21262d"},menu:{bgActive:"#161b22"},input:{disabledBg:"rgba(110,118,129,0)"},timeline:{badgeBg:"#21262d"},ansi:{black:"#484f58",blackBright:"#6e7681",white:"#b1bac4",whiteBright:"#ffffff",gray:"#6e7681",red:"#ff7b72",redBright:"#ffa198",green:"#58a6ff",greenBright:"#79c0ff",yellow:"#d29922",yellowBright:"#e3b341",blue:"#58a6ff",blueBright:"#79c0ff",magenta:"#bc8cff",magentaBright:"#d2a8ff",cyan:"#39c5cf",cyanBright:"#56d4dd"},btn:{text:"#c9d1d9",bg:"#21262d",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#30363d",hoverBorder:"#8b949e",activeBg:"hsla(212,12%,18%,1)",activeBorder:"#6e7681",selectedBg:"#161b22",counterBg:"#30363d",primary:{text:"#ffffff",bg:"#1f6feb",border:"rgba(240,246,252,0.1)",shadow:"0 0 transparent",insetShadow:"0 0 transparent",hoverBg:"#388bfd",hoverBorder:"rgba(240,246,252,0.1)",selectedBg:"#1f6feb",selectedShadow:"0 0 transparent",disabledText:"rgba(255,255,255,0.5)",disabledBg:"rgba(31,111,235,0.6)",disabledBorder:"rgba(240,246,252,0.1)",icon:"#ffffff",counterBg:"rgba(5,29,77,0.2)"},outline:{text:"#388bfd",hoverText:"#58a6ff",hoverBg:"#30363d",hoverBorder:"rgba(240,246,252,0.1)",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(5,29,77,0.2)",selectedText:"#ffffff",selectedBg:"#0d419d",selectedBorder:"rgba(240,246,252,0.1)",selectedShadow:"0 0 transparent",disabledText:"rgba(88,166,255,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(31,111,235,0.05)",counterBg:"rgba(5,29,77,0.2)",hoverCounterFg:"#58a6ff",disabledCounterFg:"rgba(88,166,255,0.5)",counterFg:"#388bfd"},danger:{text:"#f85149",hoverText:"#ffffff",hoverBg:"#da3633",hoverBorder:"#f85149",hoverShadow:"0 0 transparent",hoverInsetShadow:"0 0 transparent",hoverIcon:"#ffffff",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#b62324",selectedBorder:"#ff7b72",selectedShadow:"0 0 transparent",disabledText:"rgba(248,81,73,0.5)",disabledBg:"#0d1117",disabledCounterBg:"rgba(218,54,51,0.05)",counterBg:"rgba(73,2,2,0.2)",icon:"#f85149",counterFg:"#f85149",disabledCounterFg:"rgba(248,81,73,0.5)",hoverCounterFg:"#ffffff"},inactive:{bg:"#21262d",text:"#8b949e"}},underlinenav:{icon:"#6e7681",borderHover:"rgba(110,118,129,0.4)"},actionListItem:{inlineDivider:"rgba(48,54,61,0.48)",default:{hoverBg:"rgba(177,186,196,0.12)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(177,186,196,0.2)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(177,186,196,0.08)"},danger:{hoverBg:"rgba(248,81,73,0.16)",activeBg:"rgba(248,81,73,0.24)",hoverText:"#ff7b72"}},switchTrack:{bg:"rgba(110,118,129,0.1)",hoverBg:"hsla(215,8%,72%,0.1)",activeBg:"rgba(110,118,129,0.4)",disabledBg:"#21262d",fg:"#8b949e",disabledFg:"#010409",border:"rgba(0,0,0,0)",checked:{bg:"rgba(31,111,235,0.35)",hoverBg:"rgba(31,111,235,0.5)",activeBg:"rgba(31,111,235,0.65)",fg:"#ffffff",disabledFg:"#010409",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#0d1117",border:"#606771",disabledBg:"#161b22",checked:{bg:"#0d1117",disabledBg:"#161b22",border:"rgba(31,111,235,0.35)"}},segmentedControl:{bg:"rgba(110,118,129,0.1)",button:{bg:"#0d1117",hover:{bg:"#30363d"},active:{bg:"#21262d"},selected:{border:"#6e7681"}}},treeViewItem:{chevron:{hoverBg:"rgba(177,186,196,0.12)"},directory:{fill:"#8b949e"}},fg:{default:"#c9d1d9",muted:"#8b949e",subtle:"#6e7681",onEmphasis:"#ffffff"},canvas:{default:"#0d1117",overlay:"#161b22",inset:"#010409",subtle:"#161b22"},border:{default:"#30363d",muted:"#21262d",subtle:"rgba(240,246,252,0.1)"},shadow:{small:"0 0 transparent",medium:"0 3px 6px #010409",large:"0 8px 24px #010409",extraLarge:"0 12px 48px #010409"},neutral:{emphasisPlus:"#6e7681",emphasis:"#6e7681",muted:"rgba(110,118,129,0.4)",subtle:"rgba(110,118,129,0.1)"},accent:{fg:"#58a6ff",emphasis:"#1f6feb",muted:"rgba(56,139,253,0.4)",subtle:"rgba(56,139,253,0.1)"},success:{fg:"#58a6ff",emphasis:"#1f6feb",muted:"rgba(56,139,253,0.4)",subtle:"rgba(56,139,253,0.15)"},attention:{fg:"#d29922",emphasis:"#9e6a03",muted:"rgba(187,128,9,0.4)",subtle:"rgba(187,128,9,0.15)"},severe:{fg:"#f85149",emphasis:"#da3633",muted:"rgba(248,81,73,0.4)",subtle:"rgba(248,81,73,0.1)"},danger:{fg:"#f85149",emphasis:"#da3633",muted:"rgba(248,81,73,0.4)",subtle:"rgba(248,81,73,0.1)"},open:{fg:"#ff7b72",emphasis:"#da3633",muted:"rgba(248,81,73,0.4)",subtle:"rgba(248,81,73,0.15)"},closed:{fg:"#8b949e",emphasis:"#6e7681",muted:"rgba(110,118,129,0.4)",subtle:"rgba(110,118,129,0.1)"},done:{fg:"#a371f7",emphasis:"#8957e5",muted:"rgba(163,113,247,0.4)",subtle:"rgba(163,113,247,0.1)"},sponsors:{fg:"#db61a2",emphasis:"#bf4b8a",muted:"rgba(219,97,162,0.4)",subtle:"rgba(219,97,162,0.1)"},primer:{fg:{disabled:"#484f58"},canvas:{backdrop:"rgba(1,4,9,0.8)",sticky:"rgba(13,17,23,0.95)"},border:{active:"#f78166",contrast:"rgba(255,255,255,0.2)"},shadow:{highlight:"0 0 transparent",inset:"0 0 transparent"}},scale:{black:"#010409",white:"#ffffff",gray:["#f0f6fc","#c9d1d9","#b1bac4","#8b949e","#6e7681","#484f58","#30363d","#21262d","#161b22","#0d1117"],blue:["#cae8ff","#a5d6ff","#79c0ff","#58a6ff","#388bfd","#1f6feb","#1158c7","#0d419d","#0c2d6b","#051d4d"],green:["#cae8ff","#a5d6ff","#79c0ff","#58a6ff","#388bfd","#1f6feb","#1158c7","#0d419d","#0c2d6b","#051d4d"],yellow:["#f8e3a1","#f2cc60","#e3b341","#d29922","#bb8009","#9e6a03","#845306","#693e00","#4b2900","#341a00"],orange:["#ffdcd7","#ffc1ba","#ffa198","#ff7b72","#f85149","#da3633","#b62324","#8e1519","#67060c","#490202"],red:["#ffdcd7","#ffc1ba","#ffa198","#ff7b72","#f85149","#da3633","#b62324","#8e1519","#67060c","#490202"],purple:["#eddeff","#e2c5ff","#d2a8ff","#bc8cff","#a371f7","#8957e5","#6e40c9","#553098","#3c1e70","#271052"],pink:["#ffdaec","#ffbedd","#ff9bce","#f778ba","#db61a2","#bf4b8a","#9e3670","#7d2457","#5e103e","#42062a"],coral:["#ffddd2","#ffc2b2","#ffa28b","#f78166","#ea6045","#cf462d","#ac3220","#872012","#640d04","#460701"]}}},89751:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(92764)),r=s(n(57382)),o=s(n(15270)),a=s(n(2122)),l=s(n(70974)),c=s(n(7323)),u=s(n(51667)),h=s(n(56433)),d=s(n(31571));t.default={light:i.default,light_high_contrast:r.default,light_colorblind:o.default,light_tritanopia:a.default,dark:l.default,dark_dimmed:c.default,dark_high_contrast:u.default,dark_colorblind:h.default,dark_tritanopia:d.default}},92764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"#f6f8fa",marketingIcon:{primary:"#218bff",secondary:"#54aeff"},diffBlob:{addition:{numText:"#1F2328",fg:"#1F2328",numBg:"#ccffd8",lineBg:"#e6ffec",wordBg:"#abf2bc"},deletion:{numText:"#1F2328",fg:"#1F2328",numBg:"#ffd7d5",lineBg:"#ffebe9",wordBg:"rgba(255,129,130,0.4)"},hunk:{numBg:"rgba(84,174,255,0.4)"},expander:{icon:"#656d76"},selectedLineHighlightMixBlendMode:"multiply"},diffstat:{deletionBorder:"rgba(31,35,40,0.15)",additionBorder:"rgba(31,35,40,0.15)",additionBg:"#1f883d"},searchKeyword:{hl:"#fff8c5"},prettylights:{syntax:{comment:"#57606a",constant:"#0550ae",entity:"#6639ba",storageModifierImport:"#24292f",entityTag:"#116329",keyword:"#cf222e",string:"#0a3069",variable:"#953800",brackethighlighterUnmatched:"#82071e",invalidIllegalText:"#f6f8fa",invalidIllegalBg:"#82071e",carriageReturnText:"#f6f8fa",carriageReturnBg:"#cf222e",stringRegexp:"#116329",markupList:"#3b2300",markupHeading:"#0550ae",markupItalic:"#24292f",markupBold:"#24292f",markupDeletedText:"#82071e",markupDeletedBg:"#ffebe9",markupInsertedText:"#116329",markupInsertedBg:"#dafbe1",markupChangedText:"#953800",markupChangedBg:"#ffd8b5",markupIgnoredText:"#eaeef2",markupIgnoredBg:"#0550ae",metaDiffRange:"#8250df",brackethighlighterAngle:"#57606a",sublimelinterGutterMark:"#8c959f",constantOtherReferenceLink:"#0a3069"}},codemirror:{text:"#1F2328",bg:"#ffffff",guttersBg:"#ffffff",guttermarkerText:"#ffffff",guttermarkerSubtleText:"#6e7781",linenumberText:"#656d76",cursor:"#1F2328",selectionBg:"rgba(84,174,255,0.4)",activelineBg:"rgba(234,238,242,0.5)",matchingbracketText:"#1F2328",linesBg:"#ffffff",syntax:{comment:"#24292f",constant:"#0550ae",entity:"#8250df",keyword:"#cf222e",storage:"#cf222e",string:"#0a3069",support:"#0550ae",variable:"#953800"}},checks:{bg:"#24292f",runBorderWidth:"0px",containerBorderWidth:"0px",textPrimary:"#f6f8fa",textSecondary:"#8c959f",textLink:"#54aeff",btnIcon:"#afb8c1",btnHoverIcon:"#f6f8fa",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"#eaeef2",inputPlaceholderText:"#8c959f",inputFocusText:"#8c959f",inputBg:"#32383f",inputShadow:"none",donutError:"#fa4549",donutPending:"#bf8700",donutSuccess:"#1f883d",donutNeutral:"#afb8c1",dropdownText:"#afb8c1",dropdownBg:"#32383f",dropdownBorder:"#424a53",dropdownShadow:"rgba(31,35,40,0.3)",dropdownHoverText:"#f6f8fa",dropdownHoverBg:"#424a53",dropdownBtnHoverText:"#f6f8fa",dropdownBtnHoverBg:"#32383f",scrollbarThumbBg:"#57606a",headerLabelText:"#d0d7de",headerLabelOpenText:"#f6f8fa",headerBorder:"#32383f",headerIcon:"#8c959f",lineText:"#d0d7de",lineNumText:"rgba(140,149,159,0.75)",lineTimestampText:"#8c959f",lineHoverBg:"#32383f",lineSelectedBg:"rgba(33,139,255,0.15)",lineSelectedNumText:"#54aeff",lineDtFmText:"#24292f",lineDtFmBg:"#9a6700",gateBg:"rgba(125,78,0,0.15)",gateText:"#d0d7de",gateWaitingText:"#d4a72c",stepHeaderOpenBg:"#32383f",stepErrorText:"#ff8182",stepWarningText:"#d4a72c",loglineText:"#8c959f",loglineNumText:"rgba(140,149,159,0.75)",loglineDebugText:"#c297ff",loglineErrorText:"#d0d7de",loglineErrorNumText:"#ff8182",loglineErrorBg:"rgba(164,14,38,0.15)",loglineWarningText:"#d0d7de",loglineWarningNumText:"#d4a72c",loglineWarningBg:"rgba(125,78,0,0.15)",loglineCommandText:"#54aeff",loglineSectionText:"#4ac26b",ansi:{black:"#24292f",blackBright:"#32383f",white:"#d0d7de",whiteBright:"#d0d7de",gray:"#8c959f",red:"#ff8182",redBright:"#ffaba8",green:"#4ac26b",greenBright:"#6fdd8b",yellow:"#d4a72c",yellowBright:"#eac54f",blue:"#54aeff",blueBright:"#80ccff",magenta:"#c297ff",magentaBright:"#d8b9ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#24292f",sidebarBg:"#ffffff",gradientIn:"#ffffff",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23",shadow:{outline:"rgb(0 0 0 / 15%) 0 0 0 1px inset",focus:"rgb(0 0 0 / 15%) 0 0 0 4px",hover:"0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)",hoverMuted:"rgb(0 0 0 / 70%) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#858F99"}},avatar:{bg:"#ffffff",border:"rgba(31,35,40,0.15)",stackFade:"#afb8c1",stackFadeMore:"#d0d7de",childShadow:"0 0 0 2px rgba(255,255,255,0.8)"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(175,184,193,0.5)",tapFocusBg:"#b6e3ff"},overlay:{shadow:"0 1px 3px rgba(31,35,40,0.12), 0 8px 24px rgba(66,74,83,0.12)",backdrop:"rgba(140,149,159,0.2)"},header:{text:"rgba(255,255,255,0.7)",bg:"#24292f",divider:"#57606a",logo:"#ffffff"},headerSearch:{bg:"#24292f",border:"#57606a"},sidenav:{selectedBg:"#ffffff"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"rgba(175,184,193,0.2)"},timeline:{badgeBg:"#eaeef2"},ansi:{black:"#24292f",blackBright:"#57606a",white:"#6e7781",whiteBright:"#8c959f",gray:"#6e7781",red:"#cf222e",redBright:"#a40e26",green:"#116329",greenBright:"#1a7f37",yellow:"#4d2d00",yellowBright:"#633c01",blue:"#0969da",blueBright:"#218bff",magenta:"#8250df",magentaBright:"#a475f9",cyan:"#1b7c83",cyanBright:"#3192aa"},btn:{text:"#24292f",bg:"#f6f8fa",border:"rgba(31,35,40,0.15)",shadow:"0 1px 0 rgba(31,35,40,0.04)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",hoverBg:"#f3f4f6",hoverBorder:"rgba(31,35,40,0.15)",activeBg:"hsla(220,14%,93%,1)",activeBorder:"rgba(31,35,40,0.15)",selectedBg:"hsla(220,14%,94%,1)",counterBg:"rgba(31,35,40,0.08)",primary:{text:"#ffffff",bg:"#1f883d",border:"rgba(31,35,40,0.15)",shadow:"0 1px 0 rgba(31,35,40,0.1)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverBg:"#1a7f37",hoverBorder:"rgba(31,35,40,0.15)",selectedBg:"hsla(137,66%,28%,1)",selectedShadow:"inset 0 1px 0 rgba(0,45,17,0.2)",disabledText:"rgba(255,255,255,0.8)",disabledBg:"#94d3a2",disabledBorder:"rgba(31,35,40,0.15)",icon:"rgba(255,255,255,0.8)",counterBg:"rgba(0,45,17,0.2)"},outline:{text:"#0969da",hoverText:"#ffffff",hoverBg:"#0969da",hoverBorder:"rgba(31,35,40,0.15)",hoverShadow:"0 1px 0 rgba(31,35,40,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(212,92%,42%,1)",selectedBorder:"rgba(31,35,40,0.15)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)",disabledText:"rgba(9,105,218,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(9,105,218,0.05)",counterBg:"#0969da1a",counterFg:"#0550ae",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(9,105,218,0.5)"},danger:{text:"#cf222e",hoverText:"#ffffff",hoverBg:"#a40e26",hoverBorder:"rgba(31,35,40,0.15)",hoverShadow:"0 1px 0 rgba(31,35,40,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(356,72%,44%,1)",selectedBorder:"rgba(31,35,40,0.15)",selectedShadow:"inset 0 1px 0 rgba(76,0,20,0.2)",disabledText:"rgba(207,34,46,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(207,34,46,0.05)",counterBg:"rgba(207,34,46,0.1)",icon:"#cf222e",hoverIcon:"#ffffff",counterFg:"#a40e26",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(207,34,46,0.5)"},inactive:{bg:"#eaeef2",text:"#57606a"}},underlinenav:{icon:"#6e7781",borderHover:"rgba(175,184,193,0.2)"},actionListItem:{inlineDivider:"rgba(208,215,222,0.48)",default:{hoverBg:"rgba(208,215,222,0.32)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(208,215,222,0.48)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(208,215,222,0.24)"},danger:{hoverBg:"rgba(255,235,233,0.64)",activeBg:"#ffebe9",hoverText:"#d1242f"}},switchTrack:{bg:"#eaeef2",hoverBg:"hsla(210,24%,90%,1)",activeBg:"hsla(210,24%,88%,1)",disabledBg:"#8c959f",fg:"#656d76",disabledFg:"#ffffff",border:"rgba(0,0,0,0)",checked:{bg:"#0969da",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"#ffffff",disabledFg:"#ffffff",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#858F99",checked:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#0969da"}},segmentedControl:{bg:"#eaeef2",button:{bg:"#ffffff",hover:{bg:"rgba(175,184,193,0.2)"},active:{bg:"rgba(175,184,193,0.4)"},selected:{border:"#8c959f"}}},treeViewItem:{chevron:{hoverBg:"rgba(208,215,222,0.32)"},directory:{fill:"#54aeff"}},fg:{default:"#1F2328",muted:"#656d76",subtle:"#6e7781",onEmphasis:"#ffffff"},canvas:{default:"#ffffff",overlay:"#ffffff",inset:"#f6f8fa",subtle:"#f6f8fa"},border:{default:"#d0d7de",muted:"hsla(210,18%,87%,1)",subtle:"rgba(31,35,40,0.15)"},shadow:{small:"0 1px 0 rgba(31,35,40,0.04)",medium:"0 3px 6px rgba(140,149,159,0.15)",large:"0 8px 24px rgba(140,149,159,0.2)",extraLarge:"0 12px 28px rgba(140,149,159,0.3)"},neutral:{emphasisPlus:"#24292f",emphasis:"#6e7781",muted:"rgba(175,184,193,0.2)",subtle:"rgba(234,238,242,0.5)"},accent:{fg:"#0969da",emphasis:"#0969da",muted:"rgba(84,174,255,0.4)",subtle:"#ddf4ff"},success:{fg:"#1a7f37",emphasis:"#1f883d",muted:"rgba(74,194,107,0.4)",subtle:"#dafbe1"},attention:{fg:"#9a6700",emphasis:"#9a6700",muted:"rgba(212,167,44,0.4)",subtle:"#fff8c5"},severe:{fg:"#bc4c00",emphasis:"#bc4c00",muted:"rgba(251,143,68,0.4)",subtle:"#fff1e5"},danger:{fg:"#d1242f",emphasis:"#cf222e",muted:"rgba(255,129,130,0.4)",subtle:"#ffebe9"},open:{fg:"#1a7f37",emphasis:"#1f883d",muted:"rgba(74,194,107,0.4)",subtle:"#dafbe1"},closed:{fg:"#d1242f",emphasis:"#cf222e",muted:"rgba(255,129,130,0.4)",subtle:"#ffebe9"},done:{fg:"#8250df",emphasis:"#8250df",muted:"rgba(194,151,255,0.4)",subtle:"#fbefff"},sponsors:{fg:"#bf3989",emphasis:"#bf3989",muted:"rgba(255,128,200,0.4)",subtle:"#ffeff7"},primer:{fg:{disabled:"#8c959f"},canvas:{backdrop:"rgba(31,35,40,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#fd8c73",contrast:"rgba(31,35,40,0.1)"},shadow:{highlight:"inset 0 1px 0 rgba(255,255,255,0.25)",inset:"inset 0 1px 0 rgba(208,215,222,0.2)"}},scale:{black:"#1F2328",white:"#ffffff",gray:["#f6f8fa","#eaeef2","#d0d7de","#afb8c1","#8c959f","#6e7781","#57606a","#424a53","#32383f","#24292f"],blue:["#ddf4ff","#b6e3ff","#80ccff","#54aeff","#218bff","#0969da","#0550ae","#033d8b","#0a3069","#002155"],green:["#dafbe1","#aceebb","#6fdd8b","#4ac26b","#2da44e","#1a7f37","#116329","#044f1e","#003d16","#002d11"],yellow:["#fff8c5","#fae17d","#eac54f","#d4a72c","#bf8700","#9a6700","#7d4e00","#633c01","#4d2d00","#3b2300"],orange:["#fff1e5","#ffd8b5","#ffb77c","#fb8f44","#e16f24","#bc4c00","#953800","#762c00","#5c2200","#471700"],red:["#ffebe9","#ffcecb","#ffaba8","#ff8182","#fa4549","#cf222e","#a40e26","#82071e","#660018","#4c0014"],purple:["#fbefff","#ecd8ff","#d8b9ff","#c297ff","#a475f9","#8250df","#6639ba","#512a97","#3e1f79","#2e1461"],pink:["#ffeff7","#ffd3eb","#ffadda","#ff80c8","#e85aad","#bf3989","#99286e","#772057","#611347","#4d0336"],coral:["#fff0eb","#ffd6cc","#ffb4a1","#fd8c73","#ec6547","#c4432b","#9e2f1c","#801f0f","#691105","#510901"]}}},15270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"#f6f8fa",marketingIcon:{primary:"#218bff",secondary:"#54aeff"},diffBlob:{addition:{numText:"#24292f",fg:"#24292f",numBg:"rgba(84,174,255,0.4)",lineBg:"rgba(221,244,255,0.5)",wordBg:"rgba(84,174,255,0.4)"},deletion:{numText:"#24292f",fg:"#24292f",numBg:"rgba(247,153,57,0.4)",lineBg:"rgba(255,245,232,0.5)",wordBg:"rgba(255,188,109,0.5)"},hunk:{numBg:"rgba(84,174,255,0.4)"},expander:{icon:"#57606a"},selectedLineHighlightMixBlendMode:"multiply"},diffstat:{deletionBorder:"rgba(27,31,36,0.15)",additionBorder:"rgba(27,31,36,0.15)",additionBg:"#0969da"},searchKeyword:{hl:"#fff8c5"},prettylights:{syntax:{comment:"#57606a",constant:"#0550ae",entity:"#6639ba",storageModifierImport:"#24292f",entityTag:"#0550ae",keyword:"#b35900",string:"#0a3069",variable:"#8a4600",brackethighlighterUnmatched:"#6f3800",invalidIllegalText:"#f6f8fa",invalidIllegalBg:"#6f3800",carriageReturnText:"#f6f8fa",carriageReturnBg:"#b35900",stringRegexp:"#0550ae",markupList:"#3b2300",markupHeading:"#0550ae",markupItalic:"#24292f",markupBold:"#24292f",markupDeletedText:"#6f3800",markupDeletedBg:"#fff5e8",markupInsertedText:"#0550ae",markupInsertedBg:"#ddf4ff",markupChangedText:"#8a4600",markupChangedBg:"#ffddb0",markupIgnoredText:"#eaeef2",markupIgnoredBg:"#0550ae",metaDiffRange:"#8250df",brackethighlighterAngle:"#57606a",sublimelinterGutterMark:"#8c959f",constantOtherReferenceLink:"#0a3069"}},codemirror:{text:"#24292f",bg:"#ffffff",guttersBg:"#ffffff",guttermarkerText:"#ffffff",guttermarkerSubtleText:"#6e7781",linenumberText:"#57606a",cursor:"#24292f",selectionBg:"rgba(84,174,255,0.4)",activelineBg:"rgba(234,238,242,0.5)",matchingbracketText:"#24292f",linesBg:"#ffffff",syntax:{comment:"#24292f",constant:"#0550ae",entity:"#8250df",keyword:"#b35900",storage:"#b35900",string:"#0a3069",support:"#0550ae",variable:"#8a4600"}},checks:{bg:"#24292f",runBorderWidth:"0px",containerBorderWidth:"0px",textPrimary:"#f6f8fa",textSecondary:"#8c959f",textLink:"#54aeff",btnIcon:"#afb8c1",btnHoverIcon:"#f6f8fa",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"#eaeef2",inputPlaceholderText:"#8c959f",inputFocusText:"#8c959f",inputBg:"#32383f",inputShadow:"none",donutError:"#dd7815",donutPending:"#bf8700",donutSuccess:"#0969da",donutNeutral:"#afb8c1",dropdownText:"#afb8c1",dropdownBg:"#32383f",dropdownBorder:"#424a53",dropdownShadow:"rgba(27,31,36,0.3)",dropdownHoverText:"#f6f8fa",dropdownHoverBg:"#424a53",dropdownBtnHoverText:"#f6f8fa",dropdownBtnHoverBg:"#32383f",scrollbarThumbBg:"#57606a",headerLabelText:"#d0d7de",headerLabelOpenText:"#f6f8fa",headerBorder:"#32383f",headerIcon:"#8c959f",lineText:"#d0d7de",lineNumText:"rgba(140,149,159,0.75)",lineTimestampText:"#8c959f",lineHoverBg:"#32383f",lineSelectedBg:"rgba(33,139,255,0.15)",lineSelectedNumText:"#54aeff",lineDtFmText:"#24292f",lineDtFmBg:"#9a6700",gateBg:"rgba(125,78,0,0.15)",gateText:"#d0d7de",gateWaitingText:"#d4a72c",stepHeaderOpenBg:"#32383f",stepErrorText:"#f79939",stepWarningText:"#d4a72c",loglineText:"#8c959f",loglineNumText:"rgba(140,149,159,0.75)",loglineDebugText:"#c297ff",loglineErrorText:"#d0d7de",loglineErrorNumText:"#f79939",loglineErrorBg:"rgba(138,70,0,0.15)",loglineWarningText:"#d0d7de",loglineWarningNumText:"#d4a72c",loglineWarningBg:"rgba(125,78,0,0.15)",loglineCommandText:"#54aeff",loglineSectionText:"#54aeff",ansi:{black:"#24292f",blackBright:"#32383f",white:"#d0d7de",whiteBright:"#d0d7de",gray:"#8c959f",red:"#f79939",redBright:"#ffbc6d",green:"#54aeff",greenBright:"#80ccff",yellow:"#d4a72c",yellowBright:"#eac54f",blue:"#54aeff",blueBright:"#80ccff",magenta:"#c297ff",magentaBright:"#d8b9ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#24292f",sidebarBg:"#ffffff",gradientIn:"#ffffff",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23",shadow:{outline:"rgb(0 0 0 / 15%) 0 0 0 1px inset",focus:"rgb(0 0 0 / 15%) 0 0 0 4px",hover:"0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)",hoverMuted:"rgb(0 0 0 / 70%) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#858F99"}},avatar:{bg:"#ffffff",border:"rgba(27,31,36,0.15)",stackFade:"#afb8c1",stackFadeMore:"#d0d7de",childShadow:"0 0 0 2px rgba(255,255,255,0.8)"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(175,184,193,0.5)",tapFocusBg:"#b6e3ff"},overlay:{shadow:"0 1px 3px rgba(27,31,36,0.12), 0 8px 24px rgba(66,74,83,0.12)",backdrop:"rgba(140,149,159,0.2)"},header:{text:"rgba(255,255,255,0.7)",bg:"#24292f",divider:"#57606a",logo:"#ffffff"},headerSearch:{bg:"#24292f",border:"#57606a"},sidenav:{selectedBg:"#ffffff"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"rgba(175,184,193,0.2)"},timeline:{badgeBg:"#eaeef2"},ansi:{black:"#24292f",blackBright:"#57606a",white:"#6e7781",whiteBright:"#8c959f",gray:"#6e7781",red:"#b35900",redBright:"#8a4600",green:"#0550ae",greenBright:"#0969da",yellow:"#4d2d00",yellowBright:"#633c01",blue:"#0969da",blueBright:"#218bff",magenta:"#8250df",magentaBright:"#a475f9",cyan:"#1b7c83",cyanBright:"#3192aa"},btn:{text:"#24292f",bg:"#f6f8fa",border:"rgba(27,31,36,0.15)",shadow:"0 1px 0 rgba(27,31,36,0.04)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",hoverBg:"#f3f4f6",hoverBorder:"rgba(27,31,36,0.15)",activeBg:"hsla(220,14%,93%,1)",activeBorder:"rgba(27,31,36,0.15)",selectedBg:"hsla(220,14%,94%,1)",counterBg:"rgba(27,31,36,0.08)",primary:{text:"#ffffff",bg:"#0969da",border:"rgba(27,31,36,0.15)",shadow:"0 1px 0 rgba(27,31,36,0.1)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverBg:"#0969da",hoverBorder:"rgba(27,31,36,0.15)",selectedBg:"hsla(212,92%,43%,1)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)",disabledText:"rgba(255,255,255,0.8)",disabledBg:"#80ccff",disabledBorder:"rgba(27,31,36,0.15)",icon:"rgba(255,255,255,0.8)",counterBg:"rgba(0,33,85,0.2)"},outline:{text:"#0969da",hoverText:"#ffffff",hoverBg:"#0969da",hoverBorder:"rgba(27,31,36,0.15)",hoverShadow:"0 1px 0 rgba(27,31,36,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(212,92%,42%,1)",selectedBorder:"rgba(27,31,36,0.15)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)",disabledText:"rgba(9,105,218,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(9,105,218,0.05)",counterBg:"#0969da1a",counterFg:"#0550ae",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(9,105,218,0.5)"},danger:{text:"#b35900",hoverText:"#ffffff",hoverBg:"#8a4600",hoverBorder:"rgba(27,31,36,0.15)",hoverShadow:"0 1px 0 rgba(27,31,36,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(30,100%,32%,1)",selectedBorder:"rgba(27,31,36,0.15)",selectedShadow:"inset 0 1px 0 rgba(65,32,0,0.2)",disabledText:"rgba(179,89,0,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(179,89,0,0.05)",counterBg:"rgba(179,89,0,0.1)",icon:"#b35900",hoverIcon:"#ffffff",counterFg:"#8a4600",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(179,89,0,0.5)"},inactive:{bg:"#eaeef2",text:"#57606a"}},underlinenav:{icon:"#6e7781",borderHover:"rgba(175,184,193,0.2)"},actionListItem:{inlineDivider:"rgba(208,215,222,0.48)",default:{hoverBg:"rgba(208,215,222,0.32)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(208,215,222,0.48)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(208,215,222,0.24)"},danger:{hoverBg:"rgba(255,245,232,0.64)",activeBg:"#fff5e8",hoverText:"#b35900"}},switchTrack:{bg:"#eaeef2",hoverBg:"hsla(210,24%,90%,1)",activeBg:"hsla(210,24%,88%,1)",disabledBg:"#8c959f",fg:"#57606a",disabledFg:"#ffffff",border:"rgba(0,0,0,0)",checked:{bg:"#0969da",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"#ffffff",disabledFg:"#ffffff",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#858F99",checked:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#0969da"}},segmentedControl:{bg:"#eaeef2",button:{bg:"#ffffff",hover:{bg:"rgba(175,184,193,0.2)"},active:{bg:"rgba(175,184,193,0.4)"},selected:{border:"#8c959f"}}},treeViewItem:{chevron:{hoverBg:"rgba(208,215,222,0.32)"},directory:{fill:"#54aeff"}},fg:{default:"#24292f",muted:"#57606a",subtle:"#6e7781",onEmphasis:"#ffffff"},canvas:{default:"#ffffff",overlay:"#ffffff",inset:"#f6f8fa",subtle:"#f6f8fa"},border:{default:"#d0d7de",muted:"hsla(210,18%,87%,1)",subtle:"rgba(27,31,36,0.15)"},shadow:{small:"0 1px 0 rgba(27,31,36,0.04)",medium:"0 3px 6px rgba(140,149,159,0.15)",large:"0 8px 24px rgba(140,149,159,0.2)",extraLarge:"0 12px 28px rgba(140,149,159,0.3)"},neutral:{emphasisPlus:"#24292f",emphasis:"#6e7781",muted:"rgba(175,184,193,0.2)",subtle:"rgba(234,238,242,0.5)"},accent:{fg:"#0969da",emphasis:"#0969da",muted:"rgba(84,174,255,0.4)",subtle:"#ddf4ff"},success:{fg:"#0969da",emphasis:"#0969da",muted:"rgba(84,174,255,0.4)",subtle:"#ddf4ff"},attention:{fg:"#9a6700",emphasis:"#9a6700",muted:"rgba(212,167,44,0.4)",subtle:"#fff8c5"},severe:{fg:"#b35900",emphasis:"#b35900",muted:"rgba(247,153,57,0.4)",subtle:"#fff5e8"},danger:{fg:"#b35900",emphasis:"#b35900",muted:"rgba(247,153,57,0.4)",subtle:"#fff5e8"},open:{fg:"#b35900",emphasis:"#dd7815",muted:"rgba(247,153,57,0.4)",subtle:"#fff5e8"},closed:{fg:"#6e7781",emphasis:"#6e7781",muted:"rgba(175,184,193,0.4)",subtle:"#f6f8fa"},done:{fg:"#8250df",emphasis:"#8250df",muted:"rgba(194,151,255,0.4)",subtle:"#fbefff"},sponsors:{fg:"#bf3989",emphasis:"#bf3989",muted:"rgba(255,128,200,0.4)",subtle:"#ffeff7"},primer:{fg:{disabled:"#8c959f"},canvas:{backdrop:"rgba(27,31,36,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#fd8c73",contrast:"rgba(27,31,36,0.1)"},shadow:{highlight:"inset 0 1px 0 rgba(255,255,255,0.25)",inset:"inset 0 1px 0 rgba(208,215,222,0.2)"}},scale:{black:"#1b1f24",white:"#ffffff",gray:["#f6f8fa","#eaeef2","#d0d7de","#afb8c1","#8c959f","#6e7781","#57606a","#424a53","#32383f","#24292f"],blue:["#ddf4ff","#b6e3ff","#80ccff","#54aeff","#218bff","#0969da","#0550ae","#033d8b","#0a3069","#002155"],green:["#ddf4ff","#b6e3ff","#80ccff","#54aeff","#218bff","#0969da","#0550ae","#033d8b","#0a3069","#002155"],yellow:["#fff8c5","#fae17d","#eac54f","#d4a72c","#bf8700","#9a6700","#7d4e00","#633c01","#4d2d00","#3b2300"],orange:["#fff5e8","#ffddb0","#ffbc6d","#f79939","#dd7815","#b35900","#8a4600","#6f3800","#572c00","#412000"],red:["#fff5e8","#ffddb0","#ffbc6d","#f79939","#dd7815","#b35900","#8a4600","#6f3800","#572c00","#412000"],purple:["#fbefff","#ecd8ff","#d8b9ff","#c297ff","#a475f9","#8250df","#6639ba","#512a97","#3e1f79","#2e1461"],pink:["#ffeff7","#ffd3eb","#ffadda","#ff80c8","#e85aad","#bf3989","#99286e","#772057","#611347","#4d0336"],coral:["#fff0eb","#ffd6cc","#ffb4a1","#fd8c73","#ec6547","#c4432b","#9e2f1c","#801f0f","#691105","#510901"]}}},57382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"#ffffff",marketingIcon:{primary:"#1168e3",secondary:"#368cf9"},diffBlob:{addition:{numText:"#0e1116",fg:"#ffffff",numBg:"#ccffd8",lineBg:"#e6ffec",wordBg:"#055d20"},deletion:{numText:"#0e1116",fg:"#ffffff",numBg:"#ffd7d5",lineBg:"#fff0ee",wordBg:"#a0111f"},hunk:{numBg:"#9cd7ff"},expander:{icon:"#0e1116"},selectedLineHighlightMixBlendMode:"multiply"},diffstat:{deletionBorder:"rgba(1,4,9,0.8)",additionBorder:"rgba(1,4,9,0.8)",additionBg:"#055d20"},searchKeyword:{hl:"#fcf7be"},prettylights:{syntax:{comment:"#4b535d",constant:"#023b95",entity:"#512598",storageModifierImport:"#0e1116",entityTag:"#024c1a",keyword:"#a0111f",string:"#032563",variable:"#702c00",brackethighlighterUnmatched:"#6e011a",invalidIllegalText:"#ffffff",invalidIllegalBg:"#6e011a",carriageReturnText:"#ffffff",carriageReturnBg:"#a0111f",stringRegexp:"#024c1a",markupList:"#2e1800",markupHeading:"#023b95",markupItalic:"#0e1116",markupBold:"#0e1116",markupDeletedText:"#6e011a",markupDeletedBg:"#fff0ee",markupInsertedText:"#024c1a",markupInsertedBg:"#d2fedb",markupChangedText:"#702c00",markupChangedBg:"#ffc67b",markupIgnoredText:"#e7ecf0",markupIgnoredBg:"#023b95",metaDiffRange:"#622cbc",brackethighlighterAngle:"#4b535d",sublimelinterGutterMark:"#88929d",constantOtherReferenceLink:"#032563"}},codemirror:{text:"#0e1116",bg:"#ffffff",guttersBg:"#ffffff",guttermarkerText:"#ffffff",guttermarkerSubtleText:"#66707b",linenumberText:"#0e1116",cursor:"#0e1116",selectionBg:"#368cf9",activelineBg:"#e7ecf0",matchingbracketText:"#0e1116",linesBg:"#ffffff",syntax:{comment:"#0e1116",constant:"#023b95",entity:"#622cbc",keyword:"#a0111f",storage:"#a0111f",string:"#032563",support:"#023b95",variable:"#702c00"}},checks:{bg:"#0e1116",runBorderWidth:"0px",containerBorderWidth:"0px",textPrimary:"#ffffff",textSecondary:"#88929d",textLink:"#368cf9",btnIcon:"#acb6c0",btnHoverIcon:"#ffffff",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"#e7ecf0",inputPlaceholderText:"#88929d",inputFocusText:"#88929d",inputBg:"#20252c",inputShadow:"none",donutError:"#d5232c",donutPending:"#956400",donutSuccess:"#055d20",donutNeutral:"#acb6c0",dropdownText:"#acb6c0",dropdownBg:"#20252c",dropdownBorder:"#343b43",dropdownShadow:"rgba(1,4,9,0.3)",dropdownHoverText:"#ffffff",dropdownHoverBg:"#343b43",dropdownBtnHoverText:"#ffffff",dropdownBtnHoverBg:"#20252c",scrollbarThumbBg:"#4b535d",headerLabelText:"#ced5dc",headerLabelOpenText:"#ffffff",headerBorder:"#20252c",headerIcon:"#88929d",lineText:"#ced5dc",lineNumText:"rgba(136,146,157,0.75)",lineTimestampText:"#88929d",lineHoverBg:"#20252c",lineSelectedBg:"rgba(17,104,227,0.15)",lineSelectedNumText:"#368cf9",lineDtFmText:"#0e1116",lineDtFmBg:"#744500",gateBg:"rgba(96,55,0,0.15)",gateText:"#ced5dc",gateWaitingText:"#b58407",stepHeaderOpenBg:"#20252c",stepErrorText:"#ee5a5d",stepWarningText:"#b58407",loglineText:"#88929d",loglineNumText:"rgba(136,146,157,0.75)",loglineDebugText:"#a371f7",loglineErrorText:"#ced5dc",loglineErrorNumText:"#ee5a5d",loglineErrorBg:"rgba(134,6,29,0.15)",loglineWarningText:"#ced5dc",loglineWarningNumText:"#b58407",loglineWarningBg:"rgba(96,55,0,0.15)",loglineCommandText:"#368cf9",loglineSectionText:"#26a148",ansi:{black:"#0e1116",blackBright:"#20252c",white:"#ced5dc",whiteBright:"#ced5dc",gray:"#88929d",red:"#ee5a5d",redBright:"#ff8e8a",green:"#26a148",greenBright:"#43c663",yellow:"#b58407",yellowBright:"#d5a824",blue:"#368cf9",blueBright:"#67b3fd",magenta:"#a371f7",magentaBright:"#c49bff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#0e1116",sidebarBg:"#ffffff",gradientIn:"#ffffff",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23",shadow:{outline:"rgb(0 0 0 / 15%) 0 0 0 1px inset",focus:"rgb(0 0 0 / 15%) 0 0 0 4px",hover:"0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)",hoverMuted:"rgb(0 0 0 / 70%) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#20252c"}},avatar:{bg:"#ffffff",border:"rgba(1,4,9,0.8)",stackFade:"#acb6c0",stackFadeMore:"#ced5dc",childShadow:"0 0 0 2px rgba(255,255,255,0.8)"},topicTag:{border:"#0349b4"},counter:{border:"#20252c"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(172,182,192,0.5)",tapFocusBg:"#9cd7ff"},overlay:{shadow:"0 1px 3px rgba(1,4,9,0.12), 0 8px 24px rgba(52,59,67,0.12)",backdrop:"rgba(136,146,157,0.2)"},header:{text:"rgba(255,255,255,0.7)",bg:"#0e1116",divider:"#acb6c0",logo:"#ffffff"},headerSearch:{bg:"#0e1116",border:"#4b535d"},sidenav:{selectedBg:"#ffffff"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"rgba(172,182,192,0.2)"},timeline:{badgeBg:"#e7ecf0"},ansi:{black:"#0e1116",blackBright:"#4b535d",white:"#66707b",whiteBright:"#88929d",gray:"#66707b",red:"#a0111f",redBright:"#86061d",green:"#024c1a",greenBright:"#055d20",yellow:"#3f2200",yellowBright:"#4e2c00",blue:"#0349b4",blueBright:"#1168e3",magenta:"#622cbc",magentaBright:"#844ae7",cyan:"#1b7c83",cyanBright:"#3192aa"},btn:{text:"#0e1116",bg:"#e7ecf0",border:"rgba(1,4,9,0.8)",shadow:"0 1px 0 rgba(1,4,9,0.04)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",hoverBg:"#ced5dc",hoverBorder:"rgba(1,4,9,0.8)",activeBg:"#acb6c0",activeBorder:"rgba(1,4,9,0.8)",selectedBg:"#acb6c0",counterBg:"rgba(1,4,9,0.08)",primary:{text:"#ffffff",bg:"#055d20",border:"#013d14",shadow:"0 1px 0 rgba(1,4,9,0.1)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverBg:"#024c1a",hoverBorder:"#013d14",selectedBg:"hsla(139,95%,13%,1)",selectedShadow:"inset 0 1px 0 rgba(0,35,11,0.2)",disabledText:"rgba(255,255,255,0.8)",disabledBg:"#94d3a2",disabledBorder:"rgba(1,4,9,0.8)",icon:"rgba(255,255,255,0.8)",counterBg:"rgba(0,35,11,0.2)"},outline:{text:"#023b95",hoverText:"#ffffff",hoverBg:"#0349b4",hoverBorder:"#022f7a",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#022f7a",selectedBorder:"#022f7a",selectedShadow:"inset 0 1px 0 rgba(2,26,74,0.2)",disabledText:"rgba(3,73,180,0.5)",disabledBg:"#e7ecf0",disabledCounterBg:"rgba(3,73,180,0.05)",counterBg:"#0969da1a",counterFg:"#023b95",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(3,73,180,0.5)"},danger:{text:"#86061d",hoverText:"#ffffff",hoverBg:"#a0111f",hoverBorder:"#6e011a",hoverShadow:"0 1px 0 rgba(1,4,9,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"#6e011a",selectedBorder:"#6e011a",selectedShadow:"inset 0 1px 0 rgba(67,0,17,0.2)",disabledText:"rgba(160,17,31,0.5)",disabledBg:"#e7ecf0",disabledCounterBg:"rgba(160,17,31,0.05)",counterBg:"rgba(160,17,31,0.1)",icon:"#86061d",hoverIcon:"#ffffff",counterFg:"#86061d",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(160,17,31,0.5)"},inactive:{bg:"#e7ecf0",text:"#4b535d"}},underlinenav:{icon:"#66707b",borderHover:"rgba(172,182,192,0.2)"},actionListItem:{inlineDivider:"#88929d",default:{hoverBg:"#e7ecf0",hoverBorder:"#88929d",activeBg:"#ced5dc",activeBorder:"#20252c",selectedBg:"#ced5dc"},danger:{hoverBg:"#a0111f",activeBg:"#6e011a",hoverText:"#ffffff"}},switchTrack:{bg:"#66707b",hoverBg:"hsla(211,9%,47%,1)",activeBg:"hsla(211,9%,49%,1)",disabledBg:"#88929d",fg:"#ffffff",disabledFg:"#ffffff",border:"rgba(0,0,0,0)",checked:{bg:"#0349b4",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"#ffffff",disabledFg:"#ffffff",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#ffffff",disabledBg:"#e7ecf0",border:"#20252c",checked:{bg:"#ffffff",disabledBg:"#e7ecf0",border:"#0349b4"}},segmentedControl:{bg:"#e7ecf0",button:{bg:"#ffffff",hover:{bg:"rgba(172,182,192,0.2)"},active:{bg:"rgba(172,182,192,0.4)"},selected:{border:"#88929d"}}},treeViewItem:{chevron:{hoverBg:"#ced5dc"},directory:{fill:"#368cf9"}},fg:{default:"#0e1116",muted:"#0e1116",subtle:"#66707b",onEmphasis:"#ffffff"},canvas:{default:"#ffffff",overlay:"#ffffff",inset:"#ffffff",subtle:"#e7ecf0"},border:{default:"#20252c",muted:"#88929d",subtle:"rgba(1,4,9,0.8)"},shadow:{small:"0 1px 0 rgba(1,4,9,0.04)",medium:"0 3px 6px rgba(136,146,157,0.15)",large:"0 8px 24px rgba(136,146,157,0.2)",extraLarge:"0 12px 28px rgba(136,146,157,0.3)"},neutral:{emphasisPlus:"#0e1116",emphasis:"#66707b",muted:"rgba(172,182,192,0.2)",subtle:"#e7ecf0"},accent:{fg:"#0349b4",emphasis:"#0349b4",muted:"#368cf9",subtle:"#dff7ff"},success:{fg:"#055d20",emphasis:"#055d20",muted:"#26a148",subtle:"#d2fedb"},attention:{fg:"#744500",emphasis:"#744500",muted:"#b58407",subtle:"#fcf7be"},severe:{fg:"#873800",emphasis:"#873800",muted:"#dc6d1a",subtle:"#fff2d5"},danger:{fg:"#d1242f",emphasis:"#a0111f",muted:"#ee5a5d",subtle:"#fff0ee"},open:{fg:"#055d20",emphasis:"#055d20",muted:"rgba(38,161,72,0.4)",subtle:"#d2fedb"},closed:{fg:"#d1242f",emphasis:"#a0111f",muted:"rgba(238,90,93,0.4)",subtle:"#fff0ee"},done:{fg:"#622cbc",emphasis:"#622cbc",muted:"#a371f7",subtle:"#faf0fe"},sponsors:{fg:"#971368",emphasis:"#971368",muted:"#ed4baf",subtle:"#feeff7"},primer:{fg:{disabled:"#88929d"},canvas:{backdrop:"rgba(1,4,9,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#ef5b48",contrast:"rgba(1,4,9,0.1)"},shadow:{highlight:"inset 0 1px 0 rgba(255,255,255,0.25)",inset:"inset 0 1px 0 rgba(206,213,220,0.2)"}},scale:{black:"#010409",white:"#ffffff",gray:["#ffffff","#e7ecf0","#ced5dc","#acb6c0","#88929d","#66707b","#4b535d","#343b43","#20252c","#0e1116"],blue:["#dff7ff","#9cd7ff","#67b3fd","#368cf9","#1168e3","#0349b4","#023b95","#022f7a","#032563","#021a4a"],green:["#d2fedb","#82e596","#43c663","#26a148","#117f32","#055d20","#024c1a","#013d14","#003110","#00230b"],yellow:["#fcf7be","#f0ce53","#d5a824","#b58407","#956400","#744500","#603700","#4e2c00","#3f2200","#2e1800"],orange:["#fff2d5","#ffc67b","#f99636","#dc6d1a","#b45105","#873800","#702c00","#5b2300","#491b00","#361200"],red:["#fff0ee","#ffc1bc","#ff8e8a","#ee5a5d","#d5232c","#a0111f","#86061d","#6e011a","#5a0016","#430011"],purple:["#faf0fe","#e0c5ff","#c49bff","#a371f7","#844ae7","#622cbc","#512598","#411d7b","#341763","#260f49"],pink:["#feeff7","#ffbde0","#fc87ca","#ed4baf","#c9248e","#971368","#7d0c57","#660847","#53043a","#3e022b"],coral:["#fff0ed","#ffc2b6","#ff8f7e","#ef5b48","#cd3425","#9f1710","#870706","#6f0107","#5b0002","#430200"]}}},2122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={canvasDefaultTransparent:"rgba(255,255,255,0)",pageHeaderBg:"#f6f8fa",marketingIcon:{primary:"#218bff",secondary:"#54aeff"},diffBlob:{addition:{numText:"#24292f",fg:"#24292f",numBg:"rgba(84,174,255,0.4)",lineBg:"rgba(221,244,255,0.5)",wordBg:"rgba(84,174,255,0.4)"},deletion:{numText:"#24292f",fg:"#24292f",numBg:"rgba(255,129,130,0.4)",lineBg:"rgba(255,235,233,0.5)",wordBg:"rgba(255,171,168,0.5)"},hunk:{numBg:"rgba(84,174,255,0.4)"},expander:{icon:"#57606a"},selectedLineHighlightMixBlendMode:"multiply"},diffstat:{deletionBorder:"rgba(27,31,36,0.15)",additionBorder:"rgba(27,31,36,0.15)",additionBg:"#0969da"},searchKeyword:{hl:"#fff8c5"},prettylights:{syntax:{comment:"#57606a",constant:"#0550ae",entity:"#6639ba",storageModifierImport:"#24292f",entityTag:"#0550ae",keyword:"#cf222e",string:"#0a3069",variable:"#a40e26",brackethighlighterUnmatched:"#82071e",invalidIllegalText:"#f6f8fa",invalidIllegalBg:"#82071e",carriageReturnText:"#f6f8fa",carriageReturnBg:"#cf222e",stringRegexp:"#0550ae",markupList:"#3b2300",markupHeading:"#0550ae",markupItalic:"#24292f",markupBold:"#24292f",markupDeletedText:"#82071e",markupDeletedBg:"#ffebe9",markupInsertedText:"#0550ae",markupInsertedBg:"#ddf4ff",markupChangedText:"#a40e26",markupChangedBg:"#ffcecb",markupIgnoredText:"#eaeef2",markupIgnoredBg:"#0550ae",metaDiffRange:"#8250df",brackethighlighterAngle:"#57606a",sublimelinterGutterMark:"#8c959f",constantOtherReferenceLink:"#0a3069"}},codemirror:{text:"#24292f",bg:"#ffffff",guttersBg:"#ffffff",guttermarkerText:"#ffffff",guttermarkerSubtleText:"#6e7781",linenumberText:"#57606a",cursor:"#24292f",selectionBg:"rgba(84,174,255,0.4)",activelineBg:"rgba(234,238,242,0.5)",matchingbracketText:"#24292f",linesBg:"#ffffff",syntax:{comment:"#24292f",constant:"#0550ae",entity:"#8250df",keyword:"#cf222e",storage:"#cf222e",string:"#0a3069",support:"#0550ae",variable:"#a40e26"}},checks:{bg:"#24292f",runBorderWidth:"0px",containerBorderWidth:"0px",textPrimary:"#f6f8fa",textSecondary:"#8c959f",textLink:"#54aeff",btnIcon:"#afb8c1",btnHoverIcon:"#f6f8fa",btnHoverBg:"rgba(255,255,255,0.125)",inputText:"#eaeef2",inputPlaceholderText:"#8c959f",inputFocusText:"#8c959f",inputBg:"#32383f",inputShadow:"none",donutError:"#fa4549",donutPending:"#bf8700",donutSuccess:"#0969da",donutNeutral:"#afb8c1",dropdownText:"#afb8c1",dropdownBg:"#32383f",dropdownBorder:"#424a53",dropdownShadow:"rgba(27,31,36,0.3)",dropdownHoverText:"#f6f8fa",dropdownHoverBg:"#424a53",dropdownBtnHoverText:"#f6f8fa",dropdownBtnHoverBg:"#32383f",scrollbarThumbBg:"#57606a",headerLabelText:"#d0d7de",headerLabelOpenText:"#f6f8fa",headerBorder:"#32383f",headerIcon:"#8c959f",lineText:"#d0d7de",lineNumText:"rgba(140,149,159,0.75)",lineTimestampText:"#8c959f",lineHoverBg:"#32383f",lineSelectedBg:"rgba(33,139,255,0.15)",lineSelectedNumText:"#54aeff",lineDtFmText:"#24292f",lineDtFmBg:"#9a6700",gateBg:"rgba(125,78,0,0.15)",gateText:"#d0d7de",gateWaitingText:"#d4a72c",stepHeaderOpenBg:"#32383f",stepErrorText:"#ff8182",stepWarningText:"#d4a72c",loglineText:"#8c959f",loglineNumText:"rgba(140,149,159,0.75)",loglineDebugText:"#c297ff",loglineErrorText:"#d0d7de",loglineErrorNumText:"#ff8182",loglineErrorBg:"rgba(164,14,38,0.15)",loglineWarningText:"#d0d7de",loglineWarningNumText:"#d4a72c",loglineWarningBg:"rgba(125,78,0,0.15)",loglineCommandText:"#54aeff",loglineSectionText:"#54aeff",ansi:{black:"#24292f",blackBright:"#32383f",white:"#d0d7de",whiteBright:"#d0d7de",gray:"#8c959f",red:"#ff8182",redBright:"#ffaba8",green:"#54aeff",greenBright:"#80ccff",yellow:"#d4a72c",yellowBright:"#eac54f",blue:"#54aeff",blueBright:"#80ccff",magenta:"#c297ff",magentaBright:"#d8b9ff",cyan:"#76e3ea",cyanBright:"#b3f0ff"}},project:{headerBg:"#24292f",sidebarBg:"#ffffff",gradientIn:"#ffffff",gradientOut:"rgba(255,255,255,0)"},mktg:{btn:{bg:"#1b1f23",shadow:{outline:"rgb(0 0 0 / 15%) 0 0 0 1px inset",focus:"rgb(0 0 0 / 15%) 0 0 0 4px",hover:"0 3px 2px rgba(0, 0, 0, 0.07), 0 7px 5px rgba(0, 0, 0, 0.04), 0 12px 10px rgba(0, 0, 0, 0.03), 0 22px 18px rgba(0, 0, 0, 0.03), 0 42px 33px rgba(0, 0, 0, 0.02), 0 100px 80px rgba(0, 0, 0, 0.02)",hoverMuted:"rgb(0 0 0 / 70%) 0 0 0 2px inset"}}},control:{borderColor:{emphasis:"#858F99"}},avatar:{bg:"#ffffff",border:"rgba(27,31,36,0.15)",stackFade:"#afb8c1",stackFadeMore:"#d0d7de",childShadow:"0 0 0 2px rgba(255,255,255,0.8)"},topicTag:{border:"rgba(0,0,0,0)"},counter:{border:"rgba(0,0,0,0)"},selectMenu:{backdropBorder:"rgba(0,0,0,0)",tapHighlight:"rgba(175,184,193,0.5)",tapFocusBg:"#b6e3ff"},overlay:{shadow:"0 1px 3px rgba(27,31,36,0.12), 0 8px 24px rgba(66,74,83,0.12)",backdrop:"rgba(140,149,159,0.2)"},header:{text:"rgba(255,255,255,0.7)",bg:"#24292f",divider:"#57606a",logo:"#ffffff"},headerSearch:{bg:"#24292f",border:"#57606a"},sidenav:{selectedBg:"#ffffff"},menu:{bgActive:"rgba(0,0,0,0)"},input:{disabledBg:"rgba(175,184,193,0.2)"},timeline:{badgeBg:"#eaeef2"},ansi:{black:"#24292f",blackBright:"#57606a",white:"#6e7781",whiteBright:"#8c959f",gray:"#6e7781",red:"#cf222e",redBright:"#a40e26",green:"#0550ae",greenBright:"#0969da",yellow:"#4d2d00",yellowBright:"#633c01",blue:"#0969da",blueBright:"#218bff",magenta:"#8250df",magentaBright:"#a475f9",cyan:"#1b7c83",cyanBright:"#3192aa"},btn:{text:"#24292f",bg:"#f6f8fa",border:"rgba(27,31,36,0.15)",shadow:"0 1px 0 rgba(27,31,36,0.04)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",hoverBg:"#f3f4f6",hoverBorder:"rgba(27,31,36,0.15)",activeBg:"hsla(220,14%,93%,1)",activeBorder:"rgba(27,31,36,0.15)",selectedBg:"hsla(220,14%,94%,1)",counterBg:"rgba(27,31,36,0.08)",primary:{text:"#ffffff",bg:"#0969da",border:"rgba(27,31,36,0.15)",shadow:"0 1px 0 rgba(27,31,36,0.1)",insetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverBg:"#0969da",hoverBorder:"rgba(27,31,36,0.15)",selectedBg:"hsla(212,92%,43%,1)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)",disabledText:"rgba(255,255,255,0.8)",disabledBg:"#80ccff",disabledBorder:"rgba(27,31,36,0.15)",icon:"rgba(255,255,255,0.8)",counterBg:"rgba(0,33,85,0.2)"},outline:{text:"#0969da",hoverText:"#ffffff",hoverBg:"#0969da",hoverBorder:"rgba(27,31,36,0.15)",hoverShadow:"0 1px 0 rgba(27,31,36,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(212,92%,42%,1)",selectedBorder:"rgba(27,31,36,0.15)",selectedShadow:"inset 0 1px 0 rgba(0,33,85,0.2)",disabledText:"rgba(9,105,218,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(9,105,218,0.05)",counterBg:"#0969da1a",counterFg:"#0550ae",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(9,105,218,0.5)"},danger:{text:"#cf222e",hoverText:"#ffffff",hoverBg:"#a40e26",hoverBorder:"rgba(27,31,36,0.15)",hoverShadow:"0 1px 0 rgba(27,31,36,0.1)",hoverInsetShadow:"inset 0 1px 0 rgba(255,255,255,0.03)",hoverCounterBg:"rgba(255,255,255,0.2)",selectedText:"#ffffff",selectedBg:"hsla(356,72%,44%,1)",selectedBorder:"rgba(27,31,36,0.15)",selectedShadow:"inset 0 1px 0 rgba(76,0,20,0.2)",disabledText:"rgba(207,34,46,0.5)",disabledBg:"#f6f8fa",disabledCounterBg:"rgba(207,34,46,0.05)",counterBg:"rgba(207,34,46,0.1)",icon:"#cf222e",hoverIcon:"#ffffff",counterFg:"#a40e26",hoverCounterFg:"#ffffff",disabledCounterFg:"rgba(207,34,46,0.5)"},inactive:{bg:"#eaeef2",text:"#57606a"}},underlinenav:{icon:"#6e7781",borderHover:"rgba(175,184,193,0.2)"},actionListItem:{inlineDivider:"rgba(208,215,222,0.48)",default:{hoverBg:"rgba(208,215,222,0.32)",hoverBorder:"rgba(0,0,0,0)",activeBg:"rgba(208,215,222,0.48)",activeBorder:"rgba(0,0,0,0)",selectedBg:"rgba(208,215,222,0.24)"},danger:{hoverBg:"rgba(255,235,233,0.64)",activeBg:"#ffebe9",hoverText:"#cf222e"}},switchTrack:{bg:"#eaeef2",hoverBg:"hsla(210,24%,90%,1)",activeBg:"hsla(210,24%,88%,1)",disabledBg:"#8c959f",fg:"#57606a",disabledFg:"#ffffff",border:"rgba(0,0,0,0)",checked:{bg:"#0969da",hoverBg:"#0860CA",activeBg:"#0757BA",fg:"#ffffff",disabledFg:"#ffffff",border:"rgba(0,0,0,0)"}},switchKnob:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#858F99",checked:{bg:"#ffffff",disabledBg:"#f6f8fa",border:"#0969da"}},segmentedControl:{bg:"#eaeef2",button:{bg:"#ffffff",hover:{bg:"rgba(175,184,193,0.2)"},active:{bg:"rgba(175,184,193,0.4)"},selected:{border:"#8c959f"}}},treeViewItem:{chevron:{hoverBg:"rgba(208,215,222,0.32)"},directory:{fill:"#54aeff"}},fg:{default:"#24292f",muted:"#57606a",subtle:"#6e7781",onEmphasis:"#ffffff"},canvas:{default:"#ffffff",overlay:"#ffffff",inset:"#f6f8fa",subtle:"#f6f8fa"},border:{default:"#d0d7de",muted:"hsla(210,18%,87%,1)",subtle:"rgba(27,31,36,0.15)"},shadow:{small:"0 1px 0 rgba(27,31,36,0.04)",medium:"0 3px 6px rgba(140,149,159,0.15)",large:"0 8px 24px rgba(140,149,159,0.2)",extraLarge:"0 12px 28px rgba(140,149,159,0.3)"},neutral:{emphasisPlus:"#24292f",emphasis:"#6e7781",muted:"rgba(175,184,193,0.2)",subtle:"rgba(234,238,242,0.5)"},accent:{fg:"#0969da",emphasis:"#0969da",muted:"rgba(84,174,255,0.4)",subtle:"#ddf4ff"},success:{fg:"#0969da",emphasis:"#0969da",muted:"rgba(84,174,255,0.4)",subtle:"#ddf4ff"},attention:{fg:"#9a6700",emphasis:"#9a6700",muted:"rgba(212,167,44,0.4)",subtle:"#fff8c5"},severe:{fg:"#cf222e",emphasis:"#cf222e",muted:"rgba(255,129,130,0.4)",subtle:"#ffebe9"},danger:{fg:"#cf222e",emphasis:"#cf222e",muted:"rgba(255,129,130,0.4)",subtle:"#ffebe9"},open:{fg:"#cf222e",emphasis:"#fa4549",muted:"rgba(255,129,130,0.4)",subtle:"#ffebe9"},closed:{fg:"#6e7781",emphasis:"#6e7781",muted:"rgba(175,184,193,0.4)",subtle:"#f6f8fa"},done:{fg:"#8250df",emphasis:"#8250df",muted:"rgba(194,151,255,0.4)",subtle:"#fbefff"},sponsors:{fg:"#bf3989",emphasis:"#bf3989",muted:"rgba(255,128,200,0.4)",subtle:"#ffeff7"},primer:{fg:{disabled:"#8c959f"},canvas:{backdrop:"rgba(27,31,36,0.5)",sticky:"rgba(255,255,255,0.95)"},border:{active:"#fd8c73",contrast:"rgba(27,31,36,0.1)"},shadow:{highlight:"inset 0 1px 0 rgba(255,255,255,0.25)",inset:"inset 0 1px 0 rgba(208,215,222,0.2)"}},scale:{black:"#1b1f24",white:"#ffffff",gray:["#f6f8fa","#eaeef2","#d0d7de","#afb8c1","#8c959f","#6e7781","#57606a","#424a53","#32383f","#24292f"],blue:["#ddf4ff","#b6e3ff","#80ccff","#54aeff","#218bff","#0969da","#0550ae","#033d8b","#0a3069","#002155"],green:["#ddf4ff","#b6e3ff","#80ccff","#54aeff","#218bff","#0969da","#0550ae","#033d8b","#0a3069","#002155"],yellow:["#fff8c5","#fae17d","#eac54f","#d4a72c","#bf8700","#9a6700","#7d4e00","#633c01","#4d2d00","#3b2300"],orange:["#ffebe9","#ffcecb","#ffaba8","#ff8182","#fa4549","#cf222e","#a40e26","#82071e","#660018","#4c0014"],red:["#ffebe9","#ffcecb","#ffaba8","#ff8182","#fa4549","#cf222e","#a40e26","#82071e","#660018","#4c0014"],purple:["#fbefff","#ecd8ff","#d8b9ff","#c297ff","#a475f9","#8250df","#6639ba","#512a97","#3e1f79","#2e1461"],pink:["#ffeff7","#ffd3eb","#ffadda","#ff80c8","#e85aad","#bf3989","#99286e","#772057","#611347","#4d0336"],coral:["#fff0eb","#ffd6cc","#ffb4a1","#fd8c73","#ec6547","#c4432b","#9e2f1c","#801f0f","#691105","#510901"]}}},6014:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(89751)),r=s(n(11863)),o=s(n(51764));t.default={colors:i.default,spacing:r.default,typography:o.default}},11863:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(35641));t.default={normal:i.default}},35641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={spacer:["0","4px","8px","16px","24px","32px","40px"]}},51764:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(62225));t.default={normal:i.default}},62225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fontSize:["12px","14px","16px","20px","24px","32px","40px","48px"],lineHeight:{condensedUltra:1,condensed:1.25,default:1.5}}},6889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(19521),i=n(16678),r=n(37947);n(9996);var o=e=>(0,r.default)(e.sx);var a=s.default.div.withConfig({displayName:"Box",componentId:"sc-g0xbh4-0"})(i.space,i.color,i.typography,i.layout,i.flexbox,i.grid,i.background,i.border,i.position,i.shadow,o)},44547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{compose:()=>g,createParser:()=>u,createStyleFunction:()=>p,get:()=>c,merge:()=>r,system:()=>f});var s=n(27418),i=n.n(s),r=function(e,t){var n=i()({},e,t);for(var s in e){var r;e[s]&&"object"==typeof t[s]&&i()(n,((r={})[s]=i()(e[s],t[s]),r))}return n},o={breakpoints:[40,52,64].map((function(e){return e+"em"}))},a=function(e){return"@media screen and (min-width: "+e+")"},l=function(e,t){return c(t,e,e)},c=function(e,t,n,s,i){for(t=t&&t.split?t.split("."):[t],s=0;s<t.length;s++)e=e?e[t[s]]:i;return e===i?n:e},u=function e(t){var n={},s=function(e){var s,l,u={},p=!1,f=e.theme&&e.theme.disableStyledSystemCache;for(var g in e)if(t[g]){var m=t[g],_=e[g],v=c(e.theme,m.scale,m.defaults);if("object"!=typeof _)i()(u,m(_,v,e));else{if(n.breakpoints=!f&&n.breakpoints||c(e.theme,"breakpoints",o.breakpoints),Array.isArray(_)){n.media=!f&&n.media||[null].concat(n.breakpoints.map(a)),u=r(u,h(n.media,m,v,_,e));continue}null!==_&&(u=r(u,d(n.breakpoints,m,v,_,e)),p=!0)}}return p&&(s=u,l={},Object.keys(s).sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(e){l[e]=s[e]})),u=l),u};s.config=t,s.propNames=Object.keys(t),s.cache=n;var l=Object.keys(t).filter((function(e){return"config"!==e}));return l.length>1&&l.forEach((function(n){var i;s[n]=e(((i={})[n]=t[n],i))})),s},h=function(e,t,n,s,r){var o={};return s.slice(0,e.length).forEach((function(s,a){var l,c=e[a],u=t(s,n,r);c?i()(o,((l={})[c]=i()({},o[c],u),l)):i()(o,u)})),o},d=function(e,t,n,s,r){var o={};for(var l in s){var c=e[l],u=t(s[l],n,r);if(c){var h,d=a(c);i()(o,((h={})[d]=i()({},o[d],u),h))}else i()(o,u)}return o},p=function(e){var t=e.properties,n=e.property,s=e.scale,i=e.transform,r=void 0===i?l:i,o=e.defaultScale;t=t||[n];var a=function(e,n,s){var i={},o=r(e,n,s);if(null!==o)return t.forEach((function(e){i[e]=o})),i};return a.scale=s,a.defaults=o,a},f=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var s=e[n];t[n]=!0!==s?"function"!=typeof s?p(s):s:p({property:n,scale:n})})),u(t)},g=function(){for(var e={},t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return n.forEach((function(t){t&&t.config&&i()(e,t.config)})),u(e)}},37947:(e,t,n)=>{"use strict";function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s.apply(this,arguments)}n.r(t),n.d(t,{css:()=>p,default:()=>f,get:()=>i,responsive:()=>d});var i=function(e,t,n,s,i){for(t=t&&t.split?t.split("."):[t],s=0;s<t.length;s++)e=e?e[t[s]]:i;return e===i?n:e},r=[40,52,64].map((function(e){return e+"em"})),o={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},a={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},l={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},c={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},u=function(e,t){if("number"!=typeof t||t>=0)return i(e,t,t);var n=Math.abs(t),s=i(e,n,n);return"string"==typeof s?"-"+s:-1*s},h=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce((function(e,t){var n;return s({},e,((n={})[t]=u,n))}),{}),d=function(e){return function(t){var n={},s=i(t,"breakpoints",r),o=[null].concat(s.map((function(e){return"@media screen and (min-width: "+e+")"})));for(var a in e){var l="function"==typeof e[a]?e[a](t):e[a];if(null!=l)if(Array.isArray(l))for(var c=0;c<l.slice(0,o.length).length;c++){var u=o[c];u?(n[u]=n[u]||{},null!=l[c]&&(n[u][a]=l[c])):n[a]=l[c]}else n[a]=l}return n}},p=function e(t){return function(n){void 0===n&&(n={});var r=s({},o,{},n.theme||n),u={},p="function"==typeof t?t(r):t,f=d(p)(r);for(var g in f){var m=f[g],_="function"==typeof m?m(r):m;if("variant"!==g)if(_&&"object"==typeof _)u[g]=e(_)(r);else{var v=i(a,g,g),b=i(c,v),y=i(r,b,i(r,v,{})),w=i(h,v,i)(y,_,_);if(l[v])for(var x=l[v],S=0;S<x.length;S++)u[x[S]]=w;else u[v]=w}else u=s({},u,{},e(i(r,_))(r))}return u}};const f=p},1581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const s=n(27159),i=n(93924),r=n(1240),o=n(98),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends s.default{_addVocabularies(){super._addVocabularies(),i.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(r.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(74815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var h=n(93487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var d=n(67426);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=n(6646);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},57023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=s;class i extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof s&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function r(e,...t){const n=[e[0]];let s=0;for(;s<t.length;)l(n,t[s]),n.push(e[++s]);return new i(n)}t._Code=i,t.nil=new i(""),t._=r;const o=new i("+");function a(e,...t){const n=[u(e[0])];let s=0;for(;s<t.length;)n.push(o),l(n,t[s]),n.push(o,u(e[++s]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new i(n)}function l(e,t){var n;t instanceof i?e.push(...t._items):t instanceof s?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof s||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof s?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):r`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new i(e.toString())}},93487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const s=n(57023),i=n(98490);var r=n(57023);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var o=n(98490);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?i.varKinds.var:this.varKind,s=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=P(this.rhs,e,t)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof s.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=P(this.rhs,e,t),this}get names(){return D(this.lhs instanceof s.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,s){super(e,n,s),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=P(this.code,e,t),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class g extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let s=n.length;for(;s--;){const i=n[s];i.optimizeNames(e,t)||(A(e,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>T(e,t.names)),{})}}class m extends g{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class _ extends g{}class v extends m{}v.kind="else";class b extends m{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=P(this.condition,e,t),this}get names(){const e=super.names;return D(e,this.condition),this.else&&T(e,this.else.names),e}}b.kind="if";class y extends m{}y.kind="for";class w extends y{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=P(this.iteration,e,t),this}get names(){return T(super.names,this.iteration.names)}}class x extends y{constructor(e,t,n,s){super(),this.varKind=e,this.name=t,this.from=n,this.to=s}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:s,to:r}=this;return`for(${t} ${n}=${s}; ${n}<${r}; ${n}++)`+super.render(e)}get names(){const e=D(super.names,this.from);return D(e,this.to)}}class S extends y{constructor(e,t,n,s){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=P(this.iterable,e,t),this}get names(){return T(super.names,this.iterable.names)}}class C extends m{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class k extends g{render(e){return"return "+super.render(e)}}k.kind="return";class E extends m{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,s;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(s=this.finally)||void 0===s||s.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&T(e,this.catch.names),this.finally&&T(e,this.finally.names),e}}class O extends m{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class M extends m{render(e){return"finally"+super.render(e)}}M.kind="finally";function T(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function D(e,t){return t instanceof s._CodeOrName?T(e,t.names):e}function P(e,t,n){return e instanceof s.Name?r(e):(i=e)instanceof s._Code&&i._items.some((e=>e instanceof s.Name&&1===t[e.str]&&void 0!==n[e.str]))?new s._Code(e._items.reduce(((e,t)=>(t instanceof s.Name&&(t=r(t)),t instanceof s._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function r(e){const s=n[e.str];return void 0===s||1!==t[e.str]?e:(delete t[e.str],s)}}function A(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:s._`!${L(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,s){const i=this._scope.toName(t);return void 0!==n&&s&&(this._constants[i.str]=n),this._leafNode(new l(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==s.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,i]of e)t.length>1&&t.push(","),t.push(n),(n!==i||this.opts.es5)&&(t.push(":"),(0,s.addCodeArg)(t,i));return t.push("}"),new s._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,n,s,r=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const o=this._scope.toName(e);return this._for(new x(r,o,t,n),(()=>s(o)))}forOf(e,t,n,r=i.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof s.Name?t:this.var("_arr",t);return this.forRange("_i",0,s._`${e}.length`,(t=>{this.var(o,s._`${e}[${t}]`),n(o)}))}return this._for(new S("of",r,o,t),(()=>n(o)))}forIn(e,t,n,r=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,s._`Object.keys(${t})`,n);const o=this._scope.toName(e);return this._for(new S("in",r,o,t),(()=>n(o)))}endFor(){return this._endBlockNode(y)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new k;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const s=new E;if(this._blockNode(s),this.code(e),t){const e=this.name("e");this._currNode=s.catch=new O(e),t(e)}return n&&(this._currNode=s.finally=new M,this.code(n)),this._endBlockNode(O,M)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=s.nil,n,i){return this._blockNode(new C(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const j=N(t.operators.AND);t.and=function(...e){return e.reduce(j)};const I=N(t.operators.OR);function N(e){return(t,n)=>t===s.nil?n:n===s.nil?t:s._`${L(t)} ${e} ${L(n)}`}function L(e){return e instanceof s.Name?e:s._`(${e})`}t.or=function(...e){return e.reduce(I)}},98490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const s=n(57023);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var r;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof s.Name?e:this.name(e)}name(e){return new s.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class a extends s.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=s._`.${new s.Name(t)}[${n}]`}}t.ValueScopeName=a;const l=s._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:s.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const s=this.toName(e),{prefix:i}=s,r=null!==(n=t.key)&&void 0!==n?n:t.ref;let o=this._values[i];if(o){const e=o.get(r);if(e)return e}else o=this._values[i]=new Map;o.set(r,s);const a=this._scope[i]||(this._scope[i]=[]),l=a.length;return a[l]=t.ref,s.setValue(t,{property:i,itemIndex:l}),s}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return s._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,o={},a){let l=s.nil;for(const c in e){const u=e[c];if(!u)continue;const h=o[c]=o[c]||new Map;u.forEach((e=>{if(h.has(e))return;h.set(e,r.Started);let o=n(e);if(o){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=s._`${l}${n} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==a?void 0:a(e)))throw new i(e);l=s._`${l}${o}${this.opts._n}`}h.set(e,r.Completed)}))}return l}}},4181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const s=n(93487),i=n(76776),r=n(22141);function o(e,t){const n=e.const("err",t);e.if(s._`${r.default.vErrors} === null`,(()=>e.assign(r.default.vErrors,s._`[${n}]`)),s._`${r.default.vErrors}.push(${n})`),e.code(s._`${r.default.errors}++`)}function a(e,t){const{gen:n,validateName:i,schemaEnv:r}=e;r.$async?n.throw(s._`new ${e.ValidationError}(${t})`):(n.assign(s._`${i}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>s.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?s.str`"${e}" keyword must be ${t} ($data)`:s.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,i,r){const{it:l}=e,{gen:u,compositeRule:h,allErrors:d}=l,p=c(e,n,i);(null!=r?r:h||d)?o(u,p):a(l,s._`[${p}]`)},t.reportExtraError=function(e,n=t.keywordError,s){const{it:i}=e,{gen:l,compositeRule:u,allErrors:h}=i;o(l,c(e,n,s)),u||h||a(i,r.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(r.default.errors,t),e.if(s._`${r.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(s._`${r.default.vErrors}.length`,t)),(()=>e.assign(r.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:i,errsCount:o,it:a}){if(void 0===o)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",o,r.default.errors,(o=>{e.const(l,s._`${r.default.vErrors}[${o}]`),e.if(s._`${l}.instancePath === undefined`,(()=>e.assign(s._`${l}.instancePath`,(0,s.strConcat)(r.default.instancePath,a.errorPath)))),e.assign(s._`${l}.schemaPath`,s.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(s._`${l}.schema`,n),e.assign(s._`${l}.data`,i))}))};const l={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function c(e,t,n){const{createErrors:i}=e.it;return!1===i?s._`{}`:function(e,t,n={}){const{gen:i,it:o}=e,a=[u(o,n),h(e,n)];return function(e,{params:t,message:n},i){const{keyword:o,data:a,schemaValue:c,it:u}=e,{opts:h,propertyName:d,topSchemaRef:p,schemaPath:f}=u;i.push([l.keyword,o],[l.params,"function"==typeof t?t(e):t||s._`{}`]),h.messages&&i.push([l.message,"function"==typeof n?n(e):n]);h.verbose&&i.push([l.schema,c],[l.parentSchema,s._`${p}${f}`],[r.default.data,a]);d&&i.push([l.propertyName,d])}(e,t,a),i.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?s.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[r.default.instancePath,(0,s.strConcat)(r.default.instancePath,n)]}function h({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:r}){let o=r?t:s.str`${t}/${e}`;return n&&(o=s.str`${o}${(0,i.getErrorPath)(n,i.Type.Str)}`),[l.schemaPath,o]}},25173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const s=n(93487),i=n(67426),r=n(22141),o=n(32531),a=n(76776),l=n(74815);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,o.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=d.call(this,e);if(t)return t;const n=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,h=new s.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let p;e.$async&&(p=h.scopeValue("Error",{ref:i.default,code:s._`require("ajv/dist/runtime/validation_error").default`}));const f=h.scopeName("validate");e.validateName=f;const g={gen:h,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,s.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:s.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:s._`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,l.validateFunctionCode)(g),h.optimize(this.opts.code.optimize);const t=h.toString();m=`${h.scopeRefs(r.default.scope)}return ${t}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const n=new Function(`${r.default.self}`,`${r.default.scope}`,m)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){const{props:e,items:t}=g;n.evaluated={props:e instanceof s.Name?void 0:e,items:t instanceof s.Name?void 0:t,dynamicProps:e instanceof s.Name,dynamicItems:t instanceof s.Name},n.source&&(n.source.evaluated=(0,s.stringify)(n.evaluated))}return e.validate=n,e}catch(_){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),_}finally{this._compilations.delete(e)}}function h(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function d(e){for(const s of this._compilations)if(n=e,(t=s).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return s;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),s=(0,o._getFullPath)(this.opts.uriResolver,n);let i=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===i)return m.call(this,n,e);const r=(0,o.normalizeId)(s),a=this.refs[r]||this.schemas[r];if("string"==typeof a){const t=f.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return m.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),r===(0,o.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,s=t[n];return s&&(i=(0,o.resolveUrl)(this.opts.uriResolver,i,s)),new c({schema:t,schemaId:n,root:e,baseId:i})}return m.call(this,n,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var s;n=(0,o.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let r=p.call(this,e,n);if(void 0===r){const i=null===(s=e.localRefs)||void 0===s?void 0:s[n],{schemaId:o}=this.opts;i&&(r=new c({schema:i,schemaId:o,root:e,baseId:t}))}return void 0!==r?e.refs[n]=h.call(this,r):void 0},t.getCompilingSchema=d,t.resolveSchema=f;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(e,{baseId:t,schema:n,root:s}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const c of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(c)];if(void 0===e)return;const s="object"==typeof(n=e)&&n[this.opts.schemaId];!g.has(c)&&s&&(t=(0,o.resolveUrl)(this.opts.uriResolver,t,s))}let r;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,o.resolveUrl)(this.opts.uriResolver,t,n.$ref);r=f.call(this,s,e)}const{schemaId:l}=this.opts;return r=r||new c({schema:n,schemaId:l,root:s,baseId:t}),r.schema!==r.root.schema?r:void 0}},22141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i={data:new s.Name("data"),valCxt:new s.Name("valCxt"),instancePath:new s.Name("instancePath"),parentData:new s.Name("parentData"),parentDataProperty:new s.Name("parentDataProperty"),rootData:new s.Name("rootData"),dynamicAnchors:new s.Name("dynamicAnchors"),vErrors:new s.Name("vErrors"),errors:new s.Name("errors"),this:new s.Name("this"),self:new s.Name("self"),scope:new s.Name("scope"),json:new s.Name("json"),jsonPos:new s.Name("jsonPos"),jsonLen:new s.Name("jsonLen"),jsonPart:new s.Name("jsonPart")};t.default=i},6646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(32531);class i extends Error{constructor(e,t,n,i){super(i||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,s.resolveUrl)(e,t,n),this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(e,this.missingRef))}}t.default=i},32531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const s=n(76776),i=n(64063),r=n(49461),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!o.has(n)&&("object"==typeof e[n]&&(0,s.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=p(t));const s=e.parse(t);return h(e,s)}function h(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=h;const d=/#\/?$/;function p(e){return e?e.replace(d,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:s}=this.opts,o=p(e[n]||t),a={"":o},l=u(s,o,!1),c={},h=new Set;return r(e,{allKeys:!0},((e,t,s,i)=>{if(void 0===i)return;const r=l+t;let o=a[i];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(o?n(o,t):t),h.has(t))throw g(t);h.add(t);let s=this.refs[t];return"string"==typeof s&&(s=this.refs[s]),"object"==typeof s?d(e,s.schema,t):t!==p(r)&&("#"===t[0]?(d(e,c[t],t),c[t]=e):this.refs[t]=r),t}function m(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(o=u.call(this,e[n])),m.call(this,e.$anchor),m.call(this,e.$dynamicAnchor),a[t]=o})),c;function d(e,t,n){if(void 0!==t&&!i(e,t))throw g(n)}function g(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},13141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},76776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const s=n(93487),i=n(57023);function r(e,t=e.schema){const{opts:n,self:s}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const i=s.RULES.keywords;for(const r in t)i[r]||f(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:i}){return(r,o,a,l)=>{const c=void 0===a?o:a instanceof s.Name?(o instanceof s.Name?e(r,o,a):t(r,o,a),a):o instanceof s.Name?(t(r,a,o),o):n(o,a);return l!==s.Name||c instanceof s.Name?c:i(r,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",s._`{}`);return void 0!==t&&h(e,n,t),n}function h(e,t,n){Object.keys(n).forEach((n=>e.assign(s._`${t}${(0,s.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(r(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=r,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,i,r){if(!r){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return s._`${n}`}return s._`${e}${t}${(0,s.getProperty)(i)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(s._`${n} !== true && ${t} !== undefined`,(()=>{e.if(s._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,s._`${n} || {}`).code(s._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(s._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,s._`${n} || {}`),h(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(s._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,s._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(s._`${n} !== true`,(()=>e.assign(n,!0===t||s._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=h;const d={};var p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof s.Name){const i=t===p.Num;return n?i?s._`"[" + ${e} + "]"`:s._`"['" + ${e} + "']"`:i?s._`"/" + ${e}`:s._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,s.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=f},58876:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>s(e,t)))}function s(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},s){const i=t.RULES.types[s];return i&&!0!==i&&n(e,i)},t.shouldUseGroup=n,t.shouldUseRule=s},55667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const s=n(4181),i=n(93487),r=n(22141),o={message:"boolean schema is false"};function a(e,t){const{gen:n,data:i}=e,r={gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,s.reportError)(r,o,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:s}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(r.default.data):(t.assign(i._`${s}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:s}=e;!1===s?(n.var(t,!1),a(e)):n.var(t,!0)}},50453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const s=n(13141),i=n(58876),r=n(4181),o=n(93487),a=n(76776);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(s.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:s,opts:r}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,r.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(c){const i=d(t,s,r.strictNumbers,l.Wrong);n.if(i,(()=>{a.length?function(e,t,n){const{gen:s,data:i,opts:r}=e,a=s.let("dataType",o._`typeof ${i}`),l=s.let("coerced",o._`undefined`);"array"===r.coerceTypes&&s.if(o._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>s.assign(i,o._`${i}[0]`).assign(a,o._`typeof ${i}`).if(d(t,i,r.strictNumbers),(()=>s.assign(l,i)))));s.if(o._`${l} !== undefined`);for(const o of n)(u.has(o)||"array"===o&&"array"===r.coerceTypes)&&c(o);function c(e){switch(e){case"string":return void s.elseIf(o._`${a} == "number" || ${a} == "boolean"`).assign(l,o._`"" + ${i}`).elseIf(o._`${i} === null`).assign(l,o._`""`);case"number":return void s.elseIf(o._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(l,o._`+${i}`);case"integer":return void s.elseIf(o._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,o._`+${i}`);case"boolean":return void s.elseIf(o._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf(o._`${i} === "true" || ${i} === 1`).assign(l,!0);case"null":return s.elseIf(o._`${i} === "" || ${i} === 0 || ${i} === false`),void s.assign(l,null);case"array":s.elseIf(o._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(l,o._`[${i}]`)}}s.else(),f(e),s.endIf(),s.if(o._`${l} !== undefined`,(()=>{s.assign(i,l),function({gen:e,parentData:t,parentDataProperty:n},s){e.if(o._`${t} !== undefined`,(()=>e.assign(o._`${t}[${n}]`,s)))}(e,l)}))}(e,t,a):f(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function h(e,t,n,s=l.Correct){const i=s===l.Correct?o.operators.EQ:o.operators.NEQ;let r;switch(e){case"null":return o._`${t} ${i} null`;case"array":r=o._`Array.isArray(${t})`;break;case"object":r=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":r=a(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":r=a();break;default:return o._`typeof ${t} ${i} ${e}`}return s===l.Correct?r:(0,o.not)(r);function a(e=o.nil){return(0,o.and)(o._`typeof ${t} == "number"`,e,n?o._`isFinite(${t})`:o.nil)}}function d(e,t,n,s){if(1===e.length)return h(e[0],t,n,s);let i;const r=(0,a.toHash)(e);if(r.array&&r.object){const e=o._`typeof ${t} != "object"`;i=r.null?e:o._`!${t} || ${e}`,delete r.null,delete r.array,delete r.object}else i=o.nil;r.number&&delete r.integer;for(const a in r)i=(0,o.and)(i,h(a,t,n,s));return i}t.checkDataType=h,t.checkDataTypes=d;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:s}=e,i=(0,a.schemaRefOrVal)(e,s,"type");return{gen:t,keyword:"type",data:n,schema:s.type,schemaCode:i,schemaValue:i,parentSchema:s,params:{},it:e}}(e);(0,r.reportError)(t,p)}t.reportTypeError=f},90313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const s=n(93487),i=n(76776);function r(e,t,n){const{gen:r,compositeRule:o,data:a,opts:l}=e;if(void 0===n)return;const c=s._`${a}${(0,s.getProperty)(t)}`;if(o)return void(0,i.checkStrictMode)(e,`default is ignored for: ${c}`);let u=s._`${c} === undefined`;"empty"===l.useDefaults&&(u=s._`${u} || ${c} === null || ${c} === ""`),r.if(u,s._`${c} = ${(0,s.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:s}=e.schema;if("object"===t&&n)for(const i in n)r(e,i,n[i].default);else"array"===t&&Array.isArray(s)&&s.forEach(((t,n)=>r(e,n,t.default)))}},74815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const s=n(55667),i=n(50453),r=n(58876),o=n(50453),a=n(90313),l=n(95005),c=n(13099),u=n(93487),h=n(22141),d=n(32531),p=n(76776),f=n(4181);function g({gen:e,validateName:t,schema:n,schemaEnv:s,opts:i},r){i.code.es5?e.func(t,u._`${h.default.data}, ${h.default.valCxt}`,s.$async,(()=>{e.code(u._`"use strict"; ${m(n,i)}`),function(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,u._`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,u._`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,u._`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,u._`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,u._`""`),e.var(h.default.parentData,u._`undefined`),e.var(h.default.parentDataProperty,u._`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`{}`)}))}(e,i),e.code(r)})):e.func(t,u._`${h.default.data}, ${function(e){return u._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?u._`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}(i)}`,s.$async,(()=>e.code(m(n,i)).code(r)))}function m(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function _(e,t){b(e)&&(y(e),v(e))?function(e,t){const{schema:n,gen:s,opts:i}=e;i.$comment&&n.$comment&&x(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const r=s.const("_errs",h.default.errors);w(e,r),s.var(t,u._`${r} === ${h.default.errors}`)}(e,t):(0,s.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function y(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:s,self:i}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function w(e,t){if(e.opts.jtd)return S(e,[],!1,t);const n=(0,i.getSchemaTypes)(e.schema);S(e,n,!(0,i.coerceAndCheckDataType)(e,n),t)}function x({gen:e,schemaEnv:t,schema:n,errSchemaPath:s,opts:i}){const r=n.$comment;if(!0===i.$comment)e.code(u._`${h.default.self}.logger.log(${r})`);else if("function"==typeof i.$comment){const n=u.str`${s}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(u._`${h.default.self}.opts.$comment(${r}, ${n}, ${i}.schema)`)}}function S(e,t,n,s){const{gen:i,schema:a,data:l,allErrors:c,opts:d,self:f}=e,{RULES:g}=f;function m(p){(0,r.shouldUseGroup)(a,p)&&(p.type?(i.if((0,o.checkDataType)(p.type,l,d.strictNumbers)),C(e,p),1===t.length&&t[0]===p.type&&n&&(i.else(),(0,o.reportTypeError)(e)),i.endIf()):C(e,p),c||i.if(u._`${h.default.errors} === ${s||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,g)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{E(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const s of e.dataTypes)E(t,s)?n.push(s):t.includes("integer")&&"number"===s&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const s in n){const i=n[s];if("object"==typeof i&&(0,r.shouldUseRule)(e.schema,i)){const{type:n}=i.definition;n.length&&!n.some((e=>k(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${s}"`)}}}(e,e.dataTypes)}(e,t),i.block((()=>{for(const e of g.rules)m(e);m(g.post)}))):i.block((()=>T(e,"$ref",g.all.$ref.definition)))}function C(e,t){const{gen:n,schema:s,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,r.shouldUseRule)(s,n)&&T(e,n.keyword,n.definition,t.type)}))}function k(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function E(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(y(e),v(e))?function(e){const{schema:t,opts:n,gen:s}=e;g(e,(()=>{n.$comment&&t.$comment&&x(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),s.let(h.default.vErrors,null),s.let(h.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:n,validateName:s,ValidationError:i,opts:r}=e;n.$async?t.if(u._`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw(u._`new ${i}(${h.default.vErrors})`))):(t.assign(u._`${s}.errors`,h.default.vErrors),r.unevaluated&&function({gen:e,evaluated:t,props:n,items:s}){n instanceof u.Name&&e.assign(u._`${t}.props`,n);s instanceof u.Name&&e.assign(u._`${t}.items`,s)}(e),t.return(u._`${h.default.errors} === 0`))}(e)}))}(e):g(e,(()=>(0,s.topBoolOrEmptySchema)(e)))};class M{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",A(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:r}=this;n.if((0,u.or)(u._`${s} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(i.length||r.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:s,it:i}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,o.checkDataTypes)(e,t,i.opts.strictNumbers,o.DataType.Wrong)}`}return u.nil}(),function(){if(s.validateSchema){const n=e.scopeValue("validate$data",{ref:s.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const s={...this.it,...n,items:void 0,props:void 0};return _(s,t),s}mergeEvaluated(e,t){const{it:n,gen:s}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(s,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(s,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return s.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function T(e,t,n,s){const i=new M(e,n,t);"code"in n?n.code(i,s):i.$data&&n.validate?(0,l.funcKeywordCode)(i,n):"macro"in n?(0,l.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(i,n)}t.KeywordCxt=M;const D=/^\/(?:[^~]|~0|~1)*$/,P=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function A(e,{dataLevel:t,dataNames:n,dataPathArr:s}){let i,r;if(""===e)return h.default.rootData;if("/"===e[0]){if(!D.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,r=h.default.rootData}else{const o=P.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+o[1];if(i=o[2],"#"===i){if(a>=t)throw new Error(l("property/index",a));return s[t-a]}if(a>t)throw new Error(l("data",a));if(r=n[t-a],!i)return r}let o=r;const a=i.split("/");for(const c of a)c&&(r=u._`${r}${(0,u.getProperty)((0,p.unescapeJsonPointer)(c))}`,o=u._`${o} && ${r}`);return o;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=A},95005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const s=n(93487),i=n(22141),r=n(57376),o=n(4181);function a(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,(()=>t.assign(n,s._`${i.parentData}[${i.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,s.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:i,schema:r,parentSchema:o,it:a}=e,c=t.macro.call(a.self,r,o,a),u=l(n,i,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const h=n.name("valid");e.subschema({schema:c,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},h),e.pass(h,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:h,parentSchema:d,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const g=!p&&t.compile?t.compile.call(f.self,h,d,f):t.validate,m=l(c,u,g),_=c.let("valid");function v(n=(t.async?s._`await `:s.nil)){const o=f.opts.passContext?i.default.this:i.default.self,a=!("compile"in t&&!p||!1===t.schema);c.assign(_,s._`${n}${(0,r.callValidateCode)(e,m,o,a)}`,t.modifying)}function b(e){var n;c.if((0,s.not)(null!==(n=t.valid)&&void 0!==n?n:_),e)}e.block$data(_,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>v(s._`await `)),(t=>c.assign(_,!1).if(s._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,s._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=s._`${m}.errors`;return c.assign(e,null),v(s.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(s._`Array.isArray(${t})`,(()=>{n.assign(i.default.vErrors,s._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,s._`${i.default.vErrors}.length`),(0,o.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:_)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:s},i,r){if(Array.isArray(i.keyword)?!i.keyword.includes(r):i.keyword!==r)throw new Error("ajv implementation error");const o=i.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${r}: ${o.join(",")}`);if(i.validateSchema){if(!i.validateSchema(e[r])){const e=`keyword "${r}" value is invalid at path "${s}": `+n.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},13099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const s=n(93487),i=n(76776);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:r,schemaPath:o,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==r)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const r=e.schema[t];return void 0===n?{schema:r,schemaPath:s._`${e.schemaPath}${(0,s.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:r[n],schemaPath:s._`${e.schemaPath}${(0,s.getProperty)(t)}${(0,s.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(n)}`}}if(void 0!==r){if(void 0===o||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:o,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:r,data:o,dataTypes:a,propertyName:l}){if(void 0!==o&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:o,dataPathArr:a,opts:l}=t;u(c.let("data",s._`${t.data}${(0,s.getProperty)(n)}`,!0)),e.errorPath=s.str`${o}${(0,i.getErrorPath)(n,r,l.jsPropertySyntax)}`,e.parentDataProperty=s._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==o){u(o instanceof s.Name?o:c.let("data",o,!0)),void 0!==l&&(e.propertyName=l)}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:s,createErrors:i,allErrors:r}){void 0!==s&&(e.compositeRule=s),void 0!==i&&(e.createErrors=i),void 0!==r&&(e.allErrors=r),e.jtdDiscriminator=t,e.jtdMetadata=n}},27159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var s=n(74815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var i=n(93487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const r=n(67426),o=n(6646),a=n(13141),l=n(25173),c=n(93487),u=n(32531),h=n(50453),d=n(76776),p=n(64775),f=n(43589),g=(e,t)=>new RegExp(e,t);g.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function y(e){var t,n,s,i,r,o,a,l,c,u,h,d,p,m,_,v,b,y,w,x,S,C,k,E,O;const M=e.strict,T=null===(t=e.code)||void 0===t?void 0:t.optimize,D=!0===T||void 0===T?1:T||0,P=null!==(s=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==s?s:g,A=null!==(i=e.uriResolver)&&void 0!==i?i:f.default;return{strictSchema:null===(o=null!==(r=e.strictSchema)&&void 0!==r?r:M)||void 0===o||o,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:M)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:M)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(h=e.strictTuples)&&void 0!==h?h:M)&&void 0!==d?d:"log",strictRequired:null!==(m=null!==(p=e.strictRequired)&&void 0!==p?p:M)&&void 0!==m&&m,code:e.code?{...e.code,optimize:D,regExp:P}:{optimize:D,regExp:P},loopRequired:null!==(_=e.loopRequired)&&void 0!==_?_:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(y=e.messages)||void 0===y||y,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(C=e.validateSchema)||void 0===C||C,validateFormats:null===(k=e.validateFormats)||void 0===k||k,unicodeRegExp:null===(E=e.unicodeRegExp)||void 0===E||E,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:A}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...y(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:_,es5:t,lines:n}),this.logger=function(e){if(!1===e)return M;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),x.call(this,v,e,"NOT SUPPORTED"),x.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&E.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),C.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let s=p;"id"===n&&(s={...p},s.id=s.$id,delete s.$id),t&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const s=n(t);return"$async"in n||(this.errors=n.errors),s}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return s.call(this,e,t);async function s(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||r.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await s.call(this,{$ref:e},!0)}async function r(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),r.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,s);return this}let i;if("object"==typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,s,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(n,e);if(!s&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return s}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,s=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,s,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(D.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>P.call(this,e))),this;R.call(this,t);const s={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===s.type.length?e=>P.call(this,e,s):e=>s.type.forEach((t=>P.call(this,e,s,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const s of t){const t=s.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:s}=t.definition,r=i[e];s&&r&&(i[e]=I(r))}}return e}_removeAllSchemas(e,t){for(const n in e){const s=e[n];t&&!t.test(n)||("string"==typeof s?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,t,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let r;const{schemaId:o}=this.opts;if("object"==typeof e)r=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(r||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),s&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,n,s="error"){for(const i in e){const r=i;r in t&&this.logger[s](`${n}: option ${i}. ${e[r]}`)}}function S(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function k(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of m)delete e[t];return e}t.default=w,w.ValidationError=r.default,w.MissingRefError=o.default;const M={log(){},warn(){},error(){}};const T=/^[a-z_$][a-z0-9_$:-]*$/i;function D(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!T.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function P(e,t,n){var s;const i=null==t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:r}=this;let o=i?r.post:r.rules.find((({type:e})=>e===n));if(o||(o={type:n,rules:[]},r.rules.push(o)),r.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?A.call(this,o,a,t.before):o.rules.push(a),r.all[e]=a,null===(s=t.implements)||void 0===s||s.forEach((e=>this.addKeyword(e)))}function A(e,t,n){const s=e.rules.findIndex((e=>e.keyword===n));s>=0?e.rules.splice(s,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=I(t)),e.validateSchema=this.compile(t,!0))}const j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(e){return{anyOf:[e,j]}}},43510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(64063);s.code='require("ajv/dist/runtime/equal").default',t.default=s},74499:(e,t)=>{"use strict";function n(e){const t=e.length;let n,s=0,i=0;for(;i<t;)s++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320==(64512&n)&&i++);return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},43589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(60540);s.code='require("ajv/dist/runtime/uri").default',t.default=s},67426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},4783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const s=n(93487),i=n(76776),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>s.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>s._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:s}=t;Array.isArray(s)?o(e,s):(0,i.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:n,schema:r,data:o,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",s._`${o}.length`);if(!1===r)e.setParams({len:t.length}),e.pass(s._`${c} <= ${t.length}`);else if("object"==typeof r&&!(0,i.alwaysValidSchema)(l,r)){const r=n.var("valid",s._`${c} <= ${t.length}`);n.if((0,s.not)(r),(()=>function(r){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},r),l.allErrors||n.if((0,s.not)(r),(()=>n.break()))}))}(r))),e.ok(r)}}t.validateAdditionalItems=o,t.default=r},69351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(57376),i=n(93487),r=n(22141),o=n(76776),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,o.alwaysValidSchema)(u,n))return;const p=(0,s.allSchemaProperties)(a.properties),f=(0,s.allSchemaProperties)(a.patternProperties);function g(e){t.code(i._`delete ${l}[${e}]`)}function m(s){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)g(s);else{if(!1===n)return e.setParams({additionalProperty:s}),e.error(),void(h||t.break());if("object"==typeof n&&!(0,o.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===d.removeAdditional?(_(s,n,!1),t.if((0,i.not)(n),(()=>{e.reset(),g(s)}))):(_(s,n),h||t.if((0,i.not)(n),(()=>t.break())))}}}function _(t,n,s){const i={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===s&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",l,(n=>{p.length||f.length?t.if(function(n){let r;if(p.length>8){const e=(0,o.schemaRefOrVal)(u,a.properties,"properties");r=(0,s.isOwnProperty)(t,e,n)}else r=p.length?(0,i.or)(...p.map((e=>i._`${n} === ${e}`))):i.nil;return f.length&&(r=(0,i.or)(r,...f.map((t=>i._`${(0,s.usePattern)(e,t)}.test(${n})`)))),(0,i.not)(r)}(n),(()=>m(n))):m(n)})),e.ok(i._`${c} === ${r.default.errors}`)}};t.default=a},71125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(76776),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const r=t.name("valid");n.forEach(((t,n)=>{if((0,s.alwaysValidSchema)(i,t))return;const o=e.subschema({keyword:"allOf",schemaProp:n},r);e.ok(r),e.mergeEvaluated(o)}))}};t.default=i},50019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(57376).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=s},79864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?s.str`must contain at least ${e} valid item(s)`:s.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?s._`{minContains: ${e}}`:s._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:r,data:o,it:a}=e;let l,c;const{minContains:u,maxContains:h}=r;a.opts.next?(l=void 0===u?1:u,c=h):l=1;const d=t.const("len",s._`${o}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,i.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,i.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(a,n)){let t=s._`${d} >= ${l}`;return void 0!==c&&(t=s._`${t} && ${d} <= ${c}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);g(e,(()=>t.if(e,(()=>function(e){t.code(s._`${e}++`),void 0===c?t.if(s._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(s._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(s._`${e} >= ${l}`,(()=>t.assign(p,!0))))}(n)))))}function g(n,s){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),s()}))}void 0===c&&1===l?g(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(s._`${o}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=r},80150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const s=n(93487),i=n(76776),r=n(57376);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const i=1===t?"property":"properties";return s.str`must have ${i} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:i}})=>s._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${n}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const s in e){if("__proto__"===s)continue;(Array.isArray(e[s])?t:n)[s]=e[s]}return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:i,it:o}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,r.propertyInData)(n,i,l,o.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),o.allErrors?n.if(u,(()=>{for(const t of c)(0,r.checkReportMissingProp)(e,t)})):(n.if(s._`${u} && (${(0,r.checkMissingProp)(e,c,a)})`),(0,r.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:s,keyword:o,it:a}=e,l=n.name("valid");for(const c in t)(0,i.alwaysValidSchema)(a,t[c])||(n.if((0,r.propertyInData)(n,s,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=o},89434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>s.str`must match "${e.ifClause}" schema`,params:({params:e})=>s._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:r}=e;void 0===n.then&&void 0===n.else&&(0,i.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const a=o(r,"then"),l=o(r,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,h("then",n),h("else",n))}else a?t.if(u,h("then")):t.if((0,s.not)(u),h("else"));function h(n,i){return()=>{const r=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(r,c),i?t.assign(i,s._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function o(e,t){const n=e.schema[t];return void 0!==n&&!(0,i.alwaysValidSchema)(e,n)}t.default=r},8200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4783),i=n(72924),r=n(64665),o=n(1119),a=n(79864),l=n(80150),c=n(33708),u=n(69351),h=n(76239),d=n(12296),p=n(15697),f=n(50019),g=n(14200),m=n(71125),_=n(89434),v=n(66552);t.default=function(e=!1){const t=[p.default,f.default,g.default,m.default,_.default,v.default,c.default,u.default,l.default,h.default,d.default];return e?t.push(i.default,o.default):t.push(s.default,r.default),t.push(a.default),t}},64665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const s=n(93487),i=n(76776),r=n(57376),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,r.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:r,parentSchema:o,data:a,keyword:l,it:c}=e;!function(e){const{opts:s,errSchemaPath:r}=c,o=n.length,a=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(s.strictTuples&&!a){const e=`"${l}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${r}"`;(0,i.checkStrictMode)(c,e,s.strictTuples)}}(o),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=i.mergeEvaluated.items(r,n.length,c.items));const u=r.name("valid"),h=r.const("len",s._`${a}.length`);n.forEach(((t,n)=>{(0,i.alwaysValidSchema)(c,t)||(r.if(s._`${h} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=o},1119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r=n(57376),o=n(4783),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>s.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>s._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:s}=e,{prefixItems:a}=n;s.items=!0,(0,i.alwaysValidSchema)(s,t)||(a?(0,o.validateAdditionalItems)(e,a):e.ok((0,r.validateArray)(e)))}};t.default=a},15697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(76776),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if((0,s.alwaysValidSchema)(i,n))return void e.fail();const r=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),e.failResult(r,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=i},14200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>s._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:r,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(o.opts.discriminator&&r.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,r)=>{let a;(0,i.alwaysValidSchema)(o,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:r,compositeRule:!0},u),r>0&&t.if(s._`${u} && ${l}`).assign(l,!1).assign(c,s._`[${c}, ${r}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,r),a&&e.mergeEvaluated(a,s.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=r},12296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(57376),i=n(93487),r=n(76776),o=n(76776),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,h=(0,s.allSchemaProperties)(n),d=h.filter((e=>(0,r.alwaysValidSchema)(c,n[e])));if(0===h.length||d.length===h.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof i.Name||(c.props=(0,o.evaluatedPropsToName)(t,c.props));const{props:g}=c;function m(e){for(const t in p)new RegExp(e).test(t)&&(0,r.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function _(n){t.forIn("key",a,(r=>{t.if(i._`${(0,s.usePattern)(e,n)}.test(${r})`,(()=>{const s=d.includes(n);s||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:r,dataPropType:o.Type.Str},f),c.opts.unevaluated&&!0!==g?t.assign(i._`${g}[${r}]`,!0):s||c.allErrors||t.if((0,i.not)(f),(()=>t.break()))}))}))}!function(){for(const e of h)p&&m(e),c.allErrors?_(e):(t.var(f,!0),_(e),t.if(f))}()}};t.default=a},72924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(64665),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,s.validateTuple)(e,"items")};t.default=i},76239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74815),i=n(57376),r=n(76776),o=n(69351),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&o.default.code(new s.KeywordCxt(c,o.default,"additionalProperties"));const u=(0,i.allSchemaProperties)(n);for(const s of u)c.definedProperties.add(s);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=r.mergeEvaluated.props(t,(0,r.toHash)(u),c.props));const h=u.filter((e=>!(0,r.alwaysValidSchema)(c,n[e])));if(0===h.length)return;const d=t.name("valid");for(const s of h)p(s)?f(s):(t.if((0,i.propertyInData)(t,l,s,c.opts.ownProperties)),f(s),c.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(s),e.ok(d);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},33708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>s._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:r,it:o}=e;if((0,i.alwaysValidSchema)(o,n))return;const a=t.name("valid");t.forIn("key",r,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,s.not)(a),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(a)}};t.default=r},66552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(76776),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,s.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=i},57376:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const s=n(93487),i=n(76776),r=n(22141),o=n(76776);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:s._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return s._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,i){const r=s._`${t}${(0,s.getProperty)(n)} === undefined`;return i?(0,s.or)(r,(0,s.not)(l(e,t,n))):r}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:r}=e;n.if(c(n,i,t,r.opts.ownProperties),(()=>{e.setParams({missingProperty:s._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},i,r){return(0,s.or)(...i.map((i=>(0,s.and)(c(e,t,i,n.ownProperties),s._`${r} = ${i}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,i){const r=s._`${t}${(0,s.getProperty)(n)} !== undefined`;return i?s._`${r} && ${l(e,t,n)}`:r},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,i.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:i,schemaPath:o,errorPath:a},it:l},c,u,h){const d=h?s._`${e}, ${t}, ${i}${o}`:t,p=[[r.default.instancePath,(0,s.strConcat)(r.default.instancePath,a)],[r.default.parentData,l.parentData],[r.default.parentDataProperty,l.parentDataProperty],[r.default.rootData,r.default.rootData]];l.opts.dynamicRef&&p.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const f=s._`${d}, ${n.object(...p)}`;return u!==s.nil?s._`${c}.call(${u}, ${f})`:s._`${c}(${f})`};const h=s._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const i=t.unicodeRegExp?"u":"",{regExp:r}=t.code,a=r(n,i);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:s._`${"new RegExp"===r.code?h:(0,o.useFunc)(e,r)}(${n}, ${i})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:r,it:o}=e,a=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(o){const l=t.const("len",s._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:r,dataProp:n,dataPropType:i.Type.Num},a),t.if((0,s.not)(a),o)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:r,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,i.alwaysValidSchema)(o,e)))&&!o.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,i)=>{const o=e.subschema({keyword:r,schemaProp:i,compositeRule:!0},l);t.assign(a,s._`${a} || ${l}`);e.mergeValidEvaluated(o,l)||t.if((0,s.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},78386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},95684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(78386),i=n(28280),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",s.default,i.default];t.default=r},28280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const s=n(6646),i=n(57376),r=n(93487),o=n(22141),a=n(25173),l=n(76776),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:o,schemaEnv:l,validateName:c,opts:d,self:p}=i,{root:f}=l;if(("#"===n||"#/"===n)&&o===f.baseId)return function(){if(l===f)return h(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return h(e,r._`${n}.validate`,f,f.$async)}();const g=a.resolveRef.call(p,f,o,n);if(void 0===g)throw new s.default(i.opts.uriResolver,o,n);return g instanceof a.SchemaEnv?function(t){const n=u(e,t);h(e,n,t,t.$async)}(g):function(s){const i=t.scopeValue("schema",!0===d.code.source?{ref:s,code:(0,r.stringify)(s)}:{ref:s}),o=t.name("valid"),a=e.subschema({schema:s,dataTypes:[],schemaPath:r.nil,topSchemaRef:i,errSchemaPath:n},o);e.mergeEvaluated(a),e.ok(o)}(g)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):r._`${n.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,n,s){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:h,opts:d}=c,p=d.passContext?o.default.this:r.nil;function f(e){const t=r._`${e}.errors`;a.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),a.assign(o.default.errors,r._`${o.default.vErrors}.length`)}function g(e){var t;if(!c.opts.unevaluated)return;const s=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(s&&!s.dynamicProps)void 0!==s.props&&(c.props=l.mergeEvaluated.props(a,s.props,c.props));else{const t=a.var("props",r._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,r.Name)}if(!0!==c.items)if(s&&!s.dynamicItems)void 0!==s.items&&(c.items=l.mergeEvaluated.items(a,s.items,c.items));else{const t=a.var("items",r._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,r.Name)}}s?function(){if(!h.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(r._`await ${(0,i.callValidateCode)(e,t,p)}`),g(t),u||a.assign(n,!0)}),(e=>{a.if(r._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),f(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,i.callValidateCode)(e,t,p),(()=>g(t)),(()=>f(t)))}t.getValidate=u,t.callRef=h,t.default=c},1240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(89306),r=n(25173),o=n(76776),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>s._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=a.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),p=t.const("tag",s._`${n}${(0,s.getProperty)(h)}`);function f(n){const i=t.name("valid"),r=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(r,s.Name),i}t.if(s._`typeof ${p} == "string"`,(()=>function(){const n=function(){var e;const t={},n=i(l);let s=!0;for(let l=0;l<u.length;l++){let t=u[l];(null==t?void 0:t.$ref)&&!(0,o.schemaHasRulesButRef)(t,c.self.RULES)&&(t=r.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==t?void 0:t.$ref),t instanceof r.SchemaEnv&&(t=t.schema));const d=null===(e=null==t?void 0:t.properties)||void 0===e?void 0:e[h];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);s=s&&(n||i(t)),a(d,l)}if(!s)throw new Error(`discriminator: "${h}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(h)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(s._`${p} === ${e}`),t.assign(d,f(n[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:p,tagName:h}),t.endIf()}()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:p,tagName:h}))),e.ok(d)}};t.default=a},89306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},93924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(95684),i=n(62649),r=n(8200),o=n(39502),a=n(66167),l=[s.default,i.default,(0,r.default)(),o.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},89651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>s.str`must match format "${e}"`,params:({schemaCode:e})=>s._`{format: ${e}}`},code(e,t){const{gen:n,data:i,$data:r,schema:o,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:h,self:d}=l;c.validateFormats&&(r?function(){const r=n.scopeValue("formats",{ref:d.formats,code:c.code.formats}),o=n.const("fDef",s._`${r}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(s._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>n.assign(l,s._`${o}.type || "string"`).assign(u,s._`${o}.validate`)),(()=>n.assign(l,s._`"string"`).assign(u,o))),e.fail$data((0,s.or)(!1===c.strictSchema?s.nil:s._`${a} && !${u}`,function(){const e=h.$async?s._`(${o}.async ? await ${u}(${i}) : ${u}(${i}))`:s._`${u}(${i})`,n=s._`(typeof ${u} == "function" ? ${e} : ${u}.test(${i}))`;return s._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const r=d.formats[o];if(!r)return void function(){if(!1===c.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${u}"`}}();if(!0===r)return;const[a,l,p]=function(e){const t=e instanceof RegExp?(0,s.regexpCode)(e):c.code.formats?s._`${c.code.formats}${(0,s.getProperty)(o)}`:void 0,i=n.scopeValue("formats",{key:o,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,s._`${i}.validate`];return["string",e,i]}(r);a===t&&e.pass(function(){if("object"==typeof r&&!(r instanceof RegExp)&&r.async){if(!h.$async)throw new Error("async format in sync schema");return s._`await ${p}(${i})`}return"function"==typeof l?s._`${p}(${i})`:s._`${p}.test(${i})`}())}())}};t.default=i},39502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=[n(89651).default];t.default=s},66167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},64693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r=n(43510),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>s._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:o,schemaCode:a,schema:l}=e;o||l&&"object"==typeof l?e.fail$data(s._`!${(0,i.useFunc)(t,r.default)}(${n}, ${a})`):e.fail(s._`${l} !== ${n}`)}};t.default=o},30966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r=n(43510),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>s._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:o,schema:a,schemaCode:l,it:c}=e;if(!o&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let h;const d=()=>null!=h?h:h=(0,i.useFunc)(t,r.default);let p;if(u||o)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(s._`${d()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,s.or)(...a.map(((t,i)=>function(e,t){const i=a[t];return"object"==typeof i&&null!==i?s._`${d()}(${n}, ${e}[${t}])`:s._`${n} === ${i}`}(e,i))))}e.pass(p)}};t.default=o},62649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(83983),i=n(90430),r=n(93229),o=n(74336),a=n(90498),l=n(33301),c=n(31687),u=n(82958),h=n(64693),d=n(30966),p=[s.default,i.default,r.default,o.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default];t.default=p},31687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,r="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data(s._`${n}.length ${r} ${i}`)}};t.default=i},93229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=n(76776),r=n(74499),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o,it:a}=e,l="maxLength"===t?s.operators.GT:s.operators.LT,c=!1===a.opts.unicode?s._`${n}.length`:s._`${(0,i.useFunc)(e.gen,r.default)}(${n})`;e.fail$data(s._`${c} ${l} ${o}`)}};t.default=o},83983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i=s.operators,r={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},o={message:({keyword:e,schemaCode:t})=>s.str`must be ${r[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>s._`{comparison: ${r[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(s._`${n} ${r[t].fail} ${i} || isNaN(${n})`)}};t.default=a},90498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,r="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data(s._`Object.keys(${n}).length ${r} ${i}`)}};t.default=i},90430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93487),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>s.str`must be multiple of ${e}`,params:({schemaCode:e})=>s._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:i,it:r}=e,o=r.opts.multipleOfPrecision,a=t.let("res"),l=o?s._`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:s._`${a} !== parseInt(${a})`;e.fail$data(s._`(${i} === 0 || (${a} = ${n}/${i}, ${l}))`)}};t.default=i},74336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(57376),i=n(93487),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:r,schemaCode:o,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=n?i._`(new RegExp(${o}, ${l}))`:(0,s.usePattern)(e,r);e.fail$data(i._`!${c}.test(${t})`)}};t.default=r},33301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(57376),i=n(93487),r=n(76776),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:o,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const h=n.length>=u.loopRequired;if(c.allErrors?function(){if(h||l)e.block$data(i.nil,d);else for(const t of n)(0,s.checkReportMissingProp)(e,t)}():function(){const r=t.let("missing");if(h||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,r){e.setParams({missingProperty:n}),t.forOf(n,o,(()=>{t.assign(r,(0,s.propertyInData)(t,a,n,u.ownProperties)),t.if((0,i.not)(r),(()=>{e.error(),t.break()}))}),i.nil)}(r,n))),e.ok(n)}else t.if((0,s.checkMissingProp)(e,n,r)),(0,s.reportMissingProp)(e,r),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:s}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!s.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,r.checkStrictMode)(c,t,c.opts.strictRequired)}}function d(){t.forOf("prop",o,(n=>{e.setParams({missingProperty:n}),t.if((0,s.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=o},82958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(50453),i=n(93487),r=n(76776),o=n(43510),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:h}=e;if(!a&&!l)return;const d=t.let("valid"),p=c.items?(0,s.getSchemaTypes)(c.items):[];function f(r,o){const a=t.name("item"),l=(0,s.checkDataTypes)(p,a,h.opts.strictNumbers,s.DataType.Wrong),c=t.const("indices",i._`{}`);t.for(i._`;${r}--;`,(()=>{t.let(a,i._`${n}[${r}]`),t.if(l,i._`continue`),p.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(o,i._`${c}[${a}]`),e.error(),t.assign(d,!1).break()})).code(i._`${c}[${a}] = ${r}`)}))}function g(s,a){const l=(0,r.useFunc)(t,o.default),c=t.name("outer");t.label(c).for(i._`;${s}--;`,(()=>t.for(i._`${a} = ${s}; ${a}--;`,(()=>t.if(i._`${l}(${n}[${s}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(c)}))))))}e.block$data(d,(function(){const s=t.let("i",i._`${n}.length`),r=t.let("j");e.setParams({i:s,j:r}),t.assign(d,!0),t.if(i._`${s} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:g)(s,r)))}),i._`${u} === false`),e.ok(d)}};t.default=a},91262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n(67294);var s=n(72389),i=n(85893);function r(e){let{children:t,fallback:n}=e;return(0,s.default)()?(0,i.jsx)(i.Fragment,{children:t?.()}):n??null}},85162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(67294);var s=n(90512);const i={tabItem:"tabItem_Ymn6"};var r=n(85893);function o(e){let{children:t,hidden:n,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.default)(i.tabItem,o),hidden:n,children:t})}},74866:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var s=n(67294),i=n(90512),r=n(12466),o=n(16550),a=n(20469),l=n(91980),c=n(67392),u=n(50012);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:t,children:n}=e;return(0,s.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:s,default:i}}=e;return{value:t,label:n,attributes:s,default:i}}))}(n);return function(e){const t=(0,c.duplicates)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const i=(0,o.useHistory)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.useQueryStringValue)(r),(0,s.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(i.location.search);t.set(r,e),i.replace({...i.location,search:t.toString()})}),[r,i])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:i}=e,r=d(e),[o,l]=(0,s.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:t,tabValues:r}))),[c,h]=f({queryString:n,groupId:i}),[g,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[i,r]=(0,u.useStorageSlot)(n);return[i,(0,s.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:i}),_=(()=>{const e=c??g;return p({value:e,tabValues:r})?e:null})();(0,a.default)((()=>{_&&l(_)}),[_]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,r]),tabValues:r}}var m=n(72389);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(85893);function b(e){let{className:t,block:n,selectedValue:s,selectValue:o,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.useScrollPositionBlocker)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),i=a[n].value;i!==s&&(c(t),o(i))},h=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.default)("tabs",{"tabs--block":n},t),children:a.map((e=>{let{value:t,label:n,attributes:r}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,ref:e=>l.push(e),onKeyDown:h,onClick:u,...r,className:(0,i.default)("tabs__item",_.tabItem,r?.className,{"tabs__item--active":s===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:i}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function w(e){const t=g(e);return(0,v.jsxs)("div",{className:(0,i.default)("tabs-container",_.tabList),children:[(0,v.jsx)(b,{...e,...t}),(0,v.jsx)(y,{...e,...t})]})}function x(e){const t=(0,m.default)();return(0,v.jsx)(w,{...e,children:h(e.children)},String(t))}},72316:(e,t,n)=>{var s,i,r;r="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,s=[n(36005),n(19755),t],i=function(e,t,n){r.Backbone=function(e,t,n,s){var i=e.Backbone,r=Array.prototype.slice;t.VERSION="1.4.0",t.$=s,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o,a=t.Events={},l=/\s+/,c=function(e,t,s,i,r){var o,a=0;if(s&&"object"==typeof s){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(o=n.keys(s);a<o.length;a++)t=c(e,t,o[a],s[o[a]],r)}else if(s&&l.test(s))for(o=s.split(l);a<o.length;a++)t=e(t,o[a],i,r);else t=e(t,s,i,r);return t};a.on=function(e,t,n){return this._events=c(u,this._events||{},e,t,{context:n,ctx:this,listening:o}),o&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1),this},a.listenTo=function(e,t,s){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=o=r[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=o=r[i]=new m(this,e));var l=h(e,t,s,this);if(o=void 0,l)throw l;return a.interop&&a.on(t,s),this};var u=function(e,t,n,s){if(n){var i=e[t]||(e[t]=[]),r=s.context,o=s.ctx,a=s.listening;a&&a.count++,i.push({callback:n,context:r,ctx:r||o,listening:a})}return e},h=function(e,t,n,s){try{e.on(t,n,s)}catch(i){return i}};a.off=function(e,t,n){return this._events?(this._events=c(d,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,s){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:n.keys(i),o=0;o<r.length;o++){var a=i[r[o]];if(!a)break;a.obj.off(t,s,this),a.interop&&a.off(t,s)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var d=function(e,t,s,i){if(e){var r,o=i.context,a=i.listeners,l=0;if(t||o||s){for(r=t?[t]:n.keys(e);l<r.length;l++){var c=e[t=r[l]];if(!c)break;for(var u=[],h=0;h<c.length;h++){var d=c[h];if(s&&s!==d.callback&&s!==d.callback._callback||o&&o!==d.context)u.push(d);else{var p=d.listening;p&&p.off(t,s)}}u.length?e[t]=u:delete e[t]}return e}for(r=n.keys(a);l<r.length;l++)a[r[l]].cleanup()}};a.once=function(e,t,n){var s=c(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(s,t,n)},a.listenToOnce=function(e,t,n){var s=c(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,s)};var p=function(e,t,s,i){if(s){var r=e[t]=n.once((function(){i(t,r),s.apply(this,arguments)}));r._callback=s}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),s=0;s<t;s++)n[s]=arguments[s+1];return c(f,this._events,e,void 0,n),this};var f=function(e,t,n,s){if(e){var i=e[t],r=e.all;i&&r&&(r=r.slice()),i&&g(i,s),r&&g(r,[t].concat(s))}return e},g=function(e,t){var n,s=-1,i=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++s<i;)(n=e[s]).callback.call(n.ctx);return;case 1:for(;++s<i;)(n=e[s]).callback.call(n.ctx,r);return;case 2:for(;++s<i;)(n=e[s]).callback.call(n.ctx,r,o);return;case 3:for(;++s<i;)(n=e[s]).callback.call(n.ctx,r,o,a);return;default:for(;++s<i;)(n=e[s]).callback.apply(n.ctx,t);return}},m=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=a.on,m.prototype.off=function(e,t){var n;this.interop?(this._events=c(d,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var _=t.Model=function(e,t){var s=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(s=this.parse(s,t)||{});var i=n.result(this,"defaults");s=n.defaults(n.extend({},i,s),i),this.set(s,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,s){if(null==e)return this;var i;if("object"==typeof e?(i=e,s=t):(i={})[e]=t,s||(s={}),!this._validate(i,s))return!1;var r=s.unset,o=s.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in i)t=i[d],n.isEqual(c[d],t)||a.push(d),n.isEqual(h[d],t)?delete u[d]:u[d]=t,r?delete c[d]:c[d]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=s);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],s)}if(l)return this;if(!o)for(;this._pending;)s=this._pending,this._pending=!1,this.trigger("change",this,s);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var s in this.attributes)t[s]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,s=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var o=e[r];n.isEqual(s[r],o)||(i[r]=o,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,s=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;s&&s.call(e.context,t,n,e),t.trigger("sync",t,n,e)},G(this,e),this.sync("read",this,e)},save:function(e,t,s){var i;null==e||"object"==typeof e?(i=e,s=t):(i={})[e]=t;var r=(s=n.extend({validate:!0,parse:!0},s)).wait;if(i&&!r){if(!this.set(i,s))return!1}else if(!this._validate(i,s))return!1;var o=this,a=s.success,l=this.attributes;s.success=function(e){o.attributes=l;var t=s.parse?o.parse(e,s):e;if(r&&(t=n.extend({},i,t)),t&&!o.set(t,s))return!1;a&&a.call(s.context,o,e,s),o.trigger("sync",o,e,s)},G(this,s),i&&r&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":s.patch?"patch":"update";"patch"!==c||s.attrs||(s.attrs=i);var u=this.sync(c,this,s);return this.attributes=l,u},destroy:function(e){e=e?n.clone(e):{};var t=this,s=e.success,i=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&r(),s&&s.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(G(this,e),o=this.sync("delete",this,e)),i||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||K();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var s=this.validationError=this.validate(e,t)||null;return!s||(this.trigger("invalid",this,s,n.extend(t,{validationError:s})),!1)}});var v=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var s,i=Array(e.length-n),r=t.length;for(s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;s<r;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+r+n]=i[s]};n.extend(v.prototype,a,{model:_,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){t=n.extend({},t);var s=!n.isArray(e);e=s?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),s?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var s=!n.isArray(e);e=s?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r,o,a=[],l=[],c=[],u=[],h={},d=t.add,p=t.merge,f=t.remove,g=!1,m=this.comparator&&null==i&&!1!==t.sort,_=n.isString(this.comparator)?this.comparator:null;for(o=0;o<e.length;o++){r=e[o];var v=this.get(r);if(v){if(p&&r!==v){var y=this._isModel(r)?r.attributes:r;t.parse&&(y=v.parse(y,t)),v.set(y,t),c.push(v),m&&!g&&(g=v.hasChanged(_))}h[v.cid]||(h[v.cid]=!0,a.push(v)),e[o]=v}else d&&(r=e[o]=this._prepareModel(r,t))&&(l.push(r),this._addReference(r,t),h[r.cid]=!0,a.push(r))}if(f){for(o=0;o<this.length;o++)h[(r=this.models[o]).cid]||u.push(r);u.length&&this._removeModels(u,t)}var x=!1,S=!m&&d&&f;if(a.length&&S?(x=this.length!==a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,w(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),w(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(o=0;o<l.length;o++)null!=i&&(t.index=i+o),(r=l[o]).trigger("add",r,this,t);(g||x)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return s?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var s=0;s<this.models.length;s++)this._removeReference(this.models[s],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var s=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===s||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,s=this;return e.success=function(n){var i=e.reset?"reset":"set";s[i](n,e),t&&t.call(e.context,s,n,e),s.trigger("sync",s,n,e)},G(this,e),this.sync("read",this,e)},create:function(e,t){var s=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;s||this.add(e,t);var i=this,r=t.success;return t.success=function(e,t,n){s&&i.add(e,n),r&&r.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,C)},keys:function(){return new S(this,k)},entries:function(){return new S(this,E)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var s=new this.model(e,t);return s.validationError?(this.trigger("invalid",this,s.validationError,t),!1):s},_removeModels:function(e,t){for(var n=[],s=0;s<e.length;s++){var i=this.get(e[s]);if(i){var r=this.indexOf(i);this.models.splice(r,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],t.silent||(t.index=r,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,s){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,s),"change"===e){var i=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);i!==r&&(null!=i&&delete this._byId[i],null!=r&&(this._byId[r]=t))}}this.trigger.apply(this,arguments)}});var x="function"==typeof Symbol&&Symbol.iterator;x&&(v.prototype[x]=v.prototype.values);var S=function(e,t){this._collection=e,this._kind=t,this._index=0},C=1,k=2,E=3;x&&(S.prototype[x]=function(){return this}),S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===C)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===k?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var O=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,T)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(O.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var s=e[t];if(n.isFunction(s)||(s=this[s]),s){var i=t.match(M);this.delegate(i[1],i[2],s.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var D=function(e,t,n,s){switch(t){case 1:return function(){return e[n](this[s])};case 2:return function(t){return e[n](this[s],t)};case 3:return function(t,i){return e[n](this[s],A(t,this),i)};case 4:return function(t,i,r){return e[n](this[s],A(t,this),i,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[s]),e[n].apply(e,t)}}},P=function(e,t,s,i){n.each(s,(function(n,s){t[s]&&(e.prototype[s]=D(t,n,s,i))}))},A=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?R(e):n.isString(e)?function(t){return t.get(e)}:e},R=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},j={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},I={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[v,j,"models"],[_,I,"attributes"]],(function(e){var t=e[0],s=e[1],i=e[2];t.mixin=function(e){var s=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});P(t,e,s,i)},P(t,n,s,i)})),t.sync=function(e,s,i){var r=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=n.result(s,"url")||K()),null!=i.data||!s||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||s.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(o,i));return s.trigger("request",s,c,i),c};var N={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var L=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,F=/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(L.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,s,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(s)&&(i=s,s=""),i||(i=this[s]);var r=this;return t.history.route(e,(function(n){var o=r._extractParameters(e,n);!1!==r.execute(i,o,s)&&(r.trigger.apply(r,["route:"+s].concat(o)),r.trigger("route",s,o),t.history.trigger("route",r,s,o))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(U,"\\$&").replace(B,"(?:$1)?").replace($,(function(e,t){return t?e:"([^/?]+)"})).replace(F,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var s=e.exec(t).slice(1);return n.map(s,(function(e,t){return t===s.length-1?e||null:e?decodeURIComponent(e):null}))}});var z=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},V=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,H=/#.*$/;z.started=!1,n.extend(z.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(V,"")},start:function(e){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var s=document.body,i=s.insertBefore(this.iframe,s.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!z.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var s=n+e;e=e.replace(H,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var s=e.href.replace(/(javascript:|#).*$/,"");e.replace(s+"#"+t)}else e.hash="#"+t}}),t.history=new z;var W=function(e,t){var s,i=this;return s=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(s,i,t),s.prototype=n.create(i.prototype,e),s.prototype.constructor=s,s.__super__=i.prototype,s};_.extend=v.extend=L.extend=O.extend=z.extend=W;var K=function(){throw new Error('A "url" property or function must be specified')},G=function(e,t){var n=t.error;t.error=function(s){n&&n.call(t.context,e,s,t),e.trigger("error",e,s,t)}};return t}(r,n,e,t)}.apply(t,s),void 0===i||(e.exports=i)},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],s=t[1];return 3*(n+s)/4-s},t.toByteArray=function(e){var t,n,r=a(e),o=r[0],l=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,h=l>0?o-4:o;for(n=0;n<h;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,r=[],o=16383,a=0,c=s-i;a<c;a+=o)r.push(l(e,a,a+o>c?c:a+o));1===i?(t=e[s-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[s-2]<<8)+e[s-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=r[o],s[r.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,s){for(var i,r,o=[],a=t;a<s;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return o.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return s(e,n)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var i={};return n.isMergeableObject(e)&&r(e).forEach((function(t){i[t]=s(e[t],n)})),r(t).forEach((function(r){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(o(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(r,n)(e[r],t[r],n):i[r]=s(t[r],n))})),i}function l(e,n,r){(r=r||{}).arrayMerge=r.arrayMerge||i,r.isMergeableObject=r.isMergeableObject||t,r.cloneUnlessOtherwiseSpecified=s;var o=Array.isArray(n);return o===Array.isArray(e)?o?r.arrayMerge(e,n,r):a(e,n,r):s(n,r)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},17837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),t.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]})))},97220:function(e,t,n){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var a=o(n(99960)),l=n(45863),c=n(17837),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function h(e){return e.replace(/"/g,"&quot;")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),s="",i=0;i<n.length;i++)s+=f(n[i],t);return s}function f(e,t){switch(e.type){case a.Root:return p(e.children,t);case a.Doctype:case a.Directive:return"<".concat(e.data,">");case a.Comment:return function(e){return"\x3c!--".concat(e.data,"--\x3e")}(e);case a.CDATA:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case a.Script:case a.Style:case a.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=c.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&g.has(e.parent.name)&&(t=s(s({},t),{xmlMode:!1})));!t.xmlMode&&m.has(e.name)&&(t=s(s({},t),{xmlMode:"foreign"}));var i="<".concat(e.name),r=function(e,t){var n;if(e){var s=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?h:t.xmlMode||"utf8"!==t.encodeEntities?l.encodeXML:l.escapeAttribute;return Object.keys(e).map((function(n){var i,r,o=null!==(i=e[n])&&void 0!==i?i:"";return"foreign"===t.xmlMode&&(n=null!==(r=c.attributeNames.get(n))&&void 0!==r?r:n),t.emptyAttrs||t.xmlMode||""!==o?"".concat(n,'="').concat(s(o),'"'):n})).join(" ")}}(e.attribs,t);r&&(i+=" ".concat(r));0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=p(e.children,t)),!t.xmlMode&&d.has(e.name)||(i+="</".concat(e.name,">")));return i}(e,t);case a.Text:return function(e,t){var n,s=e.data||"";!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(s=t.xmlMode||"utf8"!==t.encodeEntities?(0,l.encodeXML)(s):(0,l.escapeText)(s));return s}(e,t)}}t.render=p,t.default=p;var g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},99960:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},47915:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=n(99960),o=n(97790);i(n(97790),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?r.ElementType.Tag:void 0,s=new o.Element(e,t,void 0,n);this.addNode(s),this.tagStack.push(s)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===r.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new o.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment)this.lastNode.data+=e;else{var t=new o.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new o.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},97790:function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(99960),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),x(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=u;var h=function(e){function t(t,n){var s=e.call(this,n)||this;return s.name=t,s.type=o.ElementType.Directive,s}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=h;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var g=function(e){function t(t,n,s,i){void 0===s&&(s=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var r=e.call(this,s)||this;return r.name=t,r.attribs=n,r.type=i,r}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,s;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(s=e["x-attribsPrefix"])||void 0===s?void 0:s[t]}}))},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function _(e){return e.type===o.ElementType.CDATA}function v(e){return e.type===o.ElementType.Text}function b(e){return e.type===o.ElementType.Comment}function y(e){return e.type===o.ElementType.Directive}function w(e){return e.type===o.ElementType.Root}function x(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new c(e.data);else if(b(e))n=new u(e.data);else if(m(e)){var s=t?S(e.children):[],i=new g(e.name,r({},e.attribs),s);s.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),n=i}else if(_(e)){s=t?S(e.children):[];var o=new p(s);s.forEach((function(e){return e.parent=o})),n=o}else if(w(e)){s=t?S(e.children):[];var a=new f(s);s.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!y(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new h(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function S(e){for(var t=e.map((function(e){return x(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=g,t.isTag=m,t.isCDATA=_,t.isText=v,t.isComment=b,t.isDirective=y,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=x},16996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var s=n(43346),i=n(23905);t.getFeed=function(e){var t=l(h,e);return t?"feed"===t.name?function(e){var t,n=e.children,s={type:"atom",items:(0,i.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,s={media:a(n)};u(s,"id","id",n),u(s,"title","title",n);var i=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;i&&(s.link=i);var r=c("summary",n)||c("content",n);r&&(s.description=r);var o=c("updated",n);return o&&(s.pubDate=new Date(o)),s}))};u(s,"id","id",n),u(s,"title","title",n);var r=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;r&&(s.link=r);u(s,"description","subtitle",n);var o=c("updated",n);o&&(s.updated=new Date(o));return u(s,"author","email",n,!0),s}(t):function(e){var t,n,s=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],r={type:e.name.substr(0,3),id:"",items:(0,i.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:a(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var s=c("pubDate",t)||c("dc:date",t);return s&&(n.pubDate=new Date(s)),n}))};u(r,"title","title",s),u(r,"link","link",s),u(r,"description","description",s);var o=c("lastBuildDate",s);o&&(r.updated=new Date(o));return u(r,"author","managingEditor",s,!0),r}(t):null};var r=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(e){return(0,i.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},s=0,i=r;s<i.length;s++){t[c=i[s]]&&(n[c]=t[c])}for(var a=0,l=o;a<l.length;a++){var c;t[c=l[a]]&&(n[c]=parseInt(t[c],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,i.getElementsByTagName)(e,t,!0,1)[0]}function c(e,t,n){return void 0===n&&(n=!1),(0,s.textContent)((0,i.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,s,i){void 0===i&&(i=!1);var r=c(n,s,i);r&&(e[t]=r)}function h(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},74975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var s,i=n(47915);function r(e,t){var n=[],r=[];if(e===t)return 0;for(var o=(0,i.hasChildren)(e)?e:e.parent;o;)n.unshift(o),o=o.parent;for(o=(0,i.hasChildren)(t)?t:t.parent;o;)r.unshift(o),o=o.parent;for(var a=Math.min(n.length,r.length),l=0;l<a&&n[l]===r[l];)l++;if(0===l)return s.DISCONNECTED;var c=n[l-1],u=c.children,h=n[l],d=r[l];return u.indexOf(h)>u.indexOf(d)?c===t?s.FOLLOWING|s.CONTAINED_BY:s.FOLLOWING:c===e?s.PRECEDING|s.CONTAINS:s.PRECEDING}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var s=n.parent;s;s=s.parent)if(e.includes(s)){e.splice(t,1);break}}return e},function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(s=t.DocumentPosition||(t.DocumentPosition={})),t.compareDocumentPosition=r,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=r(e,t);return n&s.PRECEDING?-1:n&s.FOLLOWING?1:0})),e}},89432:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,i(n(43346),t),i(n(85010),t),i(n(26765),t),i(n(98043),t),i(n(23905),t),i(n(74975),t),i(n(16996),t);var r=n(47915);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})},23905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var s=n(47915),i=n(98043),r={tag_name:function(e){return"function"==typeof e?function(t){return(0,s.isTag)(t)&&e(t.name)}:"*"===e?s.isTag:function(t){return(0,s.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,s.isText)(t)&&e(t.data)}:function(t){return(0,s.isText)(t)&&t.data===e}}};function o(e,t){return"function"==typeof t?function(n){return(0,s.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,s.isTag)(n)&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(r,t)?r[t](n):o(t,n)}));return 0===t.length?null:t.reduce(a)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,s){void 0===s&&(s=1/0);var r=l(e);return r?(0,i.filter)(r,t,n,s):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,i.findOne)(o("id",e),t,n)},t.getElementsByTagName=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,i.filter)(r.tag_name(e),t,n,s)},t.getElementsByTagType=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,i.filter)(r.tag_type(e),t,n,s)}},26765:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var s=t.next=e.next;s&&(s.prev=t);var i=t.parent=e.parent;if(i){var r=i.children;r[r.lastIndexOf(e)]=t,e.parent=null}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var s=e.children[e.children.length-2];s.next=t,t.prev=s}else t.prev=null},t.append=function(e,t){n(t);var s=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=s,i){if(i.prev=t,s){var r=s.children;r.splice(r.lastIndexOf(i),0,t)}}else s&&s.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var s=e.children[1];s.prev=t,t.next=s}else t.next=null},t.prepend=function(e,t){n(t);var s=e.parent;if(s){var i=s.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=s,t.prev=e.prev,t.next=e,e.prev=t}},98043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var s=n(47915);function i(e,t,n,i){for(var r=[],o=[t],a=[0];;)if(a[0]>=o[0].length){if(1===a.length)return r;o.shift(),a.shift()}else{var l=o[0][a[0]++];if(e(l)&&(r.push(l),--i<=0))return r;n&&(0,s.hasChildren)(l)&&l.children.length>0&&(a.unshift(0),o.unshift(l.children))}}t.filter=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),i(e,Array.isArray(t)?t:[t],n,s)},t.find=i,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,i){void 0===i&&(i=!0);for(var r=null,o=0;o<n.length&&!r;o++){var a=n[o];(0,s.isTag)(a)&&(t(a)?r=a:i&&a.children.length>0&&(r=e(t,a.children,!0)))}return r},t.existsOne=function e(t,n){return n.some((function(n){return(0,s.isTag)(n)&&(t(n)||e(t,n.children))}))},t.findAll=function(e,t){for(var n=[],i=[t],r=[0];;)if(r[0]>=i[0].length){if(1===i.length)return n;i.shift(),r.shift()}else{var o=i[0][r[0]++];(0,s.isTag)(o)&&(e(o)&&n.push(o),o.children.length>0&&(r.unshift(0),i.unshift(o.children)))}}},43346:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var i=n(47915),r=s(n(97220)),o=n(99960);function a(e,t){return(0,r.default)(e,t)}t.getOuterHTML=a,t.getInnerHTML=function(e,t){return(0,i.hasChildren)(e)?e.children.map((function(e){return a(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,i.isCDATA)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&!(0,i.isComment)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&(t.type===o.ElementType.Tag||(0,i.isCDATA)(t))?e(t.children):(0,i.isText)(t)?t.data:""}},85010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var s=n(47915);function i(e){return(0,s.hasChildren)(e)?e.children:[]}function r(e){return e.parent||null}t.getChildren=i,t.getParent=r,t.getSiblings=function(e){var t=r(e);if(null!=t)return i(t);for(var n=[e],s=e.prev,o=e.next;null!=s;)n.unshift(s),s=s.prev;for(;null!=o;)n.push(o),o=o.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,s.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,s.isTag)(t);)t=t.prev;return t}},44076:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var a=o(n(63704));t.htmlDecodeTree=a.default;var l=o(n(22060));t.xmlDecodeTree=l.default;var c=r(n(26));t.decodeCodePoint=c.default;var u,h=n(26);Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return h.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return h.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(u||(u={}));var d,p,f;function g(e){return e>=u.ZERO&&e<=u.NINE}function m(e){return e===u.EQUALS||function(e){return e>=u.UPPER_A&&e<=u.UPPER_Z||e>=u.LOWER_A&&e<=u.LOWER_Z||g(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(d=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(p||(p={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(f=t.DecodingMode||(t.DecodingMode={}));var _=function(){function e(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=p.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=f.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=p.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case p.EntityStart:return e.charCodeAt(t)===u.NUM?(this.state=p.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=p.NamedEntity,this.stateNamedEntity(e,t));case p.NumericStart:return this.stateNumericStart(e,t);case p.NumericDecimal:return this.stateNumericDecimal(e,t);case p.NumericHex:return this.stateNumericHex(e,t);case p.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===u.LOWER_X?(this.state=p.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=p.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,n,s){if(t!==n){var i=n-t;this.result=this.result*Math.pow(s,i)+parseInt(e.substr(t,i),s),this.consumed+=i}},e.prototype.stateNumericHex=function(e,t){for(var n,s=t;t<e.length;){var i=e.charCodeAt(t);if(!(g(i)||(n=i,n>=u.UPPER_A&&n<=u.UPPER_F||n>=u.LOWER_A&&n<=u.LOWER_F)))return this.addToNumericResult(e,s,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,s,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var n=t;t<e.length;){var s=e.charCodeAt(t);if(!g(s))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(s,2);t+=1}return this.addToNumericResult(e,n,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===u.SEMI)this.consumed+=1;else if(this.decodeMode===f.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var n=this.decodeTree,s=n[this.treeIndex],i=(s&d.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var r=e.charCodeAt(t);if(this.treeIndex=b(n,s,this.treeIndex+Math.max(1,i),r),this.treeIndex<0)return 0===this.result||this.decodeMode===f.Attribute&&(0===i||m(r))?0:this.emitNotTerminatedNamedEntity();if(0!==(i=((s=n[this.treeIndex])&d.VALUE_LENGTH)>>14)){if(r===u.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==f.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,n=(this.decodeTree[t]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,n){var s=this.decodeTree;return this.emitCodePoint(1===t?s[e]&~d.VALUE_LENGTH:s[e+1],n),3===t&&this.emitCodePoint(s[e+2],n),n},e.prototype.end=function(){var e;switch(this.state){case p.NamedEntity:return 0===this.result||this.decodeMode===f.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case p.NumericDecimal:return this.emitNumericEntity(0,2);case p.NumericHex:return this.emitNumericEntity(0,3);case p.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case p.EntityStart:return 0}},e}();function v(e){var t="",n=new _(e,(function(e){return t+=(0,c.fromCodePoint)(e)}));return function(e,s){for(var i=0,r=0;(r=e.indexOf("&",r))>=0;){t+=e.slice(i,r),n.startEntity(s);var o=n.write(e,r+1);if(o<0){i=r+n.end();break}i=r+o,r=0===o?i+1:i}var a=t+e.slice(i);return t="",a}}function b(e,t,n,s){var i=(t&d.BRANCH_LENGTH)>>7,r=t&d.JUMP_TABLE;if(0===i)return 0!==r&&s===r?n:-1;if(r){var o=s-r;return o<0||o>=i?-1:e[n+o]-1}for(var a=n,l=a+i-1;a<=l;){var c=a+l>>>1,u=e[c];if(u<s)a=c+1;else{if(!(u>s))return e[c+i];l=c-1}}return-1}t.EntityDecoder=_,t.determineBranch=b;var y=v(a.default),w=v(l.default);t.decodeHTML=function(e,t){return void 0===t&&(t=f.Legacy),y(e,t)},t.decodeHTMLAttribute=function(e){return y(e,f.Attribute)},t.decodeHTMLStrict=function(e){return y(e,f.Strict)},t.decodeXML=function(e){return w(e,f.Strict)}},26:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var s=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function i(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=s.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(n=String.fromCodePoint)&&void 0!==n?n:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)},t.replaceCodePoint=i,t.default=function(e){return(0,t.fromCodePoint)(i(e))}},87322:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNonAsciiHTML=t.encodeHTML=void 0;var i=s(n(94021)),r=n(24625),o=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(e,t){for(var n,s="",o=0;null!==(n=e.exec(t));){var a=n.index;s+=t.substring(o,a);var l=t.charCodeAt(a),c=i.default.get(l);if("object"==typeof c){if(a+1<t.length){var u=t.charCodeAt(a+1),h="number"==typeof c.n?c.n===u?c.o:void 0:c.n.get(u);if(void 0!==h){s+=h,o=e.lastIndex+=1;continue}}c=c.v}if(void 0!==c)s+=c,o=a+1;else{var d=(0,r.getCodePoint)(t,a);s+="&#x".concat(d.toString(16),";"),o=e.lastIndex+=Number(d!==l)}}return s+t.substr(o)}t.encodeHTML=function(e){return a(o,e)},t.encodeNonAsciiHTML=function(e){return a(r.xmlReplacer,e)}},24625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var n=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function s(e){for(var s,i="",r=0;null!==(s=t.xmlReplacer.exec(e));){var o=s.index,a=e.charCodeAt(o),l=n.get(a);void 0!==l?(i+=e.substring(r,o)+l,r=o+1):(i+="".concat(e.substring(r,o),"&#x").concat((0,t.getCodePoint)(e,o).toString(16),";"),r=t.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return i+e.substr(r)}function i(e,t){return function(n){for(var s,i=0,r="";s=e.exec(n);)i!==s.index&&(r+=n.substring(i,s.index)),r+=t.get(s[0].charCodeAt(0)),i=s.index+1;return r+n.substring(i)}}t.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},t.encodeXML=s,t.escape=s,t.escapeUTF8=i(/[&<>'"]/g,n),t.escapeAttribute=i(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=i(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},63704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((function(e){return e.charCodeAt(0)})))},22060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((function(e){return e.charCodeAt(0)})))},94021:(e,t)=>{"use strict";function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},45863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var s,i,r=n(44076),o=n(87322),a=n(24625);function l(e,t){if(void 0===t&&(t=s.XML),("number"==typeof t?t:t.level)===s.HTML){var n="object"==typeof t?t.mode:void 0;return(0,r.decodeHTML)(e,n)}return(0,r.decodeXML)(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(s=t.EntityLevel||(t.EntityLevel={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(i=t.EncodingMode||(t.EncodingMode={})),t.decode=l,t.decodeStrict=function(e,t){var n;void 0===t&&(t=s.XML);var i="number"==typeof t?{level:t}:t;return null!==(n=i.mode)&&void 0!==n||(i.mode=r.DecodingMode.Strict),l(e,i)},t.encode=function(e,t){void 0===t&&(t=s.XML);var n="number"==typeof t?{level:t}:t;return n.mode===i.UTF8?(0,a.escapeUTF8)(e):n.mode===i.Attribute?(0,a.escapeAttribute)(e):n.mode===i.Text?(0,a.escapeText)(e):n.level===s.HTML?n.mode===i.ASCII?(0,o.encodeNonAsciiHTML)(e):(0,o.encodeHTML)(e):(0,a.encodeXML)(e)};var c=n(24625);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var u=n(87322);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return u.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return u.encodeHTML}});var h=n(44076);Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return h.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return h.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return h.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return h.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return h.decodeXML}})},63150:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},64063:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var s,i,r;if(Array.isArray(t)){if((s=t.length)!=n.length)return!1;for(i=s;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((s=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=s;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=s;0!=i--;){var o=r[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},35202:function(){!function(){"use strict";function e(e){var t=!0,n=!1,s=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!i[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function l(e){e.hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added"))}function c(n){n.metaKey||n.altKey||n.ctrlKey||(r(e.activeElement)&&a(e.activeElement),t=!0)}function u(e){t=!1}function h(e){r(e.target)&&(t||o(e.target))&&a(e.target)}function d(e){r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(s),s=window.setTimeout((function(){n=!1}),100),l(e.target))}function p(e){"hidden"===document.visibilityState&&(n&&(t=!0),f())}function f(){document.addEventListener("mousemove",m),document.addEventListener("mousedown",m),document.addEventListener("mouseup",m),document.addEventListener("pointermove",m),document.addEventListener("pointerdown",m),document.addEventListener("pointerup",m),document.addEventListener("touchmove",m),document.addEventListener("touchstart",m),document.addEventListener("touchend",m)}function g(){document.removeEventListener("mousemove",m),document.removeEventListener("mousedown",m),document.removeEventListener("mouseup",m),document.removeEventListener("pointermove",m),document.removeEventListener("pointerdown",m),document.removeEventListener("pointerup",m),document.removeEventListener("touchmove",m),document.removeEventListener("touchstart",m),document.removeEventListener("touchend",m)}function m(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,g())}document.addEventListener("keydown",c,!0),document.addEventListener("mousedown",u,!0),document.addEventListener("pointerdown",u,!0),document.addEventListener("touchstart",u,!0),document.addEventListener("visibilitychange",p,!0),f(),e.addEventListener("focus",h,!0),e.addEventListener("blur",d,!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(n){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},10859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Cache:()=>f,FreeStyle:()=>b,Rule:()=>_,Selector:()=>g,Style:()=>m,create:()=>y});let s=0;const i=Object.create(null),r=["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","flood-opacity","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width"];for(const w of r)for(const e of["-webkit-","-ms-","-moz-","-o-",""])i[e+w]=!0;function o(e,t){return t&&"number"==typeof t&&!i[e]?`${e}:${t}px`:`${e}:${t}`}function a(e){return e.sort(((e,t)=>e[0]>t[0]?1:-1))}function l(e){return e.map((([e,t])=>Array.isArray(t)?t.map((t=>o(e,t))).join(";"):o(e,t))).join(";")}function c(e,t){return-1===e.indexOf("&")?`${t} ${e}`:e.replace(/&/g,t)}function u(e,t,n,s,i){const{style:r,nested:o,isUnique:h}=function(e,t){const n=[],s=[];for(const r of Object.keys(e)){const t=r.trim(),o=e[r];36!==t.charCodeAt(0)&&null!=o&&("object"!=typeof o||Array.isArray(o)?n.push([(i=t,i.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)).replace(/^ms-/,"-ms-")),o]):s.push([t,o]))}var i;return{style:l(a(n)),nested:t?s:a(s),isUnique:!!e.$unique}}(t,""!==e);let d=r;if(64===e.charCodeAt(0)){const t={selector:e,styles:[],rules:[],style:i?"":r};n.push(t),r&&i&&t.styles.push({selector:i,style:r,isUnique:h});for(const[e,n]of o)d+=e+u(e,n,t.rules,t.styles,i)}else{const t=i?c(e,i):e;r&&s.push({selector:t,style:r,isUnique:h});for(const[e,i]of o)d+=e+u(e,i,n,s,t)}return d}function h(e,t,n,i,r,o){for(const{selector:a,style:l,isUnique:u}of i){const n=o?c(a,r):a,i=u?`u\0${(++s).toString(36)}`:`s\0${t}\0${l}`,h=new m(l,i);h.add(new g(n,`k\0${t}\0${n}`)),e.add(h)}for(const{selector:s,style:a,rules:l,styles:c}of n){const n=new _(s,a,`r\0${t}\0${s}\0${a}`);h(n,t,l,c,r,o),e.add(n)}}function d(e){let t="";for(let n=0;n<e.length;n++)t+=e[n];return t}const p={add:()=>{},change:()=>{},remove:()=>{}};class f{constructor(e=p){this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}add(e){const t=this._counters[e.id]||0,n=this._children[e.id]||e.clone();if(this._counters[e.id]=t+1,0===t)this._children[n.id]=n,this._keys.push(n.id),this.sheet.push(n.getStyles()),this.changeId++,this.changes.add(n,this._keys.length-1);else if(n instanceof f&&e instanceof f){const t=this._keys.indexOf(e.id),s=n.changeId;n.merge(e),n.changeId!==s&&(this.sheet.splice(t,1,n.getStyles()),this.changeId++,this.changes.change(n,t,t))}}remove(e){const t=this._counters[e.id];if(t){this._counters[e.id]=t-1;const n=this._children[e.id],s=this._keys.indexOf(n.id);if(1===t)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(s,1),this.sheet.splice(s,1),this.changeId++,this.changes.remove(n,s);else if(n instanceof f&&e instanceof f){const t=n.changeId;n.unmerge(e),n.changeId!==t&&(this.sheet.splice(s,1,n.getStyles()),this.changeId++,this.changes.change(n,s,s))}}}values(){return this._keys.map((e=>this._children[e]))}merge(e){for(const t of e.values())this.add(t);return this}unmerge(e){for(const t of e.values())this.remove(t);return this}clone(){return(new f).merge(this)}}class g{constructor(e,t){this.selector=e,this.id=t}getStyles(){return this.selector}clone(){return this}}class m extends f{constructor(e,t){super(),this.style=e,this.id=t}getStyles(){return`${this.sheet.join(",")}{${this.style}}`}clone(){return new m(this.style,this.id).merge(this)}}class _ extends f{constructor(e,t,n){super(),this.rule=e,this.style=t,this.id=n}getStyles(){return`${this.rule}{${this.style}${d(this.sheet)}}`}clone(){return new _(this.rule,this.style,this.id).merge(this)}}function v(e,t){const n=`f${function(e){let t=5381,n=e.length;for(;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}(e)}`;return n}class b extends f{constructor(e,t){super(t),this.id=e}registerStyle(e){const t=[],n=[],s=u("&",e,t,n),i=v(s);return h(this,s,t,n,`.${i}`,!0),i}registerKeyframes(e){return this.registerHashRule("@keyframes",e)}registerHashRule(e,t){const n=[],s=[],i=u("",t,n,s),r=v(i),o=new _(`${e} ${r}`,"",`h\0${i}\0${e}`);return h(o,i,n,s,"",!1),this.add(o),r}registerRule(e,t){const n=[],s=[];h(this,u(e,t,n,s),n,s,"",!1)}registerCss(e){return this.registerRule("",e)}getStyles(){return d(this.sheet)}clone(){return new b(this.id,this.changes).merge(this)}}function y(e){return new b(`f${(++s).toString(36)}`,e)}},50763:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var o=r(n(39889)),a=n(44076),l=new Set(["input","option","optgroup","select","button","datalist","textarea"]),c=new Set(["p"]),u=new Set(["thead","tbody"]),h=new Set(["dd","dt"]),d=new Set(["rt","rp"]),p=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",c],["h1",c],["h2",c],["h3",c],["h4",c],["h5",c],["h6",c],["select",l],["input",l],["output",l],["button",l],["datalist",l],["textarea",l],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",h],["dt",h],["address",c],["article",c],["aside",c],["blockquote",c],["details",c],["div",c],["dl",c],["fieldset",c],["figcaption",c],["figure",c],["footer",c],["form",c],["header",c],["hr",c],["main",c],["nav",c],["ol",c],["pre",c],["section",c],["table",c],["ul",c],["rt",d],["rp",d],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,v=function(){function e(e,t){var n,s,i,r,a;void 0===t&&(t={}),this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(s=t.lowerCaseAttributeNames)&&void 0!==s?s:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:o.default)(this.options,this),null===(a=(r=this.cbs).onparserinit)||void 0===a||a.call(r,this)}return e.prototype.ontext=function(e,t){var n,s,i=this.getSlice(e,t);this.endIndex=t-1,null===(s=(n=this.cbs).ontext)||void 0===s||s.call(n,i),this.startIndex=t},e.prototype.ontextentity=function(e){var t,n,s=this.tokenizer.getSectionStart();this.endIndex=s-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,(0,a.fromCodePoint)(e)),this.startIndex=s},e.prototype.isVoidElement=function(e){return!this.options.xmlMode&&f.has(e)},e.prototype.onopentagname=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(e){var t,n,s,i;this.openTagStart=this.startIndex,this.tagname=e;var r=!this.options.xmlMode&&p.get(e);if(r)for(;this.stack.length>0&&r.has(this.stack[this.stack.length-1]);){var o=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,o,!0)}this.isVoidElement(e)||(this.stack.push(e),g.has(e)?this.foreignContext.push(!0):m.has(e)&&this.foreignContext.push(!1)),null===(i=(s=this.cbs).onopentagname)||void 0===i||i.call(s,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},e.prototype.onclosetag=function(e,t){var n,s,i,r,o,a;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(g.has(l)||m.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))this.options.xmlMode||"br"!==l||(null===(s=(n=this.cbs).onopentagname)||void 0===s||s.call(n,"br"),null===(r=(i=this.cbs).onopentag)||void 0===r||r.call(i,"br",{},!0),null===(a=(o=this.cbs).onclosetag)||void 0===a||a.call(o,"br",!1));else{var c=this.stack.lastIndexOf(l);if(-1!==c)if(this.cbs.onclosetag)for(var u=this.stack.length-c;u--;)this.cbs.onclosetag(this.stack.pop(),0!==u);else this.stack.length=c;else this.options.xmlMode||"p"!==l||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},e.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},e.prototype.closeCurrentTag=function(e){var t,n,s=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===s&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,s,!e),this.stack.pop())},e.prototype.onattribname=function(e,t){this.startIndex=e;var n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},e.prototype.onattribentity=function(e){this.attribvalue+=(0,a.fromCodePoint)(e)},e.prototype.onattribend=function(e,t){var n,s;this.endIndex=t,null===(s=(n=this.cbs).onattribute)||void 0===s||s.call(n,this.attribname,this.attribvalue,e===o.QuoteType.Double?'"':e===o.QuoteType.Single?"'":e===o.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(_),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var s=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(s),"!".concat(n))}this.startIndex=t+1},e.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var s=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(s),"?".concat(n))}this.startIndex=t+1},e.prototype.oncomment=function(e,t,n){var s,i,r,o;this.endIndex=t,null===(i=(s=this.cbs).oncomment)||void 0===i||i.call(s,this.getSlice(e,t-n)),null===(o=(r=this.cbs).oncommentend)||void 0===o||o.call(r),this.startIndex=t+1},e.prototype.oncdata=function(e,t,n){var s,i,r,o,a,l,c,u,h,d;this.endIndex=t;var p=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(i=(s=this.cbs).oncdatastart)||void 0===i||i.call(s),null===(o=(r=this.cbs).ontext)||void 0===o||o.call(r,p),null===(l=(a=this.cbs).oncdataend)||void 0===l||l.call(a)):(null===(u=(c=this.cbs).oncomment)||void 0===u||u.call(c,"[CDATA[".concat(p,"]]")),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=t+1},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,s;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(s=(n=this.cbs).onparserinit)||void 0===s||s.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))},e.prototype.end=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=v},39889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var s,i,r,o=n(44076);function a(e){return e===s.Space||e===s.NewLine||e===s.Tab||e===s.FormFeed||e===s.CarriageReturn}function l(e){return e===s.Slash||e===s.Gt||a(e)}function c(e){return e>=s.Zero&&e<=s.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(s||(s={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(i||(i={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(r=t.QuoteType||(t.QuoteType={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},h=function(){function e(e,t){var n=e.xmlMode,s=void 0!==n&&n,r=e.decodeEntities,a=void 0===r||r;this.cbs=t,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=s,this.decodeEntities=a,this.entityTrie=s?o.xmlDecodeTree:o.htmlDecodeTree}return e.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},e.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},e.prototype.end=function(){this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},e.prototype.getIndex=function(){return this.index},e.prototype.getSectionStart=function(){return this.sectionStart},e.prototype.stateText=function(e){e===s.Lt||!this.decodeEntities&&this.fastForwardTo(s.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===s.Amp&&(this.state=i.BeforeEntity)},e.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length;if(t?l(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(e)},e.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===s.Gt||a(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===u.TitleEnd?this.decodeEntities&&e===s.Amp&&(this.state=i.BeforeEntity):this.fastForwardTo(s.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===s.Lt)},e.prototype.stateCDATASequence=function(e){e===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(e))},e.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},e.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},e.prototype.isTagStartChar=function(e){return this.xmlMode?!l(e):function(e){return e>=s.LowerA&&e<=s.LowerZ||e>=s.UpperA&&e<=s.UpperZ}(e)},e.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=i.SpecialStartSequence},e.prototype.stateBeforeTagName=function(e){if(e===s.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===s.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=32|e;this.sectionStart=this.index,this.xmlMode||t!==u.TitleEnd[2]?this.state=this.xmlMode||t!==u.ScriptEnd[2]?i.InTagName:i.BeforeSpecialS:this.startSpecial(u.TitleEnd,3)}else e===s.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(e))},e.prototype.stateInTagName=function(e){l(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateBeforeClosingTagName=function(e){a(e)||(e===s.Gt?this.state=i.Text:(this.state=this.isTagStartChar(e)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},e.prototype.stateInClosingTagName=function(e){(e===s.Gt||a(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(e))},e.prototype.stateAfterClosingTagName=function(e){(e===s.Gt||this.fastForwardTo(s.Gt))&&(this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeAttributeName=function(e){e===s.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===s.Slash?this.state=i.InSelfClosingTag:a(e)||(this.state=i.InAttributeName,this.sectionStart=this.index)},e.prototype.stateInSelfClosingTag=function(e){e===s.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(e)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateInAttributeName=function(e){(e===s.Eq||l(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterAttributeName,this.stateAfterAttributeName(e))},e.prototype.stateAfterAttributeName=function(e){e===s.Eq?this.state=i.BeforeAttributeValue:e===s.Slash||e===s.Gt?(this.cbs.onattribend(r.NoValue,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e)):a(e)||(this.cbs.onattribend(r.NoValue,this.index),this.state=i.InAttributeName,this.sectionStart=this.index)},e.prototype.stateBeforeAttributeValue=function(e){e===s.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):e===s.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):a(e)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},e.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===s.DoubleQuote?r.Double:r.Single,this.index),this.state=i.BeforeAttributeName):this.decodeEntities&&e===s.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,s.DoubleQuote)},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,s.SingleQuote)},e.prototype.stateInAttributeValueNoQuotes=function(e){a(e)||e===s.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===s.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},e.prototype.stateBeforeDeclaration=function(e){e===s.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=e===s.Dash?i.BeforeComment:i.InDeclaration},e.prototype.stateInDeclaration=function(e){(e===s.Gt||this.fastForwardTo(s.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateInProcessingInstruction=function(e){(e===s.Gt||this.fastForwardTo(s.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeComment=function(e){e===s.Dash?(this.state=i.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},e.prototype.stateInSpecialComment=function(e){(e===s.Gt||this.fastForwardTo(s.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeSpecialS=function(e){var t=32|e;t===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):t===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(e))},e.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===s.Number?this.state=i.BeforeNumericEntity:e===s.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=i.InNamedEntity,this.stateInNamedEntity(e))},e.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,o.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&o.BinTrieFlags.VALUE_LENGTH;if(t){var n=(t>>14)-1;if(this.allowLegacyEntity()||e===s.Semi){var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}},e.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&o.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~o.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},e.prototype.stateBeforeNumericEntity=function(e){(32|e)===s.LowerX?(this.entityExcess++,this.state=i.InHexEntity):(this.state=i.InNumericEntity,this.stateInNumericEntity(e))},e.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1;t+2+Number(this.state===i.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,o.replaceCodePoint)(this.entityResult))),this.state=this.baseState},e.prototype.stateInNumericEntity=function(e){e===s.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=10*this.entityResult+(e-s.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.stateInHexEntity=function(e){e===s.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=16*this.entityResult+(e-s.Zero),this.entityExcess++):!function(e){return e>=s.UpperA&&e<=s.UpperF||e>=s.LowerA&&e<=s.LowerF}(e)?(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--):(this.entityResult=16*this.entityResult+((32|e)-s.LowerA+10),this.entityExcess++)},e.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===i.Text||this.baseState===i.InSpecialTag)},e.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==i.InAttributeValueDq&&this.state!==i.InAttributeValueSq&&this.state!==i.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},e.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},e.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case i.Text:this.stateText(e);break;case i.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case i.InSpecialTag:this.stateInSpecialTag(e);break;case i.CDATASequence:this.stateCDATASequence(e);break;case i.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case i.InAttributeName:this.stateInAttributeName(e);break;case i.InCommentLike:this.stateInCommentLike(e);break;case i.InSpecialComment:this.stateInSpecialComment(e);break;case i.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case i.InTagName:this.stateInTagName(e);break;case i.InClosingTagName:this.stateInClosingTagName(e);break;case i.BeforeTagName:this.stateBeforeTagName(e);break;case i.AfterAttributeName:this.stateAfterAttributeName(e);break;case i.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case i.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case i.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case i.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case i.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case i.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case i.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case i.InDeclaration:this.stateInDeclaration(e);break;case i.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case i.BeforeComment:this.stateBeforeComment(e);break;case i.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case i.InNamedEntity:this.stateInNamedEntity(e);break;case i.BeforeEntity:this.stateBeforeEntity(e);break;case i.InHexEntity:this.stateInHexEntity(e);break;case i.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},e.prototype.finish=function(){this.state===i.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===i.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===i.InNumericEntity&&this.allowLegacyEntity()||this.state===i.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},e.prototype.emitPartial=function(e,t){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},e.prototype.emitCodePoint=function(e){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},e}();t.default=h},23719:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var a=n(50763),l=n(50763);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=n(47915),u=n(47915);function h(e,t){var n=new c.DomHandler(void 0,t);return new a.Parser(n,t).end(e),n.root}function d(e,t){return h(e,t).children}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),t.parseDocument=h,t.parseDOM=d,t.createDomStream=function(e,t,n){var s=new c.DomHandler(e,t,n);return new a.Parser(s,t)};var p=n(39889);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return o(p).default}}),t.ElementType=r(n(99960));var f=n(89432),g=n(89432);Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var m={xmlMode:!0};t.parseFeed=function(e,t){return void 0===t&&(t=m),(0,f.getFeed)(d(e,t))},t.DomUtils=r(n(89432))},26057:(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,s;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(s=t.prototype)&&!1!==s.hasOwnProperty("isPrototypeOf"))}},19755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(s,i){"use strict";var r=[],o=Object.getPrototypeOf,a=r.slice,l=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},c=r.push,u=r.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f=p.toString,g=f.call(Object),m={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},b=s.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var s,i,r=(n=n||b).createElement("script");if(r.text=e,t)for(s in y)(i=t[s]||t.getAttribute&&t.getAttribute(s))&&r.setAttribute(s,i);n.head.appendChild(r).parentNode.removeChild(r)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var S="3.7.1",C=/HTML$/i,k=function(e,t){return new k.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!_(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:S,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:r.sort,splice:r.splice},k.extend=k.fn.extend=function(){var e,t,n,s,i,r,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||_(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)s=e[t],"__proto__"!==t&&o!==s&&(c&&s&&(k.isPlainObject(s)||(i=Array.isArray(s)))?(n=o[t],r=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,o[t]=k.extend(c,r,s)):void 0!==s&&(o[t]=s));return o},k.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=o(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&f.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,s=0;if(E(e))for(n=e.length;s<n&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},text:function(e){var t,n="",s=0,i=e.nodeType;if(!i)for(;t=e[s++];)n+=k.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!C.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,s=0,i=e.length;s<n;s++)e[i++]=t[s];return e.length=i,e},grep:function(e,t,n){for(var s=[],i=0,r=e.length,o=!n;i<r;i++)!t(e[i],i)!==o&&s.push(e[i]);return s},map:function(e,t,n){var s,i,r=0,o=[];if(E(e))for(s=e.length;r<s;r++)null!=(i=t(e[r],r,n))&&o.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&o.push(i);return l(o)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=r[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var M=r.pop,T=r.sort,D=r.splice,P="[\\x20\\t\\r\\n\\f]",A=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function j(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(R,j)};var I=b,N=c;!function(){var e,t,n,i,o,l,c,h,d,f,g=N,_=k.expando,v=0,b=0,y=ee(),w=ee(),x=ee(),S=ee(),C=function(e,t){return e===t&&(o=!0),0},E="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",L=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp(P+"+","g"),$=new RegExp("^"+P+"*,"+P+"*"),F=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),U=new RegExp(P+"|>"),z=new RegExp(L),V=new RegExp("^"+R+"$"),q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+E+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},H=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,J=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),Y=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},X=function(){le()},Z=de((function(e){return!0===e.disabled&&O(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(r=a.call(I.childNodes),I.childNodes),r[I.childNodes.length].nodeType}catch(be){g={apply:function(e,t){N.apply(e,a.call(t))},call:function(e){N.apply(e,a.call(arguments,1))}}}function Q(e,t,n,s){var i,r,o,a,c,u,p,f=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!s&&(le(t),t=t||l,h)){if(11!==v&&(c=K.exec(e)))if(i=c[1]){if(9===v){if(!(o=t.getElementById(i)))return n;if(o.id===i)return g.call(n,o),n}else if(f&&(o=f.getElementById(i))&&Q.contains(t,o)&&o.id===i)return g.call(n,o),n}else{if(c[2])return g.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return g.apply(n,t.getElementsByClassName(i)),n}if(!(S[e+" "]||d&&d.test(e))){if(p=e,f=t,1===v&&(U.test(e)||F.test(e))){for((f=G.test(e)&&ae(t.parentNode)||t)==t&&m.scope||((a=t.getAttribute("id"))?a=k.escapeSelector(a):t.setAttribute("id",a=_)),r=(u=ue(e)).length;r--;)u[r]=(a?"#"+a:":scope")+" "+he(u[r]);p=u.join(",")}try{return g.apply(n,f.querySelectorAll(p)),n}catch(b){S(e,!0)}finally{a===_&&t.removeAttribute("id")}}}return ve(e.replace(A,"$1"),t,n,s)}function ee(){var e=[];return function n(s,i){return e.push(s+" ")>t.cacheLength&&delete n[e.shift()],n[s+" "]=i}}function te(e){return e[_]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e){return function(t){return O(t,"input")&&t.type===e}}function ie(e){return function(t){return(O(t,"input")||O(t,"button"))&&t.type===e}}function re(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function oe(e){return te((function(t){return t=+t,te((function(n,s){for(var i,r=e([],n.length,t),o=r.length;o--;)n[i=r[o]]&&(n[i]=!(s[i]=n[i]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,s=e?e.ownerDocument||e:I;return s!=l&&9===s.nodeType&&s.documentElement?(c=(l=s).documentElement,h=!k.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&I!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",X),m.getById=ne((function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),m.disconnectedMatch=ne((function(e){return f.call(e,"*")})),m.scope=ne((function(){return l.querySelectorAll(":scope")})),m.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(be){return!0}})),m.getById?(t.filter.ID=function(e){var t=e.replace(J,Y);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(J,Y);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,s,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),s=0;r=i[s++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+P+"*(?:value|"+E+")"),e.querySelectorAll("[id~="+_+"-]").length||d.push("~="),e.querySelectorAll("a#"+_+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")})),m.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),C=function(e,t){if(e===t)return o=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==I&&Q.contains(I,e)?-1:t===l||t.ownerDocument==I&&Q.contains(I,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(le(e),h&&!S[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){S(t,!0)}return Q(t,l,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var s=t.attrHandle[n.toLowerCase()],i=s&&p.call(t.attrHandle,n.toLowerCase())?s(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],s=0,r=0;if(o=!m.sortStable,i=!m.sortStable&&a.call(e,0),T.call(e,C),o){for(;t=e[r++];)t===e[r]&&(s=n.push(r));for(;s--;)D.call(e,n[s],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(a.apply(this)))},t=k.expr={cacheLength:50,createPseudo:te,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,Y),e[3]=(e[3]||e[4]||e[5]||"").replace(J,Y),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,Y).toLowerCase();return"*"===e?function(){return!0}:function(e){return O(e,t)}},CLASS:function(e){var t=y[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&y(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(s){var i=Q.attr(s,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,s,i){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===s&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f=r!==o?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(r){for(;f;){for(h=t;h=h[f];)if(a?O(h,m):1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&b){for(y=(d=(c=(u=g[_]||(g[_]={}))[e]||[])[0]===v&&c[1])&&c[2],h=d&&g.childNodes[d];h=++d&&h&&h[f]||(y=d=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[v,d,y];break}}else if(b&&(y=d=(c=(u=t[_]||(t[_]={}))[e]||[])[0]===v&&c[1]),!1===y)for(;(h=++d&&h&&h[f]||(y=d=0)||p.pop())&&(!(a?O(h,m):1===h.nodeType)||!++y||(b&&((u=h[_]||(h[_]={}))[e]=[v,y]),h!==t)););return(y-=i)===s||y%s==0&&y/s>=0}}},PSEUDO:function(e,n){var s,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return i[_]?i(n):i.length>1?(s=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var s,r=i(e,n),o=r.length;o--;)e[s=u.call(e,r[o])]=!(t[s]=r[o])})):function(e){return i(e,0,s)}):i}},pseudos:{not:te((function(e){var t=[],n=[],s=_e(e.replace(A,"$1"));return s[_]?te((function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))})):function(e,i,r){return t[0]=e,s(t,null,r,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(J,Y),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}})),lang:te((function(e){return V.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(J,Y).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=s.location&&s.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:re(!1),disabled:re(!0),checked:function(e){return O(e,"input")&&!!e.checked||O(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return H.test(e.nodeName)},button:function(e){return O(e,"input")&&"button"===e.type||O(e,"button")},text:function(e){var t;return O(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:oe((function(){return[0]})),last:oe((function(e,t){return[t-1]})),eq:oe((function(e,t,n){return[n<0?n+t:n]})),even:oe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:oe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:oe((function(e,t,n){var s;for(s=n<0?n+t:n>t?t:n;--s>=0;)e.push(s);return e})),gt:oe((function(e,t,n){for(var s=n<0?n+t:n;++s<t;)e.push(s);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=se(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var s,i,r,o,a,l,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(o in s&&!(i=$.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),s=!1,(i=F.exec(a))&&(s=i.shift(),r.push({value:s,type:i[0].replace(A," ")}),a=a.slice(s.length)),t.filter)!(i=q[o].exec(a))||c[o]&&!(i=c[o](i))||(s=i.shift(),r.push({value:s,type:o,matches:i}),a=a.slice(s.length));if(!s)break}return n?a.length:a?Q.error(e):w(e,l).slice(0)}function he(e){for(var t=0,n=e.length,s="";t<n;t++)s+=e[t].value;return s}function de(e,t,n){var s=t.dir,i=t.next,r=i||s,o=n&&"parentNode"===r,a=b++;return t.first?function(t,n,i){for(;t=t[s];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[v,a];if(l){for(;t=t[s];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[s];)if(1===t.nodeType||o)if(u=t[_]||(t[_]={}),i&&O(t,i))t=t[s]||t;else{if((c=u[r])&&c[0]===v&&c[1]===a)return h[2]=c[2];if(u[r]=h,h[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,s){for(var i=e.length;i--;)if(!e[i](t,n,s))return!1;return!0}:e[0]}function fe(e,t,n,s,i){for(var r,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,s,i)||(o.push(r),c&&t.push(a)));return o}function ge(e,t,n,s,i,r){return s&&!s[_]&&(s=ge(s)),i&&!i[_]&&(i=ge(i,r)),te((function(r,o,a,l){var c,h,d,p,f=[],m=[],_=o.length,v=r||function(e,t,n){for(var s=0,i=t.length;s<i;s++)Q(e,t[s],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!r&&t?v:fe(v,f,e,a,l);if(n?n(b,p=i||(r?e:_||s)?[]:o,a,l):p=b,s)for(c=fe(p,m),s(c,[],a,l),h=c.length;h--;)(d=c[h])&&(p[m[h]]=!(b[m[h]]=d));if(r){if(i||e){if(i){for(c=[],h=p.length;h--;)(d=p[h])&&c.push(b[h]=d);i(null,p=[],c,l)}for(h=p.length;h--;)(d=p[h])&&(c=i?u.call(r,d):f[h])>-1&&(r[c]=!(o[c]=d))}}else p=fe(p===o?p.splice(_,p.length):p),i?i(null,o,p,l):g.apply(o,p)}))}function me(e){for(var s,i,r,o=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=de((function(e){return e===s}),l,!0),d=de((function(e){return u.call(s,e)>-1}),l,!0),p=[function(e,t,i){var r=!a&&(i||t!=n)||((s=t).nodeType?h(e,t,i):d(e,t,i));return s=null,r}];c<o;c++)if(i=t.relative[e[c].type])p=[de(pe(p),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[_]){for(r=++c;r<o&&!t.relative[e[r].type];r++);return ge(c>1&&pe(p),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(A,"$1"),i,c<r&&me(e.slice(c,r)),r<o&&me(e=e.slice(r)),r<o&&he(e))}p.push(i)}return pe(p)}function _e(e,s){var i,r=[],o=[],a=x[e+" "];if(!a){for(s||(s=ue(e)),i=s.length;i--;)(a=me(s[i]))[_]?r.push(a):o.push(a);a=x(e,function(e,s){var i=s.length>0,r=e.length>0,o=function(o,a,c,u,d){var p,f,m,_=0,b="0",y=o&&[],w=[],x=n,S=o||r&&t.find.TAG("*",d),C=v+=null==x?1:Math.random()||.1,E=S.length;for(d&&(n=a==l||a||d);b!==E&&null!=(p=S[b]);b++){if(r&&p){for(f=0,a||p.ownerDocument==l||(le(p),c=!h);m=e[f++];)if(m(p,a||l,c)){g.call(u,p);break}d&&(v=C)}i&&((p=!m&&p)&&_--,o&&y.push(p))}if(_+=b,i&&b!==_){for(f=0;m=s[f++];)m(y,w,a,c);if(o){if(_>0)for(;b--;)y[b]||w[b]||(w[b]=M.call(u));w=fe(w)}g.apply(u,w),d&&!o&&w.length>0&&_+s.length>1&&k.uniqueSort(u)}return d&&(v=C,n=x),y};return i?te(o):o}(o,r)),a.selector=e}return a}function ve(e,n,s,i){var r,o,a,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(s=s||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===n.nodeType&&h&&t.relative[o[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(J,Y),n)||[])[0]))return s;u&&(n=n.parentNode),e=e.slice(o.shift().value.length)}for(r=q.needsContext.test(e)?0:o.length;r--&&(a=o[r],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(J,Y),G.test(o[0].type)&&ae(n.parentNode)||n))){if(o.splice(r,1),!(e=i.length&&he(o)))return g.apply(s,i),s;break}}return(u||_e(e,d))(i,n,!h,s,!n||G.test(e)&&ae(n.parentNode)||n),s}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,m.sortStable=_.split("").sort(C).join("")===_,le(),m.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),k.find=Q,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,Q.compile=_e,Q.select=ve,Q.setDocument=le,Q.tokenize=ue,Q.escape=k.escapeSelector,Q.getText=k.text,Q.isXML=k.isXMLDoc,Q.selectors=k.expr,Q.support=k.support,Q.uniqueSort=k.uniqueSort}();var L=function(e,t,n){for(var s=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;s.push(e)}return s},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},$=k.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return _(t)?k.grep(e,(function(e,s){return!!t.call(e,s,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var s=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?k.find.matchesSelector(s,e)?[s]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,s=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<s;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<s;t++)k.find(e,i[t],n);return s>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&$.test(e)?k(e):e||[],!1).length}});var z,V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var s,i;if(!e)return this;if(n=n||z,"string"==typeof e){if(!(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:V.exec(e))||!s[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),F.test(s[1])&&k.isPlainObject(t))for(s in t)_(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return(i=b.getElementById(s[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,z=k(b);var q=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,s=0,i=this.length,r=[],o="string"!=typeof e&&k(e);if(!$.test(e))for(;s<i;s++)for(n=this[s];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?k.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return L(e,"parentNode")},parentsUntil:function(e,t,n){return L(e,"parentNode",n)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return L(e,"nextSibling")},prevAll:function(e){return L(e,"previousSibling")},nextUntil:function(e,t,n){return L(e,"nextSibling",n)},prevUntil:function(e,t,n){return L(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(O(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,s){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(s=n),s&&"string"==typeof s&&(i=k.filter(s,i)),this.length>1&&(H[e]||k.uniqueSort(i),q.test(e)&&i.reverse()),this.pushStack(i)}}));var K=/[^\x20\t\r\n\f]+/g;function G(e){return e}function J(e){throw e}function Y(e,t,n,s){var i;try{e&&_(i=e.promise)?i.call(e).done(t).fail(n):e&&_(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(s))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(K)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,s,i,r=[],o=[],a=-1,l=function(){for(i=i||e.once,s=t=!0;o.length;a=-1)for(n=o.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,i&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(a=r.length-1,o.push(n)),function t(n){k.each(n,(function(n,s){_(s)?e.unique&&c.has(s)||r.push(s):s&&s.length&&"string"!==x(s)&&t(s)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--})),this},has:function(e){return e?k.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=o=[],r=n="",this},disabled:function(){return!r},lock:function(){return i=o=[],n||t||(r=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,s){var i=_(e[s[4]])&&e[s[4]];r[s[1]]((function(){var e=i&&i.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var r=0;function o(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var s,c;if(!(e<r)){if((s=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=s&&("object"==typeof s||"function"==typeof s)&&s.then,_(c)?i?c.call(s,o(r,t,G,i),o(r,t,J,i)):(r++,c.call(s,o(r,t,G,i),o(r,t,J,i),o(r,t,G,t.notifyWith))):(n!==G&&(a=void 0,l=[s]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(s){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(s,u.error),e+1>=r&&(n!==J&&(a=void 0,l=[s]),t.rejectWith(a,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),s.setTimeout(u))}}return k.Deferred((function(s){t[0][3].add(o(0,s,_(i)?i:G,s.notifyWith)),t[1][3].add(o(0,s,_(e)?e:G)),t[2][3].add(o(0,s,_(n)?n:J))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},r={};return k.each(t,(function(e,s){var o=s[2],a=s[5];i[s[1]]=o.add,a&&o.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(s[3].fire),r[s[0]]=function(){return r[s[0]+"With"](this===r?void 0:this,arguments),this},r[s[0]+"With"]=o.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,s=Array(n),i=a.call(arguments),r=k.Deferred(),o=function(e){return function(n){s[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||r.resolveWith(s,i)}};if(t<=1&&(Y(e,r.done(o(n)).resolve,r.reject,!t),"pending"===r.state()||_(i[n]&&i[n].then)))return r.then();for(;n--;)Y(i[n],o(n),r.reject);return r.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){s.console&&s.console.warn&&e&&X.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){s.setTimeout((function(){throw e}))};var Z=k.Deferred();function Q(){b.removeEventListener("DOMContentLoaded",Q),s.removeEventListener("load",Q),k.ready()}k.fn.ready=function(e){return Z.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||Z.resolveWith(b,[k]))}}),k.ready.then=Z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?s.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",Q),s.addEventListener("load",Q));var ee=function(e,t,n,s,i,r,o){var a=0,l=e.length,c=null==n;if("object"===x(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,r,o);else if(void 0!==s&&(i=!0,_(s)||(o=!0),c&&(o?(t.call(e,s),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;a<l;a++)t(e[a],n,o?s:s.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):r},te=/^-ms-/,ne=/-([a-z])/g;function se(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,se)}var re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=k.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var s,i=this.cache(e);if("string"==typeof t)i[ie(t)]=n;else for(s in t)i[ie(s)]=t[s];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,s=e[this.expando];if(void 0!==s){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in s?[t]:t.match(K)||[]).length;for(;n--;)delete s[t[n]]}(void 0===t||k.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new oe,le=new oe,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function he(e,t,n){var s;if(void 0===n&&1===e.nodeType)if(s="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(s))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(i){}le.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,s,i,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(i=le.get(r),1===r.nodeType&&!ae.get(r,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(s=o[n].name).indexOf("data-")&&(s=ie(s.slice(5)),he(r,s,i[s]));ae.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=le.get(r,e))||void 0!==(n=he(r,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var s;if(e)return t=(t||"fx")+"queue",s=ae.get(e,t),n&&(!s||Array.isArray(n)?s=ae.access(e,t,k.makeArray(n)):s.push(n)),s||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),s=n.length,i=n.shift(),r=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),s--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,(function(){k.dequeue(e,t)}),r)),!s&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,s=1,i=k.Deferred(),r=this,o=this.length,a=function(){--s||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=ae.get(r[o],e+"queueHooks"))&&n.empty&&(s++,n.empty.add(a));return a(),i.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],ge=b.documentElement,me=function(e){return k.contains(e.ownerDocument,e)},_e={composed:!0};ge.getRootNode&&(me=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(_e)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===k.css(e,"display")};function be(e,t,n,s){var i,r,o=20,a=s?function(){return s.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&pe.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)k.style(e,t,u+c),(1-r)*(1-(r=a()/l||.5))<=0&&(o=0),u/=r;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],s&&(s.unit=c,s.start=u,s.end=i)),i}var ye={};function we(e){var t,n=e.ownerDocument,s=e.nodeName,i=ye[s];return i||(t=n.body.appendChild(n.createElement(s)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ye[s]=i,i)}function xe(e,t){for(var n,s,i=[],r=0,o=e.length;r<o;r++)(s=e[r]).style&&(n=s.style.display,t?("none"===n&&(i[r]=ae.get(s,"display")||null,i[r]||(s.style.display="")),""===s.style.display&&ve(s)&&(i[r]=we(s))):"none"!==n&&(i[r]="none",ae.set(s,"display",n)));for(r=0;r<o;r++)null!=i[r]&&(e[r].style.display=i[r]);return e}k.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ve(this)?k(this).show():k(this).hide()}))}});var Se,Ce,ke=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Oe=/^$|^module$|\/(?:java|ecma)script/i;Se=b.createDocumentFragment().appendChild(b.createElement("div")),(Ce=b.createElement("input")).setAttribute("type","radio"),Ce.setAttribute("checked","checked"),Ce.setAttribute("name","t"),Se.appendChild(Ce),m.checkClone=Se.cloneNode(!0).cloneNode(!0).lastChild.checked,Se.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!Se.cloneNode(!0).lastChild.defaultValue,Se.innerHTML="<option></option>",m.option=!!Se.lastChild;var Me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Te(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&O(e,t)?k.merge([e],n):n}function De(e,t){for(var n=0,s=e.length;n<s;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,m.option||(Me.optgroup=Me.option=[1,"<select multiple='multiple'>","</select>"]);var Pe=/<|&#?\w+;/;function Ae(e,t,n,s,i){for(var r,o,a,l,c,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===x(r))k.merge(d,r.nodeType?[r]:r);else if(Pe.test(r)){for(o=o||h.appendChild(t.createElement("div")),a=(Ee.exec(r)||["",""])[1].toLowerCase(),l=Me[a]||Me._default,o.innerHTML=l[1]+k.htmlPrefilter(r)+l[2],u=l[0];u--;)o=o.lastChild;k.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(t.createTextNode(r));for(h.textContent="",p=0;r=d[p++];)if(s&&k.inArray(r,s)>-1)i&&i.push(r);else if(c=me(r),o=Te(h.appendChild(r),"script"),c&&De(o),n)for(u=0;r=o[u++];)Oe.test(r.type||"")&&n.push(r);return h}var Re=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function Ie(){return!1}function Ne(e,t,n,s,i,r){var o,a;if("object"==typeof t){for(a in"string"!=typeof n&&(s=s||n,n=void 0),t)Ne(e,a,n,s,t[a],r);return e}if(null==s&&null==i?(i=n,s=n=void 0):null==i&&("string"==typeof n?(i=s,s=void 0):(i=s,s=n,n=void 0)),!1===i)i=Ie;else if(!i)return e;return 1===r&&(o=i,i=function(e){return k().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,s,n)}))}function Le(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,s=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(s)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=a.call(arguments),ae.set(this,t,s),this[t](),n=ae.get(this,t),ae.set(this,t,!1),s!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else s&&(ae.set(this,t,k.event.trigger(s[0],s.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=je)}})):void 0===ae.get(e,t)&&k.event.add(e,t,je)}k.event={global:{},add:function(e,t,n,s,i){var r,o,a,l,c,u,h,d,p,f,g,m=ae.get(e);if(re(e))for(n.handler&&(n=(r=n).handler,i=r.selector),i&&k.find.matchesSelector(ge,i),n.guid||(n.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(K)||[""]).length;c--;)p=g=(a=Re.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=k.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=k.event.special[p]||{},u=k.extend({type:p,origType:g,data:s,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:f.join(".")},r),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,s,f,o)||e.addEventListener&&e.addEventListener(p,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),k.event.global[p]=!0)},remove:function(e,t,n,s,i){var r,o,a,l,c,u,h,d,p,f,g,m=ae.hasData(e)&&ae.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(K)||[""]).length;c--;)if(p=g=(a=Re.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=k.event.special[p]||{},d=l[p=(s?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=d.length;r--;)u=d[r],!i&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||k.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)k.event.remove(e,p+t[c],n,s,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,s,i,r,o,a=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=k.event.handlers.call(this,l,c),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(s=((k.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(l.result=s)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,s,i,r,o,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],o={},n=0;n<l;n++)void 0===o[i=(s=t[n]).selector+" "]&&(o[i]=s.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),o[i]&&r.push(s);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&O(t,"input")&&Le(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&O(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&O(t,"input")&&ae.get(t,"click")||O(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),s=k.event.fix(e);s.type="focusin"===e.type?"focus":"blur",s.isSimulated=!0,n(e),s.target===s.currentTarget&&n(s)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var s;if(Le(this,e,!0),!b.documentMode)return!1;(s=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(s||0)+1)},trigger:function(){return Le(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,i=b.documentMode?this:s,r=ae.get(i,t);r||(b.documentMode?this.addEventListener(t,n):s.addEventListener(e,n,!0)),ae.set(i,t,(r||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,i=b.documentMode?this:s,r=ae.get(i,t)-1;r?ae.set(i,t,r):(b.documentMode?this.removeEventListener(t,n):s.removeEventListener(e,n,!0),ae.remove(i,t))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,s=e.relatedTarget,i=e.handleObj;return s&&(s===this||k.contains(this,s))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,s){return Ne(this,e,t,n,s)},one:function(e,t,n,s){return Ne(this,e,t,n,s,1)},off:function(e,t,n){var s,i;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,k(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){k.event.remove(this,e,n,t)}))}});var Be=/<script|<style|<link/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ve(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qe(e,t){var n,s,i,r,o,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,s=a[i].length;n<s;n++)k.event.add(t,i,a[i][n]);le.hasData(e)&&(r=le.access(e),o=k.extend({},r),le.set(t,o))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function We(e,t,n,s){t=l(t);var i,r,o,a,c,u,h=0,d=e.length,p=d-1,f=t[0],g=_(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&$e.test(f))return e.each((function(i){var r=e.eq(i);g&&(t[0]=f.call(this,i,r.html())),We(r,t,n,s)}));if(d&&(r=(i=Ae(t,e[0].ownerDocument,!1,e,s)).firstChild,1===i.childNodes.length&&(i=r),r||s)){for(a=(o=k.map(Te(i,"script"),ze)).length;h<d;h++)c=i,h!==p&&(c=k.clone(c,!0,!0),a&&k.merge(o,Te(c,"script"))),n.call(e[h],c,h);if(a)for(u=o[o.length-1].ownerDocument,k.map(o,Ve),h=0;h<a;h++)c=o[h],Oe.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Fe,""),c,u))}return e}function Ke(e,t,n){for(var s,i=t?k.filter(t,e):e,r=0;null!=(s=i[r]);r++)n||1!==s.nodeType||k.cleanData(Te(s)),s.parentNode&&(n&&me(s)&&De(Te(s,"script")),s.parentNode.removeChild(s));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var s,i,r,o,a=e.cloneNode(!0),l=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(o=Te(a),s=0,i=(r=Te(e)).length;s<i;s++)He(r[s],o[s]);if(t)if(n)for(r=r||Te(e),o=o||Te(a),s=0,i=r.length;s<i;s++)qe(r[s],o[s]);else qe(e,a);return(o=Te(a,"script")).length>0&&De(o,!l&&Te(e,"script")),a},cleanData:function(e){for(var t,n,s,i=k.event.special,r=0;void 0!==(n=e[r]);r++)if(re(n)){if(t=n[ae.expando]){if(t.events)for(s in t.events)i[s]?k.event.remove(n,s):k.removeEvent(n,s,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ke(this,e,!0)},remove:function(e){return Ke(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return We(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return We(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Te(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Me[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<s;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Te(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Te(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,s=[],i=k(e),r=i.length-1,o=0;o<=r;o++)n=o===r?this:this.clone(!0),k(i[o])[t](n),c.apply(s,n.get());return this.pushStack(s)}}));var Ge=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),Je=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=s),t.getComputedStyle(e)},Xe=function(e,t,n){var s,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in s=n.call(e),t)e.style[i]=r[i];return s},Ze=new RegExp(fe.join("|"),"i");function Qe(e,t,n){var s,i,r,o,a=Je.test(t),l=e.style;return(n=n||Ye(e))&&(o=n.getPropertyValue(t)||n[t],a&&o&&(o=o.replace(A,"$1")||void 0),""!==o||me(e)||(o=k.style(e,t)),!m.pixelBoxStyles()&&Ge.test(o)&&Ze.test(t)&&(s=l.width,i=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=n.width,l.width=s,l.minWidth=i,l.maxWidth=r)),void 0!==o?o+"":o}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(c).appendChild(u);var e=s.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),i=36===t(e.width),u.style.position="absolute",r=12===t(u.offsetWidth/3),ge.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,o,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ge.appendChild(e).appendChild(t).appendChild(n),i=s.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],nt=b.createElement("div").style,st={};function it(e){var t=k.cssProps[e]||st[e];return t||(e in nt?e:st[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,n){var s=pe.exec(t);return s?Math.max(0,s[2]-(n||0))+(s[3]||"px"):t}function ct(e,t,n,s,i,r){var o="width"===t?1:0,a=0,l=0,c=0;if(n===(s?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=k.css(e,n+fe[o],!0,i)),s?("content"===n&&(l-=k.css(e,"padding"+fe[o],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+fe[o]+"Width",!0,i))):(l+=k.css(e,"padding"+fe[o],!0,i),"padding"!==n?l+=k.css(e,"border"+fe[o]+"Width",!0,i):a+=k.css(e,"border"+fe[o]+"Width",!0,i));return!s&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l+c}function ut(e,t,n){var s=Ye(e),i=(!m.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,s),r=i,o=Qe(e,t,s),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(o)){if(!n)return o;o="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&O(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(e,"display",!1,s))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,s),(r=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+ct(e,t,n||(i?"border":"content"),r,s,o)+"px"}function ht(e,t,n,s,i){return new ht.prototype.init(e,t,n,s,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,o,a=ie(t),l=Je.test(t),c=e.style;if(l||(t=it(a)),o=k.cssHooks[t]||k.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,s))?i:c[t];"string"===(r=typeof n)&&(i=pe.exec(n))&&i[1]&&(n=be(e,t,i),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,s))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,s){var i,r,o,a=ie(t);return Je.test(t)||(t=it(a)),(o=k.cssHooks[t]||k.cssHooks[a])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=Qe(e,t,s)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,s){if(n)return!rt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,s):Xe(e,ot,(function(){return ut(e,t,s)}))},set:function(e,n,s){var i,r=Ye(e),o=!m.scrollboxSize()&&"absolute"===r.position,a=(o||s)&&"border-box"===k.css(e,"boxSizing",!1,r),l=s?ct(e,t,s,a,r):0;return a&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-ct(e,t,"border",!1,r)-.5)),l&&(i=pe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),lt(0,n,l)}}})),k.cssHooks.marginLeft=et(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var s=0,i={},r="string"==typeof n?n.split(" "):[n];s<4;s++)i[e+fe[s]+t]=r[s]||r[s-2]||r[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=lt)})),k.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var s,i,r={},o=0;if(Array.isArray(t)){for(s=Ye(e),i=t.length;o<i;o++)r[t[o]]=k.css(e,t[o],!1,s);return r}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,n,s,i,r){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=r||(k.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ht.prototype.init,k.fx.step={};var dt,pt,ft=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function mt(){pt&&(!1===b.hidden&&s.requestAnimationFrame?s.requestAnimationFrame(mt):s.setTimeout(mt,k.fx.interval),k.fx.tick())}function _t(){return s.setTimeout((function(){dt=void 0})),dt=Date.now()}function vt(e,t){var n,s=0,i={height:e};for(t=t?1:0;s<4;s+=2-t)i["margin"+(n=fe[s])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function bt(e,t,n){for(var s,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),r=0,o=i.length;r<o;r++)if(s=i[r].call(n,t,e))return s}function yt(e,t,n){var s,i,r=0,o=yt.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=dt||_t(),n=Math.max(0,c.startTime+c.duration-t),s=1-(n/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(s);return a.notifyWith(e,[c,s,n]),s<1&&o?n:(o||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||_t(),duration:n.duration,tweens:[],createTween:function(t,n){var s=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(s),s},stop:function(t){var n=0,s=t?c.tweens.length:0;if(i)return this;for(i=!0;n<s;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,s,i,r,o;for(n in e)if(i=t[s=ie(n)],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==s&&(e[s]=r,delete e[n]),(o=k.cssHooks[s])&&"expand"in o)for(n in r=o.expand(r),delete e[s],r)n in e||(e[n]=r[n],t[n]=i);else t[s]=i}(u,c.opts.specialEasing);r<o;r++)if(s=yt.prefilters[r].call(c,e,u,c.opts))return _(s.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=s.stop.bind(s)),s;return k.map(u,bt,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,pe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(K);for(var n,s=0,i=e.length;s<i;s++)n=e[s],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var s,i,r,o,a,l,c,u,h="width"in t||"height"in t,d=this,p={},f=e.style,g=e.nodeType&&ve(e),m=ae.get(e,"fxshow");for(s in n.queue||(null==(o=k._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,k.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[s],ft.test(i)){if(delete t[s],r=r||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[s])continue;g=!0}p[s]=m&&m[s]||k.style(e,s)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(s in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(xe([e],!0),c=e.style.display||c,u=k.css(e,"display"),xe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=ae.access(e,"fxshow",{display:c}),r&&(m.hidden=!g),g&&xe([e],!0),d.done((function(){for(s in g||xe([e]),ae.remove(e,"fxshow"),p)k.style(e,s,p[s])}))),l=bt(g?m[s]:0,s,d),s in m||(m[s]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),k.speed=function(e,t,n){var s=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return k.fx.off?s.duration=0:"number"!=typeof s.duration&&(s.duration in k.fx.speeds?s.duration=k.fx.speeds[s.duration]:s.duration=k.fx.speeds._default),null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){_(s.old)&&s.old.call(this),s.queue&&k.dequeue(this,s.queue)},s},k.fn.extend({fadeTo:function(e,t,n,s){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(e,t,n,s){var i=k.isEmptyObject(e),r=k.speed(t,n,s),o=function(){var t=yt(this,k.extend({},e),r);(i||ae.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=k.timers,o=ae.get(this);if(i)o[i]&&o[i].stop&&s(o[i]);else for(i in o)o[i]&&o[i].stop&&gt.test(i)&&s(o[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),s=n[e+"queue"],i=n[e+"queueHooks"],r=k.timers,o=s?s.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,s,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(vt(t,!0),e,s,i)}})),k.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,s){return this.animate(t,e,n,s)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),dt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){pt||(pt=!0,mt())},k.fx.stop=function(){pt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=s.setTimeout(t,e);n.stop=function(){s.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var wt,xt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return ee(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var s,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?k.prop(e,t,n):(1===r&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(s=i.set(e,n,t))?s:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(s=i.get(e,t))?s:null==(s=k.find.attr(e,t))?void 0:s)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,s=0,i=t&&t.match(K);if(i&&1===e.nodeType)for(;n=i[s++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=xt[t]||k.find.attr;xt[t]=function(e,t,s){var i,r,o=t.toLowerCase();return s||(r=xt[o],xt[o]=i,i=null!=n(e,t,s)?o:null,xt[o]=r),i}}));var St=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;function kt(e){return(e.match(K)||[]).join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function Ot(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(K)||[]}k.fn.extend({prop:function(e,t){return ee(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var s,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(s=i.set(e,n,t))?s:e[t]=n:i&&"get"in i&&null!==(s=i.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,s,i,r,o;return _(e)?this.each((function(t){k(this).addClass(e.call(this,t,Et(this)))})):(t=Ot(e)).length?this.each((function(){if(s=Et(this),n=1===this.nodeType&&" "+kt(s)+" "){for(r=0;r<t.length;r++)i=t[r],n.indexOf(" "+i+" ")<0&&(n+=i+" ");o=kt(n),s!==o&&this.setAttribute("class",o)}})):this},removeClass:function(e){var t,n,s,i,r,o;return _(e)?this.each((function(t){k(this).removeClass(e.call(this,t,Et(this)))})):arguments.length?(t=Ot(e)).length?this.each((function(){if(s=Et(this),n=1===this.nodeType&&" "+kt(s)+" "){for(r=0;r<t.length;r++)for(i=t[r];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");o=kt(n),s!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,s,i,r,o=typeof e,a="string"===o||Array.isArray(e);return _(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,Et(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Ot(e),this.each((function(){if(a)for(r=k(this),i=0;i<n.length;i++)s=n[i],r.hasClass(s)?r.removeClass(s):r.addClass(s);else void 0!==e&&"boolean"!==o||((s=Et(this))&&ae.set(this,"__className__",s),this.setAttribute&&this.setAttribute("class",s||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,s=0;for(t=" "+e+" ";n=this[s++];)if(1===n.nodeType&&(" "+kt(Et(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;k.fn.extend({val:function(e){var t,n,s,i=this[0];return arguments.length?(s=_(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=s?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Mt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,n,s,i=e.options,r=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?r+1:i.length;for(s=r<0?l:o?r:0;s<l;s++)if(((n=i[s]).selected||s===r)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,s,i=e.options,r=k.makeArray(t),o=i.length;o--;)((s=i[o]).selected=k.inArray(k.valHooks.option.get(s),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},m.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt=s.location,Dt={guid:Date.now()},Pt=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new s.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var At=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var r,o,a,l,c,u,h,d,f=[n||b],g=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!At.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[k.expando]?e:new k.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!v(n)){for(l=h.delegateType||g,At.test(l+g)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||s)}for(r=0;(o=f[r++])&&!e.isPropagationStopped();)d=o,e.type=r>1?l:h.bindType||g,(u=(ae.get(o,"events")||Object.create(null))[e.type]&&ae.get(o,"handle"))&&u.apply(o,t),(u=c&&o[c])&&u.apply&&re(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!re(n)||c&&_(n[g])&&!v(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Rt),n[g](),e.isPropagationStopped()&&d.removeEventListener(g,Rt),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var s=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(s,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var jt=/\[\]$/,It=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,s){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||jt.test(e)?s(e,i):Bt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,s)}));else if(n||"object"!==x(t))s(e,t);else for(i in t)Bt(e+"["+i+"]",t[i],n,s)}k.param=function(e,t){var n,s=[],i=function(e,t){var n=_(t)?t():t;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,i);return s.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Lt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ke.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(It,"\r\n")}})):{name:t.name,value:n.replace(It,"\r\n")}})).get()}});var $t=/%20/g,Ft=/#.*$/,Ut=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:GET|HEAD)$/,qt=/^\/\//,Ht={},Wt={},Kt="*/".concat("*"),Gt=b.createElement("a");function Jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var s,i=0,r=t.toLowerCase().match(K)||[];if(_(n))for(;s=r[i++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(n)):(e[s]=e[s]||[]).push(n)}}function Yt(e,t,n,s){var i={},r=e===Wt;function o(a){var l;return i[a]=!0,k.each(e[a]||[],(function(e,a){var c=a(t,n,s);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Xt(e,t){var n,s,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:s||(s={}))[n]=t[n]);return s&&k.extend(!0,e,s),e}Gt.href=Tt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,k.ajaxSettings),t):Xt(k.ajaxSettings,e)},ajaxPrefilter:Jt(Ht),ajaxTransport:Jt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,r,o,a,l,c,u,h,d,p=k.ajaxSetup({},t),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?k(f):k.event,m=k.Deferred(),_=k.Callbacks("once memory"),v=p.statusCode||{},y={},w={},x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=zt.exec(r);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),C(0,t),this}};if(m.promise(S),p.url=((e||p.url||Tt.href)+"").replace(qt,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(K)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Gt.protocol+"//"+Gt.host!=l.protocol+"//"+l.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Yt(Ht,p,t,S),c)return S;for(h in(u=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Vt.test(p.type),i=p.url.replace(Ft,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace($t,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Pt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Ut,"$1"),d=(Pt.test(i)?"&":"?")+"_="+Dt.guid+++d),p.url=i+d),p.ifModified&&(k.lastModified[i]&&S.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&S.setRequestHeader("If-None-Match",k.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(x="abort",_.add(p.complete),S.done(p.success),S.fail(p.error),n=Yt(Wt,p,t,S)){if(S.readyState=1,u&&g.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(a=s.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,n.send(y,C)}catch(E){if(c)throw E;C(-1,E)}}else C(-1,"No Transport");function C(e,t,o,l){var h,d,b,y,w,x=t;c||(c=!0,a&&s.clearTimeout(a),n=void 0,r=l||"",S.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(y=function(e,t,n){for(var s,i,r,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(i in a)if(a[i]&&a[i].test(s)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}o||(o=i)}r=r||o}if(r)return r!==l[0]&&l.unshift(r),n[r]}(p,S,o)),!h&&k.inArray("script",p.dataTypes)>-1&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),y=function(e,t,n,s){var i,r,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(i in c)if((a=i.split(" "))[1]===r&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[i]:!0!==c[i]&&(r=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(E){return{state:"parsererror",error:o?E:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,y,S,h),h?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=w),(w=S.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,h=!(b=y.error))):(b=x,!e&&x||(x="error",e<0&&(e=0))),S.status=e,S.statusText=(t||x)+"",h?m.resolveWith(f,[d,x,S]):m.rejectWith(f,[S,x,b]),S.statusCode(v),v=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[S,p,h?d:b]),_.fireWith(f,[S,x]),u&&(g.trigger("ajaxComplete",[S,p]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,s,i){return _(n)&&(i=i||s,s=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:s},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return _(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Qt=k.ajaxSettings.xhr();m.cors=!!Qt&&"withCredentials"in Qt,m.ajax=Qt=!!Qt,k.ajaxTransport((function(e){var t,n;if(m.cors||Qt&&!e.crossDomain)return{send:function(i,r){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&s.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(s,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||k.expando+"_"+Dt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+i):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||k.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=s[i],s[i]=function(){o=arguments},n.always((function(){void 0===r?k(s).removeProp(i):s[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,tn.push(i)),o&&_(r)&&r(o[0]),o=r=void 0})),"script"})),m.createHTMLDocument=((en=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((s=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(s)):t=b),r=!n&&[],(i=F.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,r),r&&r.length&&k(r).remove(),k.merge([],i.childNodes)));var s,i,r},k.fn.load=function(e,t,n){var s,i,r,o=this,a=e.indexOf(" ");return a>-1&&(s=kt(e.slice(a)),e=e.slice(0,a)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,o.html(s?k("<div>").append(k.parseHTML(e)).find(s):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var s,i,r,o,a,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),r=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(o=(s=u.position()).top,i=s.left):(o=parseFloat(r)||0,i=parseFloat(l)||0),_(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,s=this[0];return s?s.getClientRects().length?(t=s.getBoundingClientRect(),n=s.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,s=this[0],i={top:0,left:0};if("fixed"===k.css(s,"position"))t=s.getBoundingClientRect();else{for(t=this.offset(),n=s.ownerDocument,e=s.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==s&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(s,"marginTop",!0),left:t.left-i.left-k.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ge}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(s){return ee(this,(function(e,s,i){var r;if(v(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[s];r?r.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[s]=i}),e,s,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=et(m.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Ge.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,s){k.fn[s]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return ee(this,(function(t,n,i){var r;return v(t)?0===s.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)}),t,o?i:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var sn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,s,i;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return s=a.call(arguments,2),i=function(){return e.apply(t||this,s.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=O,k.isFunction=_,k.isWindow=v,k.camelCase=ie,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(sn,"$1")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var rn=s.jQuery,on=s.$;return k.noConflict=function(e){return s.$===k&&(s.$=on),e&&s.jQuery===k&&(s.jQuery=rn),k},void 0===i&&(s.jQuery=s.$=k),k}))},49461:e=>{"use strict";var t=e.exports=function(e,t,s){"function"==typeof t&&(s=t,t={}),n(t,"function"==typeof(s=t.cb||s)?s:s.pre||function(){},s.post||function(){},e,"",e)};function n(e,s,i,r,o,a,l,c,u,h){if(r&&"object"==typeof r&&!Array.isArray(r)){for(var d in s(r,o,a,l,c,u,h),r){var p=r[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var f=0;f<p.length;f++)n(e,s,i,p[f],o+"/"+d+"/"+f,a,o,d,r,f)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var g in p)n(e,s,i,p[g],o+"/"+d+"/"+g.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,d,r,g)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,s,i,p,o+"/"+d,a,o,d,r)}i(r,o,a,l,c,u,h)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},11142:function(e){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),n=e((function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)})),s=(n.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),i=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e},r=function(e){try{return!!e()}catch(t){return!0}},o=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),a=t.document,l=s(a)&&s(a.createElement),c=function(e){return l?a.createElement(e):{}},u=!o&&!r((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})),h=function(e,t){if(!s(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!s(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!s(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!s(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},d=Object.defineProperty,p={f:o?Object.defineProperty:function(e,t,n){if(i(e),t=h(t,!0),i(n),u)try{return d(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},f=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},g=o?function(e,t,n){return p.f(e,t,f(1,n))}:function(e,t,n){return e[t]=n,e},m={}.hasOwnProperty,_=function(e,t){return m.call(e,t)},v=0,b=Math.random(),y=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++v+b).toString(36))},w=!1,x=e((function(e){var s="__core-js_shared__",i=t[s]||(t[s]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:w?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),S=x("native-function-to-string",Function.toString),C=e((function(e){var s=y("src"),i="toString",r=(""+S).split(i);n.inspectSource=function(e){return S.call(e)},(e.exports=function(e,n,i,o){var a="function"==typeof i;a&&(_(i,"name")||g(i,"name",n)),e[n]!==i&&(a&&(_(i,s)||g(i,s,e[n]?""+e[n]:r.join(String(n)))),e===t?e[n]=i:o?e[n]?e[n]=i:g(e,n,i):(delete e[n],g(e,n,i)))})(Function.prototype,i,(function(){return"function"==typeof this&&this[s]||S.call(this)}))})),k=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},E=function(e,t,n){if(k(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,i){return e.call(t,n,s,i)}}return function(){return e.apply(t,arguments)}},O="prototype",M=function(e,s,i){var r,o,a,l,c=e&M.F,u=e&M.G,h=e&M.S,d=e&M.P,p=e&M.B,f=u?t:h?t[s]||(t[s]={}):(t[s]||{})[O],m=u?n:n[s]||(n[s]={}),_=m[O]||(m[O]={});for(r in u&&(i=s),i)a=((o=!c&&f&&void 0!==f[r])?f:i)[r],l=p&&o?E(a,t):d&&"function"==typeof a?E(Function.call,a):a,f&&C(f,r,a,e&M.U),m[r]!=a&&g(m,r,l),d&&_[r]!=a&&(_[r]=a)};t.core=n,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var T,D=M,P=Math.ceil,A=Math.floor,R=function(e){return isNaN(e=+e)?0:(e>0?A:P)(e)},j=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},I=(T=!1,function(e,t){var n,s,i=String(j(e)),r=R(t),o=i.length;return r<0||r>=o?T?"":void 0:(n=i.charCodeAt(r))<55296||n>56319||r+1===o||(s=i.charCodeAt(r+1))<56320||s>57343?T?i.charAt(r):n:T?i.slice(r,r+2):s-56320+(n-55296<<10)+65536});D(D.P,"String",{codePointAt:function(e){return I(this,e)}}),n.String.codePointAt;var N=Math.max,L=Math.min,B=function(e,t){return(e=R(e))<0?N(e+t,0):L(e,t)},$=String.fromCharCode,F=String.fromCodePoint;D(D.S+D.F*(!!F&&1!=F.length),"String",{fromCodePoint:function(e){for(var t,n=arguments,s=[],i=arguments.length,r=0;i>r;){if(t=+n[r++],B(t,1114111)!==t)throw RangeError(t+" is not a valid code point");s.push(t<65536?$(t):$(55296+((t-=65536)>>10),t%1024+56320))}return s.join("")}}),n.String.fromCodePoint;var U,z,V,q,H,W,K,G,J,Y,X,Z,Q,ee,te={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},ne={isSpaceSeparator:function(e){return"string"==typeof e&&te.Space_Separator.test(e)},isIdStartChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||te.ID_Start.test(e))},isIdContinueChar:function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||"\u200c"===e||"\u200d"===e||te.ID_Continue.test(e))},isDigit:function(e){return"string"==typeof e&&/[0-9]/.test(e)},isHexDigit:function(e){return"string"==typeof e&&/[0-9A-Fa-f]/.test(e)}},se=function(e,t){U=String(e),z="start",V=[],q=0,H=1,W=0,K=void 0,G=void 0,J=void 0;do{K=re(),fe[z]()}while("eof"!==K.type);return"function"==typeof t?ie({"":J},"",t):J};function ie(e,t,n){var s=e[t];if(null!=s&&"object"==typeof s)if(Array.isArray(s))for(var i=0;i<s.length;i++){var r=String(i),o=ie(s,r,n);void 0===o?delete s[r]:Object.defineProperty(s,r,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(var a in s){var l=ie(s,a,n);void 0===l?delete s[a]:Object.defineProperty(s,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}return n.call(e,t,s)}function re(){for(Y="default",X="",Z=!1,Q=1;;){ee=oe();var e=le[Y]();if(e)return e}}function oe(){if(U[q])return String.fromCodePoint(U.codePointAt(q))}function ae(){var e=oe();return"\n"===e?(H++,W=0):e?W+=e.length:W++,e&&(q+=e.length),e}var le={default:function(){switch(ee){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void ae();case"/":return ae(),void(Y="comment");case void 0:return ae(),ce("eof")}if(!ne.isSpaceSeparator(ee))return le[z]();ae()},comment:function(){switch(ee){case"*":return ae(),void(Y="multiLineComment");case"/":return ae(),void(Y="singleLineComment")}throw _e(ae())},multiLineComment:function(){switch(ee){case"*":return ae(),void(Y="multiLineCommentAsterisk");case void 0:throw _e(ae())}ae()},multiLineCommentAsterisk:function(){switch(ee){case"*":return void ae();case"/":return ae(),void(Y="default");case void 0:throw _e(ae())}ae(),Y="multiLineComment"},singleLineComment:function(){switch(ee){case"\n":case"\r":case"\u2028":case"\u2029":return ae(),void(Y="default");case void 0:return ae(),ce("eof")}ae()},value:function(){switch(ee){case"{":case"[":return ce("punctuator",ae());case"n":return ae(),ue("ull"),ce("null",null);case"t":return ae(),ue("rue"),ce("boolean",!0);case"f":return ae(),ue("alse"),ce("boolean",!1);case"-":case"+":return"-"===ae()&&(Q=-1),void(Y="sign");case".":return X=ae(),void(Y="decimalPointLeading");case"0":return X=ae(),void(Y="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return X=ae(),void(Y="decimalInteger");case"I":return ae(),ue("nfinity"),ce("numeric",1/0);case"N":return ae(),ue("aN"),ce("numeric",NaN);case'"':case"'":return Z='"'===ae(),X="",void(Y="string")}throw _e(ae())},identifierNameStartEscape:function(){if("u"!==ee)throw _e(ae());ae();var e=pe();switch(e){case"$":case"_":break;default:if(!ne.isIdStartChar(e))throw be()}X+=e,Y="identifierName"},identifierName:function(){switch(ee){case"$":case"_":case"\u200c":case"\u200d":return void(X+=ae());case"\\":return ae(),void(Y="identifierNameEscape")}if(!ne.isIdContinueChar(ee))return ce("identifier",X);X+=ae()},identifierNameEscape:function(){if("u"!==ee)throw _e(ae());ae();var e=pe();switch(e){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!ne.isIdContinueChar(e))throw be()}X+=e,Y="identifierName"},sign:function(){switch(ee){case".":return X=ae(),void(Y="decimalPointLeading");case"0":return X=ae(),void(Y="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return X=ae(),void(Y="decimalInteger");case"I":return ae(),ue("nfinity"),ce("numeric",Q*(1/0));case"N":return ae(),ue("aN"),ce("numeric",NaN)}throw _e(ae())},zero:function(){switch(ee){case".":return X+=ae(),void(Y="decimalPoint");case"e":case"E":return X+=ae(),void(Y="decimalExponent");case"x":case"X":return X+=ae(),void(Y="hexadecimal")}return ce("numeric",0*Q)},decimalInteger:function(){switch(ee){case".":return X+=ae(),void(Y="decimalPoint");case"e":case"E":return X+=ae(),void(Y="decimalExponent")}if(!ne.isDigit(ee))return ce("numeric",Q*Number(X));X+=ae()},decimalPointLeading:function(){if(ne.isDigit(ee))return X+=ae(),void(Y="decimalFraction");throw _e(ae())},decimalPoint:function(){switch(ee){case"e":case"E":return X+=ae(),void(Y="decimalExponent")}return ne.isDigit(ee)?(X+=ae(),void(Y="decimalFraction")):ce("numeric",Q*Number(X))},decimalFraction:function(){switch(ee){case"e":case"E":return X+=ae(),void(Y="decimalExponent")}if(!ne.isDigit(ee))return ce("numeric",Q*Number(X));X+=ae()},decimalExponent:function(){switch(ee){case"+":case"-":return X+=ae(),void(Y="decimalExponentSign")}if(ne.isDigit(ee))return X+=ae(),void(Y="decimalExponentInteger");throw _e(ae())},decimalExponentSign:function(){if(ne.isDigit(ee))return X+=ae(),void(Y="decimalExponentInteger");throw _e(ae())},decimalExponentInteger:function(){if(!ne.isDigit(ee))return ce("numeric",Q*Number(X));X+=ae()},hexadecimal:function(){if(ne.isHexDigit(ee))return X+=ae(),void(Y="hexadecimalInteger");throw _e(ae())},hexadecimalInteger:function(){if(!ne.isHexDigit(ee))return ce("numeric",Q*Number(X));X+=ae()},string:function(){switch(ee){case"\\":return ae(),void(X+=he());case'"':return Z?(ae(),ce("string",X)):void(X+=ae());case"'":return Z?void(X+=ae()):(ae(),ce("string",X));case"\n":case"\r":throw _e(ae());case"\u2028":case"\u2029":ye(ee);break;case void 0:throw _e(ae())}X+=ae()},start:function(){switch(ee){case"{":case"[":return ce("punctuator",ae())}Y="value"},beforePropertyName:function(){switch(ee){case"$":case"_":return X=ae(),void(Y="identifierName");case"\\":return ae(),void(Y="identifierNameStartEscape");case"}":return ce("punctuator",ae());case'"':case"'":return Z='"'===ae(),void(Y="string")}if(ne.isIdStartChar(ee))return X+=ae(),void(Y="identifierName");throw _e(ae())},afterPropertyName:function(){if(":"===ee)return ce("punctuator",ae());throw _e(ae())},beforePropertyValue:function(){Y="value"},afterPropertyValue:function(){switch(ee){case",":case"}":return ce("punctuator",ae())}throw _e(ae())},beforeArrayValue:function(){if("]"===ee)return ce("punctuator",ae());Y="value"},afterArrayValue:function(){switch(ee){case",":case"]":return ce("punctuator",ae())}throw _e(ae())},end:function(){throw _e(ae())}};function ce(e,t){return{type:e,value:t,line:H,column:W}}function ue(e){for(var t=0,n=e;t<n.length;t+=1){var s=n[t];if(oe()!==s)throw _e(ae());ae()}}function he(){switch(oe()){case"b":return ae(),"\b";case"f":return ae(),"\f";case"n":return ae(),"\n";case"r":return ae(),"\r";case"t":return ae(),"\t";case"v":return ae(),"\v";case"0":if(ae(),ne.isDigit(oe()))throw _e(ae());return"\0";case"x":return ae(),de();case"u":return ae(),pe();case"\n":case"\u2028":case"\u2029":return ae(),"";case"\r":return ae(),"\n"===oe()&&ae(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw _e(ae())}return ae()}function de(){var e="",t=oe();if(!ne.isHexDigit(t))throw _e(ae());if(e+=ae(),t=oe(),!ne.isHexDigit(t))throw _e(ae());return e+=ae(),String.fromCodePoint(parseInt(e,16))}function pe(){for(var e="",t=4;t-- >0;){var n=oe();if(!ne.isHexDigit(n))throw _e(ae());e+=ae()}return String.fromCodePoint(parseInt(e,16))}var fe={start:function(){if("eof"===K.type)throw ve();ge()},beforePropertyName:function(){switch(K.type){case"identifier":case"string":return G=K.value,void(z="afterPropertyName");case"punctuator":return void me();case"eof":throw ve()}},afterPropertyName:function(){if("eof"===K.type)throw ve();z="beforePropertyValue"},beforePropertyValue:function(){if("eof"===K.type)throw ve();ge()},beforeArrayValue:function(){if("eof"===K.type)throw ve();"punctuator"!==K.type||"]"!==K.value?ge():me()},afterPropertyValue:function(){if("eof"===K.type)throw ve();switch(K.value){case",":return void(z="beforePropertyName");case"}":me()}},afterArrayValue:function(){if("eof"===K.type)throw ve();switch(K.value){case",":return void(z="beforeArrayValue");case"]":me()}},end:function(){}};function ge(){var e;switch(K.type){case"punctuator":switch(K.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=K.value}if(void 0===J)J=e;else{var t=V[V.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,G,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(null!==e&&"object"==typeof e)V.push(e),z=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{var n=V[V.length-1];z=null==n?"end":Array.isArray(n)?"afterArrayValue":"afterPropertyValue"}}function me(){V.pop();var e=V[V.length-1];z=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function _e(e){return xe(void 0===e?"JSON5: invalid end of input at "+H+":"+W:"JSON5: invalid character '"+we(e)+"' at "+H+":"+W)}function ve(){return xe("JSON5: invalid end of input at "+H+":"+W)}function be(){return xe("JSON5: invalid identifier character at "+H+":"+(W-=5))}function ye(e){console.warn("JSON5: '"+we(e)+"' in strings is not valid ECMAScript; consider escaping")}function we(e){var t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){var n=e.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return e}function xe(e){var t=new SyntaxError(e);return t.lineNumber=H,t.columnNumber=W,t}return{parse:se,stringify:function(e,t,n){var s,i,r,o=[],a="",l="";if(null==t||"object"!=typeof t||Array.isArray(t)||(n=t.space,r=t.quote,t=t.replacer),"function"==typeof t)i=t;else if(Array.isArray(t)){s=[];for(var c=0,u=t;c<u.length;c+=1){var h=u[c],d=void 0;"string"==typeof h?d=h:("number"==typeof h||h instanceof String||h instanceof Number)&&(d=String(h)),void 0!==d&&s.indexOf(d)<0&&s.push(d)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),l="          ".substr(0,n)):"string"==typeof n&&(l=n.substr(0,10)),p("",{"":e});function p(e,t){var n=t[e];switch(null!=n&&("function"==typeof n.toJSON5?n=n.toJSON5(e):"function"==typeof n.toJSON&&(n=n.toJSON(e))),i&&(n=i.call(t,e,n)),n instanceof Number?n=Number(n):n instanceof String?n=String(n):n instanceof Boolean&&(n=n.valueOf()),n){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof n?f(n,!1):"number"==typeof n?String(n):"object"==typeof n?Array.isArray(n)?_(n):g(n):void 0}function f(e){for(var t={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},s="",i=0;i<e.length;i++){var o=e[i];switch(o){case"'":case'"':t[o]++,s+=o;continue;case"\0":if(ne.isDigit(e[i+1])){s+="\\x00";continue}}if(n[o])s+=n[o];else if(o<" "){var a=o.charCodeAt(0).toString(16);s+="\\x"+("00"+a).substring(a.length)}else s+=o}var l=r||Object.keys(t).reduce((function(e,n){return t[e]<t[n]?e:n}));return l+(s=s.replace(new RegExp(l,"g"),n[l]))+l}function g(e){if(o.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");o.push(e);var t=a;a+=l;for(var n,i,r=[],c=0,u=s||Object.keys(e);c<u.length;c+=1){var h=u[c],d=p(h,e);if(void 0!==d){var f=m(h)+":";""!==l&&(f+=" "),f+=d,r.push(f)}}if(0===r.length)n="{}";else if(""===l)n="{"+(i=r.join(","))+"}";else{var g=",\n"+a;i=r.join(g),n="{\n"+a+i+",\n"+t+"}"}return o.pop(),a=t,n}function m(e){if(0===e.length)return f(e,!0);var t=String.fromCodePoint(e.codePointAt(0));if(!ne.isIdStartChar(t))return f(e,!0);for(var n=t.length;n<e.length;n++)if(!ne.isIdContinueChar(String.fromCodePoint(e.codePointAt(n))))return f(e,!0);return e}function _(e){if(o.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");o.push(e);var t=a;a+=l;for(var n,s=[],i=0;i<e.length;i++){var r=p(String(i),e);s.push(void 0!==r?r:"null")}if(0===s.length)n="[]";else if(""===l)n="["+s.join(",")+"]";else{var c=",\n"+a,u=s.join(c);n="[\n"+a+u+",\n"+t+"]"}return o.pop(),a=t,n}}}}()},98686:(e,t,n)=>{var s=1/0,i="[object Symbol]",r=/[&<>"'`]/g,o=RegExp(r.source),a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")();var u,h=(u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==u?void 0:u[e]}),d=Object.prototype.toString,p=c.Symbol,f=p?p.prototype:void 0,g=f?f.toString:void 0;function m(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return g?g.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=function(e){var t;return(e=null==(t=e)?"":m(t))&&o.test(e)?e.replace(r,h):e}},99245:(e,t,n)=>{e=n.nmd(e);var s=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a="[object Map]",l="[object Promise]",c="[object Set]",u="[object WeakMap]",h="[object DataView]",d=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,g=p||f||Function("return this")(),m=t&&!t.nodeType&&t,_=m&&e&&!e.nodeType&&e,v=_&&_.exports===m;var b,y,w,x=Function.prototype,S=Object.prototype,C=g["__core-js_shared__"],k=(b=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",E=x.toString,O=S.hasOwnProperty,M=S.toString,T=RegExp("^"+E.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?g.Buffer:void 0,P=S.propertyIsEnumerable,A=D?D.isBuffer:void 0,R=(y=Object.keys,w=Object,function(e){return y(w(e))}),j=W(g,"DataView"),I=W(g,"Map"),N=W(g,"Promise"),L=W(g,"Set"),B=W(g,"WeakMap"),$=!P.call({valueOf:1},"valueOf"),F=G(j),U=G(I),z=G(N),V=G(L),q=G(B);function H(e){if(!ee(e)||function(e){return!!k&&k in e}(e))return!1;var t=Q(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?T:d;return t.test(G(e))}function W(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0}var K=function(e){return M.call(e)};function G(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function J(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&X(e)}(e)&&O.call(e,"callee")&&(!P.call(e,"callee")||M.call(e)==i)}(j&&K(new j(new ArrayBuffer(1)))!=h||I&&K(new I)!=a||N&&K(N.resolve())!=l||L&&K(new L)!=c||B&&K(new B)!=u)&&(K=function(e){var t=M.call(e),n="[object Object]"==t?e.constructor:void 0,s=n?G(n):void 0;if(s)switch(s){case F:return h;case U:return a;case z:return l;case V:return c;case q:return u}return t});var Y=Array.isArray;function X(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(e.length)&&!Q(e)}var Z=A||function(){return!1};function Q(e){var t=ee(e)?M.call(e):"";return t==r||t==o}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(X(e)&&(Y(e)||"string"==typeof e||"function"==typeof e.splice||Z(e)||J(e)))return!e.length;var t=K(e);if(t==a||t==c)return!e.size;if($||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}(e))return!R(e).length;for(var n in e)if(O.call(e,n))return!1;return!0}},62753:e=>{e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},18552:(e,t,n)=>{var s=n(10852)(n(55639),"DataView");e.exports=s},1989:(e,t,n)=>{var s=n(51789),i=n(80401),r=n(57667),o=n(59026),a=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,e.exports=l},38407:(e,t,n)=>{var s=n(27040),i=n(14125),r=n(82117),o=n(67518),a=n(54705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,e.exports=l},57071:(e,t,n)=>{var s=n(10852)(n(55639),"Map");e.exports=s},83369:(e,t,n)=>{var s=n(24785),i=n(11285),r=n(96e3),o=n(49916),a=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,e.exports=l},53818:(e,t,n)=>{var s=n(10852)(n(55639),"Promise");e.exports=s},58525:(e,t,n)=>{var s=n(10852)(n(55639),"Set");e.exports=s},88668:(e,t,n)=>{var s=n(83369),i=n(90619),r=n(72385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new s;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=r,e.exports=o},46384:(e,t,n)=>{var s=n(38407),i=n(37465),r=n(63779),o=n(67599),a=n(44758),l=n(34309);function c(e){var t=this.__data__=new s(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},62705:(e,t,n)=>{var s=n(55639).Symbol;e.exports=s},11149:(e,t,n)=>{var s=n(55639).Uint8Array;e.exports=s},70577:(e,t,n)=>{var s=n(10852)(n(55639),"WeakMap");e.exports=s},34963:e=>{e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=0,r=[];++n<s;){var o=e[n];t(o,n,e)&&(r[i++]=o)}return r}},14636:(e,t,n)=>{var s=n(22545),i=n(35694),r=n(1469),o=n(44144),a=n(65776),l=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&i(e),h=!n&&!u&&o(e),d=!n&&!u&&!h&&l(e),p=n||u||h||d,f=p?s(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},62488:e=>{e.exports=function(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}},82908:e=>{e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}},18470:(e,t,n)=>{var s=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(s(e[n][0],t))return n;return-1}},68866:(e,t,n)=>{var s=n(62488),i=n(1469);e.exports=function(e,t,n){var r=t(e);return i(e)?r:s(r,n(e))}},44239:(e,t,n)=>{var s=n(62705),i=n(89607),r=n(2333),o=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):r(e)}},9454:(e,t,n)=>{var s=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==s(e)}},90939:(e,t,n)=>{var s=n(2492),i=n(37005);e.exports=function e(t,n,r,o,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:s(t,n,r,o,e,a))}},2492:(e,t,n)=>{var s=n(46384),i=n(67114),r=n(18351),o=n(16096),a=n(64160),l=n(1469),c=n(44144),u=n(36719),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,_){var v=l(e),b=l(t),y=v?d:a(e),w=b?d:a(t),x=(y=y==h?p:y)==p,S=(w=w==h?p:w)==p,C=y==w;if(C&&c(e)){if(!c(t))return!1;v=!0,x=!1}if(C&&!x)return _||(_=new s),v||u(e)?i(e,t,n,g,m,_):r(e,t,y,n,g,m,_);if(!(1&n)){var k=x&&f.call(e,"__wrapped__"),E=S&&f.call(t,"__wrapped__");if(k||E){var O=k?e.value():e,M=E?t.value():t;return _||(_=new s),m(O,M,n,g,_)}}return!!C&&(_||(_=new s),o(e,t,n,g,m,_))}},28458:(e,t,n)=>{var s=n(23560),i=n(15346),r=n(13218),o=n(80346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(s(e)?d:a).test(o(e))}},38749:(e,t,n)=>{var s=n(44239),i=n(41780),r=n(37005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!o[s(e)]}},280:(e,t,n)=>{var s=n(25726),i=n(86916),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!s(e))return i(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},22545:e=>{e.exports=function(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},74757:e=>{e.exports=function(e,t){return e.has(t)}},14429:(e,t,n)=>{var s=n(55639)["__core-js_shared__"];e.exports=s},67114:(e,t,n)=>{var s=n(88668),i=n(82908),r=n(74757);e.exports=function(e,t,n,o,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,g=!0,m=2&n?new s:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var _=e[f],v=t[f];if(o)var b=c?o(v,_,f,t,e,l):o(_,v,f,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!r(m,t)&&(_===e||a(_,e,n,o,l)))return m.push(t)}))){g=!1;break}}else if(_!==v&&!a(_,v,n,o,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},18351:(e,t,n)=>{var s=n(62705),i=n(11149),r=n(77813),o=n(67114),a=n(68776),l=n(21814),c=s?s.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,s,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&s;if(p||(p=l),e.size!=t.size&&!f)return!1;var g=d.get(e);if(g)return g==t;s|=2,d.set(e,t);var m=o(p(e),p(t),s,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var s=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,o,a){var l=1&n,c=s(e),u=c.length;if(u!=s(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:i.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var _=e[d=c[h]],v=t[d];if(r)var b=l?r(v,_,d,t,e,a):r(_,v,d,e,t,a);if(!(void 0===b?_===v||o(_,v,n,r,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},31957:(e,t,n)=>{var s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=s},58234:(e,t,n)=>{var s=n(68866),i=n(99551),r=n(3674);e.exports=function(e){return s(e,r,i)}},45050:(e,t,n)=>{var s=n(37019);e.exports=function(e,t){var n=e.__data__;return s(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:(e,t,n)=>{var s=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},89607:(e,t,n)=>{var s=n(62705),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,a=s?s.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var s=!0}catch(l){}var i=o.call(e);return s&&(t?e[a]=n:delete e[a]),i}},99551:(e,t,n)=>{var s=n(34963),i=n(70479),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),s(o(e),(function(t){return r.call(e,t)})))}:i;e.exports=a},64160:(e,t,n)=>{var s=n(18552),i=n(57071),r=n(53818),o=n(58525),a=n(70577),l=n(44239),c=n(80346),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=c(s),m=c(i),_=c(r),v=c(o),b=c(a),y=l;(s&&y(new s(new ArrayBuffer(1)))!=f||i&&y(new i)!=u||r&&y(r.resolve())!=h||o&&y(new o)!=d||a&&y(new a)!=p)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,s=n?c(n):"";if(s)switch(s){case g:return f;case m:return u;case _:return h;case v:return d;case b:return p}return t}),e.exports=y},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},51789:(e,t,n)=>{var s=n(94536);e.exports=function(){this.__data__=s?s(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var s=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(s){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},59026:(e,t,n)=>{var s=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return s?void 0!==t[e]:i.call(t,e)}},81866:(e,t,n)=>{var s=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=s&&void 0===t?"__lodash_hash_undefined__":t,this}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var s=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==s||"symbol"!=s&&t.test(e))&&e>-1&&e%1==0&&e<n}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var s,i=n(14429),r=(s=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";e.exports=function(e){return!!r&&r in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var s=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=s(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},82117:(e,t,n)=>{var s=n(18470);e.exports=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var s=n(18470);e.exports=function(e){return s(this.__data__,e)>-1}},54705:(e,t,n)=>{var s=n(18470);e.exports=function(e,t){var n=this.__data__,i=s(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:(e,t,n)=>{var s=n(1989),i=n(38407),r=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new s,map:new(r||i),string:new s}}},11285:(e,t,n)=>{var s=n(45050);e.exports=function(e){var t=s(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var s=n(45050);e.exports=function(e){return s(this,e).get(e)}},49916:(e,t,n)=>{var s=n(45050);e.exports=function(e){return s(this,e).has(e)}},95265:(e,t,n)=>{var s=n(45050);e.exports=function(e,t){var n=s(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,s){n[++t]=[s,e]})),n}},94536:(e,t,n)=>{var s=n(10852)(Object,"create");e.exports=s},86916:(e,t,n)=>{var s=n(5569)(Object.keys,Object);e.exports=s},31167:(e,t,n)=>{e=n.nmd(e);var s=n(31957),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i&&s.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},55639:(e,t,n)=>{var s=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,r=s||i||Function("return this")();e.exports=r},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},37465:(e,t,n)=>{var s=n(38407);e.exports=function(){this.__data__=new s,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var s=n(38407),i=n(57071),r=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof s){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(o)}return n.set(e,t),this.size=n.size,this}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},35694:(e,t,n)=>{var s=n(9454),i=n(37005),r=Object.prototype,o=r.hasOwnProperty,a=r.propertyIsEnumerable,l=s(function(){return arguments}())?s:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var s=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!s(e)}},44144:(e,t,n)=>{e=n.nmd(e);var s=n(55639),i=n(95062),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?s.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},18446:(e,t,n)=>{var s=n(90939);e.exports=function(e,t){return s(e,t)}},23560:(e,t,n)=>{var s=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=s(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},36719:(e,t,n)=>{var s=n(38749),i=n(7518),r=n(31167),o=r&&r.isTypedArray,a=o?i(o):s;e.exports=a},3674:(e,t,n)=>{var s=n(14636),i=n(280),r=n(98612);e.exports=function(e){return r(e)?s(e):i(e)}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},39117:(e,t,n)=>{"use strict";n.r(t)},96562:e=>{"use strict";function t(e){return"number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}function n(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}e.exports=function(e,s){s||(s={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof s.unknown&&(i.unknownFn=s.unknown),"boolean"==typeof s.boolean&&s.boolean?i.allBools=!0:[].concat(s.boolean).filter(Boolean).forEach((function(e){i.bools[e]=!0}));var r={};function o(e){return r[e].some((function(e){return i.bools[e]}))}Object.keys(s.alias||{}).forEach((function(e){r[e]=[].concat(s.alias[e]),r[e].forEach((function(t){r[t]=[e].concat(r[e].filter((function(e){return t!==e})))}))})),[].concat(s.string).filter(Boolean).forEach((function(e){i.strings[e]=!0,r[e]&&[].concat(r[e]).forEach((function(e){i.strings[e]=!0}))}));var a=s.default||{},l={_:[]};function c(e,t,s){for(var r=e,o=0;o<t.length-1;o++){var a=t[o];if(n(r,a))return;void 0===r[a]&&(r[a]={}),r[a]!==Object.prototype&&r[a]!==Number.prototype&&r[a]!==String.prototype||(r[a]={}),r[a]===Array.prototype&&(r[a]=[]),r=r[a]}var l=t[t.length-1];n(r,l)||(r!==Object.prototype&&r!==Number.prototype&&r!==String.prototype||(r={}),r===Array.prototype&&(r=[]),void 0===r[l]||i.bools[l]||"boolean"==typeof r[l]?r[l]=s:Array.isArray(r[l])?r[l].push(s):r[l]=[r[l],s])}function u(e,n,s){if(!s||!i.unknownFn||function(e,t){return i.allBools&&/^--[^=]+$/.test(t)||i.strings[e]||i.bools[e]||r[e]}(e,s)||!1!==i.unknownFn(s)){var o=!i.strings[e]&&t(n)?Number(n):n;c(l,e.split("."),o),(r[e]||[]).forEach((function(e){c(l,e.split("."),o)}))}}Object.keys(i.bools).forEach((function(e){u(e,void 0!==a[e]&&a[e])}));var h=[];-1!==e.indexOf("--")&&(h=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var p,f,g=e[d];if(/^--.+=/.test(g)){var m=g.match(/^--([^=]+)=([\s\S]*)$/);p=m[1];var _=m[2];i.bools[p]&&(_="false"!==_),u(p,_,g)}else if(/^--no-.+/.test(g))u(p=g.match(/^--no-(.+)/)[1],!1,g);else if(/^--.+/.test(g))p=g.match(/^--(.+)/)[1],void 0===(f=e[d+1])||/^(-|--)[^-]/.test(f)||i.bools[p]||i.allBools||r[p]&&o(p)?/^(true|false)$/.test(f)?(u(p,"true"===f,g),d+=1):u(p,!i.strings[p]||"",g):(u(p,f,g),d+=1);else if(/^-[^-]+/.test(g)){for(var v=g.slice(1,-1).split(""),b=!1,y=0;y<v.length;y++)if("-"!==(f=g.slice(y+2))){if(/[A-Za-z]/.test(v[y])&&"="===f[0]){u(v[y],f.slice(1),g),b=!0;break}if(/[A-Za-z]/.test(v[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(f)){u(v[y],f,g),b=!0;break}if(v[y+1]&&v[y+1].match(/\W/)){u(v[y],g.slice(y+2),g),b=!0;break}u(v[y],!i.strings[v[y]]||"",g)}else u(v[y],f,g);p=g.slice(-1)[0],b||"-"===p||(!e[d+1]||/^(-|--)[^-]/.test(e[d+1])||i.bools[p]||r[p]&&o(p)?e[d+1]&&/^(true|false)$/.test(e[d+1])?(u(p,"true"===e[d+1],g),d+=1):u(p,!i.strings[p]||"",g):(u(p,e[d+1],g),d+=1))}else if(i.unknownFn&&!1===i.unknownFn(g)||l._.push(i.strings._||!t(g)?g:Number(g)),s.stopEarly){l._.push.apply(l._,e.slice(d+1));break}}return Object.keys(a).forEach((function(e){var t,n,s;t=l,n=e.split("."),s=t,n.slice(0,-1).forEach((function(e){s=s[e]||{}})),n[n.length-1]in s||(c(l,e.split("."),a[e]),(r[e]||[]).forEach((function(t){c(l,t.split("."),a[e])})))})),s["--"]?l["--"]=h.slice():h.forEach((function(e){l._.push(e)})),l}},31670:function(e,t,n){!function(e){"use strict";var t,s="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function a(e){try{return encodeURIComponent(e)}catch(t){return null}}function l(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,s={};t=n.exec(e);){var i=o(t[1]),r=o(t[2]);null===i||null===r||i in s||(s[i]=r)}return s}function c(e,n){n=n||"";var s,i,o=[];for(i in"string"!=typeof n&&(n="?"),e)if(r.call(e,i)){if((s=e[i])||null!==s&&s!==t&&!isNaN(s)||(s=""),i=a(i),s=a(s),null===i||null===s)continue;o.push(i+"="+s)}return o.length?n+o.join("&"):""}var u={stringify:c,parse:l},h=/[\n\r\t]/g,d=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/,g=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/;function m(e){return(e||"").toString().replace(g,"")}var _=[["#","hash"],["?","query"],function(e,t){return y(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],v={hash:1,query:1};function b(e){var t,n=("undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{}).location||{},i={},r=typeof(e=e||n);if("blob:"===e.protocol)i=new S(unescape(e.pathname),{});else if("string"===r)for(t in i=new S(e,{}),v)delete i[t];else if("object"===r){for(t in e)t in v||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=d.test(e.href))}return i}function y(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function w(e,t){e=(e=m(e)).replace(h,""),t=t||{};var n,s=p.exec(e),i=s[1]?s[1].toLowerCase():"",r=!!s[2],o=!!s[3],a=0;return r?o?(n=s[2]+s[3]+s[4],a=s[2].length+s[3].length):(n=s[2]+s[4],a=s[2].length):o?(n=s[3]+s[4],a=s[3].length):n=s[4],"file:"===i?a>=2&&(n=n.slice(2)):y(i)?n=s[4]:i?r&&(n=n.slice(2)):a>=2&&y(t.protocol)&&(n=s[4]),{protocol:i,slashes:r||y(i),slashesCount:a,rest:n}}function x(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),s=n.length,i=n[s-1],r=!1,o=0;s--;)"."===n[s]?n.splice(s,1):".."===n[s]?(n.splice(s,1),o++):o&&(0===s&&(r=!0),n.splice(s,1),o--);return r&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function S(e,t,n){if(e=(e=m(e)).replace(h,""),!(this instanceof S))return new S(e,t,n);var s,r,o,a,l,c,d=_.slice(),p=typeof t,g=this,v=0;for("object"!==p&&"string"!==p&&(n=t,t=null),n&&"function"!=typeof n&&(n=u.parse),s=!(r=w(e||"",t=b(t))).protocol&&!r.slashes,g.slashes=r.slashes||s&&t.slashes,g.protocol=r.protocol||t.protocol||"",e=r.rest,("file:"===r.protocol&&(2!==r.slashesCount||f.test(e))||!r.slashes&&(r.protocol||r.slashesCount<2||!y(g.protocol)))&&(d[3]=[/(.*)/,"pathname"]);v<d.length;v++)"function"!=typeof(a=d[v])?(o=a[0],c=a[1],o!=o?g[c]=e:"string"==typeof o?~(l="@"===o?e.lastIndexOf(o):e.indexOf(o))&&("number"==typeof a[2]?(g[c]=e.slice(0,l),e=e.slice(l+a[2])):(g[c]=e.slice(l),e=e.slice(0,l))):(l=o.exec(e))&&(g[c]=l[1],e=e.slice(0,l.index)),g[c]=g[c]||s&&a[3]&&t[c]||"",a[4]&&(g[c]=g[c].toLowerCase())):e=a(e,g);n&&(g.query=n(g.query)),s&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=x(g.pathname,t.pathname)),"/"!==g.pathname.charAt(0)&&y(g.protocol)&&(g.pathname="/"+g.pathname),i(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(~(l=g.auth.indexOf(":"))?(g.username=g.auth.slice(0,l),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=g.auth.slice(l+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(g.auth)),g.auth=g.password?g.username+":"+g.password:g.username),g.origin="file:"!==g.protocol&&y(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString()}function C(e,t,n){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||u.parse)(t)),s[e]=t;break;case"port":s[e]=t,i(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(t){var r="pathname"===e?"/":"#";s[e]=t.charAt(0)!==r?r+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(s.username=t.slice(0,o),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=t.slice(o+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<_.length;a++){var l=_[a];l[4]&&(s[l[1]]=s[l[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&y(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s}function k(e){e&&"function"==typeof e||(e=u.stringify);var t,n=this,s=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.protocol&&n.slashes||y(n.protocol)?"//":"");return n.username?(r+=n.username,n.password&&(r+=":"+n.password),r+="@"):n.password?(r+=":"+n.password,r+="@"):"file:"!==n.protocol&&y(n.protocol)&&!s&&"/"!==n.pathname&&(r+="@"),":"===s[s.length-1]&&(s+=":"),r+=s+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}S.prototype={set:C,toString:k},S.extractProtocol=w,S.location=b,S.trimLeft=m,S.qs=u;var E=S;function O(e,t){setTimeout((function(t){return e.call(t)}),4,t)}function M(e,t){"undefined"!=typeof process&&console[e].call(null,t)}function T(e,t){void 0===e&&(e=[]);var n=[];return e.forEach((function(e){t(e)||n.push(e)})),n}function D(e,t){void 0===e&&(e=[]);var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}var P=function(){this.listeners={}};function A(e){var t=e.indexOf("?");return t>=0?e.slice(0,t):e}P.prototype.addEventListener=function(e,t){"function"==typeof t&&(Array.isArray(this.listeners[e])||(this.listeners[e]=[]),0===D(this.listeners[e],(function(e){return e===t})).length&&this.listeners[e].push(t))},P.prototype.removeEventListener=function(e,t){var n=this.listeners[e];this.listeners[e]=T(n,(function(e){return e===t}))},P.prototype.dispatchEvent=function(e){for(var t=this,n=[],s=arguments.length-1;s-- >0;)n[s]=arguments[s+1];var i=e.type,r=this.listeners[i];return!!Array.isArray(r)&&(r.forEach((function(s){n.length>0?s.apply(t,n):s.call(t,e)})),!0)};var R=function(){this.urlMap={}};R.prototype.attachWebSocket=function(e,t){var n=A(t),s=this.urlMap[n];if(s&&s.server&&-1===s.websockets.indexOf(e))return s.websockets.push(e),s.server},R.prototype.addMembershipToRoom=function(e,t){var n=this.urlMap[A(e.url)];n&&n.server&&-1!==n.websockets.indexOf(e)&&(n.roomMemberships[t]||(n.roomMemberships[t]=[]),n.roomMemberships[t].push(e))},R.prototype.attachServer=function(e,t){var n=A(t);if(!this.urlMap[n])return this.urlMap[n]={server:e,websockets:[],roomMemberships:{}},e},R.prototype.serverLookup=function(e){var t=A(e),n=this.urlMap[t];if(n)return n.server},R.prototype.websocketsLookup=function(e,t,n){var s,i=A(e),r=this.urlMap[i];return s=r?r.websockets:[],t&&(s=r.roomMemberships[t]||[]),n?s.filter((function(e){return e!==n})):s},R.prototype.removeServer=function(e){delete this.urlMap[A(e)]},R.prototype.removeWebSocket=function(e,t){var n=A(t),s=this.urlMap[n];s&&(s.websockets=T(s.websockets,(function(t){return t===e})))},R.prototype.removeMembershipFromRoom=function(e,t){var n=this.urlMap[A(e.url)],s=n.roomMemberships[t];n&&null!==s&&(n.roomMemberships[t]=T(s,(function(t){return t===e})))};var j=new R,I={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,UNSUPPORTED_DATA:1007,POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,MISSING_EXTENSION:1010,INTERNAL_ERROR:1011,SERVICE_RESTART:1012,TRY_AGAIN_LATER:1013,TLS_HANDSHAKE:1015},N={CONSTRUCTOR_ERROR:"Failed to construct 'WebSocket':",CLOSE_ERROR:"Failed to execute 'close' on 'WebSocket':",EVENT:{CONSTRUCT:"Failed to construct 'Event':",MESSAGE:"Failed to construct 'MessageEvent':",CLOSE:"Failed to construct 'CloseEvent':"}},L=function(){};L.prototype.stopPropagation=function(){},L.prototype.stopImmediatePropagation=function(){},L.prototype.initEvent=function(e,t,n){void 0===e&&(e="undefined"),void 0===t&&(t=!1),void 0===n&&(n=!1),this.type=""+e,this.bubbles=Boolean(t),this.cancelable=Boolean(n)};var B=function(e){function t(t,n){if(void 0===n&&(n={}),e.call(this),!t)throw new TypeError(N.EVENT_ERROR+" 1 argument required, but only 0 present.");if("object"!=typeof n)throw new TypeError(N.EVENT_ERROR+" parameter 2 ('eventInitDict') is not an object.");var s=n.bubbles,i=n.cancelable;this.type=""+t,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=!!i&&Boolean(i),this.cancelBubble=!1,this.bubbles=!!s&&Boolean(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(L),$=function(e){function t(t,n){if(void 0===n&&(n={}),e.call(this),!t)throw new TypeError(N.EVENT.MESSAGE+" 1 argument required, but only 0 present.");if("object"!=typeof n)throw new TypeError(N.EVENT.MESSAGE+" parameter 2 ('eventInitDict') is not an object");var s=n.bubbles,i=n.cancelable,r=n.data,o=n.origin,a=n.lastEventId,l=n.ports;this.type=""+t,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=!!i&&Boolean(i),this.canncelBubble=!1,this.bubbles=!!s&&Boolean(s),this.origin=""+o,this.ports=void 0===l?null:l,this.data=void 0===r?null:r,this.lastEventId=""+(a||"")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(L),F=function(e){function t(t,n){if(void 0===n&&(n={}),e.call(this),!t)throw new TypeError(N.EVENT.CLOSE+" 1 argument required, but only 0 present.");if("object"!=typeof n)throw new TypeError(N.EVENT.CLOSE+" parameter 2 ('eventInitDict') is not an object");var s=n.bubbles,i=n.cancelable,r=n.code,o=n.reason,a=n.wasClean;this.type=""+t,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=!!i&&Boolean(i),this.cancelBubble=!1,this.bubbles=!!s&&Boolean(s),this.code="number"==typeof r?parseInt(r,10):0,this.reason=""+(o||""),this.wasClean=!!a&&Boolean(a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(L);function U(e){var t=e.type,n=e.target,s=new B(t);return n&&(s.target=n,s.srcElement=n,s.currentTarget=n),s}function z(e){var t=e.type,n=e.origin,s=e.data,i=e.target,r=new $(t,{data:s,origin:n});return i&&(r.target=i,r.srcElement=i,r.currentTarget=i),r}function V(e){var t=e.code,n=e.reason,s=e.type,i=e.target,r=e.wasClean;r||(r=t===I.CLOSE_NORMAL||t===I.CLOSE_NO_STATUS);var o=new F(s,{code:t,reason:n,wasClean:r});return i&&(o.target=i,o.srcElement=i,o.currentTarget=i),o}function q(e,t,n){e.readyState=Z.CLOSING;var s=j.serverLookup(e.url),i=V({type:"close",target:e.target,code:t,reason:n});O((function(){j.removeWebSocket(e,e.url),e.readyState=Z.CLOSED,e.dispatchEvent(i),s&&s.dispatchEvent(i,s)}),e)}function H(e,t,n){e.readyState=Z.CLOSING;var s=j.serverLookup(e.url),i=V({type:"close",target:e.target,code:t,reason:n,wasClean:!1}),r=U({type:"error",target:e.target});O((function(){j.removeWebSocket(e,e.url),e.readyState=Z.CLOSED,e.dispatchEvent(r),e.dispatchEvent(i),s&&s.dispatchEvent(i,s)}),e)}function W(e){return"[object Blob]"===Object.prototype.toString.call(e)||e instanceof ArrayBuffer||(e=String(e)),e}var K=new WeakMap;function G(e){if(K.has(e))return K.get(e);var t=new Proxy(e,{get:function(n,s){if("close"===s)return function(e){void 0===e&&(e={});var n=e.code||I.CLOSE_NORMAL,s=e.reason||"";q(t,n,s)};if("send"===s)return function(t){t=W(t),e.dispatchEvent(z({type:"message",data:t,origin:this.url,target:e}))};var i=function(e){return"message"===e?"server::"+e:e};return"on"===s?function(t,n){e.addEventListener(i(t),n)}:"off"===s?function(t,n){e.removeEventListener(i(t),n)}:"target"===s?e:n[s]}});return K.set(e,t),t}function J(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}function Y(e){var t=new E(e),n=t.pathname,s=t.protocol,i=t.hash;if(!e)throw new TypeError(N.CONSTRUCTOR_ERROR+" 1 argument required, but only 0 present.");if(n||(t.pathname="/"),""===s)throw new SyntaxError(N.CONSTRUCTOR_ERROR+" The URL '"+t.toString()+"' is invalid.");if("ws:"!==s&&"wss:"!==s)throw new SyntaxError(N.CONSTRUCTOR_ERROR+" The URL's scheme must be either 'ws' or 'wss'. '"+s+"' is not allowed.");if(""!==i)throw new SyntaxError(N.CONSTRUCTOR_ERROR+" The URL contains a fragment identifier ('"+i+"'). Fragment identifiers are not allowed in WebSocket URLs.");return t.toString()}function X(e){if(void 0===e&&(e=[]),!Array.isArray(e)&&"string"!=typeof e)throw new SyntaxError(N.CONSTRUCTOR_ERROR+" The subprotocol '"+e.toString()+"' is invalid.");"string"==typeof e&&(e=[e]);var t=e.map((function(e){return{count:1,protocol:e}})).reduce((function(e,t){return e[t.protocol]=(e[t.protocol]||0)+t.count,e}),{}),n=Object.keys(t).filter((function(e){return t[e]>1}));if(n.length>0)throw new SyntaxError(N.CONSTRUCTOR_ERROR+" The subprotocol '"+n[0]+"' is duplicated.");return e}var Z=function(e){function t(n,s){e.call(this),this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null,this.url=Y(n),s=X(s),this.protocol=s[0]||"",this.binaryType="blob",this.readyState=t.CONNECTING;var i=G(this),r=j.attachWebSocket(i,this.url);O((function(){if(this.readyState===t.CONNECTING)if(r)if(r.options.verifyClient&&"function"==typeof r.options.verifyClient&&!r.options.verifyClient())this.readyState=t.CLOSED,M("error","WebSocket connection to '"+this.url+"' failed: HTTP Authentication failed; no valid credentials available"),j.removeWebSocket(i,this.url),this.dispatchEvent(U({type:"error",target:this})),this.dispatchEvent(V({type:"close",target:this,code:I.CLOSE_NORMAL}));else{if(r.options.selectProtocol&&"function"==typeof r.options.selectProtocol){var e=r.options.selectProtocol(s),n=""!==e,o=-1!==s.indexOf(e);if(n&&!o)return this.readyState=t.CLOSED,M("error","WebSocket connection to '"+this.url+"' failed: Invalid Sub-Protocol"),j.removeWebSocket(i,this.url),this.dispatchEvent(U({type:"error",target:this})),void this.dispatchEvent(V({type:"close",target:this,code:I.CLOSE_NORMAL}));this.protocol=e}this.readyState=t.OPEN,this.dispatchEvent(U({type:"open",target:this})),r.dispatchEvent(U({type:"connection"}),i)}else this.readyState=t.CLOSED,this.dispatchEvent(U({type:"error",target:this})),this.dispatchEvent(V({type:"close",target:this,code:I.CLOSE_NORMAL})),M("error","WebSocket connection to '"+this.url+"' failed")}),this)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={onopen:{},onmessage:{},onclose:{},onerror:{}};return n.onopen.get=function(){return this._onopen},n.onmessage.get=function(){return this._onmessage},n.onclose.get=function(){return this._onclose},n.onerror.get=function(){return this._onerror},n.onopen.set=function(e){this.removeEventListener("open",this._onopen),this._onopen=e,this.addEventListener("open",e)},n.onmessage.set=function(e){this.removeEventListener("message",this._onmessage),this._onmessage=e,this.addEventListener("message",e)},n.onclose.set=function(e){this.removeEventListener("close",this._onclose),this._onclose=e,this.addEventListener("close",e)},n.onerror.set=function(e){this.removeEventListener("error",this._onerror),this._onerror=e,this.addEventListener("error",e)},t.prototype.send=function(e){var n=this;if(this.readyState===t.CONNECTING)throw new Error("Failed to execute 'send' on 'WebSocket': Still in CONNECTING state");var s=z({type:"server::message",origin:this.url,data:W(e)}),i=j.serverLookup(this.url);i&&O((function(){n.dispatchEvent(s,e)}),i)},t.prototype.close=function(e,n){if(void 0!==e&&("number"!=typeof e||1e3!==e&&(e<3e3||e>4999)))throw new TypeError(N.CLOSE_ERROR+" The code must be either 1000, or between 3000 and 4999. "+e+" is neither.");if(void 0!==n&&J(n)>123)throw new SyntaxError(N.CLOSE_ERROR+" The message must not be greater than 123 bytes.");if(this.readyState!==t.CLOSING&&this.readyState!==t.CLOSED){var s=G(this);this.readyState===t.CONNECTING?H(s,e||I.CLOSE_ABNORMAL,n):q(s,e||I.CLOSE_NO_STATUS,n)}},Object.defineProperties(t.prototype,n),t}(P);Z.CONNECTING=0,Z.prototype.CONNECTING=Z.CONNECTING,Z.OPEN=1,Z.prototype.OPEN=Z.OPEN,Z.CLOSING=2,Z.prototype.CLOSING=Z.CLOSING,Z.CLOSED=3,Z.prototype.CLOSED=Z.CLOSED;var Q=function(e){function t(n,s){var i=this;void 0===n&&(n="socket.io"),void 0===s&&(s=""),e.call(this),this.binaryType="blob";var r=new E(n);r.pathname||(r.pathname="/"),this.url=r.toString(),this.readyState=t.CONNECTING,this.protocol="",this.target=this,"string"==typeof s||"object"==typeof s&&null!==s?this.protocol=s:Array.isArray(s)&&s.length>0&&(this.protocol=s[0]);var o=j.attachWebSocket(this,this.url);O((function(){o?(this.readyState=t.OPEN,o.dispatchEvent(U({type:"connection"}),o,this),o.dispatchEvent(U({type:"connect"}),o,this),this.dispatchEvent(U({type:"connect",target:this}))):(this.readyState=t.CLOSED,this.dispatchEvent(U({type:"error",target:this})),this.dispatchEvent(V({type:"close",target:this,code:I.CLOSE_NORMAL})),M("error","Socket.io connection to '"+this.url+"' failed"))}),this),this.addEventListener("close",(function(e){i.dispatchEvent(V({type:"disconnect",target:e.target,code:e.code}))}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={broadcast:{}};return t.prototype.close=function(){if(this.readyState===t.OPEN){var e=j.serverLookup(this.url);return j.removeWebSocket(this,this.url),this.readyState=t.CLOSED,this.dispatchEvent(V({type:"close",target:this,code:I.CLOSE_NORMAL})),e&&e.dispatchEvent(V({type:"disconnect",target:this,code:I.CLOSE_NORMAL}),e),this}},t.prototype.disconnect=function(){return this.close()},t.prototype.emit=function(e){for(var n=[],s=arguments.length-1;s-- >0;)n[s]=arguments[s+1];if(this.readyState!==t.OPEN)throw new Error("SocketIO is already in CLOSING or CLOSED state");var i=z({type:e,origin:this.url,data:n}),r=j.serverLookup(this.url);return r&&r.dispatchEvent.apply(r,[i].concat(n)),this},t.prototype.send=function(e){return this.emit("message",e),this},n.broadcast.get=function(){if(this.readyState!==t.OPEN)throw new Error("SocketIO is already in CLOSING or CLOSED state");var e=this,n=j.serverLookup(this.url);if(!n)throw new Error("SocketIO can not find a server at the specified URL ("+this.url+")");return{emit:function(t,s){return n.emit(t,s,{websockets:j.websocketsLookup(e.url,null,e)}),e},to:function(t){return n.to(t,e)},in:function(t){return n.in(t,e)}}},t.prototype.on=function(e,t){return this.addEventListener(e,t),this},t.prototype.off=function(e,t){this.removeEventListener(e,t)},t.prototype.hasListeners=function(e){var t=this.listeners[e];return!!Array.isArray(t)&&!!t.length},t.prototype.join=function(e){j.addMembershipToRoom(this,e)},t.prototype.leave=function(e){j.removeMembershipFromRoom(this,e)},t.prototype.to=function(e){return this.broadcast.to(e)},t.prototype.in=function(){return this.to.apply(null,arguments)},t.prototype.dispatchEvent=function(e){for(var t=this,n=[],s=arguments.length-1;s-- >0;)n[s]=arguments[s+1];var i=e.type,r=this.listeners[i];if(!Array.isArray(r))return!1;r.forEach((function(s){n.length>0?s.apply(t,n):s.call(t,e.data?e.data:e)}))},Object.defineProperties(t.prototype,n),t}(P);Q.CONNECTING=0,Q.OPEN=1,Q.CLOSING=2,Q.CLOSED=3;var ee=function(e,t){return new Q(e,t)};ee.connect=function(e,t){return ee(e,t)};var te=function(e){return e.reduce((function(e,t){return e.indexOf(t)>-1?e:e.concat(t)}),[])};function ne(){return"undefined"!=typeof window?window:"object"==typeof process&&"object"==typeof n.g?n.g:this}var se={mock:!0,verifyClient:null,selectProtocol:null},ie=function(e){function t(t,n){void 0===n&&(n=se),e.call(this);var s=new E(t);if(s.pathname||(s.pathname="/"),this.url=s.toString(),this.originalWebSocket=null,!j.attachServer(this,this.url))throw this.dispatchEvent(U({type:"error"})),new Error("A mock server is already listening on this url");this.options=Object.assign({},se,n),this.options.mock&&this.mockWebsocket()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.mockWebsocket=function(){var e=ne();this.originalWebSocket=e.WebSocket,e.WebSocket=Z},t.prototype.restoreWebsocket=function(){var e=ne();null!==this.originalWebSocket&&(e.WebSocket=this.originalWebSocket),this.originalWebSocket=null},t.prototype.stop=function(e){void 0===e&&(e=function(){}),this.options.mock&&this.restoreWebsocket(),j.removeServer(this.url),"function"==typeof e&&e()},t.prototype.on=function(e,t){this.addEventListener(e,t)},t.prototype.off=function(e,t){this.removeEventListener(e,t)},t.prototype.close=function(e){void 0===e&&(e={});var t=e.code,n=e.reason,s=e.wasClean,i=j.websocketsLookup(this.url);j.removeServer(this.url),i.forEach((function(e){e.readyState=Z.CLOSED,e.dispatchEvent(V({type:"close",target:e.target,code:t||I.CLOSE_NORMAL,reason:n||"",wasClean:s}))})),this.dispatchEvent(V({type:"close"}),this)},t.prototype.emit=function(e,t,n){var s=this;void 0===n&&(n={});var i,r=n.websockets;r||(r=j.websocketsLookup(this.url)),"object"!=typeof n||arguments.length>3?(t=Array.prototype.slice.call(arguments,1,arguments.length),i=t.map((function(e){return W(e)}))):i=W(t),r.forEach((function(n){var r=n instanceof Q?t:i;Array.isArray(r)?n.dispatchEvent.apply(n,[z({type:e,data:r,origin:s.url,target:n.target})].concat(r)):n.dispatchEvent(z({type:e,data:r,origin:s.url,target:n.target}))}))},t.prototype.clients=function(){return j.websocketsLookup(this.url)},t.prototype.to=function(e,t,n){var s=this;void 0===n&&(n=[]);var i=this,r=te(n.concat(j.websocketsLookup(this.url,e,t)));return{to:function(e,t){return s.to.call(s,e,t,r)},emit:function(e,t){i.emit(e,t,{websockets:r})}}},t.prototype.in=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.to.apply(null,e)},t.prototype.simulate=function(e){var t=j.websocketsLookup(this.url);"error"===e&&t.forEach((function(e){e.readyState=Z.CLOSED,e.dispatchEvent(U({type:"error",target:e.target}))}))},t}(P);ie.of=function(e){return new ie(e)};var re=ie,oe=Z,ae=ee;e.Server=re,e.WebSocket=oe,e.SocketIO=ae,Object.defineProperty(e,"__esModule",{value:!0})}(t)},74211:function(e,t){!function(e){"use strict";function t(e){return n(e)&&"function"==typeof e.from}function n(e){return"object"==typeof e&&"function"==typeof e.to}function s(e){e.parentElement.removeChild(e)}function i(e){return null!=e}function r(e){e.preventDefault()}function o(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}function a(e,t){return Math.round(e/t)*t}function l(e,t){var n=e.getBoundingClientRect(),s=e.ownerDocument,i=s.documentElement,r=_(s);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),t?n.top+r.y-i.clientTop:n.left+r.x-i.clientLeft}function c(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function u(e,t,n){n>0&&(f(e,t),setTimeout((function(){g(e,t)}),n))}function h(e){return Math.max(Math.min(e,100),0)}function d(e){return Array.isArray(e)?e:[e]}function p(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function g(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function m(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function _(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function v(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function b(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}function y(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function w(e,t){return 100/(t-e)}function x(e,t,n){return 100*t/(e[n+1]-e[n])}function S(e,t){return x(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function C(e,t){return t*(e[1]-e[0])/100+e[0]}function k(e,t){for(var n=1;e>=t[n];)n+=1;return n}function E(e,t,n){if(n>=e.slice(-1)[0])return 100;var s=k(n,e),i=e[s-1],r=e[s],o=t[s-1],a=t[s];return o+S([i,r],n)/w(o,a)}function O(e,t,n){if(n>=100)return e.slice(-1)[0];var s=k(n,t),i=e[s-1],r=e[s],o=t[s-1];return C([i,r],(n-o)*w(o,t[s]))}function M(e,t,n,s){if(100===s)return s;var i=k(s,e),r=e[i-1],o=e[i];return n?s-r>(o-r)/2?o:r:t[i-1]?e[i-1]+a(s-e[i-1],t[i-1]):s}var T,D;e.PipsMode=void 0,(D=e.PipsMode||(e.PipsMode={})).Range="range",D.Steps="steps",D.Positions="positions",D.Count="count",D.Values="values",e.PipsType=void 0,(T=e.PipsType||(e.PipsType={}))[T.None=-1]="None",T[T.NoValue=0]="NoValue",T[T.LargeValue=1]="LargeValue",T[T.SmallValue=2]="SmallValue";var P=function(){function e(e,t,n){var s;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach((function(t){i.push([d(e[t]),t])})),i.sort((function(e,t){return e[0][0]-t[0][0]})),s=0;s<i.length;s++)this.handleEntryPoint(i[s][1],i[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return e.prototype.getDistance=function(e){var t,n=[];for(t=0;t<this.xNumSteps.length-1;t++){var s=this.xNumSteps[t];if(s&&e/s%1!=0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[t]+"% range must be divisible by step.");n[t]=x(this.xVal,e,t)}return n},e.prototype.getAbsoluteDistance=function(e,t,n){var s,i=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[i+1];)i++;else e===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);n||e!==this.xPct[i+1]||i++,null===t&&(t=[]);var r=1,o=t[i],a=0,l=0,c=0,u=0;for(s=n?(e-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-e)/(this.xPct[i+1]-this.xPct[i]);o>0;)a=this.xPct[i+1+u]-this.xPct[i+u],t[i+u]*r+100-100*s>100?(l=a*s,r=(o-100*s)/t[i+u],s=1):(l=t[i+u]*a/100*r,r=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=t[i+u]*r;return e+c},e.prototype.toStepping=function(e){return e=E(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return O(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=M(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,n){var s=k(e,this.xPct);return(100===e||t&&e===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/n},e.prototype.getNearbySteps=function(e){var t=k(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(p);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var n;if(!c(n="min"===e?0:"max"===e?100:parseFloat(e))||!c(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var s=Number(t[1]);n?this.xSteps.push(!isNaN(s)&&s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=x([this.xVal[e],this.xVal[e+1]],t,0)/w(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],s=Math.ceil(Number(n.toFixed(3))-1),i=this.xVal[e]+this.xNumSteps[e]*s;this.xHighestCompleteStep[e]=i}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),A={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},R={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},j={tooltips:".__tooltips",aria:".__aria"};function I(e,t){if(!c(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function N(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function L(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function B(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function $(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new P(t,e.snap||!1,e.singleStep)}function F(e,t){if(t=d(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function U(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function z(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function V(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function q(e,t){var n,s=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)s.push(t);s.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=t}e.connect=s}function H(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function W(e,t){if(!c(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function K(e,t){if(!c(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function G(e,t){var n;if(!c(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!c(t[0])&&!c(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var s=t[0]+t[1],i=e.spectrum.xVal[0];if(s/(e.spectrum.xVal[e.spectrum.xVal.length-1]-i)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function J(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Y(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,s=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0,a=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");W(e,e.start[1]-e.start[0])}if(a&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||r,drag:s,dragAll:l,fixed:i,snap:r,hover:o,unconstrained:a}}function X(e,t){if(!1!==t)if(!0===t||n(t)){e.tooltips=[];for(var s=0;s<e.handles;s++)e.tooltips.push(t)}else{if((t=d(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!n(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function Z(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Q(e,t){if(!n(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function ee(e,n){if(!t(n))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=n}function te(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function ne(e,t){e.documentElement=t}function se(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function ie(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function re(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:A,format:A},n={step:{r:!1,t:I},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:L},keyboardDefaultStep:{r:!1,t:B},start:{r:!0,t:F},connect:{r:!0,t:q},direction:{r:!0,t:J},snap:{r:!1,t:U},animate:{r:!1,t:z},animationDuration:{r:!1,t:V},range:{r:!0,t:$},orientation:{r:!1,t:H},margin:{r:!1,t:W},limit:{r:!1,t:K},padding:{r:!1,t:G},behaviour:{r:!0,t:Y},ariaFormat:{r:!1,t:Q},format:{r:!1,t:ee},tooltips:{r:!1,t:X},keyboardSupport:{r:!0,t:te},documentElement:{r:!1,t:ne},cssPrefix:{r:!0,t:se},cssClasses:{r:!0,t:ie},handleAttributes:{r:!1,t:Z}},s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:R,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(r){if(i(e[r])||void 0!==s[r])n[r].t(t,i(e[r])?e[r]:s[r]);else if(n[r].r)throw new Error("noUiSlider: '"+r+"' is required.")})),t.pips=e.pips;var r=document.createElement("div"),o=void 0!==r.style.msTransform,a=void 0!==r.style.transform;t.transformRule=a?"transform":o?"msTransform":"webkitTransform";var l=[["left","top"],["right","bottom"]];return t.style=l[t.dir][t.ort],t}function oe(t,n,a){var c,p,w,x,S,C=v(),k=y()&&b(),E=t,O=n.spectrum,M=[],T=[],D=[],P=0,A={},R=t.ownerDocument,I=n.documentElement||R.documentElement,N=R.body,L="rtl"===R.dir||1===n.ort?0:100;function B(e,t){var n=R.createElement("div");return t&&f(n,t),e.appendChild(n),n}function $(e,t){var s=B(e,n.cssClasses.origin),i=B(s,n.cssClasses.handle);if(B(i,n.cssClasses.touchArea),i.setAttribute("data-handle",String(t)),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(e){return pe(e,t)}))),void 0!==n.handleAttributes){var r=n.handleAttributes[t];Object.keys(r).forEach((function(e){i.setAttribute(e,r[e])}))}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===t?f(i,n.cssClasses.handleLower):t===n.handles-1&&f(i,n.cssClasses.handleUpper),s}function F(e,t){return!!t&&B(e,n.cssClasses.connect)}function U(e,t){var s=B(t,n.cssClasses.connects);p=[],(w=[]).push(F(s,e[0]));for(var i=0;i<n.handles;i++)p.push($(t,i)),D[i]=i,w.push(F(s,e[i+1]))}function z(e){return f(e,n.cssClasses.target),0===n.dir?f(e,n.cssClasses.ltr):f(e,n.cssClasses.rtl),0===n.ort?f(e,n.cssClasses.horizontal):f(e,n.cssClasses.vertical),f(e,"rtl"===getComputedStyle(e).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),B(e,n.cssClasses.base)}function V(e,t){return!(!n.tooltips||!n.tooltips[t])&&B(e.firstChild,n.cssClasses.tooltip)}function q(){return E.hasAttribute("disabled")}function H(e){return p[e].hasAttribute("disabled")}function W(){S&&(_e("update"+j.tooltips),S.forEach((function(e){e&&s(e)})),S=null)}function K(){W(),S=p.map(V),ge("update"+j.tooltips,(function(e,t,s){if(S&&n.tooltips&&!1!==S[t]){var i=e[t];!0!==n.tooltips[t]&&(i=n.tooltips[t].to(s[t])),S[t].innerHTML=i}}))}function G(){_e("update"+j.aria),ge("update"+j.aria,(function(e,t,s,i,r){D.forEach((function(e){var t=p[e],i=be(T,e,0,!0,!0,!0),o=be(T,e,100,!0,!0,!0),a=r[e],l=String(n.ariaFormat.to(s[e]));i=O.fromStepping(i).toFixed(1),o=O.fromStepping(o).toFixed(1),a=O.fromStepping(a).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",a),t.children[0].setAttribute("aria-valuetext",l)}))}))}function J(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return O.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=t.values-1,s=100/n,i=[];n--;)i[n]=n*s;return i.push(100),Y(i,t.stepped)}return t.mode===e.PipsMode.Positions?Y(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return O.fromStepping(O.getStep(O.toStepping(e)))})):t.values:[]}function Y(e,t){return e.map((function(e){return O.fromStepping(t?O.getStep(e):e)}))}function X(t){function n(e,t){return Number((e+t).toFixed(7))}var s=J(t),i={},r=O.xVal[0],a=O.xVal[O.xVal.length-1],l=!1,c=!1,u=0;return(s=o(s.slice().sort((function(e,t){return e-t}))))[0]!==r&&(s.unshift(r),l=!0),s[s.length-1]!==a&&(s.push(a),c=!0),s.forEach((function(r,o){var a,h,d,p,f,g,m,_,v,b,y=r,w=s[o+1],x=t.mode===e.PipsMode.Steps;for(x&&(a=O.xNumSteps[o]),a||(a=w-y),void 0===w&&(w=y),a=Math.max(a,1e-7),h=y;h<=w;h=n(h,a)){for(_=(f=(p=O.toStepping(h))-u)/(t.density||1),b=f/(v=Math.round(_)),d=1;d<=v;d+=1)i[(g=u+d*b).toFixed(5)]=[O.fromStepping(g),0];m=s.indexOf(h)>-1?e.PipsType.LargeValue:x?e.PipsType.SmallValue:e.PipsType.NoValue,!o&&l&&h!==w&&(m=0),h===w&&c||(i[p.toFixed(5)]=[h,m]),u=p}})),i}function Z(t,s,i){var r,o,a=R.createElement("div"),l=((r={})[e.PipsType.None]="",r[e.PipsType.NoValue]=n.cssClasses.valueNormal,r[e.PipsType.LargeValue]=n.cssClasses.valueLarge,r[e.PipsType.SmallValue]=n.cssClasses.valueSub,r),c=((o={})[e.PipsType.None]="",o[e.PipsType.NoValue]=n.cssClasses.markerNormal,o[e.PipsType.LargeValue]=n.cssClasses.markerLarge,o[e.PipsType.SmallValue]=n.cssClasses.markerSub,o),u=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],h=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function d(e,t){var s=t===n.cssClasses.value,i=s?l:c;return t+" "+(s?u:h)[n.ort]+" "+i[e]}function p(t,r,o){if((o=s?s(r,o):o)!==e.PipsType.None){var l=B(a,!1);l.className=d(o,n.cssClasses.marker),l.style[n.style]=t+"%",o>e.PipsType.NoValue&&((l=B(a,!1)).className=d(o,n.cssClasses.value),l.setAttribute("data-value",String(r)),l.style[n.style]=t+"%",l.innerHTML=String(i.to(r)))}}return f(a,n.cssClasses.pips),f(a,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(e){p(e,t[e][0],t[e][1])})),a}function Q(){x&&(s(x),x=null)}function ee(e){Q();var t=X(e),n=e.filter,s=e.format||{to:function(e){return String(Math.round(e))}};return x=E.appendChild(Z(t,n,s))}function te(){var e=c.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||c[t]:e.height||c[t]}function ne(e,t,s,i){var r=function(r){var o=se(r,i.pageOffset,i.target||t);return!!o&&!(q()&&!i.doNotReject)&&!(m(E,n.cssClasses.tap)&&!i.doNotReject)&&!(e===C.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(k||o.preventDefault(),o.calcPoint=o.points[n.ort],void s(o,i))},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,r,!!k&&{passive:!0}),o.push([e,r])})),o}function se(e,t,n){var s=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer"),o=0,a=0;if(0===e.type.indexOf("MSPointer")&&(r=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(s){var l=function(t){var s=t.target;return s===n||n.contains(s)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;o=c[0].pageX,a=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;o=u.pageX,a=u.pageY}}return t=t||_(R),(i||r)&&(o=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[o,a],e.cursor=i||r,e}function ie(e){var t=100*(e-l(c,n.ort))/te();return t=h(t),n.dir?100-t:t}function oe(e){var t=100,n=!1;return p.forEach((function(s,i){if(!H(i)){var r=T[i],o=Math.abs(r-e);(o<t||o<=t&&e>r||100===o&&100===t)&&(n=i,t=o)}})),n}function ae(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ce(e,t)}function le(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ce(e,t);var s=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint);we(s>0,100*s/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ce(e,t){t.handle&&(g(t.handle,n.cssClasses.active),P-=1),t.listeners.forEach((function(e){I.removeEventListener(e[0],e[1])})),0===P&&(g(E,n.cssClasses.drag),Ce(),e.cursor&&(N.style.cursor="",N.removeEventListener("selectstart",r))),t.handleNumbers.forEach((function(e){ve("change",e),ve("set",e),ve("end",e)}))}function ue(e,t){if(!t.handleNumbers.some(H)){var s;1===t.handleNumbers.length&&(s=p[t.handleNumbers[0]].children[0],P+=1,f(s,n.cssClasses.active)),e.stopPropagation();var i=[],o=ne(C.move,I,le,{target:e.target,handle:s,connect:t.connect,listeners:i,startCalcPoint:e.calcPoint,baseSize:te(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:T.slice()}),a=ne(C.end,I,ce,{target:e.target,handle:s,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers}),l=ne("mouseout",I,ae,{target:e.target,handle:s,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers});i.push.apply(i,o.concat(a,l)),e.cursor&&(N.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&f(E,n.cssClasses.drag),N.addEventListener("selectstart",r,!1)),t.handleNumbers.forEach((function(e){ve("start",e)}))}}function he(e){e.stopPropagation();var t=ie(e.calcPoint),s=oe(t);!1!==s&&(n.events.snap||u(E,n.cssClasses.tap,n.animationDuration),ke(s,t,!0,!0),Ce(),ve("slide",s,!0),ve("update",s,!0),n.events.snap?ue(e,{handleNumbers:[s]}):(ve("change",s,!0),ve("set",s,!0)))}function de(e){var t=ie(e.calcPoint),n=O.getStep(t),s=O.fromStepping(n);Object.keys(A).forEach((function(e){"hover"===e.split(".")[0]&&A[e].forEach((function(e){e.call(Le,s)}))}))}function pe(e,t){if(q()||H(t))return!1;var s=["Left","Right"],i=["Down","Up"],r=["PageDown","PageUp"],o=["Home","End"];n.dir&&!n.ort?s.reverse():n.ort&&!n.dir&&(i.reverse(),r.reverse());var a,l=e.key.replace("Arrow",""),c=l===r[0],u=l===r[1],h=l===i[0]||l===s[0]||c,d=l===i[1]||l===s[1]||u,p=l===o[0],f=l===o[1];if(!(h||d||p||f))return!0;if(e.preventDefault(),d||h){var g=h?0:1,m=Re(t)[g];if(null===m)return!1;!1===m&&(m=O.getDefaultStep(T[t],h,n.keyboardDefaultStep)),m*=u||c?n.keyboardPageMultiplier:n.keyboardMultiplier,m=Math.max(m,1e-7),m*=h?-1:1,a=M[t]+m}else a=f?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return ke(t,O.toStepping(a),!0,!0),ve("slide",t),ve("update",t),ve("change",t),ve("set",t),!1}function fe(e){e.fixed||p.forEach((function(e,t){ne(C.start,e.children[0],ue,{handleNumbers:[t]})})),e.tap&&ne(C.start,c,he,{}),e.hover&&ne(C.move,c,de,{hover:!0}),e.drag&&w.forEach((function(t,s){if(!1!==t&&0!==s&&s!==w.length-1){var i=p[s-1],r=p[s],o=[t],a=[i,r],l=[s-1,s];f(t,n.cssClasses.draggable),e.fixed&&(o.push(i.children[0]),o.push(r.children[0])),e.dragAll&&(a=p,l=D),o.forEach((function(e){ne(C.start,e,ue,{handles:a,handleNumbers:l,connect:t})}))}}))}function ge(e,t){A[e]=A[e]||[],A[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){ve("update",t)}))}function me(e){return e===j.aria||e===j.tooltips}function _e(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(A).forEach((function(e){var s=e.split(".")[0],i=e.substring(s.length);t&&t!==s||n&&n!==i||me(i)&&n!==i||delete A[e]}))}function ve(e,t,s){Object.keys(A).forEach((function(i){var r=i.split(".")[0];e===r&&A[i].forEach((function(e){e.call(Le,M.map(n.format.to),t,M.slice(),s||!1,T.slice(),Le)}))}))}function be(e,t,s,i,r,o){var a;return p.length>1&&!n.events.unconstrained&&(i&&t>0&&(a=O.getAbsoluteDistance(e[t-1],n.margin,!1),s=Math.max(s,a)),r&&t<p.length-1&&(a=O.getAbsoluteDistance(e[t+1],n.margin,!0),s=Math.min(s,a))),p.length>1&&n.limit&&(i&&t>0&&(a=O.getAbsoluteDistance(e[t-1],n.limit,!1),s=Math.min(s,a)),r&&t<p.length-1&&(a=O.getAbsoluteDistance(e[t+1],n.limit,!0),s=Math.max(s,a))),n.padding&&(0===t&&(a=O.getAbsoluteDistance(0,n.padding[0],!1),s=Math.max(s,a)),t===p.length-1&&(a=O.getAbsoluteDistance(100,n.padding[1],!0),s=Math.min(s,a))),!((s=h(s=O.getStep(s)))===e[t]&&!o)&&s}function ye(e,t){var s=n.ort;return(s?t:e)+", "+(s?e:t)}function we(e,t,n,s,i){var r=n.slice(),o=s[0],a=[!e,e],l=[e,!e];s=s.slice(),e&&s.reverse(),s.length>1?s.forEach((function(e,n){var s=be(r,e,r[e]+t,a[n],l[n],!1);!1===s?t=0:(t=s-r[e],r[e]=s)})):a=l=[!0];var c=!1;s.forEach((function(e,s){c=ke(e,n[e]+t,a[s],l[s])||c})),c&&(s.forEach((function(e){ve("update",e),ve("slide",e)})),null!=i&&ve("drag",o))}function xe(e,t){return n.dir?100-e-t:e}function Se(e,t){T[e]=t,M[e]=O.fromStepping(t);var s="translate("+ye(10*(xe(t,0)-L)+"%","0")+")";p[e].style[n.transformRule]=s,Ee(e),Ee(e+1)}function Ce(){D.forEach((function(e){var t=T[e]>50?-1:1,n=3+(p.length+t*e);p[e].style.zIndex=String(n)}))}function ke(e,t,n,s,i){return i||(t=be(T,e,t,n,s,!1)),!1!==t&&(Se(e,t),!0)}function Ee(e){if(w[e]){var t=0,s=100;0!==e&&(t=T[e-1]),e!==w.length-1&&(s=T[e]);var i=s-t,r="translate("+ye(xe(t,i)+"%","0")+")",o="scale("+ye(i/100,"1")+")";w[e].style[n.transformRule]=r+" "+o}}function Oe(e,t){return null===e||!1===e||void 0===e?T[t]:("number"==typeof e&&(e=String(e)),!1!==(e=n.format.from(e))&&(e=O.toStepping(e)),!1===e||isNaN(e)?T[t]:e)}function Me(e,t,s){var i=d(e),r=void 0===T[0];t=void 0===t||t,n.animate&&!r&&u(E,n.cssClasses.tap,n.animationDuration),D.forEach((function(e){ke(e,Oe(i[e],e),!0,!1,s)}));var o=1===D.length?0:1;if(r&&O.hasNoSize()&&(s=!0,T[0]=0,D.length>1)){var a=100/(D.length-1);D.forEach((function(e){T[e]=e*a}))}for(;o<D.length;++o)D.forEach((function(e){ke(e,T[e],!0,!0,s)}));Ce(),D.forEach((function(e){ve("update",e),null!==i[e]&&t&&ve("set",e)}))}function Te(e){Me(n.start,e)}function De(e,t,n,s){if(!((e=Number(e))>=0&&e<D.length))throw new Error("noUiSlider: invalid handle number, got: "+e);ke(e,Oe(t,e),!0,!0,s),ve("update",e),n&&ve("set",e)}function Pe(e){if(void 0===e&&(e=!1),e)return 1===M.length?M[0]:M.slice(0);var t=M.map(n.format.to);return 1===t.length?t[0]:t}function Ae(){for(_e(j.aria),_e(j.tooltips),Object.keys(n.cssClasses).forEach((function(e){g(E,n.cssClasses[e])}));E.firstChild;)E.removeChild(E.firstChild);delete E.noUiSlider}function Re(e){var t=T[e],s=O.getNearbySteps(t),i=M[e],r=s.thisStep.step,o=null;if(n.snap)return[i-s.stepBefore.startValue||null,s.stepAfter.startValue-i||null];!1!==r&&i+r>s.stepAfter.startValue&&(r=s.stepAfter.startValue-i),o=i>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&i-s.stepBefore.highestStep,100===t?r=null:0===t&&(o=null);var a=O.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]}function je(){return D.map(Re)}function Ie(e,t){var s=Pe(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach((function(t){void 0!==e[t]&&(a[t]=e[t])}));var o=re(a);r.forEach((function(t){void 0!==e[t]&&(n[t]=o[t])})),O=o.spectrum,n.margin=o.margin,n.limit=o.limit,n.padding=o.padding,n.pips?ee(n.pips):Q(),n.tooltips?K():W(),T=[],Me(i(e.start)?e.start:s,t)}function Ne(){c=z(E),U(n.connect,c),fe(n.events),Me(n.start),n.pips&&ee(n.pips),n.tooltips&&K(),G()}Ne();var Le={destroy:Ae,steps:je,on:ge,off:_e,get:Pe,set:Me,setHandle:De,reset:Te,__moveHandles:function(e,t,n){we(e,t,T,n)},options:a,updateOptions:Ie,target:E,removePips:Q,removeTooltips:W,getPositions:function(){return T.slice()},getTooltips:function(){return S},getOrigins:function(){return p},pips:ee};return Le}function ae(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=oe(e,re(t),t);return e.noUiSlider=n,n}var le={__spectrum:P,cssClasses:R,create:ae};e.create=ae,e.cssClasses=R,e.default=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var r,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))n.call(r,c)&&(a[c]=r[c]);if(t){o=t(r);for(var u=0;u<o.length;u++)s.call(r,o[u])&&(a[o[u]]=r[o[u]])}}return a}},79430:function(e,t){var n,s,i;s=[],void 0===(i="function"==typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,s=t.exec(e.substring(g));if(s)return n=s[0],g+=n.length,n}for(var s,i,r,o,a,l=e.length,c=/^[ \t\n\r\u000c]+/,u=/^[, \t\n\r\u000c]+/,h=/^[^ \t\n\r\u000c]+/,d=/[,]+$/,p=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g=0,m=[];;){if(n(u),g>=l)return m;s=n(h),i=[],","===s.slice(-1)?(s=s.replace(d,""),v()):_()}function _(){for(n(c),r="",o="in descriptor";;){if(a=e.charAt(g),"in descriptor"===o)if(t(a))r&&(i.push(r),r="",o="after descriptor");else{if(","===a)return g+=1,r&&i.push(r),void v();if("("===a)r+=a,o="in parens";else{if(""===a)return r&&i.push(r),void v();r+=a}}else if("in parens"===o)if(")"===a)r+=a,o="in descriptor";else{if(""===a)return i.push(r),void v();r+=a}else if("after descriptor"===o)if(t(a));else{if(""===a)return void v();o="in descriptor",g-=1}g+=1}}function v(){var t,n,r,o,a,l,c,u,h,d=!1,g={};for(o=0;o<i.length;o++)l=(a=i[o])[a.length-1],c=a.substring(0,a.length-1),u=parseInt(c,10),h=parseFloat(c),p.test(c)&&"w"===l?((t||n)&&(d=!0),0===u?d=!0:t=u):f.test(c)&&"x"===l?((t||n||r)&&(d=!0),h<0?d=!0:n=h):p.test(c)&&"h"===l?((r||n)&&(d=!0),0===u?d=!0:r=u):d=!0;d?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+a+"'."):(g.url=s,t&&(g.w=t),n&&(g.d=n),r&&(g.h=r),m.push(g))}}})?n.apply(t,s):n)||(e.exports=i)},26470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,s="",i=0,r=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(r===a-1||1===o);else if(r!==a-1&&2===o){if(s.length<2||2!==i||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var l=s.lastIndexOf("/");if(l!==s.length-1){-1===l?(s="",i=0):i=(s=s.slice(0,l)).length-1-s.lastIndexOf("/"),r=a,o=0;continue}}else if(2===s.length||1===s.length){s="",i=0,r=a,o=0;continue}t&&(s.length>0?s+="/..":s="..",i=2)}else s.length>0?s+="/"+e.slice(r+1,a):s=e.slice(r+1,a),i=a-r-1;r=a,o=0}else 46===n&&-1!==o?++o:o=-1}return s}var s={resolve:function(){for(var e,s="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o;r>=0?o=arguments[r]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(s=o+"/"+s,i=47===o.charCodeAt(0))}return s=n(s,!i),i?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(e){if(t(e),0===e.length)return".";var s=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!s)).length||s||(e="."),e.length>0&&i&&(e+="/"),s?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":s.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=s.resolve(e))===(n=s.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var r=e.length,o=r-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,c=o<l?o:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else o>c&&(47===e.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(i+h);if(d!==n.charCodeAt(a+h))break;47===d&&(u=h)}var p="";for(h=i+u+1;h<=r;++h)h!==r&&47!==e.charCodeAt(h)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),s=47===n,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?s?"/":".":s&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var s,i=0,r=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47===c){if(!o){i=s+1;break}}else-1===l&&(o=!1,l=s+1),a>=0&&(c===n.charCodeAt(a)?-1==--a&&(r=s):(a=-1,r=l))}return i===r?r=l:-1===r&&(r=e.length),e.slice(i,r)}for(s=e.length-1;s>=0;--s)if(47===e.charCodeAt(s)){if(!o){i=s+1;break}}else-1===r&&(o=!1,r=s+1);return-1===r?"":e.slice(i,r)},extname:function(e){t(e);for(var n=-1,s=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(r=!1,i=a+1),46===l?-1===n?n=a:1!==o&&(o=1):-1!==n&&(o=-1);else if(!r){s=a+1;break}}return-1===n||-1===i||0===o||1===o&&n===i-1&&n===s+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,s=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+s:n+e+s:s}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var s,i=e.charCodeAt(0),r=47===i;r?(n.root="/",s=1):s=0;for(var o=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=s;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);else if(!c){a=u+1;break}return-1===o||-1===l||0===h||1===h&&o===l-1&&o===a+1?-1!==l&&(n.base=n.name=0===a&&r?e.slice(1,l):e.slice(a,l)):(0===a&&r?(n.name=e.slice(1,o),n.base=e.slice(1,l)):(n.name=e.slice(a,o),n.base=e.slice(a,l)),n.ext=e.slice(o,l)),a>0?n.dir=e.slice(0,a-1):r&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},74241:e=>{var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=n(),e.exports.createColors=n},41353:(e,t,n)=>{"use strict";let s=n(21019);class i extends s{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=i,i.default=i,s.registerAtRule(i)},69932:(e,t,n)=>{"use strict";let s=n(65631);class i extends s{constructor(e){super(e),this.type="comment"}}e.exports=i,i.default=i},21019:(e,t,n)=>{"use strict";let s,i,r,o,{isClean:a,my:l}=n(65513),c=n(94258),u=n(69932),h=n(65631);function d(e){return e.map((e=>(e.nodes&&(e.nodes=d(e.nodes)),delete e.source,e)))}function p(e){if(e[a]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)p(t)}class f extends h{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,n,s=this.getIterator();for(;this.indexes[s]<this.proxyOf.nodes.length&&(t=this.indexes[s],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[s]+=1;return delete this.indexes[s],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,s=this.index(e),i=this.normalize(t,this.proxyOf.nodes[s]).reverse();s=this.index(e);for(let r of i)this.proxyOf.nodes.splice(s+1,0,r);for(let r in this.indexes)n=this.indexes[r],s<n&&(this.indexes[r]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let n,s=this.index(e),i=0===s&&"prepend",r=this.normalize(t,this.proxyOf.nodes[s],i).reverse();s=this.index(e);for(let o of r)this.proxyOf.nodes.splice(s,0,o);for(let o in this.indexes)n=this.indexes[o],s<=n&&(this.indexes[o]=n+r.length);return this.markDirty(),this}normalize(e,t){if("string"==typeof e)e=d(s(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c(e)]}else if(e.selector)e=[new i(e)];else if(e.name)e=[new r(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new u(e)]}return e.map((e=>(e[l]||f.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&p(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((s=>{t.props&&!t.props.includes(s.prop)||t.fast&&!s.value.includes(t.fast)||(s.value=s.value.replace(e,n))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,n)=>{let s;try{s=e(t,n)}catch(i){throw t.addToError(i)}return!1!==s&&t.walk&&(s=t.walk(e)),s}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,s)=>{if("atrule"===n.type&&e.test(n.name))return t(n,s)})):this.walk(((n,s)=>{if("atrule"===n.type&&n.name===e)return t(n,s)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,s)=>{if("decl"===n.type&&e.test(n.prop))return t(n,s)})):this.walk(((n,s)=>{if("decl"===n.type&&n.prop===e)return t(n,s)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,s)=>{if("rule"===n.type&&e.test(n.selector))return t(n,s)})):this.walk(((n,s)=>{if("rule"===n.type&&n.selector===e)return t(n,s)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}f.registerParse=e=>{s=e},f.registerRule=e=>{i=e},f.registerAtRule=e=>{r=e},f.registerRoot=e=>{o=e},e.exports=f,f.default=f,f.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,r.prototype):"rule"===e.type?Object.setPrototypeOf(e,i.prototype):"decl"===e.type?Object.setPrototypeOf(e,c.prototype):"comment"===e.type?Object.setPrototypeOf(e,u.prototype):"root"===e.type&&Object.setPrototypeOf(e,o.prototype),e[l]=!0,e.nodes&&e.nodes.forEach((e=>{f.rebuild(e)}))}},42671:(e,t,n)=>{"use strict";let s=n(74241),i=n(22868);class r extends Error{constructor(e,t,n,s,i,o){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),s&&(this.source=s),o&&(this.plugin=o),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=s.isColorSupported),i&&e&&(t=i(t));let n,r,o=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),c=String(l).length;if(e){let{bold:e,gray:t,red:i}=s.createColors(!0);n=t=>e(i(t)),r=e=>t(e)}else n=r=e=>e;return o.slice(a,l).map(((e,t)=>{let s=a+1+t,i=" "+(" "+s).slice(-c)+" | ";if(s===this.line){let t=r(i.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+r(i)+e+"\n "+t+n("^")}return" "+r(i)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=r,r.default=r},94258:(e,t,n)=>{"use strict";let s=n(65631);class i extends s{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=i,i.default=i},26461:(e,t,n)=>{"use strict";let s,i,r=n(21019);class o extends r{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new s(new i,this,e).stringify()}}o.registerLazyResult=e=>{s=e},o.registerProcessor=e=>{i=e},e.exports=o,o.default=o},50250:(e,t,n)=>{"use strict";let s=n(94258),i=n(47981),r=n(69932),o=n(41353),a=n(5995),l=n(41025),c=n(31675);function u(e,t){if(Array.isArray(e))return e.map((e=>u(e)));let{inputs:n,...h}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:a.prototype};n.map&&(n.map={...n.map,__proto__:i.prototype}),t.push(n)}}if(h.nodes&&(h.nodes=e.nodes.map((e=>u(e,t)))),h.source){let{inputId:e,...n}=h.source;h.source=n,null!=e&&(h.source.input=t[e])}if("root"===h.type)return new l(h);if("decl"===h.type)return new s(h);if("rule"===h.type)return new c(h);if("comment"===h.type)return new r(h);if("atrule"===h.type)return new o(h);throw new Error("Unknown node type: "+e.type)}e.exports=u,u.default=u},5995:(e,t,n)=>{"use strict";let{SourceMapConsumer:s,SourceMapGenerator:i}=n(70209),{fileURLToPath:r,pathToFileURL:o}=n(87414),{isAbsolute:a,resolve:l}=n(99830),{nanoid:c}=n(62961),u=n(22868),h=n(42671),d=n(47981),p=Symbol("fromOffsetCache"),f=Boolean(s&&i),g=Boolean(l&&a);class m{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!g||/^\w+:\/\//.test(t.from)||a(t.from)?this.file=t.from:this.file=l(t.from)),g&&f){let e=new d(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+c(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,s={}){let i,r,a;if(t&&"object"==typeof t){let e=t,s=n;if("number"==typeof e.offset){let s=this.fromOffset(e.offset);t=s.line,n=s.col}else t=e.line,n=e.column;if("number"==typeof s.offset){let e=this.fromOffset(s.offset);r=e.line,a=e.col}else r=s.line,a=s.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let l=this.origin(t,n,r,a);return i=l?new h(e,void 0===l.endLine?l.line:{column:l.column,line:l.line},void 0===l.endLine?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,s.plugin):new h(e,void 0===r?t:{column:n,line:t},void 0===r?n:{column:a,line:r},this.css,this.file,s.plugin),i.input={column:n,endColumn:a,endLine:r,line:t,source:this.css},this.file&&(o&&(i.input.url=o(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,n;if(this[p])n=this[p];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let s=0,i=e.length;s<i;s++)n[s]=t,t+=e[s].length+1;this[p]=n}t=n[n.length-1];let s=0;if(e>=t)s=n.length-1;else{let t,i=n.length-2;for(;s<i;)if(t=s+(i-s>>1),e<n[t])i=t-1;else{if(!(e>=n[t+1])){s=t;break}s=t+1}}return{col:e-n[s]+1,line:s+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:l(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,s){if(!this.map)return!1;let i,l,c=this.map.consumer(),u=c.originalPositionFor({column:t,line:e});if(!u.source)return!1;"number"==typeof n&&(i=c.originalPositionFor({column:s,line:n})),l=a(u.source)?o(u.source):new URL(u.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let h={column:u.column,endColumn:i&&i.column,endLine:i&&i.line,line:u.line,url:l.toString()};if("file:"===l.protocol){if(!r)throw new Error("file: protocol is not available in this PostCSS build");h.file=r(l)}let d=c.sourceContentFor(u.source);return d&&(h.source=d),h}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}}e.exports=m,m.default=m,u&&u.registerInput&&u.registerInput(m)},21939:(e,t,n)=>{"use strict";let{isClean:s,my:i}=n(65513),r=n(48505),o=n(67088),a=n(21019),l=n(26461),c=(n(72448),n(83632)),u=n(66939),h=n(41025);const d={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},p={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},g=0;function m(e){return"object"==typeof e&&"function"==typeof e.then}function _(e){let t=!1,n=d[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,g,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,g,n+"Exit"]:[n,n+"Exit"]}function v(e){let t;return t="document"===e.type?["Document",g,"DocumentExit"]:"root"===e.type?["Root",g,"RootExit"]:_(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function b(e){return e[s]=!1,e.nodes&&e.nodes.forEach((e=>b(e))),e}let y={};class w{constructor(e,t,n){let s;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof w||t instanceof c)s=b(t.root),t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=u;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{s=e(t,n)}catch(r){this.processed=!0,this.error=r}s&&!s[i]&&a.rebuild(s)}else s=b(t);this.result=new c(e,s,n),this.helpers={...y,postcss:y,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(s){console&&console.error&&console.error(s)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!p[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[n])if("object"==typeof t[n])for(let s in t[n])e(t,"*"===s?n:n+"-"+s.toLowerCase(),t[n][s]);else"function"==typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let n=0;n<this.plugins.length;n++){let t=this.plugins[n],s=this.runOnRoot(t);if(m(s))try{await s}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[s];){e[s]=!0;let n=[v(e)];for(;n.length>0;){let e=this.visitTick(n);if(m(e))try{await e}catch(t){let e=n[n.length-1].node;throw this.handleError(t,e)}}}if(this.listeners.OnceExit)for(let[n,s]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if("document"===e.type){let t=e.nodes.map((e=>s(e,this.helpers)));await Promise.all(t)}else await s(e,this.helpers)}catch(t){throw this.handleError(t)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return m(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=o;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new r(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(m(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[s];)e[s]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[s,i]of e){let e;this.result.lastPlugin=s;try{e=i(t,this.helpers)}catch(n){throw this.handleError(n,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(m(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,s]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(n.toProxy(),this.helpers)}catch(o){throw this.handleError(o,n)}}if(0!==t.iterator){let i,r=t.iterator;for(;i=n.nodes[n.indexes[r]];)if(n.indexes[r]+=1,!i[s])return i[s]=!0,void e.push(v(i));t.iterator=0,delete n.indexes[r]}let r=t.events;for(;t.eventIndex<r.length;){let e=r[t.eventIndex];if(t.eventIndex+=1,e===g)return void(n.nodes&&n.nodes.length&&(n[s]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[s]=!0;let t=_(e);for(let n of t)if(n===g)e.nodes&&e.each((e=>{e[s]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}w.registerPostcss=e=>{y=e},e.exports=w,w.default=w,h.registerLazyResult(w),l.registerLazyResult(w)},54715:e=>{"use strict";let t={comma:e=>t.split(e,[","],!0),space:e=>t.split(e,[" ","\n","\t"]),split(e,t,n){let s=[],i="",r=!1,o=0,a=!1,l="",c=!1;for(let u of e)c?c=!1:"\\"===u?c=!0:a?u===l&&(a=!1):'"'===u||"'"===u?(a=!0,l=u):"("===u?o+=1:")"===u?o>0&&(o-=1):0===o&&t.includes(u)&&(r=!0),r?(""!==i&&s.push(i.trim()),i="",r=!1):i+=u;return(n||""!==i)&&s.push(i.trim()),s}};e.exports=t,t.default=t},48505:(e,t,n)=>{"use strict";let{SourceMapConsumer:s,SourceMapGenerator:i}=n(70209),{dirname:r,relative:o,resolve:a,sep:l}=n(99830),{pathToFileURL:c}=n(87414),u=n(5995),h=Boolean(s&&i),d=Boolean(r&&a&&o&&l);e.exports=class{constructor(e,t,n,s){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=s,this.originalCSS=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),i=e.root||r(e.file);!1===this.mapOpts.sourcesContent?(t=new s(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),d&&h&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=i.fromSourceMap(e)}else this.map=new i({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new i({file:this.outputFile()});let e,t,n=1,s=1,r="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((i,a,l)=>{if(this.css+=i,a&&"end"!==l&&(o.generated.line=n,o.generated.column=s-1,a.source&&a.source.start?(o.source=this.sourcePath(a),o.original.line=a.source.start.line,o.original.column=a.source.start.column-1,this.map.addMapping(o)):(o.source=r,o.original.line=1,o.original.column=0,this.map.addMapping(o))),e=i.match(/\n/g),e?(n+=e.length,t=i.lastIndexOf("\n"),s=i.length-t):s+=i.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(o.source=this.sourcePath(a),o.original.line=a.source.end.line,o.original.column=a.source.end.column-1,o.generated.line=n,o.generated.column=s-2,this.map.addMapping(o)):(o.source=r,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=s-1,this.map.addMapping(o)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?r(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=r(a(n,this.mapOpts.annotation)));let s=o(n,e);return this.memoizedPaths.set(e,s),s}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new u(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let s=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(s,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(c){let t=c(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===l&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}},47647:(e,t,n)=>{"use strict";let s=n(48505),i=n(67088),r=(n(72448),n(66939));const o=n(83632);class a{constructor(e,t,n){let r;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let a=i;this.result=new o(this._processor,r,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});let c=new s(a,r,this._opts,t);if(c.isMap()){let[e,t]=c.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else c.clearAnnotation(),this.result.css=c.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=r;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}}e.exports=a,a.default=a},65631:(e,t,n)=>{"use strict";let{isClean:s,my:i}=n(65513),r=n(42671),o=n(1062),a=n(67088);function l(e,t){let n=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;if("proxyCache"===s)continue;let i=e[s],r=typeof i;"parent"===s&&"object"===r?t&&(n[s]=t):"source"===s?n[s]=i:Array.isArray(i)?n[s]=i.map((e=>l(e,n))):("object"===r&&null!==i&&(i=l(i)),n[s]=i)}return n}class c{constructor(e={}){this.raws={},this[s]=!1,this[i]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"==typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=l(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:s}=this.rangeBy(t);return this.source.input.error(e,{column:s.column,line:s.line},{column:n.column,line:n.line},t)}return new r(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[s]){this[s]=!1;let e=this;for(;e=e.parent;)e[s]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let s=(t=this.toString()).indexOf(e.word);-1!==s&&(n=this.positionInside(s,t))}return n}positionInside(e,t){let n=t||this.toString(),s=this.source.start.column,i=this.source.start.line;for(let r=0;r<e;r++)"\n"===n[r]?(s=1,i+=1):s+=1;return{column:s,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let s=this.toString(),i=s.indexOf(e.word);-1!==i&&(t=this.positionInside(i,s),n=this.positionInside(i+e.word.length,s))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return(new o).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let s of e)s===this?n=!0:n?(this.parent.insertAfter(t,s),t=s):this.parent.insertBefore(t,s);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},s=null==t;t=t||new Map;let i=0;for(let r in this){if(!Object.prototype.hasOwnProperty.call(this,r))continue;if("parent"===r||"proxyCache"===r)continue;let e=this[r];if(Array.isArray(e))n[r]=e.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof e&&e.toJSON)n[r]=e.toJSON(null,t);else if("source"===r){let s=t.get(e.input);null==s&&(s=i,t.set(e.input,i),i++),n[r]={end:e.end,inputId:s,start:e.start}}else n[r]=e}return s&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=a){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,n){let s={node:this};for(let i in n)s[i]=n[i];return e.warn(t,s)}get proxyOf(){return this}}e.exports=c,c.default=c},66939:(e,t,n)=>{"use strict";let s=n(21019),i=n(68867),r=n(5995);function o(e,t){let n=new r(e,t),s=new i(n);try{s.parse()}catch(o){throw o}return s.root}e.exports=o,o.default=o,s.registerParse(o)},68867:(e,t,n)=>{"use strict";let s=n(94258),i=n(83852),r=n(69932),o=n(41353),a=n(41025),l=n(31675);const c={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new a,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,s,i=new o;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let r=!1,a=!1,l=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(l.length>0){for(s=l.length-1,n=l[s];n&&"space"===n[0];)n=l[--s];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){r=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(i.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(i,"params",l),r&&(e=l[l.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),a&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,s=0;for(let i=t-1;i>=0&&(n=e[i],"space"===n[0]||(s+=1,2!==s));i--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let t,n,s,i=0;for(let[r,o]of e.entries()){if(t=o,n=t[0],"("===n&&(i+=1),")"===n&&(i-=1),0===i&&":"===n){if(s){if("word"===s[0]&&"progid"===s[1])continue;return r}this.doubleColon(t)}s=t}return!1}comment(e){let t=new r;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=i(this.input)}decl(e,t){let n=new s;this.init(n,e[0][2]);let i,r=e[e.length-1];for(";"===r[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(r[3]||r[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],s=n[3]||n[2];if(s)return s}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(i=e.shift(),":"===i[0]){n.raws.between+=i[1];break}"word"===i[0]&&/\w/.test(i[1])&&this.unknownWord([i]),n.raws.between+=i[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let o,a=[];for(;e.length&&(o=e[0][0],"space"===o||"comment"===o);)a.push(e.shift());this.precheckMissedSemicolon(e);for(let s=e.length-1;s>=0;s--){if(i=e[s],"!important"===i[1].toLowerCase()){n.important=!0;let t=this.stringFrom(e,s);t=this.spacesFromEnd(e)+t," !important"!==t&&(n.raws.important=t);break}if("important"===i[1].toLowerCase()){let t=e.slice(0),i="";for(let e=s;e>0;e--){let n=t[e][0];if(0===i.trim().indexOf("!")&&"space"!==n)break;i=t.pop()[1]+i}0===i.trim().indexOf("!")&&(n.important=!0,n.raws.important=i,e=t)}if("space"!==i[0]&&"comment"!==i[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=a.map((e=>e[1])).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new l;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,s=!1,i=null,r=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)i||(i=l),r.push("("===n?")":"]");else if(o&&s&&"{"===n)i||(i=l),r.push("}");else if(0===r.length){if(";"===n){if(s)return void this.decl(a,o);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(s=!0)}else n===r[r.length-1]&&(r.pop(),0===r.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),r.length>0&&this.unclosedBracket(i),t&&s){if(!o)for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,s){let i,r,o,a,l=n.length,u="",h=!0;for(let d=0;d<l;d+=1)i=n[d],r=i[0],"space"!==r||d!==l-1||s?"comment"===r?(a=n[d-1]?n[d-1][0]:"empty",o=n[d+1]?n[d+1][0]:"empty",c[a]||c[o]||","===u.slice(-1)?h=!1:u+=i[1]):u+=i[1]:h=!1;if(!h){let s=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:s,value:u}}e[t]=u}rule(e){e.pop();let t=new l;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let s=t;s<e.length;s++)n+=e[s][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}},50020:(e,t,n)=>{"use strict";let s=n(42671),i=n(94258),r=n(21939),o=n(21019),a=n(71723),l=n(67088),c=n(50250),u=n(26461),h=n(11728),d=n(69932),p=n(41353),f=n(83632),g=n(5995),m=n(66939),_=n(54715),v=n(31675),b=n(41025),y=n(65631);function w(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new a(e)}w.plugin=function(e,t){let n,s=!1;function i(...n){console&&console.warn&&!s&&(s=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let i=t(...n);return i.postcssPlugin=e,i.postcssVersion=(new a).version,i}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return w([i(n)]).process(e,t)},i},w.stringify=l,w.parse=m,w.fromJSON=c,w.list=_,w.comment=e=>new d(e),w.atRule=e=>new p(e),w.decl=e=>new i(e),w.rule=e=>new v(e),w.root=e=>new b(e),w.document=e=>new u(e),w.CssSyntaxError=s,w.Declaration=i,w.Container=o,w.Processor=a,w.Document=u,w.Comment=d,w.Warning=h,w.AtRule=p,w.Result=f,w.Input=g,w.Rule=v,w.Root=b,w.Node=y,r.registerPostcss(w),e.exports=w,w.default=w},47981:(e,t,n)=>{"use strict";let{SourceMapConsumer:s,SourceMapGenerator:i}=n(70209),{existsSync:r,readFileSync:o}=n(14777),{dirname:a,join:l}=n(99830);class c{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,s=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=a(this.mapFile)),s&&(this.text=s)}consumer(){return this.consumerCache||(this.consumerCache=new s(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),s=e.indexOf("*/",n);n>-1&&s>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,s)))}loadFile(e){if(this.root=a(e),r(e))return this.mapFile=e,o(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof s)return i.fromSourceMap(t).toString();if(t instanceof i)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=l(a(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}e.exports=c,c.default=c},71723:(e,t,n)=>{"use strict";let s=n(47647),i=n(21939),r=n(26461),o=n(41025);class a{constructor(e=[]){this.version="8.4.33",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else{if("object"!=typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin")}return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new i(this,e,t):new s(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}e.exports=a,a.default=a,o.registerProcessor(a),r.registerProcessor(a)},83632:(e,t,n)=>{"use strict";let s=n(11728);class i{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new s(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}e.exports=i,i.default=i},41025:(e,t,n)=>{"use strict";let s,i,r=n(21019);class o extends r{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let s=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of s)i.raws.before=t.raws.before;return s}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new s(new i,this,e).stringify()}}o.registerLazyResult=e=>{s=e},o.registerProcessor=e=>{i=e},e.exports=o,o.default=o,r.registerRoot(o)},31675:(e,t,n)=>{"use strict";let s=n(21019),i=n(54715);class r extends s{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return i.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}e.exports=r,r.default=r,s.registerRule(r)},1062:e=>{"use strict";const t={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class n{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,s=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:s&&(n+=" "),e.nodes)this.block(e,n+s);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+s+i,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let s=e.parent,i=0;for(;s&&"root"!==s.type;)i+=1,s=s.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}block(e,t){let n,s=this.raw(e,"between","beforeOpen");this.builder(t+s+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let s=0;s<e.nodes.length;s++){let i=e.nodes[s],r=this.raw(i,"before");r&&this.builder(r),this.stringify(i,t!==s||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),s=e.prop+n+this.rawValue(e,"value");e.important&&(s+=e.raws.important||" !important"),t&&(s+=";"),this.builder(s,e)}document(e){this.body(e)}raw(e,n,s){let i;if(s||(s=n),n&&(i=e.raws[n],void 0!==i))return i;let r=e.parent;if("before"===s){if(!r||"root"===r.type&&r.first===e)return"";if(r&&"document"===r.type)return""}if(!r)return t[s];let o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[s])return o.rawCache[s];if("before"===s||"after"===s)return this.beforeAfter(e,s);{let t="raw"+((a=s)[0].toUpperCase()+a.slice(1));this[t]?i=this[t](o,e):o.walk((e=>{if(i=e.raws[n],void 0!==i)return!1}))}var a;return void 0===i&&(i=t[s]),o.rawCache[s]=i,i}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let s=n.parent;if(s&&s!==e&&s.parent&&s.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let n=e[t],s=e.raws[t];return s&&s.value===n?s.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}e.exports=n,n.default=n},67088:(e,t,n)=>{"use strict";let s=n(1062);function i(e,t){new s(t).stringify(e)}e.exports=i,i.default=i},65513:e=>{"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},83852:e=>{"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),s="\\".charCodeAt(0),i="/".charCodeAt(0),r="\n".charCodeAt(0),o=" ".charCodeAt(0),a="\f".charCodeAt(0),l="\t".charCodeAt(0),c="\r".charCodeAt(0),u="[".charCodeAt(0),h="]".charCodeAt(0),d="(".charCodeAt(0),p=")".charCodeAt(0),f="{".charCodeAt(0),g="}".charCodeAt(0),m=";".charCodeAt(0),_="*".charCodeAt(0),v=":".charCodeAt(0),b="@".charCodeAt(0),y=/[\t\n\f\r "#'()/;[\\\]{}]/g,w=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,x=/.[\r\n"'(/\\]/,S=/[\da-f]/i;e.exports=function(e,C={}){let k,E,O,M,T,D,P,A,R,j,I=e.css.valueOf(),N=C.ignoreErrors,L=I.length,B=0,$=[],F=[];function U(t){throw e.error("Unclosed "+t,B)}return{back:function(e){F.push(e)},endOfFile:function(){return 0===F.length&&B>=L},nextToken:function(e){if(F.length)return F.pop();if(B>=L)return;let C=!!e&&e.ignoreUnclosed;switch(k=I.charCodeAt(B),k){case r:case o:case l:case c:case a:E=B;do{E+=1,k=I.charCodeAt(E)}while(k===o||k===r||k===l||k===c||k===a);j=["space",I.slice(B,E)],B=E-1;break;case u:case h:case f:case g:case v:case m:case p:{let e=String.fromCharCode(k);j=[e,e,B];break}case d:if(A=$.length?$.pop()[1]:"",R=I.charCodeAt(B+1),"url"===A&&R!==t&&R!==n&&R!==o&&R!==r&&R!==l&&R!==a&&R!==c){E=B;do{if(D=!1,E=I.indexOf(")",E+1),-1===E){if(N||C){E=B;break}U("bracket")}for(P=E;I.charCodeAt(P-1)===s;)P-=1,D=!D}while(D);j=["brackets",I.slice(B,E+1),B,E],B=E}else E=I.indexOf(")",B+1),M=I.slice(B,E+1),-1===E||x.test(M)?j=["(","(",B]:(j=["brackets",M,B,E],B=E);break;case t:case n:O=k===t?"'":'"',E=B;do{if(D=!1,E=I.indexOf(O,E+1),-1===E){if(N||C){E=B+1;break}U("string")}for(P=E;I.charCodeAt(P-1)===s;)P-=1,D=!D}while(D);j=["string",I.slice(B,E+1),B,E],B=E;break;case b:y.lastIndex=B+1,y.test(I),E=0===y.lastIndex?I.length-1:y.lastIndex-2,j=["at-word",I.slice(B,E+1),B,E],B=E;break;case s:for(E=B,T=!0;I.charCodeAt(E+1)===s;)E+=1,T=!T;if(k=I.charCodeAt(E+1),T&&k!==i&&k!==o&&k!==r&&k!==l&&k!==c&&k!==a&&(E+=1,S.test(I.charAt(E)))){for(;S.test(I.charAt(E+1));)E+=1;I.charCodeAt(E+1)===o&&(E+=1)}j=["word",I.slice(B,E+1),B,E],B=E;break;default:k===i&&I.charCodeAt(B+1)===_?(E=I.indexOf("*/",B+2)+1,0===E&&(N||C?E=I.length:U("comment")),j=["comment",I.slice(B,E+1),B,E],B=E):(w.lastIndex=B+1,w.test(I),E=0===w.lastIndex?I.length-1:w.lastIndex-2,j=["word",I.slice(B,E+1),B,E],$.push(j),B=E)}return B++,j},position:function(){return B}}}},72448:e=>{"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}},11728:e=>{"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},57129:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var s,r,o=[];for(r in"string"!=typeof t&&(t="?"),e)if(n.call(e,r)){if((s=e[r])||null!=s&&!isNaN(s)||(s=""),r=i(r),s=i(s),null===r||null===s)continue;o.push(r+"="+s)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var r=s(t[1]),o=s(t[2]);null===r||null===o||r in i||(i[r]=o)}return i}},35800:function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s=n(t);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},a={error:null},l=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).state=a,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,s),t.reset()},t}r(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.updatedWithError=!1,this.setState(a)},n.componentDidCatch=function(e,t){var n,s;null==(n=(s=this.props).onError)||n.call(s,e,t)},n.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},n.componentDidUpdate=function(e){var t,n,s=this.state.error,i=this.props.resetKeys;null===s||this.updatedWithError?null!==s&&o(e.resetKeys,i)&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,i),this.reset()):this.updatedWithError=!0},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent,r=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(r))return r;if("function"==typeof n)return n(o);if(i)return s.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(s.Component);function c(e,t){var n=function(n){return s.createElement(l,t,s.createElement(e,n))},i=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+i+")",n}function u(e){var t=s.useState(null),n=t[0],i=t[1];if(null!=e)throw e;if(null!=n)throw n;return i}e.ErrorBoundary=l,e.useErrorHandler=u,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(67294))},69921:(e,t)=>{"use strict";var n,s=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case r:case a:case o:case d:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case g:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ContextConsumer=c,t.ContextProvider=l,t.Element=s,t.ForwardRef=h,t.Fragment=r,t.Lazy=g,t.Memo=f,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=d,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===r},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isSuspenseList=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===a||e===o||e===d||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=_},59864:(e,t,n)=>{"use strict";e.exports=n(69921)},2664:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Provider:()=>V,ReactReduxContext:()=>d,batch:()=>r.unstable_batchedUpdates,connect:()=>z,createDispatchHook:()=>W,createSelectorHook:()=>v,createStoreHook:()=>q,shallowEqual:()=>N,useDispatch:()=>K,useSelector:()=>b,useStore:()=>H});var s=n(61688),i=n(52798),r=n(73935);let o=function(e){e()};const a=()=>o;var l=n(67294);const c=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{};function h(){var e;if(!l.createContext)return{};const t=null!=(e=u[c])?e:u[c]=new Map;let n=t.get(l.createContext);return n||(n=l.createContext(null),t.set(l.createContext,n)),n}const d=h();function p(e=d){return function(){return(0,l.useContext)(e)}}const f=p(),g=()=>{throw new Error("uSES not initialized!")};let m=g;const _=(e,t)=>e===t;function v(e=d){const t=e===d?f:p(e);return function(e,n={}){const{equalityFn:s=_,stabilityCheck:i,noopCheck:r}="function"==typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:c,stabilityCheck:u,noopCheck:h}=t(),d=((0,l.useRef)(!0),(0,l.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,i])),p=m(a.addNestedSub,o.getState,c||o.getState,d,s);return(0,l.useDebugValue)(p),p}}const b=v();var y=n(87462),w=n(63366),x=n(8679),S=n.n(x),C=n(59864);const k=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function E(e,t,n,s,{areStatesEqual:i,areOwnPropsEqual:r,areStatePropsEqual:o}){let a,l,c,u,h,d=!1;function p(d,p){const f=!r(p,l),g=!i(d,a,p,l);return a=d,l=p,f&&g?(c=e(a,l),t.dependsOnOwnProps&&(u=t(s,l)),h=n(c,u,l),h):f?(e.dependsOnOwnProps&&(c=e(a,l)),t.dependsOnOwnProps&&(u=t(s,l)),h=n(c,u,l),h):g?function(){const t=e(a,l),s=!o(t,c);return c=t,s&&(h=n(c,u,l)),h}():h}return function(i,r){return d?p(i,r):(a=i,l=r,c=e(a,l),u=t(s,l),h=n(c,u,l),d=!0,h)}}function O(e){return function(t){const n=e(t);function s(){return n}return s.dependsOnOwnProps=!1,s}}function M(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function T(e,t){return function(t,{displayName:n}){const s=function(e,t){return s.dependsOnOwnProps?s.mapToProps(e,t):s.mapToProps(e,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(t,n){s.mapToProps=e,s.dependsOnOwnProps=M(e);let i=s(t,n);return"function"==typeof i&&(s.mapToProps=i,s.dependsOnOwnProps=M(i),i=s(t,n)),i},s}}function D(e,t){return(n,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function P(e,t,n){return(0,y.default)({},n,e,t)}const A={notify(){},get:()=>[]};function R(e,t){let n,s=A;function i(){o.onStateChange&&o.onStateChange()}function r(){n||(n=t?t.addNestedSub(i):e.subscribe(i),s=function(){const e=a();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let s=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){s&&null!==t&&(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const o={addNestedSub:function(e){return r(),s.subscribe(e)},notifyNestedSubs:function(){s.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:r,tryUnsubscribe:function(){n&&(n(),n=void 0,s.clear(),s=A)},getListeners:()=>s};return o}const j=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?l.useLayoutEffect:l.useEffect;function I(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(I(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!I(e[n[i]],t[n[i]]))return!1;return!0}const L=["reactReduxForwardedRef"];let B=g;const $=[null,null];function F(e,t,n,s,i,r){e.current=s,n.current=!1,i.current&&(i.current=null,r())}function U(e,t){return e===t}const z=function(e,t,n,{pure:s,areStatesEqual:i=U,areOwnPropsEqual:r=N,areStatePropsEqual:o=N,areMergedPropsEqual:a=N,forwardRef:c=!1,context:u=d}={}){const h=u,p=function(e){return e?"function"==typeof e?T(e):D(e,"mapStateToProps"):O((()=>({})))}(e),f=function(e){return e&&"object"==typeof e?O((t=>function(e,t){const n={};for(const s in e){const i=e[s];"function"==typeof i&&(n[s]=(...e)=>t(i(...e)))}return n}(e,t))):e?"function"==typeof e?T(e):D(e,"mapDispatchToProps"):O((e=>({dispatch:e})))}(t),g=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:s}){let i,r=!1;return function(t,n,o){const a=e(t,n,o);return r?s(a,i)||(i=a):(r=!0,i=a),i}}}(e):D(e,"mergeProps"):()=>P}(n),m=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,s={shouldHandleStateChanges:m,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:f,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:r,areMergedPropsEqual:a};function u(t){const[n,i,r]=l.useMemo((()=>{const{reactReduxForwardedRef:e}=t,n=(0,w.default)(t,L);return[t.context,e,n]}),[t]),o=l.useMemo((()=>n&&n.Consumer&&(0,C.isContextConsumer)(l.createElement(n.Consumer,null))?n:h),[n,h]),a=l.useContext(o),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(a)&&Boolean(a.store);const d=c?t.store:a.store,p=u?a.getServerState:d.getState,f=l.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:s,initMergeProps:i}=t,r=(0,w.default)(t,k);return E(n(e,r),s(e,r),i(e,r),e,r)}(d.dispatch,s)),[d]),[g,_]=l.useMemo((()=>{if(!m)return $;const e=R(d,c?void 0:a.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,c,a]),v=l.useMemo((()=>c?a:(0,y.default)({},a,{subscription:g})),[c,a,g]),b=l.useRef(),x=l.useRef(r),S=l.useRef(),O=l.useRef(!1),M=(l.useRef(!1),l.useRef(!1)),T=l.useRef();j((()=>(M.current=!0,()=>{M.current=!1})),[]);const D=l.useMemo((()=>()=>S.current&&r===x.current?S.current:f(d.getState(),r)),[d,r]),P=l.useMemo((()=>e=>g?function(e,t,n,s,i,r,o,a,l,c,u){if(!e)return()=>{};let h=!1,d=null;const p=()=>{if(h||!a.current)return;const e=t.getState();let n,p;try{n=s(e,i.current)}catch(f){p=f,d=f}p||(d=null),n===r.current?o.current||c():(r.current=n,l.current=n,o.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}(m,d,g,f,x,b,O,M,S,_,e):()=>{}),[g]);var A,I,N;let U;A=F,I=[x,b,O,r,S,_],j((()=>A(...I)),N);try{U=B(P,D,p?()=>f(p(),r):D)}catch(V){throw T.current&&(V.message+=`\nThe error may be correlated with this previous error:\n${T.current.stack}\n\n`),V}j((()=>{T.current=void 0,S.current=void 0,b.current=U}));const z=l.useMemo((()=>l.createElement(e,(0,y.default)({},U,{ref:i}))),[i,e,U]);return l.useMemo((()=>m?l.createElement(o.Provider,{value:v},z):z),[o,z,v])}const d=l.memo(u);if(d.WrappedComponent=e,d.displayName=u.displayName=n,c){const t=l.forwardRef((function(e,t){return l.createElement(d,(0,y.default)({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,S()(t,e)}return S()(d,e)}};const V=function({store:e,context:t,children:n,serverState:s,stabilityCheck:i="once",noopCheck:r="once"}){const o=l.useMemo((()=>{const t=R(e);return{store:e,subscription:t,getServerState:s?()=>s:void 0,stabilityCheck:i,noopCheck:r}}),[e,s,i,r]),a=l.useMemo((()=>e.getState()),[e]);j((()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[o,a]);const c=t||d;return l.createElement(c.Provider,{value:o},n)};function q(e=d){const t=e===d?f:p(e);return function(){const{store:e}=t();return e}}const H=q();function W(e=d){const t=e===d?H:q(e);return function(){return t().dispatch}}const K=W();var G,J;G=i.useSyncExternalStoreWithSelector,m=G,(e=>{B=e})(s.useSyncExternalStore),J=r.unstable_batchedUpdates,o=J},47418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},91036:(e,t,n)=>{const s=n(35106),i=n(63150),{isPlainObject:r}=n(26057),o=n(9996),a=n(79430),{parse:l}=n(50020),c=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function h(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function d(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return h(e,(function(e){t(e)&&n.push(e)})),n}e.exports=g;const f=/^[^\0\t\n\f\r /<=>]+$/;function g(e,t,n){if(null==e)return"";let _="",v="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=_.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(T.length){T[T.length-1].text+=n.text}},this.updateParentNodeMediaChildren=function(){if(T.length&&c.includes(this.tag)){T[T.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},g.defaults,t)).parser=Object.assign({},m,t.parser),u.forEach((function(e){!1!==t.allowedTags&&(t.allowedTags||[]).indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n\u26a0\ufe0f Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const y=t.nonTextTags||["script","style","textarea","option"];let w,x;t.allowedAttributes&&(w={},x={},h(t.allowedAttributes,(function(e,t){w[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):w[t].push(e)})),n.length&&(x[t]=new RegExp("^("+n.join("|")+")$"))})));const S={},C={},k={};h(t.allowedClasses,(function(e,t){w&&(d(w,t)||(w[t]=[]),w[t].push("class")),S[t]=[],k[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):e instanceof RegExp?k[t].push(e):S[t].push(e)})),n.length&&(C[t]=new RegExp("^("+n.join("|")+")$"))}));const E={};let O,M,T,D,P,A,R;h(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=g.simpleTransform(e)),"*"===t?O=n:E[t]=n}));let j=!1;N();const I=new s.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&N(),A)return void R++;const s=new b(e,n);T.push(s);let i=!1;const c=!!s.text;let u;if(d(E,e)&&(u=E[e](e,n),s.attribs=n=u.attribs,void 0!==u.text&&(s.innerText=u.text),e!==u.tagName&&(s.name=e=u.tagName,P[M]=u.tagName)),O&&(u=O(e,n),s.attribs=n=u.attribs,e!==u.tagName&&(s.name=e=u.tagName,P[M]=u.tagName)),(!1!==t.allowedTags&&-1===(t.allowedTags||[]).indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(d(e,t))return!1;return!0}(D)||null!=t.nestingLimit&&M>=t.nestingLimit)&&(i=!0,D[M]=!0,"discard"===t.disallowedTagsMode&&-1!==y.indexOf(e)&&(A=!0,R=1),D[M]=!0),M++,i){if("discard"===t.disallowedTagsMode)return;v=_,_=""}_+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(s.innerText=""),(!w||d(w,e)||w["*"])&&h(n,(function(n,i){if(!f.test(i))return void delete s.attribs[i];let c=!1;if(!w||d(w,e)&&-1!==w[e].indexOf(i)||w["*"]&&-1!==w["*"].indexOf(i)||d(x,e)&&x[e].test(i)||x["*"]&&x["*"].test(i))c=!0;else if(w&&w[e])for(const t of w[e])if(r(t)&&t.name&&t.name===i){c=!0;let e="";if(!0===t.multiple){const s=n.split(" ");for(const n of s)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&B(e,n))return void delete s.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const s=$(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===s.url.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return s.url.hostname===e||s.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(u){e=!1}if(!e)return void delete s.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{const s=$(n);if(s.isRelativeUrl)e=d(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===s.url.hostname})),i=(t.allowedIframeDomains||[]).find((function(e){return s.url.hostname===e||s.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(u){e=!1}if(!e)return void delete s.attribs[i]}if("srcset"===i)try{let e=a(n);if(e.forEach((function(e){B("srcset",e.url)&&(e.evil=!0)})),e=p(e,(function(e){return!e.evil})),!e.length)return void delete s.attribs[i];n=p(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),s.attribs[i]=n}catch(u){return void delete s.attribs[i]}if("class"===i){const t=S[e],r=S["*"],a=C[e],l=k[e],c=[a,C["*"]].concat(l).filter((function(e){return e}));if(!(n=F(n,t&&r?o(t,r):t||r,c)).length)return void delete s.attribs[i]}if("style"===i)try{const r=function(e,t){if(!t)return e;const n=e.nodes[0];let s;s=t[n.selector]&&t["*"]?o(t[n.selector],t["*"]):t[n.selector]||t["*"];s&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){if(d(e,n.prop)){e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n)}return t}}(s),[]));return e}(l(e+" {"+n+"}"),t.allowedStyles);if(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(r),0===n.length)return void delete s.attribs[i]}catch(u){return void delete s.attribs[i]}_+=" "+i,n&&n.length&&(_+='="'+L(n,!0)+'"')}else delete s.attribs[i]})),-1!==t.selfClosing.indexOf(e)?_+=" />":(_+=">",!s.innerText||c||t.textFilter||(_+=L(s.innerText),j=!0)),i&&(_=v+L(_),v="")},ontext:function(e){if(A)return;const n=T[T.length-1];let s;if(n&&(s=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==s&&"style"!==s){const n=L(e,!1);t.textFilter&&!j?_+=t.textFilter(n,s):j||(_+=n)}else _+=e;if(T.length){T[T.length-1].text+=e}},onclosetag:function(e){if(A){if(R--,R)return;A=!1}const n=T.pop();if(!n)return;if(n.tag!==e)return void T.push(n);A=!!t.enforceHtmlBoundary&&"html"===e,M--;const s=D[M];if(s){if(delete D[M],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();v=_,_=""}P[M]&&(e=P[M],delete P[M]),t.exclusiveFilter&&t.exclusiveFilter(n)?_=_.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(_+="</"+e+">",s&&(_=v+L(_),v=""),j=!1):s&&(_=v,v=""))}},t.parser);return I.write(e),I.end(),_;function N(){_="",M=0,T=[],D={},P={},A=!1,R=0}function L(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function B(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const s=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!s)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=s[1].toLowerCase();return d(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function $(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let s=0;s<100;s++)t+=`/${s}`;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}function F(e,t,n){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||n.some((function(t){return t.test(e)}))})).join(" "):e}}const m={decodeEntities:!0};g.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},g.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(s,i){let r;if(n)for(r in t)i[r]=t[r];else i=t;return{tagName:e,attribs:i}}}},32734:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},58427:function(e,t,n){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(99960)),l=n(67772),c=n(32734),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),s="",i=0;i<n.length;i++)s+=p(n[i],t);return s}function p(e,t){switch(e.type){case a.Root:return d(e.children,t);case a.Directive:case a.Doctype:return"<"+e.data+">";case a.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case a.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case a.Script:case a.Style:case a.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=c.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&f.has(e.parent.name)&&(t=s(s({},t),{xmlMode:!1})));!t.xmlMode&&g.has(e.name)&&(t=s(s({},t),{xmlMode:"foreign"}));var i="<"+e.name,r=function(e,t){if(e)return Object.keys(e).map((function(n){var s,i,r=null!==(s=e[n])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(n=null!==(i=c.attributeNames.get(n))&&void 0!==i?i:n),t.emptyAttrs||t.xmlMode||""!==r?n+'="'+(!1!==t.decodeEntities?l.encodeXML(r):r.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);r&&(i+=" "+r);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&h.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=d(e.children,t)),!t.xmlMode&&h.has(e.name)||(i+="</"+e.name+">"));return i}(e,t);case a.Text:return function(e,t){var n=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(n=l.encodeXML(n));return n}(e,t)}}t.default=d;var f=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=new Set(["svg","math"])},61142:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=n(99960),o=n(46218);i(n(46218),t);var a=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=l),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:l,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?r.ElementType.Tag:void 0,s=new o.Element(e,t,void 0,n);this.addNode(s),this.tagStack.push(s)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===r.ElementType.Text)t?n.data=(n.data+e).replace(a," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(a," "));var s=new o.Text(e);this.addNode(s),this.lastNode=s}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment)this.lastNode.data+=e;else{var t=new o.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.NodeWithChildren(r.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new o.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},46218:function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(99960),a=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),l=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=a.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),x(this,e)},e}();t.Node=l;var c=function(e){function t(t,n){var s=e.call(this,t)||this;return s.data=n,s}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(l);t.DataNode=c;var u=function(e){function t(t){return e.call(this,o.ElementType.Text,t)||this}return i(t,e),t}(c);t.Text=u;var h=function(e){function t(t){return e.call(this,o.ElementType.Comment,t)||this}return i(t,e),t}(c);t.Comment=h;var d=function(e){function t(t,n){var s=e.call(this,o.ElementType.Directive,n)||this;return s.name=t,s}return i(t,e),t}(c);t.ProcessingInstruction=d;var p=function(e){function t(t,n){var s=e.call(this,t)||this;return s.children=n,s}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(l);t.NodeWithChildren=p;var f=function(e){function t(t){return e.call(this,o.ElementType.Root,t)||this}return i(t,e),t}(p);t.Document=f;var g=function(e){function t(t,n,s,i){void 0===s&&(s=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var r=e.call(this,i,s)||this;return r.name=t,r.attribs=n,r}return i(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,s;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(s=e["x-attribsPrefix"])||void 0===s?void 0:s[t]}}))},enumerable:!1,configurable:!0}),t}(p);function m(e){return(0,o.isTag)(e)}function _(e){return e.type===o.ElementType.CDATA}function v(e){return e.type===o.ElementType.Text}function b(e){return e.type===o.ElementType.Comment}function y(e){return e.type===o.ElementType.Directive}function w(e){return e.type===o.ElementType.Root}function x(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new u(e.data);else if(b(e))n=new h(e.data);else if(m(e)){var s=t?S(e.children):[],i=new g(e.name,r({},e.attribs),s);s.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),n=i}else if(_(e)){s=t?S(e.children):[];var a=new p(o.ElementType.CDATA,s);s.forEach((function(e){return e.parent=a})),n=a}else if(w(e)){s=t?S(e.children):[];var l=new f(s);s.forEach((function(e){return e.parent=l})),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else{if(!y(e))throw new Error("Not implemented yet: ".concat(e.type));var c=new d(e.name,e.data);null!=e["x-name"]&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),n=c}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function S(e){for(var t=e.map((function(e){return x(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=g,t.isTag=m,t.isCDATA=_,t.isText=v,t.isComment=b,t.isDirective=y,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=x},22903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var s=n(45283),i=n(99473);t.getFeed=function(e){var t=l(h,e);return t?"feed"===t.name?function(e){var t,n=e.children,s={type:"atom",items:(0,i.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,s={media:a(n)};u(s,"id","id",n),u(s,"title","title",n);var i=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;i&&(s.link=i);var r=c("summary",n)||c("content",n);r&&(s.description=r);var o=c("updated",n);return o&&(s.pubDate=new Date(o)),s}))};u(s,"id","id",n),u(s,"title","title",n);var r=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;r&&(s.link=r);u(s,"description","subtitle",n);var o=c("updated",n);o&&(s.updated=new Date(o));return u(s,"author","email",n,!0),s}(t):function(e){var t,n,s=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],r={type:e.name.substr(0,3),id:"",items:(0,i.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:a(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var s=c("pubDate",t);return s&&(n.pubDate=new Date(s)),n}))};u(r,"title","title",s),u(r,"link","link",s),u(r,"description","description",s);var o=c("lastBuildDate",s);o&&(r.updated=new Date(o));return u(r,"author","managingEditor",s,!0),r}(t):null};var r=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(e){return(0,i.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},s=0,i=r;s<i.length;s++){t[c=i[s]]&&(n[c]=t[c])}for(var a=0,l=o;a<l.length;a++){var c;t[c=l[a]]&&(n[c]=parseInt(t[c],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,i.getElementsByTagName)(e,t,!0,1)[0]}function c(e,t,n){return void 0===n&&(n=!1),(0,s.textContent)((0,i.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,s,i){void 0===i&&(i=!1);var r=c(n,s,i);r&&(e[t]=r)}function h(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},67701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var s=n(61142);function i(e,t){var n=[],i=[];if(e===t)return 0;for(var r=(0,s.hasChildren)(e)?e:e.parent;r;)n.unshift(r),r=r.parent;for(r=(0,s.hasChildren)(t)?t:t.parent;r;)i.unshift(r),r=r.parent;for(var o=Math.min(n.length,i.length),a=0;a<o&&n[a]===i[a];)a++;if(0===a)return 1;var l=n[a-1],c=l.children,u=n[a],h=i[a];return c.indexOf(u)>c.indexOf(h)?l===t?20:4:l===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var s=n.parent;s;s=s.parent)if(e.includes(s)){e.splice(t,1);break}}return e},t.compareDocumentPosition=i,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=i(e,t);return 2&n?-1:4&n?1:0})),e}},47241:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,i(n(45283),t),i(n(17972),t),i(n(14541),t),i(n(2764),t),i(n(99473),t),i(n(67701),t),i(n(22903),t);var r=n(61142);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})},99473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var s=n(61142),i=n(2764),r={tag_name:function(e){return"function"==typeof e?function(t){return(0,s.isTag)(t)&&e(t.name)}:"*"===e?s.isTag:function(t){return(0,s.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,s.isText)(t)&&e(t.data)}:function(t){return(0,s.isText)(t)&&t.data===e}}};function o(e,t){return"function"==typeof t?function(n){return(0,s.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,s.isTag)(n)&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(r,t)?r[t](n):o(t,n)}));return 0===t.length?null:t.reduce(a)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,s){void 0===s&&(s=1/0);var r=l(e);return r?(0,i.filter)(r,t,n,s):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,i.findOne)(o("id",e),t,n)},t.getElementsByTagName=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,i.filter)(r.tag_name(e),t,n,s)},t.getElementsByTagType=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,i.filter)(r.tag_type(e),t,n,s)}},14541:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var s=t.next=e.next;s&&(s.prev=t);var i=t.parent=e.parent;if(i){var r=i.children;r[r.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var s=e.children[e.children.length-2];s.next=t,t.prev=s}else t.prev=null},t.append=function(e,t){n(t);var s=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=s,i){if(i.prev=t,s){var r=s.children;r.splice(r.lastIndexOf(i),0,t)}}else s&&s.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var s=e.children[1];s.prev=t,t.next=s}else t.next=null},t.prepend=function(e,t){n(t);var s=e.parent;if(s){var i=s.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=s,t.prev=e.prev,t.next=e,e.prev=t}},2764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var s=n(61142);function i(e,t,n,r){for(var o=[],a=0,l=t;a<l.length;a++){var c=l[a];if(e(c)&&(o.push(c),--r<=0))break;if(n&&(0,s.hasChildren)(c)&&c.children.length>0){var u=i(e,c.children,n,r);if(o.push.apply(o,u),(r-=u.length)<=0)break}}return o}t.filter=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),Array.isArray(t)||(t=[t]),i(e,t,n,s)},t.find=i,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,i){void 0===i&&(i=!0);for(var r=null,o=0;o<n.length&&!r;o++){var a=n[o];(0,s.isTag)(a)&&(t(a)?r=a:i&&a.children.length>0&&(r=e(t,a.children)))}return r},t.existsOne=function e(t,n){return n.some((function(n){return(0,s.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},t.findAll=function(e,t){for(var n,i,r=[],o=t.filter(s.isTag);i=o.shift();){var a=null===(n=i.children)||void 0===n?void 0:n.filter(s.isTag);a&&a.length>0&&o.unshift.apply(o,a),e(i)&&r.push(i)}return r}},45283:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var i=n(61142),r=s(n(58427)),o=n(99960);function a(e,t){return(0,r.default)(e,t)}t.getOuterHTML=a,t.getInnerHTML=function(e,t){return(0,i.hasChildren)(e)?e.children.map((function(e){return a(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,i.isCDATA)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&!(0,i.isComment)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&(t.type===o.ElementType.Tag||(0,i.isCDATA)(t))?e(t.children):(0,i.isText)(t)?t.data:""}},17972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var s=n(61142),i=[];function r(e){var t;return null!==(t=e.children)&&void 0!==t?t:i}function o(e){return e.parent||null}t.getChildren=r,t.getParent=o,t.getSiblings=function(e){var t=o(e);if(null!=t)return r(t);for(var n=[e],s=e.prev,i=e.next;null!=s;)n.unshift(s),s=s.prev;for(;null!=i;)n.push(i),i=i.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,s.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,s.isTag)(t);)t=t.prev;return t}},40722:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var i=s(n(24168)),r=s(n(27272)),o=s(n(50729)),a=s(n(42913)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function c(e){var t=h(e);return function(e){return String(e).replace(l,t)}}t.decodeXML=c(o.default),t.decodeHTMLStrict=c(i.default);var u=function(e,t){return e<t?1:-1};function h(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?a.default(parseInt(t.substr(3),16)):a.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(r.default).sort(u),t=Object.keys(i.default).sort(u),n=0,s=0;n<t.length;n++)e[s]===t[n]?(t[n]+=";?",s++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=h(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),a(e)}return function(e){return String(e).replace(o,l)}}()},42913:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(7607)),r=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"\ufffd":(e in i.default&&(e=i.default[e]),r(e))}},10571:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var i=u(s(n(50729)).default),r=h(i);t.encodeXML=m(i);var o,a,l=u(s(n(24168)).default),c=h(l);function u(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function h(e){for(var t=[],n=[],s=0,i=Object.keys(e);s<i.length;s++){var r=i[s];1===r.length?t.push("\\"+r):n.push(r)}t.sort();for(var o=0;o<t.length-1;o++){for(var a=o;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var l=1+a-o;l<3||t.splice(o,l,t[o]+"-"+t[a])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=(o=l,a=c,function(e){return e.replace(a,(function(e){return o[e]})).replace(d,f)}),t.encodeNonAsciiHTML=m(l);var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function f(e){return"&#x"+(e.length>1?p(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var g=new RegExp(r.source+"|"+d.source,"g");function m(e){return function(t){return t.replace(g,(function(t){return e[t]||f(t)}))}}t.escape=function(e){return e.replace(g,f)},t.escapeUTF8=function(e){return e.replace(r,f)}},67772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var s=n(40722),i=n(10571);t.decode=function(e,t){return(!t||t<=0?s.decodeXML:s.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?s.decodeXML:s.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.encodeXML:i.encodeHTML)(e)};var r=n(10571);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});var o=n(40722);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return o.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return o.decodeXML}})},57613:function(e,t,n){"use strict";var s,i=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFeed=t.FeedHandler=void 0;var c,u,h=l(n(61142)),d=a(n(47241)),p=n(16666);!function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"}(c||(c={})),function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"}(u||(u={}));var f=function(e){function t(t,n){return"object"==typeof t&&(n=t=void 0),e.call(this,t,n)||this}return i(t,e),t.prototype.onend=function(){var e,t,n=_(w,this.dom);if(n){var s={};if("feed"===n.name){var i=n.children;s.type="atom",y(s,"id","id",i),y(s,"title","title",i);var r=b("href",_("link",i));r&&(s.link=r),y(s,"description","subtitle",i),(o=v("updated",i))&&(s.updated=new Date(o)),y(s,"author","email",i,!0),s.items=m("entry",i).map((function(e){var t={},n=e.children;y(t,"id","id",n),y(t,"title","title",n);var s=b("href",_("link",n));s&&(t.link=s);var i=v("summary",n)||v("content",n);i&&(t.description=i);var r=v("updated",n);return r&&(t.pubDate=new Date(r)),t.media=g(n),t}))}else{var o;i=null!==(t=null===(e=_("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];s.type=n.name.substr(0,3),s.id="",y(s,"title","title",i),y(s,"link","link",i),y(s,"description","description",i),(o=v("lastBuildDate",i))&&(s.updated=new Date(o)),y(s,"author","managingEditor",i,!0),s.items=m("item",n.children).map((function(e){var t={},n=e.children;y(t,"id","guid",n),y(t,"title","title",n),y(t,"link","link",n),y(t,"description","description",n);var s=v("pubDate",n);return s&&(t.pubDate=new Date(s)),t.media=g(n),t}))}this.feed=s,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},t}(h.default);function g(e){return m("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function m(e,t){return d.getElementsByTagName(e,t,!0)}function _(e,t){return d.getElementsByTagName(e,t,!0,1)[0]}function v(e,t,n){return void 0===n&&(n=!1),d.getText(d.getElementsByTagName(e,t,n,1)).trim()}function b(e,t){return t?t.attribs[e]:null}function y(e,t,n,s,i){void 0===i&&(i=!1);var r=v(n,s,i);r&&(e[t]=r)}function w(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=f,t.parseFeed=function(e,t){void 0===t&&(t={xmlMode:!0});var n=new f(t);return new p.Parser(n,t).end(e),n.feed}},16666:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var i=s(n(10034)),r=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),a={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:o,h1:o,h2:o,h3:o,h4:o,h5:o,h6:o,select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:o,article:o,aside:o,blockquote:o,details:o,div:o,dl:o,fieldset:o,figcaption:o,figure:o,footer:o,form:o,header:o,hr:o,main:o,nav:o,ol:o,pre:o,section:o,table:o,ul:o,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),u=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),h=/\s|\//,d=function(){function e(e,t){var n,s,r,o,a;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(s=t.lowerCaseAttributeNames)&&void 0!==s?s:!t.xmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:i.default)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,e)},e.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(a,e))for(var s=void 0;this.stack.length>0&&a[e].has(s=this.stack[this.stack.length-1]);)this.onclosetag(s);!this.options.xmlMode&&l.has(e)||(this.stack.push(e),c.has(e)?this.foreignContext.push(!0):u.has(e)&&this.foreignContext.push(!1)),null===(n=(t=this.cbs).onopentagname)||void 0===n||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&l.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(c.has(e)||u.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&l.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,n),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,n;null===(n=(t=this.cbs).onattribute)||void 0===n||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(h),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,n,s,i;this.updatePosition(4),null===(n=(t=this.cbs).oncomment)||void 0===n||n.call(t,e),null===(i=(s=this.cbs).oncommentend)||void 0===i||i.call(s)},e.prototype.oncdata=function(e){var t,n,s,i,r,o;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(t=this.cbs).oncdatastart)||void 0===n||n.call(t),null===(i=(s=this.cbs).ontext)||void 0===i||i.call(s,e),null===(o=(r=this.cbs).oncdataend)||void 0===o||o.call(r)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,n;null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,s;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(s=(n=this.cbs).onparserinit)||void 0===s||s.call(n,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=d},10034:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(42913)),r=s(n(24168)),o=s(n(27272)),a=s(n(50729));function l(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function c(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function u(e,t,n){var s=e.toLowerCase();return e===s?function(e,i){i===s?e._state=t:(e._state=n,e._index--)}:function(i,r){r===s||r===e?i._state=t:(i._state=n,i._index--)}}function h(e,t){var n=e.toLowerCase();return function(s,i){i===n||i===e?s._state=t:(s._state=3,s._index--)}}var d=u("C",24,16),p=u("D",25,16),f=u("A",26,16),g=u("T",27,16),m=u("A",28,16),_=h("R",35),v=h("I",36),b=h("P",37),y=h("T",38),w=u("R",40,1),x=u("I",41,1),S=u("P",42,1),C=u("T",43,1),k=h("Y",45),E=h("L",46),O=h("E",47),M=u("Y",49,1),T=u("L",50,1),D=u("E",51,1),P=h("I",54),A=h("T",55),R=h("L",56),j=h("E",57),I=u("I",58,1),N=u("T",59,1),L=u("L",60,1),B=u("E",61,1),$=u("#",63,64),F=u("X",66,65),U=function(){function e(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null==e?void 0:e.xmlMode),this.decodeEntities=null===(n=null==e?void 0:e.decodeEntities)||void 0===n||n}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(e){return c(e)||this.xmlMode&&!l(e)&&"/"!==e&&">"!==e},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||l(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||l(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){l(e)||(">"===e?this._state=1:1!==this.special?4===this.special||"s"!==e&&"S"!==e?4!==this.special||"t"!==e&&"T"!==e?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||l(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:l(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):l(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||l(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):l(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):l(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){l(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||l(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||l(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?a.default:r.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(o.default,n))return this.emitPartial(o.default[n]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!c(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(o.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,n){var s=this.sectionStart+e;if(s!==this._index){var r=this.buffer.substring(s,this._index),o=parseInt(r,t);this.emitPartial(i.default(o)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?I(this,e):39===this._state?w(this,e):40===this._state?x(this,e):41===this._state?S(this,e):34===this._state?_(this,e):35===this._state?v(this,e):36===this._state?b(this,e):37===this._state?y(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?C(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?k(this,e):29===this._state?this.stateInCdata(e):45===this._state?E(this,e):46===this._state?O(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?M(this,e):49===this._state?T(this,e):50===this._state?D(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?P(this,e):54===this._state?A(this,e):55===this._state?R(this,e):56===this._state?j(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?N(this,e):59===this._state?L(this,e):60===this._state?B(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?d(this,e):62===this._state?$(this,e):24===this._state?p(this,e):25===this._state?f(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?g(this,e):27===this._state?m(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?F(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();t.default=U},35106:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RssHandler=t.DefaultHandler=t.DomUtils=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var l=n(16666);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=n(61142);function u(e,t){var n=new c.DomHandler(void 0,t);return new l.Parser(n,t).end(e),n.root}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}}),t.parseDocument=u,t.parseDOM=function(e,t){return u(e,t).children},t.createDomStream=function(e,t,n){var s=new c.DomHandler(e,t,n);return new l.Parser(s,t)};var h=n(10034);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}});var d=r(n(99960));t.ElementType=d,o(n(57613),t),t.DomUtils=r(n(47241));var p=n(57613);Object.defineProperty(t,"RssHandler",{enumerable:!0,get:function(){return p.FeedHandler}})},22257:(e,t,n)=>{const s=Symbol("SemVer ANY");class i{static get ANY(){return s}constructor(e,t){if(t=r(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(t){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):(!(t=r(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=i;const r=n(12893),{safeRe:o,t:a}=n(55765),l=n(7539),c=n(74225),u=n(26376),h=n(66902)},66902:(e,t,n)=>{class s{constructor(e,t){if(t=r(t),e instanceof s)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new s(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&_(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;const s=this.options.loose,r=s?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(r,T(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],h),a("comparator trim",e),e=e.replace(c[u.TILDETRIM],d),a("tilde trim",e),e=e.replace(c[u.CARETTRIM],p),a("caret trim",e);let l=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>M(e,this.options)));s&&(l=l.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE]))))),a("range list",l);const _=new Map,v=l.map((e=>new o(e,this.options)));for(const i of v){if(m(i))return[i];_.set(i.value,i)}_.size>1&&_.has("")&&_.delete("");const y=[..._.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof s))throw new TypeError("a Range is required");return this.set.some((n=>v(n,t)&&e.set.some((e=>v(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(D(this.set[n],e,this.options))return!0;return!1}}e.exports=s;const i=new(n(96062))({max:1e3}),r=n(12893),o=n(22257),a=n(74225),l=n(26376),{safeRe:c,t:u,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:p}=n(55765),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=n(83295),m=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,v=(e,t)=>{let n=!0;const s=e.slice();let i=s.pop();for(;n&&s.length;)n=s.every((e=>i.intersects(e,t))),i=s.pop();return n},b=(e,t)=>(a("comp",e,t),e=S(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=k(e,t),a("xrange",e),e=O(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{const n=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(n,((t,n,s,i,r)=>{let o;return a("tilde",e,t,n,s,i,r),y(n)?o="":y(s)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:y(i)?o=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:r?(a("replaceTilde pr",r),o=`>=${n}.${s}.${i}-${r} <${n}.${+s+1}.0-0`):o=`>=${n}.${s}.${i} <${n}.${+s+1}.0-0`,a("tilde return",o),o}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{a("caret",e,t);const n=t.loose?c[u.CARETLOOSE]:c[u.CARET],s=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,r,o)=>{let l;return a("caret",e,t,n,i,r,o),y(n)?l="":y(i)?l=`>=${n}.0.0${s} <${+n+1}.0.0-0`:y(r)?l="0"===n?`>=${n}.${i}.0${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${s} <${+n+1}.0.0-0`:o?(a("replaceCaret pr",o),l="0"===n?"0"===i?`>=${n}.${i}.${r}-${o} <${n}.${i}.${+r+1}-0`:`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${r}-${o} <${+n+1}.0.0-0`):(a("no pr"),l="0"===n?"0"===i?`>=${n}.${i}.${r}${s} <${n}.${i}.${+r+1}-0`:`>=${n}.${i}.${r}${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${r} <${+n+1}.0.0-0`),a("caret return",l),l}))},k=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>E(e,t))).join(" ")),E=(e,t)=>{e=e.trim();const n=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(n,((n,s,i,r,o,l)=>{a("xRange",e,n,s,i,r,o,l);const c=y(i),u=c||y(r),h=u||y(o),d=h;return"="===s&&d&&(s=""),l=t.includePrerelease?"-0":"",c?n=">"===s||"<"===s?"<0.0.0-0":"*":s&&d?(u&&(r=0),o=0,">"===s?(s=">=",u?(i=+i+1,r=0,o=0):(r=+r+1,o=0)):"<="===s&&(s="<",u?i=+i+1:r=+r+1),"<"===s&&(l="-0"),n=`${s+i}.${r}.${o}${l}`):u?n=`>=${i}.0.0${l} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${r}.0${l} <${i}.${+r+1}.0-0`),a("xRange return",n),n}))},O=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),M=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),T=e=>(t,n,s,i,r,o,a,l,c,u,h,d,p)=>`${n=y(s)?"":y(i)?`>=${s}.0.0${e?"-0":""}`:y(r)?`>=${s}.${i}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=y(c)?"":y(u)?`<${+c+1}.0.0-0`:y(h)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${h}-${d}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`}`.trim(),D=(e,t,n)=>{for(let s=0;s<e.length;s++)if(!e[s].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},26376:(e,t,n)=>{const s=n(74225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:r}=n(83295),{safeRe:o,t:a}=n(55765),l=n(12893),{compareIdentifiers:c}=n(86742);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(s("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(s("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let s=[t,e];!1===n&&(s=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},13507:(e,t,n)=>{const s=n(33959);e.exports=(e,t)=>{const n=s(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const s=n(58718),i=n(81194),r=n(71312),o=n(25903),a=n(21544),l=n(12056);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return s(e,n,c);case"!=":return i(e,n,c);case">":return r(e,n,c);case">=":return o(e,n,c);case"<":return a(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},99038:(e,t,n)=>{const s=n(26376),i=n(33959),{safeRe:r,t:o}=n(55765);e.exports=(e,t)=>{if(e instanceof s)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=r[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),r[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;r[o.COERCERTL].lastIndex=-1}else n=e.match(r[o.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},88880:(e,t,n)=>{const s=n(26376);e.exports=(e,t,n)=>{const i=new s(e,n),r=new s(t,n);return i.compare(r)||i.compareBuild(r)}},27880:(e,t,n)=>{const s=n(46269);e.exports=(e,t)=>s(e,t,!0)},46269:(e,t,n)=>{const s=n(26376);e.exports=(e,t,n)=>new s(e,n).compare(new s(t,n))},62378:(e,t,n)=>{const s=n(33959);e.exports=(e,t)=>{const n=s(e,null,!0),i=s(t,null,!0),r=n.compare(i);if(0===r)return null;const o=r>0,a=o?n:i,l=o?i:n,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},58718:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>0===s(e,t,n)},71312:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>s(e,t,n)>0},25903:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>s(e,t,n)>=0},20253:(e,t,n)=>{const s=n(26376);e.exports=(e,t,n,i,r)=>{"string"==typeof n&&(r=i,i=n,n=void 0);try{return new s(e instanceof s?e.version:e,n).inc(t,i,r).version}catch(o){return null}}},21544:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>s(e,t,n)<0},12056:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>s(e,t,n)<=0},38679:(e,t,n)=>{const s=n(26376);e.exports=(e,t)=>new s(e,t).major},87789:(e,t,n)=>{const s=n(26376);e.exports=(e,t)=>new s(e,t).minor},81194:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>0!==s(e,t,n)},33959:(e,t,n)=>{const s=n(26376);e.exports=(e,t,n=!1)=>{if(e instanceof s)return e;try{return new s(e,t)}catch(i){if(!n)return null;throw i}}},52358:(e,t,n)=>{const s=n(26376);e.exports=(e,t)=>new s(e,t).patch},57559:(e,t,n)=>{const s=n(33959);e.exports=(e,t)=>{const n=s(e,t);return n&&n.prerelease.length?n.prerelease:null}},79795:(e,t,n)=>{const s=n(46269);e.exports=(e,t,n)=>s(t,e,n)},63657:(e,t,n)=>{const s=n(88880);e.exports=(e,t)=>e.sort(((e,n)=>s(n,e,t)))},45712:(e,t,n)=>{const s=n(66902);e.exports=(e,t,n)=>{try{t=new s(t,n)}catch(i){return!1}return t.test(e)}},21100:(e,t,n)=>{const s=n(88880);e.exports=(e,t)=>e.sort(((e,n)=>s(e,n,t)))},76397:(e,t,n)=>{const s=n(33959);e.exports=(e,t)=>{const n=s(e,t);return n?n.version:null}},81249:(e,t,n)=>{const s=n(55765),i=n(83295),r=n(26376),o=n(86742),a=n(33959),l=n(76397),c=n(13507),u=n(20253),h=n(62378),d=n(38679),p=n(87789),f=n(52358),g=n(57559),m=n(46269),_=n(79795),v=n(27880),b=n(88880),y=n(21100),w=n(63657),x=n(71312),S=n(21544),C=n(58718),k=n(81194),E=n(25903),O=n(12056),M=n(7539),T=n(99038),D=n(22257),P=n(66902),A=n(45712),R=n(51042),j=n(85775),I=n(71657),N=n(95316),L=n(89042),B=n(6826),$=n(97606),F=n(50032),U=n(82937),z=n(17908),V=n(50799);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:d,minor:p,patch:f,prerelease:g,compare:m,rcompare:_,compareLoose:v,compareBuild:b,sort:y,rsort:w,gt:x,lt:S,eq:C,neq:k,gte:E,lte:O,cmp:M,coerce:T,Comparator:D,Range:P,satisfies:A,toComparators:R,maxSatisfying:j,minSatisfying:I,minVersion:N,validRange:L,outside:B,gtr:$,ltr:F,intersects:U,simplifyRange:z,subset:V,SemVer:r,re:s.re,src:s.src,tokens:s.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},83295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},74225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},86742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const s=t.test(e),i=t.test(n);return s&&i&&(e=+e,n=+n),e===n?0:s&&!i?-1:i&&!s?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},12893:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},55765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=n(83295),o=n(74225),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let h=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[d,i]],f=(e,t,n)=>{const s=(e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=h++;o(e,i,t),u[e]=i,c[i]=t,a[i]=new RegExp(t,n?"g":void 0),l[i]=new RegExp(s,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},96062:(e,t,n)=>{"use strict";const s=n(34411),i=Symbol("max"),r=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;const g=(e,t,n)=>{const s=e[d].get(t);if(s){const t=s.value;if(m(e,t)){if(v(e,s),!e[a])return}else n&&(e[p]&&(s.value.now=Date.now()),e[h].unshiftNode(s));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},_=e=>{if(e[r]>e[i])for(let t=e[h].tail;e[r]>e[i]&&null!==t;){const n=t.prev;v(e,t),t=n}},v=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[r]-=n.length,e[d].delete(n.key),e[h].removeNode(t)}};class b{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}}const y=(e,t,n,s)=>{let i=n.value;m(e,i)&&(v(e,n),e[a]||(i=void 0)),i&&t.call(s,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,_(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,_(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[r]=0,this[h].forEach((e=>{e.length=this[o](e.value,e.key),this[r]+=e.length}))),_(this)}get lengthCalculator(){return this[o]}get length(){return this[r]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let n=this[h].tail;null!==n;){const s=n.prev;y(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[h].head;null!==n;){const s=n.next;y(this,e,n,t),n=s}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach((e=>this[c](e.key,e.value))),this[d]=new Map,this[h]=new s,this[r]=0}dump(){return this[h].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const s=n?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[i])return v(this,this[d].get(e)),!1;const o=this[d].get(e).value;return this[c]&&(this[u]||this[c](e,o.value)),o.now=s,o.maxAge=n,o.value=t,this[r]+=a-o.length,o.length=a,this.get(e),_(this),!0}const p=new b(e,t,a,s,n);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[r]+=p.length,this[h].unshift(p),this[d].set(e,this[h].head),_(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const s=e[n],i=s.e||0;if(0===i)this.set(s.k,s.v);else{const e=i-t;e>0&&this.set(s.k,s.v,e)}}}prune(){this[d].forEach(((e,t)=>g(this,t,!1)))}}},97606:(e,t,n)=>{const s=n(6826);e.exports=(e,t,n)=>s(e,t,">",n)},82937:(e,t,n)=>{const s=n(66902);e.exports=(e,t,n)=>(e=new s(e,n),t=new s(t,n),e.intersects(t,n))},50032:(e,t,n)=>{const s=n(6826);e.exports=(e,t,n)=>s(e,t,"<",n)},85775:(e,t,n)=>{const s=n(26376),i=n(66902);e.exports=(e,t,n)=>{let r=null,o=null,a=null;try{a=new i(t,n)}catch(l){return null}return e.forEach((e=>{a.test(e)&&(r&&-1!==o.compare(e)||(r=e,o=new s(r,n)))})),r}},71657:(e,t,n)=>{const s=n(26376),i=n(66902);e.exports=(e,t,n)=>{let r=null,o=null,a=null;try{a=new i(t,n)}catch(l){return null}return e.forEach((e=>{a.test(e)&&(r&&1!==o.compare(e)||(r=e,o=new s(r,n)))})),r}},95316:(e,t,n)=>{const s=n(26376),i=n(66902),r=n(71312);e.exports=(e,t)=>{e=new i(e,t);let n=new s("0.0.0");if(e.test(n))return n;if(n=new s("0.0.0-0"),e.test(n))return n;n=null;for(let i=0;i<e.set.length;++i){const t=e.set[i];let o=null;t.forEach((e=>{const t=new s(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!r(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||n&&!r(n,o)||(n=o)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const s=n(26376),i=n(22257),{ANY:r}=i,o=n(66902),a=n(45712),l=n(71312),c=n(21544),u=n(12056),h=n(25903);e.exports=(e,t,n,d)=>{let p,f,g,m,_;switch(e=new s(e,d),t=new o(t,d),n){case">":p=l,f=u,g=c,m=">",_=">=";break;case"<":p=c,f=h,g=l,m="<",_="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let s=0;s<t.set.length;++s){const n=t.set[s];let o=null,a=null;if(n.forEach((e=>{e.semver===r&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,d)?o=e:g(e.semver,a.semver,d)&&(a=e)})),o.operator===m||o.operator===_)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===_&&g(e,a.semver))return!1}return!0}},17908:(e,t,n)=>{const s=n(45712),i=n(46269);e.exports=(e,t,n)=>{const r=[];let o=null,a=null;const l=e.sort(((e,t)=>i(e,t,n)));for(const i of l){s(i,t,n)?(a=i,o||(o=i)):(a&&r.push([o,a]),a=null,o=null)}o&&r.push([o,null]);const c=[];for(const[s,i]of r)s===i?c.push(s):i||s!==l[0]?i?s===l[0]?c.push(`<=${i}`):c.push(`${s} - ${i}`):c.push(`>=${s}`):c.push("*");const u=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},50799:(e,t,n)=>{const s=n(66902),i=n(22257),{ANY:r}=i,o=n(45712),a=n(46269),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===r){if(1===t.length&&t[0].semver===r)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===r){if(n.includePrerelease)return!0;t=c}const s=new Set;let i,u,p,f,g,m,_;for(const r of e)">"===r.operator||">="===r.operator?i=h(i,r,n):"<"===r.operator||"<="===r.operator?u=d(u,r,n):s.add(r.semver);if(s.size>1)return null;if(i&&u){if(p=a(i.semver,u.semver,n),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==u.operator))return null}for(const r of s){if(i&&!o(r,String(i),n))return null;if(u&&!o(r,String(u),n))return null;for(const e of t)if(!o(r,String(e),n))return!1;return!0}let v=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const r of t){if(_=_||">"===r.operator||">="===r.operator,m=m||"<"===r.operator||"<="===r.operator,i)if(b&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===b.major&&r.semver.minor===b.minor&&r.semver.patch===b.patch&&(b=!1),">"===r.operator||">="===r.operator){if(f=h(i,r,n),f===r&&f!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(r),n))return!1;if(u)if(v&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===v.major&&r.semver.minor===v.minor&&r.semver.patch===v.patch&&(v=!1),"<"===r.operator||"<="===r.operator){if(g=d(u,r,n),g===r&&g!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(r),n))return!1;if(!r.operator&&(u||i)&&0!==p)return!1}return!(i&&m&&!u&&0!==p)&&(!(u&&_&&!i&&0!==p)&&(!b&&!v))},h=(e,t,n)=>{if(!e)return t;const s=a(e.semver,t.semver,n);return s>0?e:s<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,n)=>{if(!e)return t;const s=a(e.semver,t.semver,n);return s<0?e:s>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new s(e,n),t=new s(t,n);let i=!1;e:for(const s of e.set){for(const e of t.set){const t=u(s,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},51042:(e,t,n)=>{const s=n(66902);e.exports=(e,t)=>new s(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},89042:(e,t,n)=>{const s=n(66902);e.exports=(e,t)=>{try{return new s(e,t).range||"*"}catch(n){return null}}},19521:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerStyleSheet:()=>Ue,StyleSheetConsumer:()=>re,StyleSheetContext:()=>ie,StyleSheetManager:()=>he,ThemeConsumer:()=>Re,ThemeContext:()=>Ae,ThemeProvider:()=>je,__PRIVATE__:()=>qe,createGlobalStyle:()=>$e,css:()=>we,default:()=>He,isStyledComponent:()=>w,keyframes:()=>Fe,useTheme:()=>Ve,version:()=>S,withTheme:()=>ze});var s=n(59864),i=n(67294),r=n(96774),o=n.n(r);const a=function(e){function t(e,s,l,c,d){for(var p,f,g,m,y,x=0,S=0,C=0,k=0,E=0,A=0,j=g=p=0,N=0,L=0,B=0,$=0,F=l.length,U=F-1,z="",V="",q="",H="";N<F;){if(f=l.charCodeAt(N),N===U&&0!==S+k+C+x&&(0!==S&&(f=47===S?10:47),k=C=x=0,F++,U++),0===S+k+C+x){if(N===U&&(0<L&&(z=z.replace(h,"")),0<z.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:z+=l.charAt(N)}f=59}switch(f){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,$=++N;N<F;){switch(f=l.charCodeAt(N)){case 123:g++;break;case 125:g--;break;case 47:switch(f=l.charCodeAt(N+1)){case 42:case 47:e:{for(j=N+1;j<U;++j)switch(l.charCodeAt(j)){case 47:if(42===f&&42===l.charCodeAt(j-1)&&N+2!==j){N=j+1;break e}break;case 10:if(47===f){N=j+1;break e}}N=j}}break;case 91:f++;case 40:f++;case 34:case 39:for(;N++<U&&l.charCodeAt(N)!==f;);}if(0===g)break;N++}if(g=l.substring($,N),0===p&&(p=(z=z.replace(u,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(z=z.replace(h,"")),f=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=P}if($=(g=t(s,L,g,f,d+1)).length,0<R&&(y=a(3,g,L=n(P,z,B),s,M,O,$,f,d,c),z=L.join(""),void 0!==y&&0===($=(g=y.trim()).length)&&(f=0,g="")),0<$)switch(f){case 115:z=z.replace(w,o);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(_,"$1 $2"))+"{"+g+"}",g=1===D||2===D&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===c&&(V+=g,g="")}else g=""}else g=t(s,n(s,z,B),g,c,d+1);q+=g,g=B=L=j=p=0,z="",f=l.charCodeAt(++N);break;case 125:case 59:if(1<($=(z=(0<L?z.replace(h,""):z).trim()).length))switch(0===j&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&($=(z=z.replace(" ",":")).length),0<R&&void 0!==(y=a(1,z,s,e,M,O,V.length,c,d,c))&&0===($=(z=y.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),f=z.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){H+=z+l.charAt(N);break}default:58!==z.charCodeAt($-1)&&(V+=i(z,p,f,z.charCodeAt(2)))}B=L=j=p=0,z="",f=l.charCodeAt(++N)}}switch(f){case 13:case 10:47===S?S=0:0===1+p&&107!==c&&0<z.length&&(L=1,z+="\0"),0<R*I&&a(0,z,s,e,M,O,V.length,c,d,c),O=1,M++;break;case 59:case 125:if(0===S+k+C+x){O++;break}default:switch(O++,m=l.charAt(N),f){case 9:case 32:if(0===k+x+S)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==f&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===k+S+x&&(L=B=1,m="\f"+m);break;case 108:if(0===k+S+x+T&&0<j)switch(N-j){case 2:112===E&&58===l.charCodeAt(N-3)&&(T=E);case 8:111===A&&(T=A)}break;case 58:0===k+S+x&&(j=N);break;case 44:0===S+C+k+x&&(L=1,m+="\r");break;case 34:case 39:0===S&&(k=k===f?0:0===k?f:k);break;case 91:0===k+S+C&&x++;break;case 93:0===k+S+C&&x--;break;case 41:0===k+S+x&&C--;break;case 40:if(0===k+S+x){if(0===p)if(2*E+3*A==533);else p=1;C++}break;case 64:0===S+C+k+x+j+g&&(g=1);break;case 42:case 47:if(!(0<k+x+C))switch(S){case 0:switch(2*f+3*l.charCodeAt(N+1)){case 235:S=47;break;case 220:$=N,S=42}break;case 42:47===f&&42===E&&$+2!==N&&(33===l.charCodeAt($+2)&&(V+=l.substring($,N+1)),m="",S=0)}}0===S&&(z+=m)}A=E,E=f,N++}if(0<($=V.length)){if(L=s,0<R&&(void 0!==(y=a(2,V,L,e,M,O,$,c,d,c))&&0===(V=y).length))return H+V+q;if(V=L.join(",")+"{"+V+"}",0!=D*T){switch(2!==D||r(V,2)||(T=0),T){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(v,"::-webkit-input-$1")+V.replace(v,"::-moz-$1")+V.replace(v,":-ms-input-$1")+V}T=0}}return H+V+q}function n(e,t,n){var i=t.trim().split(g);t=i;var r=i.length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<r;++a)t[a]=s(e,t[a],n).trim();break;default:var l=a=0;for(t=[];a<r;++a)for(var c=0;c<o;++c)t[l++]=s(e[c]+" ",i[a],n).trim()}return t}function s(e,t,n){var s=t.charCodeAt(0);switch(33>s&&(s=(t=t.trim()).charCodeAt(0)),s){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,s){var o=e+";",a=2*t+3*n+4*s;if(944===a){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===D||2===D&&r(l,1)?"-webkit-"+l+l:l}if(0===D||2===D&&!r(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return p.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(y,"tb");break;case 232:l=o.replace(y,"tb-rl");break;case 220:l=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,s).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+s&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+o}return o}function r(e,t){var n=e.indexOf(1===t?":":"{"),s=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?s:s.replace(C,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,n,s,i,r,o,a,l,u){for(var h,d=0,p=t;d<R;++d)switch(h=A[d].call(c,e,p,n,s,i,r,o,a,l,u)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!=typeof e?D=1:(D=2,j=e):D=0),l}function c(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<R){var i=a(-1,n,s,s,M,O,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var r=t(P,s,n,0,0);return 0<R&&(void 0!==(i=a(-2,r,s,s,M,O,r.length,0,0,0))&&(r=i)),"",T=0,O=M=1,r}var u=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,O=1,M=1,T=0,D=1,P=[],A=[],R=0,j=null,I=0;return c.use=function e(t){switch(t){case void 0:case null:R=A.length=0;break;default:if("function"==typeof t)A[R++]=t;else if("object"==typeof t)for(var n=0,s=t.length;n<s;++n)e(t[n]);else I=0|!!t}return e},c.set=l,void 0!==e&&l(e),c};const l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function c(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=c((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(8679),p=n.n(d);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var g=function(e,t){for(var n=[e[0]],s=0,i=t.length;s<i;s+=1)n.push(t[s],e[s+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,s.typeOf)(e)},_=Object.freeze([]),v=Object.freeze({});function b(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var x="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",S="5.3.10",C="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&("false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY))),E={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var M=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,i=s;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var r=s;r<i;r++)this.groupSizes[r]=0}for(var o=this.indexOfGroup(e+1),a=0,l=t.length;a<l;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),s=n+t;this.groupSizes[e]=0;for(var i=n;i<s;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),i=s+n,r=s;r<i;r++)t+=this.tag.getRule(r)+"/*!sc*/\n";return t},e}(),T=new Map,D=new Map,P=1,A=function(e){if(T.has(e))return T.get(e);for(;D.has(P);)P++;var t=P++;return T.set(e,t),D.set(t,e),t},R=function(e){return D.get(e)},j=function(e,t){t>=P&&(P=t+1),T.set(e,t),D.set(t,e)},I="style["+x+'][data-styled-version="5.3.10"]',N=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var s,i=n.split(","),r=0,o=i.length;r<o;r++)(s=i[r])&&e.registerName(t,s)},B=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),s=[],i=0,r=n.length;i<r;i++){var o=n[i].trim();if(o){var a=o.match(N);if(a){var l=0|parseInt(a[1],10),c=a[2];0!==l&&(j(c,l),L(e,c,a[3]),e.getTag().insertRules(l,s)),s.length=0}else s.push(o)}}},$=function(){return n.nc},F=function(e){var t=document.head,n=e||t,s=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var s=t[n];if(s&&1===s.nodeType&&s.hasAttribute(x))return s}}(n),r=void 0!==i?i.nextSibling:null;s.setAttribute(x,"active"),s.setAttribute("data-styled-version","5.3.10");var o=$();return o&&s.setAttribute("nonce",o),n.insertBefore(s,r),s},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,s=t.length;n<s;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),z=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),s=this.nodes[e];return this.element.insertBefore(n,s||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),q=C,H={isServer:!C,useCSSOMInjection:!k},W=function(){function e(e,t,n){void 0===e&&(e=v),void 0===t&&(t={}),this.options=f({},H,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&C&&q&&(q=!1,function(e){for(var t=document.querySelectorAll(I),n=0,s=t.length;n<s;n++){var i=t[n];i&&"active"!==i.getAttribute(x)&&(B(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return A(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(f({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,s=t.useCSSOMInjection,i=t.target,e=n?new V(i):s?new U(i):new z(i),new M(e)));var e,t,n,s,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(A(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(A(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(A(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,s="",i=0;i<n;i++){var r=R(i);if(void 0!==r){var o=e.names.get(r),a=t.getGroup(i);if(o&&a&&o.size){var l=x+".g"+i+'[id="'+r+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),s+=""+a+l+'{content:"'+c+'"}/*!sc*/\n'}}}return s}(this)},e}(),K=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function J(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(K,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return Y(5381,e)};function Z(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!w(n))return!1}return!0}var Q=X("5.3.10"),ee=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Z(e),this.componentId=t,this.baseHash=Y(Q,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var s=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(s,this.staticRulesId))i.push(this.staticRulesId);else{var r=be(this.rules,e,t,n).join(""),o=J(Y(this.baseHash,r)>>>0);if(!t.hasNameForId(s,o)){var a=n(r,"."+o,void 0,s);t.insertRules(s,o,a)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=Y(this.baseHash,n.hash),u="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)u+=d;else if(d){var p=be(d,e,t,n),f=Array.isArray(p)?p.join(""):p;c=Y(c,f+h),u+=f}}if(u){var g=J(c>>>0);if(!t.hasNameForId(s,g)){var m=n(u,"."+g,void 0,s);t.insertRules(s,g,m)}i.push(g)}}return i.join(" ")},e}(),te=/^\s*\/\/.*$/gm,ne=[":","[",".","#"];function se(e){var t,n,s,i,r=void 0===e?v:e,o=r.options,l=void 0===o?v:o,c=r.plugins,u=void 0===c?_:c,h=new a(l),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,s,i,r,o,a,l,c,u,h){switch(n){case 1:if(0===u&&64===s.charCodeAt(0))return e(s+";"),"";break;case 2:if(0===c)return s+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+s),"";default:return s+(0===h?"/*|*/":"")}case-2:s.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,s,r){return 0===s&&-1!==ne.indexOf(r[n.length])||r.match(i)?e:"."+t};function g(e,r,o,a){void 0===a&&(a="&");var l=e.replace(te,""),c=r&&o?o+" "+r+" { "+l+" }":l;return t=a,n=r,s=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(o||!r?"":r,c)}return h.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(s,f))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),g.hash=u.length?u.reduce((function(e,t){return t.name||O(15),Y(e,t.name)}),5381).toString():"",g}var ie=i.createContext(),re=ie.Consumer,oe=i.createContext(),ae=(oe.Consumer,new W),le=se();function ce(){return(0,i.useContext)(ie)||ae}function ue(){return(0,i.useContext)(oe)||le}function he(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],s=t[1],r=ce(),a=(0,i.useMemo)((function(){var t=r;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,i.useMemo)((function(){return se({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||s(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ie.Provider,{value:a},i.createElement(oe.Provider,{value:l},e.children))}var de=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=le);var s=n.name+t.hash;e.hasNameForId(n.id,s)||e.insertRules(n.id,s,t(n.rules,s,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),pe=/([A-Z])/,fe=/([A-Z])/g,ge=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function _e(e){return pe.test(e)?e.replace(fe,me).replace(ge,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function be(e,t,n,s){if(Array.isArray(e)){for(var i,r=[],o=0,a=e.length;o<a;o+=1)""!==(i=be(e[o],t,n,s))&&(Array.isArray(i)?r.push.apply(r,i):r.push(i));return r}return ve(e)?"":w(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:be(e(t),t,n,s):e instanceof de?n?(e.inject(n,s),e.getName(s)):e:m(e)?function e(t,n){var s,i,r=[];for(var o in t)t.hasOwnProperty(o)&&!ve(t[o])&&(Array.isArray(t[o])&&t[o].isCss||b(t[o])?r.push(_e(o)+":",t[o],";"):m(t[o])?r.push.apply(r,e(t[o],o)):r.push(_e(o)+": "+(s=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||s in l||s.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(r,["}"]):r}(e):e.toString();var c}var ye=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return b(e)||m(e)?ye(be(g(_,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ye(be(g(e,n)))}new Set;var xe=function(e,t,n){return void 0===n&&(n=v),e.theme!==n.theme&&e.theme||t||n.theme},Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ce=/(^-|-$)/g;function ke(e){return e.replace(Se,"-").replace(Ce,"")}var Ee=function(e){return J(X(e)>>>0)};function Oe(e){return"string"==typeof e&&!0}var Me=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function De(e,t,n){var s=e[n];Me(t)&&Me(s)?Pe(s,t):e[n]=t}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];for(var i=0,r=n;i<r.length;i++){var o=r[i];if(Me(o))for(var a in o)Te(a)&&De(e,o[a],a)}return e}var Ae=i.createContext(),Re=Ae.Consumer;function je(e){var t=(0,i.useContext)(Ae),n=(0,i.useMemo)((function(){return function(e,t){return e?b(e)?e(t):Array.isArray(e)||"object"!=typeof e?O(8):t?f({},t,{},e):e:O(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Ae.Provider,{value:n},e.children):null}var Ie={};function Ne(e,t,n){var s=w(e),r=!Oe(e),o=t.attrs,a=void 0===o?_:o,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":ke(e);Ie[n]=(Ie[n]||0)+1;var s=n+"-"+Ee("5.3.10"+n+Ie[n]);return t?t+"-"+s:s}(t.displayName,t.parentComponentId):l,u=t.displayName,d=void 0===u?function(e){return Oe(e)?"styled."+e:"Styled("+y(e)+")"}(e):u,g=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||c,m=s&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,x=t.shouldForwardProp;s&&e.shouldForwardProp&&(x=t.shouldForwardProp?function(n,s,i){return e.shouldForwardProp(n,s,i)&&t.shouldForwardProp(n,s,i)}:e.shouldForwardProp);var S,C=new ee(n,g,s?e.componentStyle:void 0),k=C.isStatic&&0===a.length,E=function(e,t){return function(e,t,n,s){var r=e.attrs,o=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,u=e.styledComponentId,d=e.target,p=function(e,t,n){void 0===e&&(e=v);var s=f({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,r,o=e;for(t in b(o)&&(o=o(s)),o)s[t]=i[t]="className"===t?(n=i[t],r=o[t],n&&r?n+" "+r:n||r):o[t]})),[s,i]}(xe(t,(0,i.useContext)(Ae),a)||v,t,r),g=p[0],m=p[1],_=function(e,t,n,s){var i=ce(),r=ue();return t?e.generateAndInjectStyles(v,i,r):e.generateAndInjectStyles(n,i,r)}(o,s,g),y=n,w=m.$as||t.$as||m.as||t.as||d,x=Oe(w),S=m!==t?f({},t,{},m):t,C={};for(var k in S)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?C.as=S[k]:(c?c(k,h,w):!x||h(k))&&(C[k]=S[k]));return t.style&&m.style!==t.style&&(C.style=f({},t.style,{},m.style)),C.className=Array.prototype.concat(l,u,_!==u?_:null,t.className,m.className).filter(Boolean).join(" "),C.ref=y,(0,i.createElement)(w,C)}(S,e,t,k)};return E.displayName=d,(S=i.forwardRef(E)).attrs=m,S.componentStyle=C,S.displayName=d,S.shouldForwardProp=x,S.foldedComponentIds=s?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):_,S.styledComponentId=g,S.target=s?e.target:e,S.withComponent=function(e){var s=t.componentId,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),r=s&&s+"-"+(Oe(e)?e:ke(y(e)));return Ne(e,f({},i,{attrs:m,componentId:r}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=s?Pe({},e.defaultProps,t):t}}),Object.defineProperty(S,"toString",{value:function(){return"."+S.styledComponentId}}),r&&p()(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Le=function(e){return function e(t,n,i){if(void 0===i&&(i=v),!(0,s.isValidElementType)(n))return O(1,String(n));var r=function(){return t(n,i,we.apply(void 0,arguments))};return r.withConfig=function(s){return e(t,n,f({},i,{},s))},r.attrs=function(s){return e(t,n,f({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},r}(Ne,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Le[e]=Le(e)}));var Be=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Z(e),W.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,s){var i=s(be(this.rules,t,n,s).join(""),""),r=this.componentId+e;n.insertRules(r,r,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,s){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,s)},e}();function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var r=we.apply(void 0,[e].concat(n)),o="sc-global-"+Ee(JSON.stringify(r)),a=new Be(r,o);function l(e){var t=ce(),n=ue(),s=(0,i.useContext)(Ae),r=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(r,e,t,s,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(r,e,t,s,n),function(){return a.removeStyles(r,t)}}),[r,e,t,s,n]),null}function c(e,t,n,s,i){if(a.isStatic)a.renderStyles(e,E,n,i);else{var r=f({},t,{theme:xe(t,s,l.defaultProps)});a.renderStyles(e,r,n,i)}}return i.memo(l)}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var i=we.apply(void 0,[e].concat(n)).join(""),r=Ee(i);return new de(r,i)}var Ue=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=$();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.10"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[x]="",t["data-styled-version"]="5.3.10",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),s=$();return s&&(n.nonce=s),[i.createElement("style",f({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?O(2):i.createElement(he,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)},e}(),ze=function(e){var t=i.forwardRef((function(t,n){var s=(0,i.useContext)(Ae),r=e.defaultProps,o=xe(t,s,r);return i.createElement(e,f({},t,{theme:o,ref:n}))}));return p()(t,e),t.displayName="WithTheme("+y(e)+")",t},Ve=function(){return(0,i.useContext)(Ae)},qe={StyleSheet:W,masterSheet:ae};const He=Le},16678:(e,t,n)=>{"use strict";n.r(t),n.d(t,{alignContent:()=>ue,alignItems:()=>ce,alignSelf:()=>ye,background:()=>S,backgroundImage:()=>ze,backgroundPosition:()=>qe,backgroundRepeat:()=>He,backgroundSize:()=>Ve,border:()=>y,borderBottom:()=>$e,borderColor:()=>Ne,borderLeft:()=>Fe,borderRadius:()=>Ue,borderRight:()=>Be,borderStyle:()=>Ie,borderTop:()=>Le,borderWidth:()=>je,borders:()=>w,bottom:()=>Je,boxShadow:()=>L,buttonStyle:()=>F,color:()=>l,colorStyle:()=>z,compose:()=>s.compose,createParser:()=>s.createParser,createStyleFunction:()=>s.createStyleFunction,display:()=>X,flex:()=>ge,flexBasis:()=>ve,flexDirection:()=>fe,flexGrow:()=>me,flexShrink:()=>_e,flexWrap:()=>pe,flexbox:()=>p,fontFamily:()=>se,fontSize:()=>ne,fontStyle:()=>ae,fontWeight:()=>ie,get:()=>s.get,grid:()=>_,gridArea:()=>Re,gridAutoColumns:()=>Me,gridAutoFlow:()=>Oe,gridAutoRows:()=>Te,gridColumn:()=>ke,gridColumnGap:()=>Se,gridGap:()=>xe,gridRow:()=>Ee,gridRowGap:()=>Ce,gridTemplateAreas:()=>Ae,gridTemplateColumns:()=>De,gridTemplateRows:()=>Pe,height:()=>q,justifyContent:()=>de,justifyItems:()=>he,justifySelf:()=>be,layout:()=>r,left:()=>Ye,letterSpacing:()=>le,lineHeight:()=>re,margin:()=>R,maxHeight:()=>G,maxWidth:()=>K,minHeight:()=>W,minWidth:()=>H,opacity:()=>te,order:()=>we,overflow:()=>Z,overflowX:()=>Q,overflowY:()=>ee,padding:()=>j,position:()=>O,right:()=>Ge,shadow:()=>N,size:()=>J,space:()=>I,style:()=>Xe,system:()=>s.system,textAlign:()=>oe,textShadow:()=>L,textStyle:()=>U,top:()=>Ke,typography:()=>h,variant:()=>$,verticalAlign:()=>Y,width:()=>V,zIndex:()=>We});var s=n(44547),i={width:{property:"width",scale:"sizes",transform:function(e,t){return(0,s.get)(t,e,!function(e){return"number"==typeof e&&!isNaN(e)}(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0},r=(0,s.system)(i);const o=r;var a={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};a.bg=a.backgroundColor;var l=(0,s.system)(a);const c=l;var u={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0},h=(0,s.system)(u);const d=h;var p=(0,s.system)({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0});const f=p;var g={space:[0,4,8,16,32,64,128,256,512]},m={gridGap:{property:"gridGap",scale:"space",defaultScale:g.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:g.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:g.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},_=(0,s.system)(m);const v=_;var b={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"}};b.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},b.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},b.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},b.borderBottomColor={property:"borderBottomColor",scale:"colors"},b.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},b.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},b.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},b.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},b.borderLeftColor={property:"borderLeftColor",scale:"colors"},b.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},b.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},b.borderRightColor={property:"borderRightColor",scale:"colors"},b.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var y=(0,s.system)(b);const w=y;var x={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};x.bgImage=x.backgroundImage,x.bgSize=x.backgroundSize,x.bgPosition=x.backgroundPosition,x.bgRepeat=x.backgroundRepeat;var S=(0,s.system)(x);const C=S;var k={space:[0,4,8,16,32,64,128,256,512]},E={position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:k.space},right:{property:"right",scale:"space",defaultScale:k.space},bottom:{property:"bottom",scale:"space",defaultScale:k.space},left:{property:"left",scale:"space",defaultScale:k.space}},O=(0,s.system)(E);const M=O;var T={space:[0,4,8,16,32,64,128,256,512]},D=function(e){return"number"==typeof e&&!isNaN(e)},P=function(e,t){if(!D(e))return(0,s.get)(t,e,e);var n=e<0,i=Math.abs(e),r=(0,s.get)(t,i,i);return D(r)?r*(n?-1:1):n?"-"+r:r},A={};A.margin={margin:{property:"margin",scale:"space",transform:P,defaultScale:T.space},marginTop:{property:"marginTop",scale:"space",transform:P,defaultScale:T.space},marginRight:{property:"marginRight",scale:"space",transform:P,defaultScale:T.space},marginBottom:{property:"marginBottom",scale:"space",transform:P,defaultScale:T.space},marginLeft:{property:"marginLeft",scale:"space",transform:P,defaultScale:T.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:P,defaultScale:T.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:P,defaultScale:T.space}},A.margin.m=A.margin.margin,A.margin.mt=A.margin.marginTop,A.margin.mr=A.margin.marginRight,A.margin.mb=A.margin.marginBottom,A.margin.ml=A.margin.marginLeft,A.margin.mx=A.margin.marginX,A.margin.my=A.margin.marginY,A.padding={padding:{property:"padding",scale:"space",defaultScale:T.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:T.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:T.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:T.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:T.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:T.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:T.space}},A.padding.p=A.padding.padding,A.padding.pt=A.padding.paddingTop,A.padding.pr=A.padding.paddingRight,A.padding.pb=A.padding.paddingBottom,A.padding.pl=A.padding.paddingLeft,A.padding.px=A.padding.paddingX,A.padding.py=A.padding.paddingY;var R=(0,s.system)(A.margin),j=(0,s.system)(A.padding),I=(0,s.compose)(R,j);var N=(0,s.system)({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});const L=N;var B=n(37947),$=function(e){var t,n,i=e.scale,r=e.prop,o=void 0===r?"variant":r,a=e.variants,l=void 0===a?{}:a,c=e.key;n=Object.keys(l).length?function(e,t,n){return(0,B.default)((0,s.get)(t,e,null))(n.theme)}:function(e,t){return(0,s.get)(t,e,null)},n.scale=i||c,n.defaults=l;var u=((t={})[o]=n,t);return(0,s.createParser)(u)};var F=$({key:"buttons"}),U=$({key:"textStyles",prop:"textStyle"}),z=$({key:"colorStyles",prop:"colors"}),V=o.width,q=o.height,H=o.minWidth,W=o.minHeight,K=o.maxWidth,G=o.maxHeight,J=o.size,Y=o.verticalAlign,X=o.display,Z=o.overflow,Q=o.overflowX,ee=o.overflowY,te=c.opacity,ne=d.fontSize,se=d.fontFamily,ie=d.fontWeight,re=d.lineHeight,oe=d.textAlign,ae=d.fontStyle,le=d.letterSpacing,ce=f.alignItems,ue=f.alignContent,he=f.justifyItems,de=f.justifyContent,pe=f.flexWrap,fe=f.flexDirection,ge=f.flex,me=f.flexGrow,_e=f.flexShrink,ve=f.flexBasis,be=f.justifySelf,ye=f.alignSelf,we=f.order,xe=v.gridGap,Se=v.gridColumnGap,Ce=v.gridRowGap,ke=v.gridColumn,Ee=v.gridRow,Oe=v.gridAutoFlow,Me=v.gridAutoColumns,Te=v.gridAutoRows,De=v.gridTemplateColumns,Pe=v.gridTemplateRows,Ae=v.gridTemplateAreas,Re=v.gridArea,je=w.borderWidth,Ie=w.borderStyle,Ne=w.borderColor,Le=w.borderTop,Be=w.borderRight,$e=w.borderBottom,Fe=w.borderLeft,Ue=w.borderRadius,ze=C.backgroundImage,Ve=C.backgroundSize,qe=C.backgroundPosition,He=C.backgroundRepeat,We=M.zIndex,Ke=M.top,Ge=M.right,Je=M.bottom,Ye=M.left,Xe=function(e){var t=e.prop,n=e.cssProperty,i=e.alias,r=e.key,o=e.transformValue,a=e.scale,l=e.properties,c={};return c[t]=(0,s.createStyleFunction)({properties:l,property:n||t,scale:r,defaultScale:a,transform:o}),i&&(c[i]=c[t]),(0,s.createParser)(c)}},76983:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function s(e){var t={},s=i(e,t);return s.caseWithAction=function(e,n){return t[e.type]=n,s},s.case=function(e,t){return s.caseWithAction(e,(function(e,n){return t(e,n.payload)}))},s.casesWithAction=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];s.caseWithAction(r,t)}return s},s.cases=function(e,t){return s.casesWithAction(e,(function(e,n){return t(e,n.payload)}))},s.withHandling=function(e){return e(s)},s.default=function(s){return i(e,n({},t),s)},s.build=function(){return i(e,n({},t))},s}function i(e,t,n){return function(s,i){void 0===s&&(s=e);var r=t[i.type]||n;return r?r(s,i):s}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducerWithInitialState=function(e){return s(e)},t.reducerWithoutInitialState=function(){return s()},t.upcastingReducer=function(){return s()}},99308:(e,t)=>{"use strict";function n(e,t){void 0===t&&(t=function(e){return e instanceof Error});var n=e?e+"/":"";function s(e,s,i){void 0===i&&(i=t);var r=n+e;return Object.assign((function(e,t){var n={type:r,payload:e};return(s||t)&&(n.meta=Object.assign({},s,t)),i&&("boolean"==typeof i||i(e))&&(n.error=!0),n}),{type:r,toString:function(){return r},match:function(e){return e.type===r}})}return Object.assign(s,{async:function(e,t){return{type:n+e,started:s(e+"_STARTED",t,!1),done:s(e+"_DONE",t,!1),failed:s(e+"_FAILED",t,!0)}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.isType=function(e,t){return e.type===t.type},t.actionCreatorFactory=n,t.default=n},44570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(34717);t.TypeStyle=s.TypeStyle;var i=n(27582);t.types=i;var r=n(64367);t.extend=r.extend,t.classes=r.classes,t.media=r.media;var o=new s.TypeStyle({autoGenerateTag:!0});t.setStylesTarget=o.setStylesTarget,t.cssRaw=o.cssRaw,t.cssRule=o.cssRule,t.forceRenderStyles=o.forceRenderStyles,t.fontFace=o.fontFace,t.getStyles=o.getStyles,t.keyframes=o.keyframes,t.reinit=o.reinit,t.style=o.style,t.stylesheet=o.stylesheet,t.createTypeStyle=function(e){var t=new s.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},95457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToStyles=function e(t){var n={};for(var s in t){var i=t[s];if("$nest"===s){var r=i;for(var o in r){var a=r[o];n[o]=e(a)}}else"$debugName"===s?n.$displayName=i:n[s]=i}return n},t.convertToKeyframes=function(e){var t={};for(var n in e)"$debugName"!==n&&(t[n]=e[n]);return e.$debugName&&(t.$displayName=e.$debugName),t}},34717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(10859),i=n(95457),r=n(64367),o=function(){return s.create()},a=function(){function e(e){var t=this,n=e.autoGenerateTag;this.cssRaw=function(e){e&&(t._raw+=e||"",t._pendingRawChange=!0,t._styleUpdated())},this.cssRule=function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var o=i.convertToStyles(r.extend.apply(void 0,n));t._freeStyle.registerRule(e,o),t._styleUpdated()},this.forceRenderStyles=function(){var e=t._getTag();e&&(e.textContent=t.getStyles())},this.fontFace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var s=t._freeStyle,i=0,r=e;i<r.length;i++){var o=r[i];s.registerRule("@font-face",o)}t._styleUpdated()},this.getStyles=function(){return(t._raw||"")+t._freeStyle.getStyles()},this.keyframes=function(e){var n=i.convertToKeyframes(e),s=t._freeStyle.registerKeyframes(n);return t._styleUpdated(),s},this.reinit=function(){var e=o();t._freeStyle=e,t._lastFreeStyleChangeId=e.changeId,t._raw="",t._pendingRawChange=!1;var n=t._getTag();n&&(n.textContent="")},this.setStylesTarget=function(e){t._tag&&(t._tag.textContent=""),t._tag=e,t.forceRenderStyles()},this.stylesheet=function(e){for(var n={},s=0,i=Object.getOwnPropertyNames(e);s<i.length;s++){var r=i[s],o=e[r];o&&(o.$debugName=r,n[r]=t.style(o))}return n};var s=o();this._autoGenerateTag=n,this._freeStyle=s,this._lastFreeStyleChangeId=s.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;r.raf((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle.registerStyle(i.convertToStyles(r.extend.apply(void 0,arguments)));return this._styleUpdated(),e},e}();t.TypeStyle=a},64367:(e,t)=>{"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var s={},i=0,r=e;i<r.length;i++){var o=r[i];if(null!=o&&!1!==o)for(var a in o){var l=o[a];(l||0===l)&&("$nest"===a&&l?s[a]=s.$nest?n(s.$nest,l):l:-1!==a.indexOf("&")||0===a.indexOf("@media")?s[a]=s[a]?n(s[a],l):l:s[a]=l)}}return s}Object.defineProperty(t,"__esModule",{value:!0}),t.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")},t.extend=n,t.media=function(e){for(var t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=[];return e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+s(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+s(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+s(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+s(e.maxHeight)+")"),e.prefersColorScheme&&o.push("(prefers-color-scheme: "+e.prefersColorScheme+")"),{$nest:(t={},t["@media "+o.join(" and ")]=n.apply(void 0,i),t)}};var s=function(e){return"string"==typeof e?e:e+"px"}},27582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},60540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var s=t.length-1,i=1;i<s;++i)t[i]=t[i].slice(1,-1);return t[s]=t[s].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function s(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function r(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function o(e,t){var n=e;if(t)for(var s in t)n[s]=t[s];return n}function a(e){var s="[A-Za-z]",i="[0-9]",r=t(i,"[A-Fa-f]"),o=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(s,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=n(s+t(s,i,"[\\+\\-\\.]")+"*"),d=n(n(o+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),f=n(p+"\\."+p+"\\."+p+"\\."+p),g=n(r+"{1,4}"),m=n(n(g+"\\:"+g)+"|"+f),_=n(n(g+"\\:")+"{6}"+m),v=n("\\:\\:"+n(g+"\\:")+"{5}"+m),b=n(n(g)+"?\\:\\:"+n(g+"\\:")+"{4}"+m),y=n(n(n(g+"\\:")+"{0,1}"+g)+"?\\:\\:"+n(g+"\\:")+"{3}"+m),w=n(n(n(g+"\\:")+"{0,2}"+g)+"?\\:\\:"+n(g+"\\:")+"{2}"+m),x=n(n(n(g+"\\:")+"{0,3}"+g)+"?\\:\\:"+g+"\\:"+m),S=n(n(n(g+"\\:")+"{0,4}"+g)+"?\\:\\:"+m),C=n(n(n(g+"\\:")+"{0,5}"+g)+"?\\:\\:"+g),k=n(n(n(g+"\\:")+"{0,6}"+g)+"?\\:\\:"),E=n([_,v,b,y,w,x,S,C,k].join("|")),O=n(n(u+"|"+o)+"+"),M=(n(E+"\\%25"+O),n(E+n("\\%25|\\%(?!"+r+"{2})")+O)),T=n("[vV]"+r+"+\\."+t(u,a,"[\\:]")+"+"),D=n("\\["+n(M+"|"+E+"|"+T)+"\\]"),P=n(n(o+"|"+t(u,a))+"*"),A=n(D+"|"+f+"(?!"+P+")|"+P),R=n(i+"*"),j=n(n(d+"@")+"?"+A+n("\\:"+R)+"?"),I=n(o+"|"+t(u,a,"[\\:\\@]")),N=n(I+"*"),L=n(I+"+"),B=n(n(o+"|"+t(u,a,"[\\@]"))+"+"),$=n(n("\\/"+N)+"*"),F=n("\\/"+n(L+$)+"?"),U=n(B+$),z=n(L+$),V="(?!"+I+")",q=(n($+"|"+F+"|"+U+"|"+z+"|"+V),n(n(I+"|"+t("[\\/\\?]",c))+"*")),H=n(n(I+"|[\\/\\?]")+"*"),W=n(n("\\/\\/"+j+$)+"|"+F+"|"+z+"|"+V),K=n(h+"\\:"+W+n("\\?"+q)+"?"+n("\\#"+H)+"?"),G=n(n("\\/\\/"+j+$)+"|"+F+"|"+U+"|"+V),J=n(G+n("\\?"+q)+"?"+n("\\#"+H)+"?");return n(K+"|"+J),n(h+"\\:"+W+n("\\?"+q)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+A+")"+n("\\:("+R+")")+"?)")+"?("+$+"|"+F+"|"+z+"|"+V+")"),n("\\?("+q+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+A+")"+n("\\:("+R+")")+"?)")+"?("+$+"|"+F+"|"+U+"|"+V+")"),n("\\?("+q+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+A+")"+n("\\:("+R+")")+"?)")+"?("+$+"|"+F+"|"+z+"|"+V+")"),n("\\?("+q+")"),n("\\#("+H+")"),n("("+d+")@"),n("\\:("+R+")"),{NOT_SCHEME:new RegExp(t("[^]",s,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+O+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function e(e,t){var n=[],s=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(l){i=!0,r=l}finally{try{!s&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,p=36,f=1,g=26,m=38,_=700,v=72,b=128,y="-",w=/^xn--/,x=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=p-f,E=Math.floor,O=String.fromCharCode;function M(e){throw new RangeError(C[e])}function T(e,t){for(var n=[],s=e.length;s--;)n[s]=t(e[s]);return n}function D(e,t){var n=e.split("@"),s="";return n.length>1&&(s=n[0]+"@",e=n[1]),s+T((e=e.replace(S,".")).split("."),t).join(".")}function P(e){for(var t=[],n=0,s=e.length;n<s;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}var A=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},R=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},j=function(e,t,n){var s=0;for(e=n?E(e/_):e>>1,e+=E(e/t);e>k*g>>1;s+=p)e=E(e/k);return E(s+(k+1)*e/(e+m))},I=function(e){var t=[],n=e.length,s=0,i=b,r=v,o=e.lastIndexOf(y);o<0&&(o=0);for(var a=0;a<o;++a)e.charCodeAt(a)>=128&&M("not-basic"),t.push(e.charCodeAt(a));for(var l=o>0?o+1:0;l<n;){for(var c=s,u=1,h=p;;h+=p){l>=n&&M("invalid-input");var m=A(e.charCodeAt(l++));(m>=p||m>E((d-s)/u))&&M("overflow"),s+=m*u;var _=h<=r?f:h>=r+g?g:h-r;if(m<_)break;var w=p-_;u>E(d/w)&&M("overflow"),u*=w}var x=t.length+1;r=j(s-c,x,0==c),E(s/x)>d-i&&M("overflow"),i+=E(s/x),s%=x,t.splice(s++,0,i)}return String.fromCodePoint.apply(String,t)},N=function(e){var t=[],n=(e=P(e)).length,s=b,i=0,r=v,o=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;h<128&&t.push(O(h))}}catch(W){a=!0,l=W}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}var m=t.length,_=m;for(m&&t.push(y);_<n;){var w=d,x=!0,S=!1,C=void 0;try{for(var k,T=e[Symbol.iterator]();!(x=(k=T.next()).done);x=!0){var D=k.value;D>=s&&D<w&&(w=D)}}catch(W){S=!0,C=W}finally{try{!x&&T.return&&T.return()}finally{if(S)throw C}}var A=_+1;w-s>E((d-i)/A)&&M("overflow"),i+=(w-s)*A,s=w;var I=!0,N=!1,L=void 0;try{for(var B,$=e[Symbol.iterator]();!(I=(B=$.next()).done);I=!0){var F=B.value;if(F<s&&++i>d&&M("overflow"),F==s){for(var U=i,z=p;;z+=p){var V=z<=r?f:z>=r+g?g:z-r;if(U<V)break;var q=U-V,H=p-V;t.push(O(R(V+q%H,0))),U=E(q/H)}t.push(O(R(U,0))),r=j(i,A,_==m),i=0,++_}}}catch(W){N=!0,L=W}finally{try{!I&&$.return&&$.return()}finally{if(N)throw L}}++i,++s}return t.join("")},L=function(e){return D(e,(function(e){return w.test(e)?I(e.slice(4).toLowerCase()):e}))},B=function(e){return D(e,(function(e){return x.test(e)?"xn--"+N(e):e}))},$={version:"2.1.0",ucs2:{decode:P,encode:function(e){return String.fromCodePoint.apply(String,h(e))}},decode:I,encode:N,toASCII:B,toUnicode:L},F={};function U(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function z(e){for(var t="",n=0,s=e.length;n<s;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(s-n>=6){var r=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&r)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(s-n>=9){var o=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function V(e,t){function n(e){var n=z(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,U).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,U).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,U).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,U).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,U).replace(t.PCT_ENCODED,i)),e}function q(e){return e.replace(/^0*(.*)/,"$1")||"0"}function H(e,t){var n=e.match(t.IPV4ADDRESS)||[],s=u(n,2)[1];return s?s.split(".").map(q).join("."):e}function W(e,t){var n=e.match(t.IPV6ADDRESS)||[],s=u(n,3),i=s[1],r=s[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),a=u(o,2),l=a[0],c=a[1],h=c?c.split(":").map(q):[],d=l.split(":").map(q),p=t.IPV4ADDRESS.test(d[d.length-1]),f=p?7:8,g=d.length-f,m=Array(f),_=0;_<f;++_)m[_]=h[_]||d[g+_]||"";p&&(m[f-1]=H(m[f-1],t));var v=m.reduce((function(e,t,n){if(!t||"0"===t){var s=e[e.length-1];s&&s.index+s.length===n?s.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var y=m.slice(0,v.index),w=m.slice(v.index+v.length);b=y.join(":")+"::"+w.join(":")}else b=m.join(":");return r&&(b+="%"+r),b}return e}var K=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G=void 0==="".match(/(){0}/)[1];function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},s=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(K);if(i){G?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=W(H(n.host,s),s)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var r=F[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||r&&r.unicodeSupport)V(n,s);else{if(n.host&&(t.domainHost||r&&r.domainHost))try{n.host=$.toASCII(n.host.replace(s.PCT_ENCODED,z).toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+o}V(n,l)}r&&r.parse&&r.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Y(e,t){var n=!1!==t.iri?c:l,s=[];return void 0!==e.userinfo&&(s.push(e.userinfo),s.push("@")),void 0!==e.host&&s.push(W(H(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(s.push(":"),s.push(String(e.port))),s.length?s.join(""):void 0}var X=/^\.\.?\//,Z=/^\/\.(\/|$)/,Q=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(X))e=e.replace(X,"");else if(e.match(Z))e=e.replace(Z,"/");else if(e.match(Q))e=e.replace(Q,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var s=n[0];e=e.slice(s.length),t.push(s)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,s=[],i=F[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?$.toUnicode(e.host):$.toASCII(e.host.replace(n.PCT_ENCODED,z).toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+a}V(e,n),"suffix"!==t.reference&&e.scheme&&(s.push(e.scheme),s.push(":"));var r=Y(e,t);if(void 0!==r&&("suffix"!==t.reference&&s.push("//"),s.push(r),e.path&&"/"!==e.path.charAt(0)&&s.push("/")),void 0!==e.path){var o=e.path;t.absolutePath||i&&i.absolutePath||(o=te(o)),void 0===r&&(o=o.replace(/^\/\//,"/%2F")),s.push(o)}return void 0!==e.query&&(s.push("?"),s.push(e.query)),void 0!==e.fragment&&(s.push("#"),s.push(e.fragment)),s.join("")}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};return arguments[3]||(e=J(ne(e,n),n),t=J(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=te(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=te(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=te(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function ie(e,t,n){var s=o({scheme:"null"},n);return ne(se(J(e,s),J(t,s),s,!0),s)}function re(e,t){return"string"==typeof e?e=ne(J(e,t),t):"object"===s(e)&&(e=J(ne(e,t),t)),e}function oe(e,t,n){return"string"==typeof e?e=ne(J(e,n),n):"object"===s(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(J(t,n),n):"object"===s(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,U)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,z)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function he(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=he(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(he(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),s=u(n,2),i=s[0],r=s[1];e.path=i&&"/"!==i?i:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},fe={},ge="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",me="[0-9A-Fa-f]",_e=n(n("%[EFef]"+me+"%"+me+me+"%"+me+me)+"|"+n("%[89A-Fa-f]"+me+"%"+me+me)+"|"+n("%"+me+me)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ye="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",we=new RegExp(ge,"g"),xe=new RegExp(_e,"g"),Se=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',be),"g"),Ce=new RegExp(t("[^]",ge,ye),"g"),ke=Ce;function Ee(e){var t=z(e);return t.match(we)?t:e}var Oe={scheme:"mailto",parse:function(e,t){var n=e,s=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,r={},o=n.query.split("&"),a=0,l=o.length;a<l;++a){var c=o[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)s.push(u[h]);break;case"subject":n.subject=le(c[1],t);break;case"body":n.body=le(c[1],t);break;default:i=!0,r[le(c[0],t)]=le(c[1],t)}}i&&(n.headers=r)}n.query=void 0;for(var p=0,f=s.length;p<f;++p){var g=s[p].split("@");if(g[0]=le(g[0]),t.unicodeSupport)g[1]=le(g[1],t).toLowerCase();else try{g[1]=$.toASCII(le(g[1],t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+m}s[p]=g.join("@")}return n},serialize:function(e,t){var n=e,s=r(e.to);if(s){for(var o=0,a=s.length;o<a;++o){var l=String(s[o]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(xe,Ee).replace(xe,i).replace(Se,U),h=l.slice(c+1);try{h=t.iri?$.toUnicode(h):$.toASCII(le(h,t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+g}s[o]=u+"@"+h}n.path=s.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var p=[];for(var f in d)d[f]!==fe[f]&&p.push(f.replace(xe,Ee).replace(xe,i).replace(Ce,U)+"="+d[f].replace(xe,Ee).replace(xe,i).replace(ke,U));return p.length&&(n.query=p.join("&")),n}},Me=/^([^\:]+)\:(.*)/,Te={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Me),s=e;if(n){var i=t.scheme||s.scheme||"urn",r=n[1].toLowerCase(),o=n[2],a=i+":"+(t.nid||r),l=F[a];s.nid=r,s.nss=o,s.path=void 0,l&&(s=l.parse(s,t))}else s.error=s.error||"URN can not be parsed.";return s},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",s=e.nid,i=n+":"+(t.nid||s),r=F[i];r&&(e=r.serialize(e,t));var o=e,a=e.nss;return o.path=(s||t.nid)+":"+a,o}},De=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Pe={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(De)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};F[ce.scheme]=ce,F[ue.scheme]=ue,F[de.scheme]=de,F[pe.scheme]=pe,F[Oe.scheme]=Oe,F[Te.scheme]=Te,F[Pe.scheme]=Pe,e.SCHEMES=F,e.pctEncChar=U,e.pctDecChars=z,e.parse=J,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=se,e.resolve=ie,e.normalize=re,e.equal=oe,e.escapeComponent=ae,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},84564:(e,t,n)=>{"use strict";var s=n(47418),i=n(57129),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function h(e){return(e||"").toString().replace(r,"")}var d=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function f(e){var t,s=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},i={},r=typeof(e=e||s);if("blob:"===e.protocol)i=new _(unescape(e.pathname),{});else if("string"===r)for(t in i=new _(e,{}),p)delete i[t];else if("object"===r){for(t in e)t in p||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function m(e,t){e=(e=h(e)).replace(o,""),t=t||{};var n,s=c.exec(e),i=s[1]?s[1].toLowerCase():"",r=!!s[2],a=!!s[3],l=0;return r?a?(n=s[2]+s[3]+s[4],l=s[2].length+s[3].length):(n=s[2]+s[4],l=s[2].length):a?(n=s[3]+s[4],l=s[3].length):n=s[4],"file:"===i?l>=2&&(n=n.slice(2)):g(i)?n=s[4]:i?r&&(n=n.slice(2)):l>=2&&g(t.protocol)&&(n=s[4]),{protocol:i,slashes:r||g(i),slashesCount:l,rest:n}}function _(e,t,n){if(e=(e=h(e)).replace(o,""),!(this instanceof _))return new _(e,t,n);var r,a,l,c,p,v,b=d.slice(),y=typeof t,w=this,x=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),r=!(a=m(e||"",t=f(t))).protocol&&!a.slashes,w.slashes=a.slashes||r&&t.slashes,w.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);x<b.length;x++)"function"!=typeof(c=b[x])?(l=c[0],v=c[1],l!=l?w[v]=e:"string"==typeof l?~(p="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"==typeof c[2]?(w[v]=e.slice(0,p),e=e.slice(p+c[2])):(w[v]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(w[v]=p[1],e=e.slice(0,p.index)),w[v]=w[v]||r&&c[3]&&t[v]||"",c[4]&&(w[v]=w[v].toLowerCase())):e=c(e,w);n&&(w.query=n(w.query)),r&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),s=n.length,i=n[s-1],r=!1,o=0;s--;)"."===n[s]?n.splice(s,1):".."===n[s]?(n.splice(s,1),o++):o&&(0===s&&(r=!0),n.splice(s,1),o--);return r&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&g(w.protocol)&&(w.pathname="/"+w.pathname),s(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(p=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,p),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(p+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}_.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),r[e]=t;break;case"port":r[e]=t,s(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,l.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(r.username=t.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<d.length;c++){var u=d[c];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&g(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,s=n.host,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.protocol&&n.slashes||g(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):"file:"!==n.protocol&&g(n.protocol)&&!s&&"/"!==n.pathname&&(o+="@"),(":"===s[s.length-1]||l.test(n.hostname)&&!n.port)&&(s+=":"),o+=s+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},_.extractProtocol=m,_.location=f,_.trimLeft=h,_.qs=i,e.exports=_},53250:(e,t,n)=>{"use strict";var s=n(67294);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=s.useState,o=s.useEffect,a=s.useLayoutEffect,l=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(s){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),s=r({inst:{value:n,getSnapshot:t}}),i=s[0].inst,u=s[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},50139:(e,t,n)=>{"use strict";var s=n(67294),i=n(61688);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,a=s.useRef,l=s.useEffect,c=s.useMemo,u=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,s,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=c((function(){function e(e){if(!l){if(l=!0,o=e,e=s(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,r(o,e))return t;var n=s(e);return void 0!==i&&i(t,n)?t:(o=e,a=n)}var o,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,s,i]);var p=o(e,h[0],h[1]);return l((function(){d.hasValue=!0,d.value=p}),[p]),u(p),p}},61688:(e,t,n)=>{"use strict";e.exports=n(53250)},52798:(e,t,n)=>{"use strict";e.exports=n(50139)},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,n)=>{"use strict";function s(e){var t=this;if(t instanceof s||(t=new s),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var s=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===s.next&&(e.tail=s),null===s.prev&&(e.head=s),e.length++,s}function r(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,s){if(!(this instanceof a))return new a(e,t,n,s);this.list=s,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=s,s.Node=a,s.create=s,s.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},s.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},s.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},s.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},s.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},s.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,s=0;null!==n;s++)e.call(t,n.value,s,this),n=n.next},s.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,s=this.length-1;null!==n;s--)e.call(t,n.value,s,this),n=n.prev},s.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},s.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},s.prototype.map=function(e,t){t=t||this;for(var n=new s,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},s.prototype.mapReverse=function(e,t){t=t||this;for(var n=new s,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},s.prototype.reduce=function(e,t){var n,s=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");s=this.head.next,n=this.head.value}for(var i=0;null!==s;i++)n=e(n,s.value,i),s=s.next;return n},s.prototype.reduceReverse=function(e,t){var n,s=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");s=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==s;i--)n=e(n,s.value,i),s=s.prev;return n},s.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},s.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},s.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;for(;null!==r&&i<t;i++,r=r.next)n.push(r.value);return n},s.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;null!==r&&i>t;i--)r=r.prev;for(;null!==r&&i>e;i--,r=r.prev)n.push(r.value);return n},s.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,r=this.head;null!==r&&s<e;s++)r=r.next;var o=[];for(s=0;r&&s<t;s++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(s=0;s<n.length;s++)r=i(this,r,n[s]);return o},s.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var s=n.prev;n.prev=n.next,n.next=s}return this.head=t,this.tail=e,this};try{n(49602)(s)}catch(l){}},62961:e=>{e.exports={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let s="",i=n;for(;i--;)s+=e[Math.random()*e.length|0];return s}}},34790:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CompletionContext:()=>o,acceptCompletion:()=>z,autocompletion:()=>Ue,clearSnippet:()=>oe,closeBrackets:()=>ke,closeBracketsKeymap:()=>Ae,closeCompletion:()=>q,completeAnyWord:()=>ye,completeFromList:()=>l,completionKeymap:()=>ze,completionStatus:()=>qe,currentCompletions:()=>We,deleteBracketPair:()=>Pe,hasNextSnippetField:()=>ce,hasPrevSnippetField:()=>ue,ifIn:()=>c,ifNotIn:()=>u,insertBracket:()=>Re,insertCompletionText:()=>g,moveCompletionSelection:()=>U,nextSnippetField:()=>ae,pickedCompletion:()=>f,prevSnippetField:()=>le,selectedCompletion:()=>Ke,selectedCompletionIndex:()=>Ge,setSelectedCompletion:()=>Je,snippet:()=>ie,snippetCompletion:()=>fe,snippetKeymap:()=>de,startCompletion:()=>V});var s=n(78120),i=n(75533),r=n(59119);class o{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=(0,r.syntaxTree)(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),s=t.text.slice(n-t.from,this.pos-t.from),i=s.search(p(e,!1));return i<0?null:{from:n+i,to:this.pos,text:s.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function a(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function l(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,s]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let e=1;e<i.length;e++)n[i[e]]=!0}let s=a(t)+a(n)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t);return e=>{let i=e.matchBefore(s);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}function c(e,t){return n=>{for(let s=(0,r.syntaxTree)(n.state).resolveInner(n.pos,-1);s;s=s.parent){if(e.indexOf(s.name)>-1)return t(n);if(s.type.isTop)break}return null}}function u(e,t){return n=>{for(let t=(0,r.syntaxTree)(n.state).resolveInner(n.pos,-1);t;t=t.parent){if(e.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return t(n)}}class h{constructor(e,t,n,s){this.completion=e,this.source=t,this.match=n,this.score=s}}function d(e){return e.selection.main.from}function p(e,t){var n;let{source:s}=e,i=t&&"^"!=s[0],r="$"!=s[s.length-1];return i||r?new RegExp(`${i?"^":""}(?:${s})${r?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const f=s.Annotation.define();function g(e,t,n,i){let{main:r}=e.selection,o=n-r.from,a=i-r.from;return Object.assign(Object.assign({},e.changeByRange((l=>l!=r&&n!=i&&e.sliceDoc(l.from+o,l.from+a)!=e.sliceDoc(n,i)?{range:l}:{changes:{from:l.from+o,to:i==r.from?l.to:l.from+a,insert:t},range:s.EditorSelection.cursor(l.from+o+t.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}const m=new WeakMap;function _(e){if(!Array.isArray(e))return e;let t=m.get(e);return t||m.set(e,t=l(e)),t}const v=s.StateEffect.define(),b=s.StateEffect.define();class y{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=(0,s.codePointAt)(e,t),i=(0,s.codePointSize)(n);this.chars.push(n);let r=e.slice(t,t+i),o=r.toUpperCase();this.folded.push((0,s.codePointAt)(o==r?r.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:n,any:i,precise:r,byWord:o}=this;if(1==t.length){let i=(0,s.codePointAt)(e,0),r=(0,s.codePointSize)(i),o=r==e.length?0:-100;if(i==t[0]);else{if(i!=n[0])return!1;o+=-200}return this.ret(o,[0,r])}let a=e.indexOf(this.pattern);if(0==a)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let r=0,o=Math.min(e.length,200);r<o&&c<l;){let o=(0,s.codePointAt)(e,r);o!=t[c]&&o!=n[c]||(i[c++]=r),r+=(0,s.codePointSize)(o)}if(c<l)return!1}let u=0,h=0,d=!1,p=0,f=-1,g=-1,m=/[a-z]/.test(e),_=!0;for(let v=0,b=Math.min(e.length,200),y=0;v<b&&h<l;){let i=(0,s.codePointAt)(e,v);a<0&&(u<l&&i==t[u]&&(r[u++]=v),p<l&&(i==t[p]||i==n[p]?(0==p&&(f=v),g=v+1,p++):p=0));let c,b=i<255?i>=48&&i<=57||i>=97&&i<=122?2:i>=65&&i<=90?1:0:(c=(0,s.fromCodePoint)(i))!=c.toLowerCase()?1:c!=c.toUpperCase()?2:0;(!v||1==b&&m||0==y&&0!=b)&&(t[h]==i||n[h]==i&&(d=!0)?o[h++]=v:o.length&&(_=!1)),y=b,v+=(0,s.codePointSize)(i)}return h==l&&0==o[0]&&_?this.result((d?-200:0)-100,o,e):p==l&&0==f?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[f,g]):h==l?this.result((d?-200:0)-100-700+(_?0:-1100),o,e):2!=t.length&&this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,n){let i=[],r=0;for(let o of t){let e=o+(this.astral?(0,s.codePointSize)((0,s.codePointAt)(n,o)):1);r&&i[r-1]==o?i[r-1]=e:(i[r++]=o,i[r++]=e)}return this.ret(e-n.length,i)}}const w=s.Facet.define({combine:e=>(0,s.combineConfig)(e,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:S,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>x(e(n),t(n)),optionClass:(e,t)=>n=>x(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function x(e,t){return e?t?e+" "+t:e:t}function S(e,t,n,s,r,o){let a,l,c=e.textDirection==i.Direction.RTL,u=c,h=!1,d="top",p=t.left-r.left,f=r.right-t.right,g=s.right-s.left,m=s.bottom-s.top;if(u&&p<Math.min(g,f)?u=!1:!u&&f<Math.min(g,p)&&(u=!0),g<=(u?p:f))a=Math.max(r.top,Math.min(n.top,r.bottom-m))-t.top,l=Math.min(400,u?p:f);else{h=!0,l=Math.min(400,(c?t.right:r.right-t.left)-30);let e=r.bottom-t.bottom;e>=m||e>t.top?a=n.bottom-t.top:(d="bottom",a=t.bottom-n.top)}return{style:`${d}: ${a/((t.bottom-t.top)/o.offsetHeight)}px; max-width: ${l/((t.right-t.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(h?c?"left-narrow":"right-narrow":u?"left":"right")}}function C(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let s=Math.floor((e-t)/n);return{from:e-(s+1)*n,to:e-s*n}}class k{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:i,selected:r}=s.open,o=e.state.facet(w);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,s){let i=document.createElement("span");i.className="cm-completionLabel";let r=e.displayLabel||e.label,o=0;for(let a=0;a<s.length;){let e=s[a++],t=s[a++];e>o&&i.appendChild(document.createTextNode(r.slice(o,e)));let n=i.appendChild(document.createElement("span"));n.appendChild(document.createTextNode(r.slice(e,t))),n.className="cm-completionMatchedText",o=t}return o<r.length&&i.appendChild(document.createTextNode(r.slice(o))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=C(i.length,r,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(n=>{let{options:s}=e.state.field(t).open;for(let t,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(t=/-(\d+)$/.exec(i.id))&&+t[1]<s.length)return this.applyCompletion(e,s[+t[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(w).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:b.of(null)})})),this.showOptions(i,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(e){var t;let n=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=s){let{options:i,selected:r,disabled:o}=n.open;s.open&&s.open.options==i||(this.range=C(i.length,r,e.state.facet(w).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(t=s.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=C(t.options.length,t.selected,this.view.state.facet(w).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:s}=n;if(!s)return;let r="string"==typeof s?document.createTextNode(s):s(n);if(!r)return;"then"in r?r.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)})).catch((e=>(0,i.logException)(this.view.state,e,"completion info"))):this.addInfoPane(r,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:s}=e;n.appendChild(t),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)"LI"==n.nodeName&&n.id?s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):s--;return t&&function(e,t){let n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=n.height/e.offsetHeight;s.top<n.top?e.scrollTop-=(n.top-s.top)/i:s.bottom>n.bottom&&(e.scrollTop+=(s.bottom-n.bottom)/i)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:e.innerWidth,bottom:e.innerHeight}}return s.top>Math.min(i.bottom,t.bottom)-10||s.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(w).positionInfo(this.view,t,s,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let r=n.from;r<n.to;r++){let{completion:o,match:a}=e[r],{section:l}=o;if(l){let e="string"==typeof l?l:l.name;if(e!=i&&(r>n.from||0==n.from))if(i=e,"string"!=typeof l&&l.header)s.appendChild(l.header(l));else{s.appendChild(document.createElement("completion-section")).textContent=e}}const c=s.appendChild(document.createElement("li"));c.id=t+"-"+r,c.setAttribute("role","option");let u=this.optionClass(o);u&&(c.className=u);for(let e of this.optionContent){let t=e(o,this.view.state,this.view,a);t&&c.appendChild(t)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function E(e,t){return n=>new k(n,e,t)}function O(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class M{constructor(e,t,n,s,i,r){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=s,this.selected=i,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new M(this.options,P(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,s,i){let r=function(e,t){let n=[],s=null,i=e=>{n.push(e);let{section:t}=e.completion;if(t){s||(s=[]);let e="string"==typeof t?t:t.name;s.some((t=>t.name==e))||s.push("string"==typeof t?{name:e}:t)}};for(let l of e)if(l.hasResult()){let e=l.result.getMatch;if(!1===l.result.filter)for(let t of l.result.options)i(new h(t,l.source,e?e(t):[],1e9-n.length));else{let n=new y(t.sliceDoc(l.from,l.to));for(let t of l.result.options)if(n.match(t.label)){let s=t.displayLabel?e?e(t,n.matched):[]:n.matched;i(new h(t,l.source,s,n.score+(t.boost||0)))}}}if(s){let e=Object.create(null),t=0,i=(e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(s=t.rank)&&void 0!==s?s:1e9)||(e.name<t.name?-1:1)};for(let n of s.sort(i))t-=1e5,e[n.name]=t;for(let s of n){let{section:t}=s.completion;t&&(s.score+=e["string"==typeof t?t:t.name])}}let r=[],o=null,a=t.facet(w).compareCompletions;for(let l of n.sort(((e,t)=>t.score-e.score||a(e.completion,t.completion)))){let e=l.completion;!o||o.label!=e.label||o.detail!=e.detail||null!=o.type&&null!=e.type&&o.type!=e.type||o.apply!=e.apply||o.boost!=e.boost?r.push(l):O(l.completion)>O(o)&&(r[r.length-1]=l),o=l.completion}return r}(e,t);if(!r.length)return s&&e.some((e=>1==e.state))?new M(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let o=t.facet(w).selectOnOpen?0:-1;if(s&&s.selected!=o&&-1!=s.selected){let e=s.options[s.selected].completion;for(let t=0;t<r.length;t++)if(r[t].completion==e){o=t;break}}return new M(r,P(n,o),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:F,above:i.aboveCursor},s?s.timestamp:Date.now(),o,!1)}map(e){return new M(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class T{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new T(A,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(w),s=(n.override||t.languageDataAt("autocomplete",d(t)).map(_)).map((t=>(this.active.find((e=>e.source==t))||new j(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));s.length==this.active.length&&s.every(((e,t)=>e==this.active[t]))&&(s=this.active);let i=this.open;i&&e.docChanged&&(i=i.map(e.changes)),e.selection||s.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,s=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;s<t.length&&!t[s].hasResult;)s++;let i=n==e.length,r=s==t.length;if(i||r)return i==r;if(e[n++].result!=t[s++].result)return!1}}(s,this.active)?i=M.build(s,t,this.id,i,n):i&&i.disabled&&!s.some((e=>1==e.state))&&(i=null),!i&&s.every((e=>1!=e.state))&&s.some((e=>e.hasResult()))&&(s=s.map((e=>e.hasResult()?new j(e.source,0):e)));for(let r of e.effects)r.is(L)&&(i=i&&i.setSelected(r.value,this.id));return s==this.active&&i==this.open?this:new T(s,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:D}}const D={"aria-autocomplete":"list"};function P(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const A=[];function R(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class j{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=R(e),s=this;n?s=s.handleUserEvent(e,n,t):e.docChanged?s=s.handleChange(e):e.selection&&0!=s.state&&(s=new j(s.source,0));for(let i of e.effects)if(i.is(v))s=new j(s.source,1,i.value?d(e.state):-1);else if(i.is(b))s=new j(s.source,0);else if(i.is(N))for(let e of i.value)e.source==s.source&&(s=e);return s}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new j(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(d(e.startState))?new j(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new j(this.source,this.state,e.mapPos(this.explicitPos))}}class I extends j{constructor(e,t,n,s,i){super(e,2,t),this.result=n,this.from=s,this.to=i}hasResult(){return!0}handleUserEvent(e,t,n){var s;let i=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),a=d(e.state);if((this.explicitPos<0?a<=i:a<this.from)||a>r||"delete"==t&&d(e.startState)==this.from)return new j(this.source,"input"==t&&n.activateOnTyping?1:0);let l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,s){if(!e)return!1;let i=t.sliceDoc(n,s);return"function"==typeof e?e(i,n,s,t):p(e,!0).test(i)}(this.result.validFor,e.state,i,r)?new I(this.source,c,this.result,i,r):this.result.update&&(l=this.result.update(this.result,i,r,new o(e.state,a,c>=0)))?new I(this.source,c,l,l.from,null!==(s=l.to)&&void 0!==s?s:d(e.state)):new j(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new j(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new I(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const N=s.StateEffect.define({map:(e,t)=>e.map((e=>e.map(t)))}),L=s.StateEffect.define(),B=s.StateField.define({create:()=>T.start(),update:(e,t)=>e.update(t),provide:e=>[i.showTooltip.from(e,(e=>e.tooltip)),i.EditorView.contentAttributes.from(e,(e=>e.attrs))]});function $(e,t){const n=t.completion.apply||t.completion.label;let s=e.state.field(B).active.find((e=>e.source==t.source));return s instanceof I&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},g(e.state,n,s.from,s.to)),{annotations:f.of(t.completion)})):n(e,t.completion,s.from,s.to),!0)}const F=E(B,$);function U(e,t="option"){return n=>{let s=n.state.field(B,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<n.state.facet(w).interactionDelay)return!1;let r,o=1;"page"==t&&(r=(0,i.getTooltip)(n,s.open.tooltip))&&(o=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let{length:a}=s.open.options,l=s.open.selected>-1?s.open.selected+o*(e?1:-1):e?0:a-1;return l<0?l="page"==t?0:a-1:l>=a&&(l="page"==t?a-1:0),n.dispatch({effects:L.of(l)}),!0}}const z=e=>{let t=e.state.field(B,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(w).interactionDelay)&&$(e,t.open.options[t.open.selected])},V=e=>!!e.state.field(B,!1)&&(e.dispatch({effects:v.of(!0)}),!0),q=e=>{let t=e.state.field(B,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:b.of(null)}),!0)};class H{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const W=i.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(B).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(B);if(!e.selectionSet&&!e.docChanged&&e.startState.field(B)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!R(e)));for(let o=0;o<this.running.length;o++){let t=this.running[o];if(n||t.updates.length+e.transactions.length>50&&Date.now()-t.time>1e3){for(let e of t.context.abortListeners)try{e()}catch(r){(0,i.logException)(this.view.state,r)}t.context.abortListeners=null,this.running.splice(o--,1)}else t.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some((e=>e.effects.some((e=>e.is(v)))))&&(this.pendingStart=!0);let s=this.pendingStart?50:e.state.facet(w).activateOnTypingDelay;if(this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),s):-1,0!=this.composing)for(let i of e.transactions)"input"==R(i)?this.composing=2:2==this.composing&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(B);for(let n of t.active)1!=n.state||this.running.some((e=>e.active.source==n.source))||this.startQuery(n)}startQuery(e){let{state:t}=this.view,n=d(t),s=new o(t,n,e.explicitPos==n),r=new H(e,s);this.running.push(r),Promise.resolve(e.source(s)).then((e=>{r.context.aborted||(r.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:b.of(null)}),(0,i.logException)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(w).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(w);for(let s=0;s<this.running.length;s++){let i=this.running[s];if(void 0===i.done)continue;if(this.running.splice(s--,1),i.done){let s=new I(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(e=i.done.to)&&void 0!==e?e:d(i.updates.length?i.updates[0].startState:this.view.state));for(let e of i.updates)s=s.update(e,n);if(s.hasResult()){t.push(s);continue}}let r=this.view.state.field(B).active.find((e=>e.source==i.active.source));if(r&&1==r.state)if(null==i.done){let e=new j(i.active.source,0);for(let t of i.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(r)}t.length&&this.view.dispatch({effects:N.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(B,!1);if(t&&t.tooltip&&this.view.state.facet(w).closeOnBlur){let n=t.open&&(0,i.getTooltip)(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:b.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:v.of(!1)})),20),this.composing=0}}}),K=i.EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class G{constructor(e,t,n,s){this.field=e,this.line=t,this.from=n,this.to=s}}class J{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,s.MapMode.TrackDel),n=e.mapPos(this.to,1,s.MapMode.TrackDel);return null==t||null==n?null:new J(this.field,t,n)}}class Y{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],s=[t],i=e.doc.lineAt(t),o=/^\s*/.exec(i.text)[0];for(let l of this.lines){if(n.length){let n=o,i=/^\t*/.exec(l)[0].length;for(let t=0;t<i;t++)n+=e.facet(r.indentUnit);s.push(t+n.length-i),l=n+l.slice(i)}n.push(l),t+=l.length+1}let a=this.fieldPositions.map((e=>new J(e.field,s[e.line]+e.from,s[e.line]+e.to)));return{text:n,ranges:a}}static parse(e){let t,n=[],s=[],i=[];for(let r of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(r);){let e=t[1]?+t[1]:null,o=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:o&&n[t].name==o)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:o}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new G(a,s.length,t.index,t.index+o.length)),r=r.slice(0,t.index)+o+r.slice(t.index+t[0].length)}for(let e;e=/\\([{}])/.exec(r);){r=r.slice(0,e.index)+e[1]+r.slice(e.index+e[0].length);for(let t of i)t.line==s.length&&t.from>e.index&&(t.from--,t.to--)}s.push(r)}return new Y(s,i)}}let X=i.Decoration.widget({widget:new class extends i.WidgetType{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),Z=i.Decoration.mark({class:"cm-snippetField"});class Q{constructor(e,t){this.ranges=e,this.active=t,this.deco=i.Decoration.set(e.map((e=>(e.from==e.to?X:Z).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;t.push(s)}return new Q(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const ee=s.StateEffect.define({map:(e,t)=>e&&e.map(t)}),te=s.StateEffect.define(),ne=s.StateField.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(ee))return n.value;if(n.is(te)&&e)return new Q(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>i.EditorView.decorations.from(e,(e=>e?e.deco:i.Decoration.none))});function se(e,t){return s.EditorSelection.create(e.filter((e=>e.field==t)).map((e=>s.EditorSelection.range(e.from,e.to))))}function ie(e){let t=Y.parse(e);return(e,n,i,r)=>{let{text:o,ranges:a}=t.instantiate(e.state,i),l={changes:{from:i,to:r,insert:s.Text.of(o)},scrollIntoView:!0,annotations:n?[f.of(n),s.Transaction.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=se(a,0)),a.some((e=>e.field>0))){let t=new Q(a,0),n=l.effects=[ee.of(t)];void 0===e.state.field(ne,!1)&&n.push(s.StateEffect.appendConfig.of([ne,pe,ge,K]))}e.dispatch(e.state.update(l))}}function re(e){return({state:t,dispatch:n})=>{let s=t.field(ne,!1);if(!s||e<0&&0==s.active)return!1;let i=s.active+e,r=e>0&&!s.ranges.some((t=>t.field==i+e));return n(t.update({selection:se(s.ranges,i),effects:ee.of(r?null:new Q(s.ranges,i)),scrollIntoView:!0})),!0}}const oe=({state:e,dispatch:t})=>!!e.field(ne,!1)&&(t(e.update({effects:ee.of(null)})),!0),ae=re(1),le=re(-1);function ce(e){let t=e.field(ne,!1);return!(!t||!t.ranges.some((e=>e.field==t.active+1)))}function ue(e){let t=e.field(ne,!1);return!!(t&&t.active>0)}const he=[{key:"Tab",run:ae,shift:le},{key:"Escape",run:oe}],de=s.Facet.define({combine:e=>e.length?e[0]:he}),pe=s.Prec.highest(i.keymap.compute([de],(e=>e.facet(de))));function fe(e,t){return Object.assign(Object.assign({},t),{apply:ie(e)})}const ge=i.EditorView.domEventHandlers({mousedown(e,t){let n,s=t.state.field(ne,!1);if(!s||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=s.ranges.find((e=>e.from<=n&&e.to>=n));return!(!i||i.field==s.active)&&(t.dispatch({selection:se(s.ranges,i.field),effects:ee.of(s.ranges.some((e=>e.field>i.field))?new Q(s.ranges,i.field):null),scrollIntoView:!0}),!0)}});function me(e,t){return new RegExp(t(e.source),e.unicode?"u":"")}const _e=Object.create(null);function ve(e,t,n,s,i){for(let r=e.iterLines(),o=0;!r.next().done;){let e,{value:a}=r;for(t.lastIndex=0;e=t.exec(a);)if(!s[e[0]]&&o+e.index!=i&&(n.push({type:"text",label:e[0]}),s[e[0]]=!0,n.length>=2e3))return;o+=a.length+1}}function be(e,t,n,s,i){let r=e.length>=1e3,o=r&&t.get(e);if(o)return o;let a=[],l=Object.create(null);if(e.children){let r=0;for(let o of e.children){if(o.length>=1e3)for(let e of be(o,t,n,s-r,i-r))l[e.label]||(l[e.label]=!0,a.push(e));else ve(o,n,a,l,i-r);r+=o.length+1}}else ve(e,n,a,l,i);return r&&a.length<2e3&&t.set(e,a),a}const ye=e=>{let t=e.state.languageDataAt("wordChars",e.pos).join(""),n=function(e){let t=e.replace(/[\]\-\\]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${t}]+`,"ug")}catch(n){return new RegExp(`[w${t}]`,"g")}}(t),s=e.matchBefore(me(n,(e=>e+"$")));if(!s&&!e.explicit)return null;let i=s?s.from:e.pos,r=be(e.state.doc,function(e){return _e[e]||(_e[e]=new WeakMap)}(t),n,5e4,i);return{from:i,options:r,validFor:me(n,(e=>"^"+e))}},we={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},xe=s.StateEffect.define({map(e,t){let n=t.mapPos(e,-1,s.MapMode.TrackAfter);return null==n?void 0:n}}),Se=new class extends s.RangeValue{};Se.startSide=1,Se.endSide=-1;const Ce=s.StateField.define({create:()=>s.RangeSet.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(xe)&&(e=e.update({add:[Se.range(n.value,n.value+1)]}));return e}});function ke(){return[De,Ce]}const Ee="()[]{}<>";function Oe(e){for(let t=0;t<Ee.length;t+=2)if(Ee.charCodeAt(t)==e)return Ee.charAt(t+1);return(0,s.fromCodePoint)(e<128?e:e+1)}function Me(e,t){return e.languageDataAt("closeBrackets",t)[0]||we}const Te="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),De=i.EditorView.inputHandler.of(((e,t,n,i)=>{if((Te?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let r=e.state.selection.main;if(i.length>2||2==i.length&&1==(0,s.codePointSize)((0,s.codePointAt)(i,0))||t!=r.from||n!=r.to)return!1;let o=Re(e.state,i);return!!o&&(e.dispatch(o),!0)})),Pe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Me(e,e.selection.main.head).brackets||we.brackets,i=null,r=e.changeByRange((t=>{if(t.empty){let i=function(e,t){let n=e.sliceString(t-2,t);return(0,s.codePointSize)((0,s.codePointAt)(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let r of n)if(r==i&&Ie(e.doc,t.head)==Oe((0,s.codePointAt)(r,0)))return{changes:{from:t.head-r.length,to:t.head+r.length},range:s.EditorSelection.cursor(t.head-r.length)}}return{range:i=t}}));return i||t(e.update(r,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Ae=[{key:"Backspace",run:Pe}];function Re(e,t){let n=Me(e,e.selection.main.head),i=n.brackets||we.brackets;for(let r of i){let o=Oe((0,s.codePointAt)(r,0));if(t==r)return o==r?Be(e,r,i.indexOf(r+r+r)>-1,n):Ne(e,r,o,n.before||we.before);if(t==o&&je(e,e.selection.main.from))return Le(e,r,o)}return null}function je(e,t){let n=!1;return e.field(Ce).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function Ie(e,t){let n=e.sliceString(t,t+2);return n.slice(0,(0,s.codePointSize)((0,s.codePointAt)(n,0)))}function Ne(e,t,n,i){let r=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:xe.of(o.to+t.length),range:s.EditorSelection.range(o.anchor+t.length,o.head+t.length)};let a=Ie(e.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:t+n,from:o.head},effects:xe.of(o.head+t.length),range:s.EditorSelection.cursor(o.head+t.length)}:{range:r=o}}));return r?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Le(e,t,n){let i=null,r=e.changeByRange((t=>t.empty&&Ie(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:s.EditorSelection.cursor(t.head+n.length)}:i={range:t}));return i?null:e.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Be(e,t,n,i){let o=i.stringPrefixes||we.stringPrefixes,a=null,l=e.changeByRange((i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:t,from:i.to}],effects:xe.of(i.to+t.length),range:s.EditorSelection.range(i.anchor+t.length,i.head+t.length)};let l,c=i.head,u=Ie(e.doc,c);if(u==t){if($e(e,c))return{changes:{insert:t+t,from:c},effects:xe.of(c+t.length),range:s.EditorSelection.cursor(c+t.length)};if(je(e,c)){let i=n&&e.sliceDoc(c,c+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+i.length,insert:i},range:s.EditorSelection.cursor(c+i.length)}}}else{if(n&&e.sliceDoc(c-2*t.length,c)==t+t&&(l=Fe(e,c-2*t.length,o))>-1&&$e(e,l))return{changes:{insert:t+t+t+t,from:c},effects:xe.of(c+t.length),range:s.EditorSelection.cursor(c+t.length)};if(e.charCategorizer(c)(u)!=s.CharCategory.Word&&Fe(e,c,o)>-1&&!function(e,t,n,s){let i=(0,r.syntaxTree)(e).resolveInner(t,-1),o=s.reduce(((e,t)=>Math.max(e,t.length)),0);for(let r=0;r<5;r++){let r=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=r.indexOf(n);if(!a||a>-1&&s.indexOf(r.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,c,t,o))return{changes:{insert:t+t,from:c},effects:xe.of(c+t.length),range:s.EditorSelection.cursor(c+t.length)}}return{range:a=i}}));return a?null:e.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function $e(e,t){let n=(0,r.syntaxTree)(e).resolveInner(t+1);return n.parent&&n.from==t}function Fe(e,t,n){let i=e.charCategorizer(t);if(i(e.sliceDoc(t-1,t))!=s.CharCategory.Word)return t;for(let r of n){let n=t-r.length;if(e.sliceDoc(n,t)==r&&i(e.sliceDoc(n-1,n))!=s.CharCategory.Word)return n}return-1}function Ue(e={}){return[B,w.of(e),W,Ve,K]}const ze=[{key:"Ctrl-Space",run:V},{key:"Escape",run:q},{key:"ArrowDown",run:U(!0)},{key:"ArrowUp",run:U(!1)},{key:"PageDown",run:U(!0,"page")},{key:"PageUp",run:U(!1,"page")},{key:"Enter",run:z}],Ve=s.Prec.highest(i.keymap.computeN([w],(e=>e.facet(w).defaultKeymap?[ze]:[])));function qe(e){let t=e.field(B,!1);return t&&t.active.some((e=>1==e.state))?"pending":t&&t.active.some((e=>0!=e.state))?"active":null}const He=new WeakMap;function We(e){var t;let n=null===(t=e.field(B,!1))||void 0===t?void 0:t.open;if(!n||n.disabled)return[];let s=He.get(n.options);return s||He.set(n.options,s=n.options.map((e=>e.completion))),s}function Ke(e){var t;let n=null===(t=e.field(B,!1))||void 0===t?void 0:t.open;return n&&!n.disabled&&n.selected>=0?n.options[n.selected].completion:null}function Ge(e){var t;let n=null===(t=e.field(B,!1))||void 0===t?void 0:t.open;return n&&!n.disabled&&n.selected>=0?n.selected:null}function Je(e){return L.of(e)}},59119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DocInput:()=>y,HighlightStyle:()=>Me,IndentContext:()=>L,LRLanguage:()=>f,Language:()=>d,LanguageDescription:()=>D,LanguageSupport:()=>T,ParseContext:()=>x,StreamLanguage:()=>tt,StringStream:()=>Ze,TreeIndentContext:()=>z,bidiIsolates:()=>bt,bracketMatching:()=>He,bracketMatchingHandle:()=>We,codeFolding:()=>ye,continuedIndent:()=>K,defaultHighlightStyle:()=>Ne,defineLanguageFacet:()=>u,delimitedIndent:()=>q,ensureSyntaxTree:()=>m,flatIndent:()=>W,foldAll:()=>pe,foldCode:()=>ue,foldEffect:()=>ne,foldGutter:()=>Ee,foldInside:()=>Z,foldKeymap:()=>_e,foldNodeProp:()=>X,foldService:()=>Y,foldState:()=>re,foldable:()=>ee,foldedRanges:()=>oe,forceParsing:()=>v,getIndentUnit:()=>R,getIndentation:()=>I,highlightingFor:()=>Re,indentNodeProp:()=>B,indentOnInput:()=>J,indentRange:()=>N,indentService:()=>P,indentString:()=>j,indentUnit:()=>A,language:()=>M,languageDataProp:()=>c,matchBrackets:()=>Je,sublanguageProp:()=>h,syntaxHighlighting:()=>Ae,syntaxParserRunning:()=>b,syntaxTree:()=>g,syntaxTreeAvailable:()=>_,toggleFold:()=>me,unfoldAll:()=>fe,unfoldCode:()=>he,unfoldEffect:()=>se});var s,i=n(41113),r=n(78120),o=n(75533),a=n(35524),l=n(28699);const c=new i.NodeProp;function u(e){return r.Facet.define({combine:e?t=>t.concat(e):void 0})}const h=new i.NodeProp;class d{constructor(e,t,n=[],s=""){this.data=e,this.name=s,r.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(r.EditorState.prototype,"tree",{get(){return g(this)}}),this.parser=t,this.extension=[M.of(this),r.EditorState.languageData.of(((e,t,n)=>{let s=p(e,t,n),i=s.type.prop(c);if(!i)return[];let r=e.facet(i),o=s.type.prop(h);if(o){let i=s.resolve(t-s.from,n);for(let t of o)if(t.test(i,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(r)}}return r}))].concat(n)}isActiveAt(e,t,n=-1){return p(e,t,n).type.prop(c)==this.data}findRegions(e){let t=e.facet(M);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],s=(e,t)=>{if(e.prop(c)==this.data)return void n.push({from:t,to:t+e.length});let r=e.prop(i.NodeProp.mounted);if(r){if(r.tree.prop(c)==this.data){if(r.overlay)for(let e of r.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(r.overlay){let e=n.length;if(s(r.tree,r.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let r=e.children[n];r instanceof i.Tree&&s(r,e.positions[n]+t)}};return s(g(e),0),n}get allowsNesting(){return!0}}function p(e,t,n){let s=e.facet(M),r=g(e).topNode;if(!s||s.allowsNesting)for(let o=r;o;o=o.enter(t,n,i.IterMode.ExcludeBuffers))o.type.isTop&&(r=o);return r}d.setState=r.StateEffect.define();class f extends d{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=u(e.languageData);return new f(t,e.parser.configure({props:[c.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new f(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function g(e){let t=e.field(d.state,!1);return t?t.tree:i.Tree.empty}function m(e,t,n=50){var s;let i=null===(s=e.field(d.state,!1))||void 0===s?void 0:s.context;if(!i)return null;let r=i.viewport;i.updateViewport({from:0,to:t});let o=i.isDone(t)||i.work(n,t)?i.tree:null;return i.updateViewport(r),o}function _(e,t=e.doc.length){var n;return(null===(n=e.field(d.state,!1))||void 0===n?void 0:n.context.isDone(t))||!1}function v(e,t=e.viewport.to,n=100){let s=m(e.state,t,n);return s!=g(e.state)&&e.dispatch({}),!!s}function b(e){var t;return(null===(t=e.plugin(O))||void 0===t?void 0:t.isWorking())||!1}class y{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let w=null;class x{constructor(e,t,n=[],s,i,r,o,a){this.parser=e,this.state=t,this.fragments=n,this.tree=s,this.treeLen=i,this.viewport=r,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new x(e,t,[],i.Tree.empty,0,n,[],null)}startParse(){return this.parser.startParse(new y(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=i.Tree.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s){if(this.fragments=this.withoutTempSkipped(i.TreeFragment.addTree(s,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=s,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(i.TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=w;w=this;try{return e()}finally{w=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=S(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:s,treeLen:r,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,s,i)=>t.push({fromA:e,toA:n,fromB:s,toB:i}))),n=i.TreeFragment.applyChanges(n,t),s=i.Tree.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),s=e.mapPos(t.to,-1);n<s&&a.push({from:n,to:s})}}}return new x(this.parser,t,n,s,r,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:t,to:s}=this.skipped[n];t<e.to&&s>e.from&&(this.fragments=S(this.fragments,t,s),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends i.Parser{createParse(t,n,s){let r=s[0].from,o=s[s.length-1].to;return{parsedPos:r,advance(){let t=w;if(t){for(let e of s)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new i.Tree(i.NodeType.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return w}}function S(e,t,n){return i.TreeFragment.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class C{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new C(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=x.create(e.facet(M).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new C(n)}}d.state=r.StateField.define({create:C.init,update(e,t){for(let n of t.effects)if(n.is(d.setState))return n.value;return t.startState.facet(M)!=t.state.facet(M)?C.init(t.state):e.apply(t)}});let k=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(k=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const E="undefined"!=typeof navigator&&(null===(s=navigator.scheduling)||void 0===s?void 0:s.isInputPending)?()=>navigator.scheduling.isInputPending():null,O=o.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=k(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,i=n.field(d.state);if(i.tree==i.context.tree&&i.context.isDone(s+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!E?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<s&&n.doc.length>s+1e3,a=i.context.work((()=>E&&E()||Date.now()>r),s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:d.setState.of(new C(i.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>(0,o.logException)(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),M=r.Facet.define({combine:e=>e.length?e[0]:null,enables:e=>[d.state,O,o.EditorView.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});class T{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class D{constructor(e,t,n,s,i,r=void 0){this.name=e,this.alias=t,this.extensions=n,this.filename=s,this.loadFunc=i,this.support=r,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((e=>this.support=e),(e=>{throw this.loading=null,e})))}static of(e){let{load:t,support:n}=e;if(!t){if(!n)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(n)}return new D(e.name,(e.alias||[]).concat(e.name).map((e=>e.toLowerCase())),e.extensions||[],e.filename,t,n)}static matchFilename(e,t){for(let s of e)if(s.filename&&s.filename.test(t))return s;let n=/\.([^.]+)$/.exec(t);if(n)for(let s of e)if(s.extensions.indexOf(n[1])>-1)return s;return null}static matchLanguageName(e,t,n=!0){t=t.toLowerCase();for(let s of e)if(s.alias.some((e=>e==t)))return s;if(n)for(let s of e)for(let e of s.alias){let n=t.indexOf(e);if(n>-1&&(e.length>2||!/\w/.test(t[n-1])&&!/\w/.test(t[n+e.length])))return s}return null}}const P=r.Facet.define(),A=r.Facet.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function R(e){let t=e.facet(A);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function j(e,t){let n="",s=e.tabSize,i=e.facet(A)[0];if("\t"==i){for(;t>=s;)n+="\t",t-=s;i=" "}for(let r=0;r<t;r++)n+=i;return n}function I(e,t){e instanceof r.EditorState&&(e=new L(e));for(let s of e.state.facet(P)){let n=s(e,t);if(void 0!==n)return n}let n=g(e.state);return n.length>=t?function(e,t,n){let s=t.resolveStack(n),i=s.node.enterUnfinishedNodesBefore(n);if(i!=s.node){let e=[];for(let t=i;t!=s.node;t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)s={node:e[t],next:s}}return $(s,e,n)}(e,n,t):null}function N(e,t,n){let s=Object.create(null),i=new L(e,{overrideIndentation:e=>{var t;return null!==(t=s[e])&&void 0!==t?t:-1}}),r=[];for(let o=t;o<=n;){let t=e.doc.lineAt(o);o=t.to+1;let n=I(i,t.from);if(null==n)continue;/\S/.test(t.text)||(n=0);let a=/^\s*/.exec(t.text)[0],l=j(e,n);a!=l&&(s[t.from]=n,r.push({from:t.from,to:t.from+a.length,insert:l}))}return e.changes(r)}class L{constructor(e,t={}){this.state=e,this.options=t,this.unit=R(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:i}=this.options;return null!=s&&s>=n.from&&s<=n.to?i&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,t);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,t=1){let{text:n,from:s}=this.lineAt(e,t),i=this.countColumn(n,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(i+=r-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return(0,r.countColumn)(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:s}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(s);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const B=new i.NodeProp;function $(e,t,n){for(let s=e;s;s=s.next){let e=F(s.node);if(e)return e(z.create(t,n,s))}return 0}function F(e){let t=e.type.prop(B);if(t)return t;let n,s=e.firstChild;if(s&&(n=s.type.prop(i.NodeProp.closedBy))){let t=e.lastChild,s=t&&n.indexOf(t.name)>-1;return e=>H(e,!0,1,void 0,s&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?U:null}function U(){return 0}class z extends L{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new z(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(V(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return $(this.context.next,this.base,this.pos)}}function V(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function q({closing:e,align:t=!0,units:n=1}){return s=>H(s,t,n,e)}function H(e,t,n,s,i){let r=e.textAfter,o=r.match(/^\s*/)[0].length,a=s&&r.slice(o,o+s.length)==s||i==e.pos+o,l=t?function(e){let t=e.node,n=t.childAfter(t.from),s=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,r=e.state.doc.lineAt(n.from),o=null==i||i<=r.from?r.to:Math.min(r.to,i);for(let a=n.to;;){let e=t.childAfter(a);if(!e||e==s)return null;if(!e.type.isSkipped)return e.from<o?n:null;a=e.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const W=e=>e.baseIndent;function K({except:e,units:t=1}={}){return n=>{let s=e&&e.test(n.textAfter);return n.baseIndent+(s?0:t*n.unit)}}const G=200;function J(){return r.EditorState.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:s}=e.newSelection.main,i=n.lineAt(s);if(s>i.from+G)return e;let r=n.sliceString(i.from,s);if(!t.some((e=>e.test(r))))return e;let{state:o}=e,a=-1,l=[];for(let{head:c}of o.selection.ranges){let e=o.doc.lineAt(c);if(e.from==a)continue;a=e.from;let t=I(o,e.from);if(null==t)continue;let n=/^\s*/.exec(e.text)[0],s=j(o,t);n!=s&&l.push({from:e.from,to:e.from+n.length,insert:s})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const Y=r.Facet.define(),X=new i.NodeProp;function Z(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function Q(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function ee(e,t,n){for(let s of e.facet(Y)){let i=s(e,t,n);if(i)return i}return function(e,t,n){let s=g(e);if(s.length<n)return null;let i=null;for(let r=s.resolveStack(n,1);r;r=r.next){let o=r.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<t)break;let a=o.type.prop(X);if(a&&(o.to<s.length-50||s.length==e.doc.length||!Q(o))){let s=a(o,e);s&&s.from<=n&&s.from>=t&&s.to>n&&(i=s)}}return i}(e,t,n)}function te(e,t){let n=t.mapPos(e.from,1),s=t.mapPos(e.to,-1);return n>=s?void 0:{from:n,to:s}}const ne=r.StateEffect.define({map:te}),se=r.StateEffect.define({map:te});function ie(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const re=r.StateField.define({create:()=>o.Decoration.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(ne)&&!le(e,n.value.from,n.value.to)){let{preparePlaceholder:s}=t.state.facet(be),i=s?o.Decoration.replace({widget:new Se(s(t.state,n.value))}):xe;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(se)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:s}=t.selection.main;e.between(s,s,((e,t)=>{e<s&&t>s&&(n=!0)})),n&&(e=e.update({filterFrom:s,filterTo:s,filter:(e,t)=>t<=s||e>=s}))}return e},provide:e=>o.EditorView.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let s=e[n++],i=e[n++];if("number"!=typeof s||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(xe.range(s,i))}return o.Decoration.set(t,!0)}});function oe(e){return e.field(re,!1)||r.RangeSet.empty}function ae(e,t,n){var s;let i=null;return null===(s=e.field(re,!1))||void 0===s||s.between(t,n,((e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})})),i}function le(e,t,n){let s=!1;return e.between(t,t,((e,i)=>{e==t&&i==n&&(s=!0)})),s}function ce(e,t){return e.field(re,!1)?t:t.concat(r.StateEffect.appendConfig.of(ye()))}const ue=e=>{for(let t of ie(e)){let n=ee(e.state,t.from,t.to);if(n)return e.dispatch({effects:ce(e.state,[ne.of(n),de(e,n)])}),!0}return!1},he=e=>{if(!e.state.field(re,!1))return!1;let t=[];for(let n of ie(e)){let s=ae(e.state,n.from,n.to);s&&t.push(se.of(s),de(e,s,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function de(e,t,n=!0){let s=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return o.EditorView.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${s} ${e.state.phrase("to")} ${i}.`)}const pe=e=>{let{state:t}=e,n=[];for(let s=0;s<t.doc.length;){let i=e.lineBlockAt(s),r=ee(t,i.from,i.to);r&&n.push(ne.of(r)),s=(r?e.lineBlockAt(r.to):i).to+1}return n.length&&e.dispatch({effects:ce(e.state,n)}),!!n.length},fe=e=>{let t=e.state.field(re,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(se.of({from:e,to:t}))})),e.dispatch({effects:n}),!0};function ge(e,t){for(let n=t;;){let s=ee(e.state,n.from,n.to);if(s&&s.to>t.from)return s;if(!n.from)return null;n=e.lineBlockAt(n.from-1)}}const me=e=>{let t=[];for(let n of ie(e)){let s=ae(e.state,n.from,n.to);if(s)t.push(se.of(s),de(e,s,!1));else{let s=ge(e,n);s&&t.push(ne.of(s),de(e,s))}}return t.length>0&&e.dispatch({effects:ce(e.state,t)}),!!t.length},_e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ue},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:he},{key:"Ctrl-Alt-[",run:pe},{key:"Ctrl-Alt-]",run:fe}],ve={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},be=r.Facet.define({combine:e=>(0,r.combineConfig)(e,ve)});function ye(e){let t=[re,Oe];return e&&t.push(be.of(e)),t}function we(e,t){let{state:n}=e,s=n.facet(be),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),s=ae(e.state,n.from,n.to);s&&e.dispatch({effects:se.of(s)}),t.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(e,i,t);let r=document.createElement("span");return r.textContent=s.placeholderText,r.setAttribute("aria-label",n.phrase("folded code")),r.title=n.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}const xe=o.Decoration.replace({widget:new class extends o.WidgetType{toDOM(e){return we(e,null)}}});class Se extends o.WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return we(e,this.value)}}const Ce={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ke extends o.GutterMarker{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Ee(e={}){let t=Object.assign(Object.assign({},Ce),e),n=new ke(t,!0),s=new ke(t,!1),i=o.ViewPlugin.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(M)!=e.state.facet(M)||e.startState.field(re,!1)!=e.state.field(re,!1)||g(e.startState)!=g(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new r.RangeSetBuilder;for(let i of e.viewportLineBlocks){let r=ae(e.state,i.from,i.to)?s:ee(e.state,i.from,i.to)?n:null;r&&t.add(i.from,i.from,r)}return t.finish()}}),{domEventHandlers:a}=t;return[i,(0,o.gutter)({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||r.RangeSet.empty},initialSpacer:()=>new ke(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(e,t,n)=>{if(a.click&&a.click(e,t,n))return!0;let s=ae(e.state,t.from,t.to);if(s)return e.dispatch({effects:se.of(s)}),!0;let i=ee(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:ne.of(i)}),!0)}})}),ye()]}const Oe=o.EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Me{constructor(e,t){let n;function s(e){let t=l.StyleModule.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?s(t.all):void 0,r=t.scope;this.scope=r instanceof d?e=>e.prop(c)==r.data:r?e=>e==r:void 0,this.style=(0,a.tagHighlighter)(e.map((e=>({tag:e.tag,class:e.class||s(Object.assign({},e,{tag:null}))}))),{all:i}).style,this.module=n?new l.StyleModule(n):null,this.themeType=t.themeType}static define(e,t){return new Me(e,t||{})}}const Te=r.Facet.define(),De=r.Facet.define({combine:e=>e.length?[e[0]]:null});function Pe(e){let t=e.facet(Te);return t.length?t:e.facet(De)}function Ae(e,t){let n,s=[Ie];return e instanceof Me&&(e.module&&s.push(o.EditorView.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?s.push(De.of(e)):n?s.push(Te.computeN([o.EditorView.darkTheme],(t=>t.facet(o.EditorView.darkTheme)==("dark"==n)?[e]:[]))):s.push(Te.of(e)),s}function Re(e,t,n){let s=Pe(e),i=null;if(s)for(let r of s)if(!r.scope||n&&r.scope(n)){let e=r.style(t);e&&(i=i?i+" "+e:e)}return i}class je{constructor(e){this.markCache=Object.create(null),this.tree=g(e.state),this.decorations=this.buildDeco(e,Pe(e.state))}update(e){let t=g(e.state),n=Pe(e.state),s=n!=Pe(e.startState);t.length<e.view.viewport.to&&!s&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return o.Decoration.none;let n=new r.RangeSetBuilder;for(let{from:s,to:i}of e.visibleRanges)(0,a.highlightTree)(this.tree,t,((e,t,s)=>{n.add(e,t,this.markCache[s]||(this.markCache[s]=o.Decoration.mark({class:s})))}),s,i);return n.finish()}}const Ie=r.Prec.high(o.ViewPlugin.fromClass(je,{decorations:e=>e.decorations})),Ne=Me.define([{tag:a.tags.meta,color:"#404740"},{tag:a.tags.link,textDecoration:"underline"},{tag:a.tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.tags.emphasis,fontStyle:"italic"},{tag:a.tags.strong,fontWeight:"bold"},{tag:a.tags.strikethrough,textDecoration:"line-through"},{tag:a.tags.keyword,color:"#708"},{tag:[a.tags.atom,a.tags.bool,a.tags.url,a.tags.contentSeparator,a.tags.labelName],color:"#219"},{tag:[a.tags.literal,a.tags.inserted],color:"#164"},{tag:[a.tags.string,a.tags.deleted],color:"#a11"},{tag:[a.tags.regexp,a.tags.escape,a.tags.special(a.tags.string)],color:"#e40"},{tag:a.tags.definition(a.tags.variableName),color:"#00f"},{tag:a.tags.local(a.tags.variableName),color:"#30a"},{tag:[a.tags.typeName,a.tags.namespace],color:"#085"},{tag:a.tags.className,color:"#167"},{tag:[a.tags.special(a.tags.variableName),a.tags.macroName],color:"#256"},{tag:a.tags.definition(a.tags.propertyName),color:"#00c"},{tag:a.tags.comment,color:"#940"},{tag:a.tags.invalid,color:"#f00"}]),Le=o.EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Be=1e4,$e="()[]{}",Fe=r.Facet.define({combine:e=>(0,r.combineConfig)(e,{afterCursor:!0,brackets:$e,maxScanDistance:Be,renderMatch:Ve})}),Ue=o.Decoration.mark({class:"cm-matchingBracket"}),ze=o.Decoration.mark({class:"cm-nonmatchingBracket"});function Ve(e){let t=[],n=e.matched?Ue:ze;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const qe=[r.StateField.define({create:()=>o.Decoration.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],s=t.state.facet(Fe);for(let i of t.state.selection.ranges){if(!i.empty)continue;let e=Je(t.state,i.head,-1,s)||i.head>0&&Je(t.state,i.head-1,1,s)||s.afterCursor&&(Je(t.state,i.head,1,s)||i.head<t.state.doc.length&&Je(t.state,i.head+1,-1,s));e&&(n=n.concat(s.renderMatch(e,t.state)))}return o.Decoration.set(n,!0)},provide:e=>o.EditorView.decorations.from(e)}),Le];function He(e={}){return[Fe.of(e),qe]}const We=new i.NodeProp;function Ke(e,t,n){let s=e.prop(t<0?i.NodeProp.openedBy:i.NodeProp.closedBy);if(s)return s;if(1==e.name.length){let s=n.indexOf(e.name);if(s>-1&&s%2==(t<0?1:0))return[n[s+t]]}return null}function Ge(e){let t=e.type.prop(We);return t?t(e.node):e}function Je(e,t,n,s={}){let i=s.maxScanDistance||Be,r=s.brackets||$e,o=g(e),a=o.resolveInner(t,n);for(let l=a;l;l=l.parent){let s=Ke(l.type,n,r);if(s&&l.from<l.to){let i=Ge(l);if(i&&(n>0?t>=i.from&&t<i.to:t>i.from&&t<=i.to))return Ye(e,t,n,l,i,s,r)}}return function(e,t,n,s,i,r,o){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=r;){let e=u.value;n<0&&(d+=e.length);let r=t+d*n;for(let t=n>0?0:e.length-1,a=n>0?e.length:-1;t!=a;t+=n){let a=o.indexOf(e[t]);if(!(a<0||s.resolveInner(r+t,1).type!=i))if(a%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:r+t,to:r+t+1},matched:a>>1==l>>1};h--}}n>0&&(d+=e.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,o,a.type,i,r)}function Ye(e,t,n,s,i,r,o){let a=s.parent,l={from:i.from,to:i.to},c=0,u=null==a?void 0:a.cursor();if(u&&(n<0?u.childBefore(s.from):u.childAfter(s.to)))do{if(n<0?u.to<=s.from:u.from>=s.to){if(0==c&&r.indexOf(u.type.name)>-1&&u.from<u.to){let e=Ge(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Ke(u.type,n,o))c++;else if(Ke(u.type,-n,o)){if(0==c){let e=Ge(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Xe(e,t,n,s=0,i=0){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);let r=i;for(let o=s;o<t;o++)9==e.charCodeAt(o)?r+=n-r%n:r++;return r}class Ze{constructor(e,t,n,s){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e instanceof RegExp?e.test(n):e(n)),t)return++this.pos,n}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Xe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return null!==(e=this.overrideIndent)&&void 0!==e?e:Xe(this.string,null,this.tabSize)}match(e,t,n){if("string"==typeof e){let s=e=>n?e.toLowerCase():e;return s(this.string.substr(this.pos,e.length))==s(e)?(!1!==t&&(this.pos+=e.length),!0):null}{let n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}}current(){return this.string.slice(this.start,this.pos)}}function Qe(e){if("object"!=typeof e)return e;let t={};for(let n in e){let s=e[n];t[n]=s instanceof Array?s.slice():s}return t}const et=new WeakMap;class tt extends d{constructor(e){let t,n=u(e.languageData),s={name:(r=e).name||"",token:r.token,blankLine:r.blankLine||(()=>{}),startState:r.startState||(()=>!0),copyState:r.copyState||Qe,indent:r.indent||(()=>null),languageData:r.languageData||{},tokenTable:r.tokenTable||ot};var r;super(n,new class extends i.Parser{createParse(e,n,s){return new it(t,e,n,s)}},[P.of(((e,t)=>this.getIndent(e,t)))],e.name),this.topNode=function(e){let t=i.NodeType.define({id:at.length,name:"Document",props:[c.add((()=>e))],top:!0});return at.push(t),t}(n),t=this,this.streamParser=s,this.stateAfter=new i.NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new dt(s.tokenTable):pt}static define(e){return new tt(e)}getIndent(e,t){let n,s=g(e.state),i=s.resolve(t);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let{overrideIndentation:r}=e.options;r&&(n=et.get(e.state),null!=n&&n<t-1e4&&(n=void 0));let o,a,l=nt(this,s,0,i.from,null!=n?n:t);if(l?(a=l.state,o=l.pos+1):(a=this.streamParser.startState(e.unit),o=0),t-o>1e4)return null;for(;o<t;){let n=e.state.doc.lineAt(o),s=Math.min(t,n.to);if(n.length){let t=r?r(n.from):-1,i=new Ze(n.text,e.state.tabSize,e.unit,t<0?void 0:t);for(;i.pos<s-n.from;)rt(this.streamParser.token,i,a)}else this.streamParser.blankLine(a,e.unit);if(s==t)break;o=n.to+1}let c=e.lineAt(t);return r&&null==n&&et.set(e.state,c.from),this.streamParser.indent(a,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function nt(e,t,n,s,r){let o=n>=s&&n+t.length<=r&&t.prop(e.stateAfter);if(o)return{state:e.streamParser.copyState(o),pos:n+t.length};for(let a=t.children.length-1;a>=0;a--){let o=t.children[a],l=n+t.positions[a],c=o instanceof i.Tree&&l<r&&nt(e,o,l,s,r);if(c)return c}return null}function st(e,t,n,s,r){if(r&&n<=0&&s>=t.length)return t;r||t.type!=e.topNode||(r=!0);for(let o=t.children.length-1;o>=0;o--){let a,l=t.positions[o],c=t.children[o];if(l<s&&c instanceof i.Tree){if(!(a=st(e,c,n-l,s-l,r)))break;return r?new i.Tree(t.type,t.children.slice(0,o).concat(a),t.positions.slice(0,o+1),l+a.length):a}}return null}class it{constructor(e,t,n,s){this.lang=e,this.input=t,this.fragments=n,this.ranges=s,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=s[s.length-1].to;let r=x.get(),o=s[0].from,{state:a,tree:l}=function(e,t,n,s){for(let i of t){let t,s=i.from+(i.openStart?25:0),r=i.to-(i.openEnd?25:0),o=s<=n&&r>n&&nt(e,i.tree,0-i.offset,n,r);if(o&&(t=st(e,i.tree,n+i.offset,o.pos+i.offset,!1)))return{state:o.state,tree:t}}return{state:e.streamParser.startState(s?R(s):4),tree:i.Tree.empty}}(e,n,o,null==r?void 0:r.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let i=0;i<l.children.length;i++)this.chunks.push(l.children[i]),this.chunkPos.push(l.positions[i]);r&&this.parsedPos<r.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(R(r.state)),r.skipUntilInView(this.parsedPos,r.viewport.from),this.parsedPos=r.viewport.from),this.moveRangeIndex()}advance(){let e=x.get(),t=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),n=Math.min(t,this.chunkStart+2048);for(e&&(n=Math.min(n,e.viewport.to));this.parsedPos<n;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)"\n"==t&&(t="");else{let e=t.indexOf("\n");e>-1&&(t=t.slice(0,e))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),n=e+t.length;for(let s=this.rangeIndex;;){let e=this.ranges[s].to;if(e>=n)break;if(t=t.slice(0,e-(n-t.length)),s++,s==this.ranges.length)break;let i=this.ranges[s].from,r=this.lineAfter(i);t+=r,n=i+r.length}return{line:t,end:n}}skipGapsTo(e,t,n){for(;;){let s=this.ranges[this.rangeIndex].to,i=e+t;if(n>0?s>i:s>=i)break;t+=this.ranges[++this.rangeIndex].from-s}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,n,s,i){if(this.ranges.length>1){t+=i=this.skipGapsTo(t,i,1);let e=this.chunk.length;n+=i=this.skipGapsTo(n,i,-1),s+=this.chunk.length-e}return this.chunk.push(e,t,n,s),i}parseLine(e){let{line:t,end:n}=this.nextLine(),s=0,{streamParser:i}=this.lang,r=new Ze(t,e?e.state.tabSize:4,e?R(e.state):2);if(r.eol())i.blankLine(this.state,r.indentUnit);else for(;!r.eol();){let e=rt(i.token,r,this.state);if(e&&(s=this.emitToken(this.lang.tokenTable.resolve(e),this.parsedPos+r.start,this.parsedPos+r.pos,4,s)),r.start>1e4)break}this.parsedPos=n,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=i.Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:lt,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new i.Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new i.Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function rt(e,t,n){t.start=t.pos;for(let s=0;s<10;s++){let s=e(t,n);if(t.pos>t.start)return s}throw new Error("Stream parser failed to advance stream.")}const ot=Object.create(null),at=[i.NodeType.none],lt=new i.NodeSet(at),ct=[],ut=Object.create(null),ht=Object.create(null);for(let[St,Ct]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ht[St]=gt(ot,Ct);class dt{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),ht)}resolve(e){return e?this.table[e]||(this.table[e]=gt(this.extra,e)):0}}const pt=new dt(ot);function ft(e,t){ct.indexOf(e)>-1||(ct.push(e),console.warn(t))}function gt(e,t){let n=[];for(let i of t.split(" ")){let t=[];for(let n of i.split(".")){let s=e[n]||a.tags[n];s?"function"==typeof s?t.length?t=t.map(s):ft(n,`Modifier ${n} used at start of tag`):t.length?ft(n,`Tag ${n} used as modifier`):t=Array.isArray(s)?s:[s]:ft(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let s=t.replace(/ /g,"_"),r=s+" "+n.map((e=>e.id)),o=ut[r];if(o)return o.id;let l=ut[r]=i.NodeType.define({id:at.length,name:s,props:[(0,a.styleTags)({[s]:n})]});return at.push(l),l.id}function mt(e){return e.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(e)}function _t(e){for(let t=e.iter();!t.next().done;)if(mt(t.value))return!0;return!1}const vt=r.Facet.define({combine:e=>e.some((e=>e))});function bt(e={}){let t=[yt];return e.alwaysIsolate&&t.push(vt.of(!0)),t}const yt=o.ViewPlugin.fromClass(class{constructor(e){this.always=e.state.facet(vt)||e.textDirection!=o.Direction.LTR||e.state.facet(o.EditorView.perLineTextDirection),this.hasRTL=!this.always&&_t(e.state.doc),this.tree=g(e.state),this.decorations=wt(e,this.tree,this.always)}update(e){let t=e.state.facet(vt)||e.view.textDirection!=o.Direction.LTR||e.state.facet(o.EditorView.perLineTextDirection);if(t||this.hasRTL||!function(e){let t=!1;return e.iterChanges(((e,n,s,i,r)=>{!t&&_t(r)&&(t=!0)})),t}(e.changes)||(this.hasRTL=!0),!t&&!this.hasRTL)return;let n=g(e.state);(t!=this.always||n!=this.tree||e.docChanged||e.viewportChanged)&&(this.tree=n,this.always=t,this.decorations=wt(e.view,n,t))}},{provide:e=>{function t(t){var n,s;return null!==(s=null===(n=t.plugin(e))||void 0===n?void 0:n.decorations)&&void 0!==s?s:o.Decoration.none}return[o.EditorView.outerDecorations.of(t),r.Prec.lowest(o.EditorView.bidiIsolatedRanges.of(t))]}});function wt(e,t,n){let s=new r.RangeSetBuilder,o=e.visibleRanges;n||(o=function(e,t){let n=t.iter(),s=0,i=[],r=null;for(let{from:o,to:a}of e)for(o!=s&&(s<o&&n.next(o-s),s=o);;){let e=s,t=s+n.value.length;if(!n.lineBreak&&mt(n.value)&&(r&&r.to>e-10?r.to=Math.min(a,t):i.push(r={from:e,to:Math.min(a,t)})),s>=a)break;s=t,n.next()}return i}(o,e.state.doc));for(let{from:r,to:a}of o)t.iterate({enter:e=>{let t=e.type.prop(i.NodeProp.isolate);t&&s.add(e.from,e.to,xt[t])},from:r,to:a});return s.finish()}const xt={rtl:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:o.Direction.RTL}),ltr:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:o.Direction.LTR}),auto:o.Decoration.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})}},78120:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Annotation:()=>de,AnnotationType:()=>pe,ChangeDesc:()=>O,ChangeSet:()=>M,CharCategory:()=>Se,Compartment:()=>ee,EditorSelection:()=>N,EditorState:()=>Oe,Facet:()=>$,Line:()=>h,MapMode:()=>E,Prec:()=>Z,Range:()=>De,RangeSet:()=>Re,RangeSetBuilder:()=>je,RangeValue:()=>Te,SelectionRange:()=>I,StateEffect:()=>ge,StateEffectType:()=>fe,StateField:()=>W,Text:()=>s,Transaction:()=>me,codePointAt:()=>x,codePointSize:()=>C,combineConfig:()=>Me,countColumn:()=>He,findClusterBreak:()=>_,findColumn:()=>We,fromCodePoint:()=>S});class s{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=d(this,e,t);let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(t,this.length,s,1),r.from(s,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=d(this,e,t);let n=[];return this.decompose(e,t,n,0),r.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new l(this),i=new l(e);for(let r=t,o=t;;){if(s.next(r),i.next(r),r=0,s.lineBreak!=i.lineBreak||s.done!=i.done||s.value!=i.value)return!1;if(o+=s.value.length,s.done||o>=n)return!0}}iter(e=1){return new l(this,e)}iterRange(e,t=this.length){return new c(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new i(e):r.from(i.split(e,[])):s.empty}}class i extends s{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,s){for(let i=0;;i++){let r=this.text[i],o=s+r.length;if((t?n:o)>=e)return new h(s,o,n,r);s=o+1,n++}}decompose(e,t,n,s){let r=e<=0&&t>=this.length?this:new i(a(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&s){let e=n.pop(),t=o(r.text,e.text.slice(),0,r.length);if(t.length<=32)n.push(new i(t,e.length+r.length));else{let e=t.length>>1;n.push(new i(t.slice(0,e)),new i(t.slice(e)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof i))return super.replace(e,t,n);[e,t]=d(this,e,t);let s=o(this.text,o(n.text,a(this.text,0,e)),t),l=this.length+n.length-(t-e);return s.length<=32?new i(s,l):r.from(i.split(s,[]),l)}sliceString(e,t=this.length,n="\n"){[e,t]=d(this,e,t);let s="";for(let i=0,r=0;i<=t&&r<this.text.length;r++){let o=this.text[r],a=i+o.length;i>e&&r&&(s+=n),e<a&&t>i&&(s+=o.slice(Math.max(0,e-i),t-i)),i=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],s=-1;for(let r of e)n.push(r),s+=r.length+1,32==n.length&&(t.push(new i(n,s)),n=[],s=-1);return s>-1&&t.push(new i(n,s)),t}}class r extends s{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,s){for(let i=0;;i++){let r=this.children[i],o=s+r.length,a=n+r.lines-1;if((t?a:o)>=e)return r.lineInner(e,t,n,s);s=o+1,n=a+1}}decompose(e,t,n,s){for(let i=0,r=0;r<=t&&i<this.children.length;i++){let o=this.children[i],a=r+o.length;if(e<=a&&t>=r){let i=s&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!i?n.push(o):o.decompose(e-r,t-r,n,i)}r=a+1}}replace(e,t,n){if([e,t]=d(this,e,t),n.lines<this.lines)for(let s=0,i=0;s<this.children.length;s++){let o=this.children[s],a=i+o.length;if(e>=i&&t<=a){let l=o.replace(e-i,t-i,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let i=this.children.slice();return i[s]=l,new r(i,this.length-(t-e)+n.length)}return super.replace(i,a,l)}i=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=d(this,e,t);let s="";for(let i=0,r=0;i<this.children.length&&r<=t;i++){let o=this.children[i],a=r+o.length;r>e&&i&&(s+=n),e<a&&t>r&&(s+=o.sliceString(e-r,t-r,n)),r=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof r))return 0;let n=0,[s,i,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,i+=t){if(s==o||i==a)return n;let r=this.children[s],l=e.children[i];if(r!=l)return n+r.scanIdentical(l,t);n+=r.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let i of e)n+=i.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new i(n,t)}let s=Math.max(32,n>>5),o=s<<1,a=s>>1,l=[],c=0,u=-1,h=[];function d(e){let t;if(e.lines>o&&e instanceof r)for(let n of e.children)d(n);else e.lines>a&&(c>a||!c)?(p(),l.push(e)):e instanceof i&&c&&(t=h[h.length-1])instanceof i&&e.lines+t.lines<=32?(c+=e.lines,u+=e.length+1,h[h.length-1]=new i(t.text.concat(e.text),t.length+1+e.length)):(c+e.lines>s&&p(),c+=e.lines,u+=e.length+1,h.push(e))}function p(){0!=c&&(l.push(1==h.length?h[0]:r.from(h,u)),u=-1,c=h.length=0)}for(let i of e)d(i);return p(),1==l.length?l[0]:new r(l,t)}}function o(e,t,n=0,s=1e9){for(let i=0,r=0,o=!0;r<e.length&&i<=s;r++){let a=e[r],l=i+a.length;l>=n&&(l>s&&(a=a.slice(0,s-i)),i<n&&(a=a.slice(n-i)),o?(t[t.length-1]+=a,o=!1):t.push(a)),i=l+1}return t}function a(e,t,n){return o(e,[""],t,n)}s.empty=new i([""],0);class l{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof i?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],r=this.offsets[n],o=r>>1,a=s instanceof i?s.text.length:s.children.length;if(o==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(s instanceof i){let i=s.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let r=s.children[o+(t<0?-1:0)];e>r.length?(e-=r.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(t>0?1:(r instanceof i?r.text.length:r.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class c{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new l(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=n?s:t<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class h{constructor(e,t,n,s){this.from=e,this.to=t,this.number=n,this.text=s}get length(){return this.to-this.from}}function d(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}let p="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let Ge=1;Ge<p.length;Ge++)p[Ge]+=p[Ge-1];function f(e){for(let t=1;t<p.length;t+=2)if(p[t]>e)return p[t-1]<=e;return!1}function g(e){return e>=127462&&e<=127487}const m=8205;function _(e,t,n=!0,s=!0){return(n?v:b)(e,t,s)}function v(e,t,n){if(t==e.length)return t;t&&y(e.charCodeAt(t))&&w(e.charCodeAt(t-1))&&t--;let s=x(e,t);for(t+=C(s);t<e.length;){let i=x(e,t);if(s==m||i==m||n&&f(i))t+=C(i),s=i;else{if(!g(i))break;{let n=0,s=t-2;for(;s>=0&&g(x(e,s));)n++,s-=2;if(n%2==0)break;t+=2}}}return t}function b(e,t,n){for(;t>0;){let s=v(e,t-2,n);if(s<t)return s;t--}return 0}function y(e){return e>=56320&&e<57344}function w(e){return e>=55296&&e<56320}function x(e,t){let n=e.charCodeAt(t);if(!w(n)||t+1==e.length)return n;let s=e.charCodeAt(t+1);return y(s)?s-56320+(n-55296<<10)+65536:n}function S(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function C(e){return e<65536?1:2}const k=/\r\n?|\n/;var E=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(E||(E={}));class O{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,s=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?(e(n,s,i),s+=i):s+=r,n+=i}}iterChangedRanges(e,t=!1){P(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?e.push(n,s):e.push(s,n)}return new O(e)}composeDesc(e){return this.empty?e:e.empty?this:R(this,e)}mapDesc(e,t=!1){return e.empty?this:A(this,e,t)}mapPos(e,t=-1,n=E.Simple){let s=0,i=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++],l=s+o;if(a<0){if(l>e)return i+(e-s);i+=o}else{if(n!=E.Simple&&l>=e&&(n==E.TrackDel&&s<e&&l>e||n==E.TrackBefore&&s<e||n==E.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==s||t<0?i:i+a;i+=a}s=l}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return i}touchesRange(e,t=e){for(let n=0,s=0;n<this.sections.length&&s<=t;){let i=s+this.sections[n++];if(this.sections[n++]>=0&&s<=t&&i>=e)return!(s<e&&i>t)||"cover";s=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new O(e)}static create(e){return new O(e)}}class M extends O{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return P(this,((t,n,s,i,r)=>e=e.replace(s,s+(n-t),r)),!1),e}mapDesc(e,t=!1){return A(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,r=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;n.length<l;)n.push(s.empty);n.push(o?e.slice(r,r+o):s.empty)}r+=o}return new M(t,n)}compose(e){return this.empty?e:e.empty?this:R(this,e,!0)}map(e,t=!1){return e.empty?this:A(this,e,t,!0)}iterChanges(e,t=!1){P(this,e,t)}get desc(){return O.create(this.sections)}filter(e){let t=[],n=[],s=[],i=new j(this);e:for(let r=0,o=0;;){let a=r==e.length?1e9:e[r++];for(;o<a||o==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-o);T(s,e,-1);let r=-1==i.ins?-1:0==i.off?i.ins:0;T(t,e,r),r>0&&D(n,t,i.text),i.forward(e),o+=e}let l=e[r++];for(;o<l;){if(i.done)break e;let e=Math.min(i.len,l-o);T(t,e,-1),T(s,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),o+=e}}return{changes:new M(t,n),filtered:O.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],s=this.sections[t+1];s<0?e.push(n):0==s?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],r=[],o=0,a=null;function l(e=!1){if(!e&&!i.length)return;o<t&&T(i,t-o,-1);let n=new M(i,r);a=a?a.compose(n.map(a)):n,i=[],r=[],o=0}return function e(c){if(Array.isArray(c))for(let t of c)e(t);else if(c instanceof M){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:e,to:a=e,insert:u}=c;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let h=u?"string"==typeof u?s.of(u.split(n||k)):u:s.empty,d=h.length;if(e==a&&0==d)return;e<o&&l(),e>o&&T(i,e-o,-1),T(i,a-e,d),D(r,i,h),o=a}}(e),l(!a),a}static empty(e){return new M(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let r=e[i];if("number"==typeof r)t.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)t.push(r[0],0);else{for(;n.length<i;)n.push(s.empty);n[i]=s.of(r.slice(1)),t.push(r[0],n[i].length)}}}return new M(t,n)}static createSet(e,t){return new M(e,t)}}function T(e,t,n,s=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:s?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function D(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(s.empty);e.push(n)}}function P(e,t,n){let i=e.inserted;for(let r=0,o=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)r+=l,o+=l;else{let u=r,h=o,d=s.empty;for(;u+=l,h+=c,c&&i&&(d=d.append(i[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(r,u,o,h,d),r=u,o=h}}}function A(e,t,n,s=!1){let i=[],r=s?[]:null,o=new j(e),a=new j(t);for(let l=-1;;)if(-1==o.ins&&-1==a.ins){let e=Math.min(o.len,a.len);T(i,e,-1),o.forward(e),a.forward(e)}else if(a.ins>=0&&(o.ins<0||l==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!n))){let e=a.len;for(T(i,a.ins,-1);e;){let t=Math.min(o.len,e);o.ins>=0&&l<o.i&&o.len<=t&&(T(i,0,o.ins),r&&D(r,i,o.text),l=o.i),o.forward(t),e-=t}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return r?M.createSet(i,r):O.create(i);throw new Error("Mismatched change set lengths")}{let e=0,t=o.len;for(;t;)if(-1==a.ins){let n=Math.min(t,a.len);e+=n,t-=n,a.forward(n)}else{if(!(0==a.ins&&a.len<t))break;t-=a.len,a.next()}T(i,e,l<o.i?o.ins:0),r&&l<o.i&&D(r,i,o.text),l=o.i,o.forward(o.len-t)}}}function R(e,t,n=!1){let s=[],i=n?[]:null,r=new j(e),o=new j(t);for(let a=!1;;){if(r.done&&o.done)return i?M.createSet(s,i):O.create(s);if(0==r.ins)T(s,r.len,0,a),r.next();else if(0!=o.len||o.done){if(r.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(r.len2,o.len),t=s.length;if(-1==r.ins){let t=-1==o.ins?-1:o.off?0:o.ins;T(s,e,t,a),i&&t&&D(i,s,o.text)}else-1==o.ins?(T(s,r.off?0:r.len,e,a),i&&D(i,s,r.textBit(e))):(T(s,r.off?0:r.len,o.off?0:o.ins,a),i&&!o.off&&D(i,s,o.text));a=(r.ins>e||o.ins>=0&&o.len>e)&&(a||s.length>t),r.forward2(e),o.forward(e)}}else T(s,0,o.ins,a),i&&D(i,s,o.text),o.next()}}class j{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?s.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?s.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class I{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new I(n,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return N.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return N.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(e.anchor,e.head)}static create(e,t,n){return new I(e,t,n)}}class N{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:N.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new N([this.main],0)}addRange(e,t=!0){return N.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,N.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(e.ranges.map((e=>I.fromJSON(e))),e.main)}static single(e,t=e){return new N([N.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let i=e[s];if(i.empty?i.from<=n:i.from<n)return N.normalized(e.slice(),t);n=i.to}return new N(e,t)}static cursor(e,t=0,n,s){return I.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=s?s:16777215)<<6)}static range(e,t,n,s){let i=(null!=n?n:16777215)<<6|(null==s?7:Math.min(6,s));return t<e?I.create(t,e,48|i):I.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let s=1;s<e.length;s++){let n=e[s],i=e[s-1];if(n.empty?n.from<=i.to:n.from<i.to){let r=i.from,o=Math.max(n.to,i.to);s<=t&&t--,e.splice(--s,2,n.anchor>n.head?N.range(o,r):N.range(r,o))}}return new N(e,t)}}function L(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let B=0;class ${constructor(e,t,n,s,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=s,this.id=B++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(e={}){return new $(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:F),!!e.static,e.enables)}of(e){return new U([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new U(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new U(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function F(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class U{constructor(e,t,n,s){this.dependencies=e,this.facet=t,this.type=n,this.value=s,this.id=B++}dynamicSlot(e){var t;let n=this.value,s=this.facet.compareInput,i=this.id,r=e[i]>>1,o=2==this.type,a=!1,l=!1,c=[];for(let u of this.dependencies)"doc"==u?a=!0:"selection"==u?l=!0:0==(1&(null!==(t=e[u.id])&&void 0!==t?t:1))&&c.push(e[u.id]);return{create:e=>(e.values[r]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||V(e,c)){let t=n(e);if(o?!z(t,e.values[r],s):!s(t,e.values[r]))return e.values[r]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=ie(t,l);if(this.dependencies.every((n=>n instanceof $?t.facet(n)===e.facet(n):!(n instanceof W)||t.field(n,!1)==e.field(n,!1)))||(o?z(a=n(e),i,s):s(a=n(e),i)))return e.values[r]=i,0}else a=n(e);return e.values[r]=a,1}}}}function z(e,t,n){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!n(e[s],t[s]))return!1;return!0}function V(e,t){let n=!1;for(let s of t)1&se(e,s)&&(n=!0);return n}function q(e,t,n){let s=n.map((t=>e[t.id])),i=n.map((e=>e.type)),r=s.filter((e=>!(1&e))),o=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<s.length;t++){let r=ie(e,s[t]);if(2==i[t])for(let e of r)n.push(e);else n.push(r)}return t.combine(n)}return{create(e){for(let t of s)se(e,t);return e.values[o]=a(e),1},update(e,n){if(!V(e,r))return 0;let s=a(e);return t.compare(s,e.values[o])?0:(e.values[o]=s,1)},reconfigure(e,i){let r=V(e,s),l=i.config.facets[t.id],c=i.facet(t);if(l&&!r&&F(n,l))return e.values[o]=c,0;let u=a(e);return t.compare(u,c)?(e.values[o]=c,0):(e.values[o]=u,1)}}}const H=$.define({static:!0});class W{constructor(e,t,n,s,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=s,this.spec=i,this.provides=void 0}static define(e){let t=new W(B++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(H).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let s=e.values[t],i=this.updateF(s,n);return this.compareF(s,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,H.of({field:this,create:e})]}get extension(){return this}}const K=4,G=3,J=2,Y=1;function X(e){return t=>new Q(t,e)}const Z={highest:X(0),high:X(Y),default:X(J),low:X(G),lowest:X(K)};class Q{constructor(e,t){this.inner=e,this.prec=t}}class ee{of(e){return new te(this,e)}reconfigure(e){return ee.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class te{constructor(e,t){this.compartment=e,this.inner=t}}class ne{constructor(e,t,n,s,i,r){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=s,this.staticValues=i,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let s=[],i=Object.create(null),r=new Map;for(let h of function(e,t,n){let s=[[],[],[],[],[]],i=new Map;function r(e,o){let a=i.get(e);if(null!=a){if(a<=o)return;let t=s[a].indexOf(e);t>-1&&s[a].splice(t,1),e instanceof te&&n.delete(e.compartment)}if(i.set(e,o),Array.isArray(e))for(let t of e)r(t,o);else if(e instanceof te){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let s=t.get(e.compartment)||e.inner;n.set(e.compartment,s),r(s,o)}else if(e instanceof Q)r(e.inner,e.prec);else if(e instanceof W)s[o].push(e),e.provides&&r(e.provides,o);else if(e instanceof U)s[o].push(e),e.facet.extensions&&r(e.facet.extensions,J);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(t,o)}}return r(e,J),s.reduce(((e,t)=>e.concat(t)))}(e,t,r))h instanceof W?s.push(h):(i[h.facet.id]||(i[h.facet.id]=[])).push(h);let o=Object.create(null),a=[],l=[];for(let h of s)o[h.id]=l.length<<1,l.push((e=>h.slot(e)));let c=null==n?void 0:n.config.facets;for(let h in i){let e=i[h],t=e[0].facet,s=c&&c[h]||[];if(e.every((e=>0==e.type)))if(o[t.id]=a.length<<1|1,F(s,e))a.push(n.facet(t));else{let s=t.combine(e.map((e=>e.value)));a.push(n&&t.compare(s,n.facet(t))?n.facet(t):s)}else{for(let t of e)0==t.type?(o[t.id]=a.length<<1|1,a.push(t.value)):(o[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));o[t.id]=l.length<<1,l.push((n=>q(n,t,e)))}}let u=l.map((e=>e(o)));return new ne(e,r,u,o,a,i)}}function se(e,t){if(1&t)return 2;let n=t>>1,s=e.status[n];if(4==s)throw new Error("Cyclic dependency between fields and/or facets");if(2&s)return s;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function ie(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const re=$.define(),oe=$.define({combine:e=>e.some((e=>e)),static:!0}),ae=$.define({combine:e=>e.length?e[0]:void 0,static:!0}),le=$.define(),ce=$.define(),ue=$.define(),he=$.define({combine:e=>!!e.length&&e[0]});class de{constructor(e,t){this.type=e,this.value=t}static define(){return new pe}}class pe{of(e){return new de(this,e)}}class fe{constructor(e){this.map=e}of(e){return new ge(this,e)}}class ge{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new ge(this.type,t)}is(e){return this.type==e}static define(e={}){return new fe(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let s of e){let e=s.map(t);e&&n.push(e)}return n}}ge.reconfigure=ge.define(),ge.appendConfig=ge.define();class me{constructor(e,t,n,s,i,r){this.startState=e,this.changes=t,this.selection=n,this.effects=s,this.annotations=i,this.scrollIntoView=r,this._doc=null,this._state=null,n&&L(n,t.newLength),i.some((e=>e.type==me.time))||(this.annotations=i.concat(me.time.of(Date.now())))}static create(e,t,n,s,i,r){return new me(e,t,n,s,i,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(me.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function _e(e,t){let n=[];for(let s=0,i=0;;){let r,o;if(s<e.length&&(i==t.length||t[i]>=e[s]))r=e[s++],o=e[s++];else{if(!(i<t.length))return n;r=t[i++],o=t[i++]}!n.length||n[n.length-1]<r?n.push(r,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function ve(e,t,n){var s;let i,r,o;return n?(i=t.changes,r=M.empty(t.changes.length),o=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),r=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(i)),{changes:o,selection:t.selection?t.selection.map(r):null===(s=e.selection)||void 0===s?void 0:s.map(i),effects:ge.mapEffects(e.effects,i).concat(ge.mapEffects(t.effects,r)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function be(e,t,n){let s=t.selection,i=xe(t.annotations);return t.userEvent&&(i=i.concat(me.userEvent.of(t.userEvent))),{changes:t.changes instanceof M?t.changes:M.of(t.changes||[],n,e.facet(ae)),selection:s&&(s instanceof N?s:N.single(s.anchor,s.head)),effects:xe(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function ye(e,t,n){let s=be(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let r=1;r<t.length;r++){!1===t[r].filter&&(n=!1);let i=!!t[r].sequential;s=ve(s,be(e,t[r],i?s.changes.newLength:e.doc.length),i)}let i=me.create(e,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return function(e){let t=e.startState,n=t.facet(ue),s=e;for(let i=n.length-1;i>=0;i--){let r=n[i](e);r&&Object.keys(r).length&&(s=ve(s,be(t,r,e.changes.newLength),!0))}return s==e?e:me.create(t,e.changes,e.selection,s.effects,s.annotations,s.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let i of t.facet(le)){let t=i(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:_e(n,t))}if(!0!==n){let s,i;if(!1===n)i=e.changes.invertedDesc,s=M.empty(t.doc.length);else{let t=e.changes.filter(n);s=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=me.create(t,s,e.selection&&e.selection.map(i),ge.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let s=t.facet(ce);for(let i=s.length-1;i>=0;i--){let n=s[i](e);e=n instanceof me?n:Array.isArray(n)&&1==n.length&&n[0]instanceof me?n[0]:ye(t,xe(n),!1)}return e}(i):i)}me.time=de.define(),me.userEvent=de.define(),me.addToHistory=de.define(),me.remote=de.define();const we=[];function xe(e){return null==e?we:Array.isArray(e)?e:[e]}var Se=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Se||(Se={}));const Ce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ke;try{ke=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Ke){}function Ee(e){return t=>{if(!/\S/.test(t))return Se.Space;if(function(e){if(ke)return ke.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Ce.test(n)))return!0}return!1}(t))return Se.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Se.Word;return Se.Other}}class Oe{constructor(e,t,n,s,i,r){this.config=e,this.doc=t,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=i,r&&(r._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)se(this,o<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return se(this,n),ie(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return ye(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:s,compartments:i}=n;for(let o of e.effects)o.is(ee.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((e,t)=>i.set(t,e))),n=null),i.set(o.value.compartment,o.value.extension)):o.is(ge.reconfigure)?(n=null,s=o.value):o.is(ge.appendConfig)&&(n=null,s=xe(s).concat(o.value));if(n)t=e.startState.values.slice();else{n=ne.resolve(s,i,this),t=new Oe(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}let r=e.startState.facet(oe)?e.newSelection:e.newSelection.asSingle();new Oe(n,e.newDoc,r,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:N.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),s=this.changes(n.changes),i=[n.range],r=xe(n.effects);for(let o=1;o<t.ranges.length;o++){let n=e(t.ranges[o]),a=this.changes(n.changes),l=a.map(s);for(let e=0;e<o;e++)i[e]=i[e].map(l);let c=s.mapDesc(a,!0);i.push(n.range.map(c)),s=s.compose(l),r=ge.mapEffects(r,l).concat(ge.mapEffects(xe(n.effects),c))}return{changes:s,selection:N.create(i,t.mainIndex),effects:r}}changes(e=[]){return e instanceof M?e:M.of(e,this.doc.length,this.facet(Oe.lineSeparator))}toText(e){return s.of(e.split(this.facet(Oe.lineSeparator)||k))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(se(this,t),ie(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof W&&null!=this.config.address[s.id]&&(t[n]=s.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n)for(let i in n)if(Object.prototype.hasOwnProperty.call(e,i)){let t=n[i],r=e[i];s.push(t.init((e=>t.spec.fromJSON(r,e))))}return Oe.create({doc:e.doc,selection:N.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ne.resolve(e.extensions||[],new Map),n=e.doc instanceof s?e.doc:s.of((e.doc||"").split(t.staticFacet(Oe.lineSeparator)||k)),i=e.selection?e.selection instanceof N?e.selection:N.single(e.selection.anchor,e.selection.head):N.single(0);return L(i,n.length),t.staticFacet(oe)||(i=i.asSingle()),new Oe(t,n,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Oe.tabSize)}get lineBreak(){return this.facet(Oe.lineSeparator)||"\n"}get readOnly(){return this.facet(he)}phrase(e,...t){for(let n of this.facet(Oe.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let s=+(n||1);return!s||s>t.length?e:t[s-1]}))),e}languageDataAt(e,t,n=-1){let s=[];for(let i of this.facet(re))for(let r of i(this,t,n))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return Ee(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:s}=this.doc.lineAt(e),i=this.charCategorizer(e),r=e-n,o=e-n;for(;r>0;){let e=_(t,r,!1);if(i(t.slice(e,r))!=Se.Word)break;r=e}for(;o<s;){let e=_(t,o);if(i(t.slice(o,e))!=Se.Word)break;o=e}return r==o?null:N.range(r+n,o+n)}}function Me(e,t,n={}){let s={};for(let i of e)for(let e of Object.keys(i)){let t=i[e],r=s[e];if(void 0===r)s[e]=t;else if(r===t||void 0===t);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);s[e]=n[e](r,t)}}for(let i in t)void 0===s[i]&&(s[i]=t[i]);return s}Oe.allowMultipleSelections=oe,Oe.tabSize=$.define({combine:e=>e.length?e[0]:4}),Oe.lineSeparator=ae,Oe.readOnly=he,Oe.phrases=$.define({compare(e,t){let n=Object.keys(e),s=Object.keys(t);return n.length==s.length&&n.every((n=>e[n]==t[n]))}}),Oe.languageData=re,Oe.changeFilter=le,Oe.transactionFilter=ce,Oe.transactionExtender=ue,ee.reconfigure=ge.define();class Te{eq(e){return this==e}range(e,t=e){return De.create(e,t,this)}}Te.prototype.startSide=Te.prototype.endSide=0,Te.prototype.point=!1,Te.prototype.mapMode=E.TrackDel;class De{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new De(e,t,n)}}function Pe(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Ae{constructor(e,t,n,s){this.from=e,this.to=t,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,s=0){let i=n?this.to:this.from;for(let r=s,o=i.length;;){if(r==o)return r;let s=r+o>>1,a=i[s]-e||(n?this.value[s].endSide:this.value[s].startSide)-t;if(s==r)return a>=0?r:o;a>=0?o=s:r=s+1}}between(e,t,n,s){for(let i=this.findIndex(t,-1e9,!0),r=this.findIndex(n,1e9,!1,i);i<r;i++)if(!1===s(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],s=[],i=[],r=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],h=this.from[a]+e,d=this.to[a]+e;if(h==d){let e=t.mapPos(h,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(h,u.endSide),c<l))continue}else if(l=t.mapPos(h,u.startSide),c=t.mapPos(d,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(r<0&&(r=l),u.point&&(o=Math.max(o,c-l)),n.push(u),s.push(l-r),i.push(c-r))}return{mapped:n.length?new Ae(s,i,n,o):null,pos:r}}}class Re{constructor(e,t,n,s){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=s}static create(e,t,n,s){return new Re(e,t,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:s=0,filterTo:i=this.length}=e,r=e.filter;if(0==t.length&&!r)return this;if(n&&(t=t.slice().sort(Pe)),this.isEmpty)return t.length?Re.of(t):this;let o=new Ne(this,null,-1).goto(0),a=0,l=[],c=new je;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!r||s>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||s>o.to||i<o.from||r(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||l.push(De.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Re.empty:this.nextLayer.update({add:l,filter:r,filterFrom:s,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],s=-1;for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r],a=e.touchesRange(i,i+o.length);if(!1===a)s=Math.max(s,o.maxPoint),t.push(o),n.push(e.mapPos(i));else if(!0===a){let{mapped:r,pos:a}=o.map(i,e);r&&(s=Math.max(s,r.maxPoint),t.push(r),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new Re(n,t,i||Re.empty,s)}between(e,t,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let i=this.chunkPos[s],r=this.chunk[s];if(t>=i&&e<=i+r.length&&!1===r.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Le.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Le.from(e).goto(t)}static compare(e,t,n,s,i=-1){let r=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),o=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),a=Ie(r,o,n),l=new $e(r,a,i),c=new $e(o,a,i);n.iterGaps(((e,t,n)=>Fe(l,e,c,t,n,s))),n.empty&&0==n.length&&Fe(l,0,c,0,0,s)}static eq(e,t,n=0,s){null==s&&(s=999999999);let i=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(i.length!=r.length)return!1;if(!i.length)return!0;let o=Ie(i,r),a=new $e(i,o,0).goto(n),l=new $e(r,o,0).goto(n);for(;;){if(a.to!=l.to||!Ue(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>s)return!0;a.next(),l.next()}}static spans(e,t,n,s,i=-1){let r=new $e(e,null,i).goto(t),o=t,a=r.openStart;for(;;){let e=Math.min(r.to,n);if(r.point){let n=r.activeForPoint(r.to),i=r.pointFrom<t?n.length+1:Math.min(n.length,a);s.point(o,e,r.point,n,i,r.pointRank),a=Math.min(r.openEnd(e),n.length)}else e>o&&(s.span(o,e,r.active,a),a=r.openEnd(e));if(r.to>n)return a+(r.point&&r.to>n?1:0);o=r.to,r.next()}}static of(e,t=!1){let n=new je;for(let s of e instanceof De?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let s=e[n];if(Pe(t,s)>0)return e.slice().sort(Pe);t=s}return e}(e):e)n.add(s.from,s.to,s.value);return n.finish()}static join(e){if(!e.length)return Re.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let s=e[n];s!=Re.empty;s=s.nextLayer)t=new Re(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Re.empty=new Re([],[],null,-1),Re.empty.nextLayer=Re.empty;class je{finishChunk(e){this.chunks.push(new Ae(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new je)).add(e,t,n)}addInner(e,t,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(s<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Re.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Re.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ie(e,t,n){let s=new Map;for(let r of e)for(let e=0;e<r.chunk.length;e++)r.chunk[e].maxPoint<=0&&s.set(r.chunk[e],r.chunkPos[e]);let i=new Set;for(let r of t)for(let e=0;e<r.chunk.length;e++){let t=s.get(r.chunk[e]);null==t||(n?n.mapPos(t):t)!=r.chunkPos[e]||(null==n?void 0:n.touchesRange(t,t+r.chunk[e].length))||i.add(r.chunk[e])}return i}class Ne{constructor(e,t,n,s=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Le{constructor(e){this.heap=e}static from(e,t=null,n=-1){let s=[];for(let i=0;i<e.length;i++)for(let r=e[i];!r.isEmpty;r=r.nextLayer)r.maxPoint>=n&&s.push(new Ne(r,t,n,i));return 1==s.length?s[0]:new Le(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Be(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Be(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Be(this.heap,0)}}}function Be(e,t){for(let n=e[t];;){let s=1+(t<<1);if(s>=e.length)break;let i=e[s];if(s+1<e.length&&i.compare(e[s+1])>=0&&(i=e[s+1],s++),n.compare(i)<0)break;e[s]=n,e[t]=i,t=s}}class $e{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Le.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ze(this.active,e),ze(this.activeTo,e),ze(this.activeRank,e),this.minActive=qe(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:s,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Ve(this.active,t,n),Ve(this.activeTo,t,s),Ve(this.activeRank,t,i),e&&Ve(e,t,this.cursor.from),this.minActive=qe(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&ze(n,s)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Fe(e,t,n,s,i,r){e.goto(t),n.goto(s);let o=s+i,a=s,l=s-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,s=t<0?e.to+l:n.to,i=Math.min(s,o);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Ue(e.activeForPoint(e.to),n.activeForPoint(n.to))||r.comparePoint(a,i,e.point,n.point):i>a&&!Ue(e.active,n.active)&&r.compareRange(a,i,e.active,n.active),s>o)break;a=s,t<=0&&e.next(),t>=0&&n.next()}}function Ue(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function ze(e,t){for(let n=t,s=e.length-1;n<s;n++)e[n]=e[n+1];e.pop()}function Ve(e,t,n){for(let s=e.length-1;s>=t;s--)e[s+1]=e[s];e[t]=n}function qe(e,t){let n=-1,s=1e9;for(let i=0;i<t.length;i++)(t[i]-s||e[i].endSide-e[n].endSide)<0&&(n=i,s=t[i]);return n}function He(e,t,n=e.length){let s=0;for(let i=0;i<n;)9==e.charCodeAt(i)?(s+=t-s%t,i++):(s++,i=_(e,i));return s}function We(e,t,n,s){for(let i=0,r=0;;){if(r>=t)return i;if(i==e.length)break;r+=9==e.charCodeAt(i)?n-r%n:1,i=_(e,i)}return!0===s?-1:e.length}},75533:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BidiSpan:()=>De,BlockInfo:()=>hn,BlockType:()=>ue,Decoration:()=>he,Direction:()=>ye,EditorView:()=>Qn,GutterMarker:()=>Ri,MatchDecorator:()=>Is,RectangleMarker:()=>fs,ViewPlugin:()=>tt,ViewUpdate:()=>ft,WidgetType:()=>ce,__test:()=>lr,closeHoverTooltips:()=>Ci,crosshairCursor:()=>ii,drawSelection:()=>xs,dropCursor:()=>Rs,getDrawSelectionConfig:()=>Ss,getPanel:()=>Mi,getTooltip:()=>wi,gutter:()=>Li,gutterLineClass:()=>ji,gutters:()=>$i,hasHoverTooltips:()=>xi,highlightActiveLine:()=>Ks,highlightActiveLineGutter:()=>tr,highlightSpecialChars:()=>Us,highlightTrailingWhitespace:()=>ar,highlightWhitespace:()=>rr,hoverTooltip:()=>yi,keymap:()=>as,layer:()=>bs,lineNumberMarkers:()=>Wi,lineNumbers:()=>Xi,logException:()=>Xe,panels:()=>Oi,placeholder:()=>Xs,rectangularSelection:()=>ti,repositionTooltips:()=>ki,runScopeHandlers:()=>us,scrollPastEnd:()=>Ws,showPanel:()=>Ai,showTooltip:()=>fi,tooltips:()=>ai});for(var s=n(78120),i=n(28699),r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=0;c<10;c++)r[48+c]=r[96+c]=String(c);for(c=1;c<=24;c++)r[c+111]="F"+c;for(c=65;c<=90;c++)r[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var u in r)o.hasOwnProperty(u)||(o[u]=r[u]);function h(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function d(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function p(e,t){if(!t.anchorNode)return!1;try{return d(e,t.anchorNode)}catch(n){return!1}}function f(e){return 3==e.nodeType?E(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function g(e,t,n,s){return!!n&&(_(e,t,n,s,-1)||_(e,t,n,s,1))}function m(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function _(e,t,n,s,i){for(;;){if(e==n&&t==s)return!0;if(t==(i<0?0:v(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=m(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?v(e):0}}}function v(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function b(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function y(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function w(e,t){let n=t.width/e.offsetWidth,s=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(t.height-e.offsetHeight)<1)&&(s=1),{scaleX:n,scaleY:s}}class x{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?v(t):0),n,Math.min(e.focusOffset,n?v(n):0))}set(e,t,n,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=s}}let S,C=null;function k(e){if(e.setActive)return e.setActive();if(C)return e.focus(C);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==C?{get preventScroll(){return C={preventScroll:!0},!0}}:void 0),!C){C=!1;for(let e=0;e<t.length;){let n=t[e++],s=t[e++],i=t[e++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function E(e,t,n=t){let s=S||(S=document.createRange());return s.setEnd(e,n),s.setStart(e,t),s}function O(e,t,n){let s={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",s);i.synthetic=!0,e.dispatchEvent(i);let r=new KeyboardEvent("keyup",s);return r.synthetic=!0,e.dispatchEvent(r),i.defaultPrevented||r.defaultPrevented}function M(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function T(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class D{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new D(e.parentNode,m(e),t)}static after(e,t){return new D(e.parentNode,m(e)+1,t)}}const P=[];class A{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,s=this.dom,i=null;for(let r of this.children){if(7&r.flags){if(!r.dom&&(n=i?i.nextSibling:s.firstChild)){let e=A.get(n);(!e||!e.parent&&e.canReuseDOM(r))&&r.reuseDOM(n)}r.sync(e,t),r.flags&=-8}if(n=i?i.nextSibling:s.firstChild,t&&!t.written&&t.node==s&&n!=r.dom&&(t.written=!0),r.dom.parentNode==s)for(;n&&n!=r.dom;)n=R(n);else s.insertBefore(r.dom,n);i=r.dom}for(n=i?i.nextSibling:s.firstChild,n&&t&&t.node==s&&(t.written=!0);n;)n=R(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let s=0==v(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==s&&t.firstChild!=t.lastChild&&(s=e==t.firstChild?-1:1),e=t}n=s<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!A.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,i=0;;s++){let e=this.children[s];if(e.dom==n)return i;i+=e.length+e.breakAfter}}domBoundsAround(e,t,n=0){let s=-1,i=-1,r=-1,o=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==s&&(s=a,i=l),l>t&&n.dom.parentNode==this.dom){r=a,o=c;break}c=u,l=u+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=P){this.markDirty();for(let s=e;s<t;s++){let e=this.children[s];e.parent==this&&n.indexOf(e)<0&&e.destroy()}this.children.splice(e,t-e,...n);for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new j(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,s,i,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function R(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}A.prototype.breakAfter=0;class j{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function I(e,t,n,s,i,r,o,a,l){let{children:c}=e,u=c.length?c[t]:null,h=r.length?r[r.length-1]:null,d=h?h.breakAfter:o;if(!(t==s&&u&&!o&&!d&&r.length<2&&u.merge(n,i,r.length?h:null,0==n,a,l))){if(s<c.length){let e=c[s];e&&(i<e.length||e.breakAfter&&(null==h?void 0:h.breakAfter))?(t==s&&(e=e.split(i),i=0),!d&&h&&e.merge(0,i,h,!0,0,l)?r[r.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,l),r.push(e))):(null==e?void 0:e.breakAfter)&&(h?h.breakAfter=1:o=1),s++}for(u&&(u.breakAfter=o,n>0&&(!o&&r.length&&u.merge(n,u.length,r[0],!1,a,0)?u.breakAfter=r.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<s&&r.length;)if(c[s-1].become(r[r.length-1]))s--,r.pop(),l=r.length?0:a;else{if(!c[t].become(r[0]))break;t++,r.shift(),a=r.length?0:l}!r.length&&t&&s<c.length&&!c[t-1].breakAfter&&c[s].merge(0,0,c[t-1],!1,a,l)&&t--,(t<s||r.length)&&e.replaceChildren(t,s,r)}}function N(e,t,n,s,i,r){let o=e.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(t,-1),h=t-n;for(let d of s)h+=d.length;e.length+=h,I(e,c,u,a,l,s,0,i,r)}let L="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},B="undefined"!=typeof document?document:{documentElement:{style:{}}};const $=/Edge\/(\d+)/.exec(L.userAgent),F=/MSIE \d/.test(L.userAgent),U=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(L.userAgent),z=!!(F||U||$),V=!z&&/gecko\/(\d+)/i.test(L.userAgent),q=!z&&/Chrome\/(\d+)/.exec(L.userAgent),H="webkitFontSmoothing"in B.documentElement.style,W=!z&&/Apple Computer/.test(L.vendor),K=W&&(/Mobile\/\w+/.test(L.userAgent)||L.maxTouchPoints>2);var G={mac:K||/Mac/.test(L.platform),windows:/Win/.test(L.platform),linux:/Linux|X11/.test(L.platform),ie:z,ie_version:F?B.documentMode||6:U?+U[1]:$?+$[1]:0,gecko:V,gecko_version:V?+(/Firefox\/(\d+)/.exec(L.userAgent)||[0,0])[1]:0,chrome:!!q,chrome_version:q?+q[1]:0,ios:K,android:/Android\b/.test(L.userAgent),webkit:H,safari:W,webkit_version:H?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=B.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class J extends A{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof J)||this.length-(t-e)+n.length>256||8&n.flags))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new J(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new D(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let s=e.nodeValue.length;t>s&&(t=s);let i=t,r=t,o=0;0==t&&n<0||t==s&&n>=0?G.chrome||G.gecko||(t?(i--,o=1):r<s&&(r++,o=-1)):n<0?i--:r<s&&r++;let a=E(e,i,r).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];G.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l);return o?b(l,o<0):l||null}(this.dom,e,t)}}class Y extends A{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let s of t)s.setParent(this)}setAttrs(e){if(M(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,s,i,r){return(!n||!(!(n instanceof Y&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&r<=0))&&(N(this,e,t,n?n.children.slice():[],i-1,r-1),this.markDirty(),!0)}split(e){let t=[],n=0,s=-1,i=0;for(let o of this.children){let r=n+o.length;r>e&&t.push(n<e?o.split(e-n):o),s<0&&n>=e&&(s=i),n=r,i++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Y(this.mark,t,r)}domAtPos(e){return Q(this,e)}coordsAt(e,t){return te(this,e,t)}}class X extends A{static create(e,t,n){return new X(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=X.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,s,i,r){return!(n&&(!(n instanceof X&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&r<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof X&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return s.Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):s.Text.empty}domAtPos(e){return(this.length?0==e:this.side>0)?D.before(this.dom):D.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let s=this.dom.getClientRects(),i=null;if(!s.length)return null;let r=this.side?this.side<0:e>0;for(let o=r?s.length-1:0;i=s[o],!(e>0?0==o:o==s.length-1||i.top<i.bottom);o+=r?-1:1);return b(i,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Z extends A{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Z&&e.side==this.side}split(){return new Z(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?D.before(this.dom):D.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return s.Text.empty}get isHidden(){return!0}}function Q(e,t){let n=e.dom,{children:s}=e,i=0;for(let r=0;i<s.length;i++){let e=s[i],o=r+e.length;if(!(o==r&&e.getSide()<=0)){if(t>r&&t<o&&e.dom.parentNode==n)return e.domAtPos(t-r);if(t<=r)break;r=o}}for(let r=i;r>0;r--){let e=s[r-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let r=i;r<s.length;r++){let e=s[r];if(e.dom.parentNode==n)return e.domAtPos(0)}return new D(n,0)}function ee(e,t,n){let s,{children:i}=e;n>0&&t instanceof Y&&i.length&&(s=i[i.length-1])instanceof Y&&s.mark.eq(t.mark)?ee(s,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function te(e,t,n){let s=null,i=-1,r=null,o=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let u=t.children[l],h=c+u.length;h>=a&&(u.children.length?e(u,a-c):(!r||r.isHidden&&n>0)&&(h>a||c==h&&u.getSide()>0)?(r=u,o=a-c):(c<a||c==h&&u.getSide()<0&&!u.isHidden)&&(s=u,i=a-c)),c=h}}(e,t);let a=(n<0?s:r)||s||r;return a?a.coordsAt(Math.max(0,a==s?i:o),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=f(t);return n[n.length-1]||null}(e)}function ne(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}J.prototype.children=X.prototype.children=Z.prototype.children=P;const se=Object.create(null);function ie(e,t,n){if(e==t)return!0;e||(e=se),t||(t=se);let s=Object.keys(e),i=Object.keys(t);if(s.length-(n&&s.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let r of s)if(r!=n&&(-1==i.indexOf(r)||e[r]!==t[r]))return!1;return!0}function re(e,t,n){let s=!1;if(t)for(let i in t)n&&i in n||(s=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(s=!0,"style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return s}function oe(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let s=e.attributes[n];t[s.name]=s.value}return t}class ae extends A{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,s,i,r){if(n){if(!(n instanceof ae))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),N(this,e,t,n?n.children.slice():[],i,r),!0}split(e){let t=new ae;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:s}=this.childPos(e);s&&(t.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let i=n;i<this.children.length;i++)t.append(this.children[i],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ie(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){ee(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=ne(t,this.attrs||{})),n&&(this.attrs=ne({class:n},this.attrs||{}))}domAtPos(e){return Q(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(M(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(re(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&A.get(s)instanceof Y;)s=s.lastChild;if(!(s&&this.length&&("BR"==s.nodeName||0!=(null===(n=A.get(s))||void 0===n?void 0:n.isEditable)||G.ios&&this.children.some((e=>e instanceof J))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof J)||/[^ -~]/.test(n.text))return null;let s=f(n.dom);if(1!=s.length)return null;t+=s[0].width,e=s[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=te(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let s=(t-e.textHeight)/2;return{top:n.top+s,bottom:n.bottom-s,left:n.left,right:n.left}}}return n}become(e){return!1}covers(){return!0}static find(e,t){for(let n=0,s=0;n<e.children.length;n++){let i=e.children[n],r=s+i.length;if(r>=t){if(i instanceof ae)return i;if(r>t)break}s=r+i.breakAfter}return null}}class le extends A{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,s,i,r){return!(n&&(!(n instanceof le&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&r<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?D.before(this.dom):D.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new le(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return P}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):s.Text.empty}domBoundsAround(){return null}become(e){return e instanceof le&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class ce{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ue=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(ue||(ue={}));class he extends s.RangeValue{constructor(e,t,n,s){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new de(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new fe(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,s=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:r}=ge(e,s);t=(i?s?-3e8:-1:5e8)-1,n=1+(r?s?2e8:1:-6e8)}return new fe(e,t,n,s,e.widget||null,!0)}static line(e){return new pe(e)}static set(e,t=!1){return s.RangeSet.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}he.none=s.RangeSet.empty;class de extends he{constructor(e){let{start:t,end:n}=ge(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof de&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&ie(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}de.prototype.point=!1;class pe extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pe&&this.spec.class==e.spec.class&&ie(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}pe.prototype.mapMode=s.MapMode.TrackBefore,pe.prototype.point=!0;class fe extends he{constructor(e,t,n,i,r,o){super(t,n,r,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?s.MapMode.TrackBefore:s.MapMode.TrackAfter:s.MapMode.TrackDel}get type(){return this.startSide!=this.endSide?ue.WidgetRange:this.startSide<=0?ue.WidgetBefore:ue.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof fe&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function ge(e,t=!1){let{inclusiveStart:n,inclusiveEnd:s}=e;return null==n&&(n=e.inclusive),null==s&&(s=e.inclusive),{start:null!=n?n:t,end:null!=s?s:t}}function me(e,t,n,s=0){let i=n.length-1;i>=0&&n[i]+s>=e?n[i]=Math.max(n[i],t):n.push(e,t)}fe.prototype.point=!0;class _e{constructor(e,t,n,s){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof le&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ae),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ve(new Z(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof le||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(ve(new J(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}span(e,t,n,s){this.buildText(t-e,n,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,n,s,i,r){if(this.disallowBlockEffectsFor[r]&&n instanceof fe){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(n instanceof fe)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new le(n.widget||new be("div"),o,n));else{let r=X.create(n.widget||new be("span"),o,o?0:n.startSide),a=this.atCursorPos&&!r.isEditable&&i<=s.length&&(e<t||n.startSide>0),l=!r.isEditable&&(e<t||i>s.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||r.isEditable||(this.pendingBuffer=0),this.flushBuffer(s),a&&(c.append(ve(new Z(1),s),i),i=s.length+Math.max(0,i-s.length)),c.append(ve(r,s),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,i,r){let o=new _e(e,t,n,r);return o.openEnd=s.RangeSet.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ve(e,t){for(let n of t)e=new Y(n,[e],e.length);return e}class be extends ce{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var ye=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(ye||(ye={}));const we=ye.LTR,xe=ye.RTL;function Se(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Ce=Se("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ke=Se("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ee=Object.create(null),Oe=[];for(let cr of["()","[]","{}"]){let e=cr.charCodeAt(0),t=cr.charCodeAt(1);Ee[e]=t,Ee[t]=-e}function Me(e){return e<=247?Ce[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?ke[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const Te=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class De{get dir(){return this.level%2?xe:we}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,s){let i=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==n)return r;(i<0||(0!=s?s<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=r)}}if(i<0)throw new RangeError("Index out of range");return i}}function Pe(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],i=t[n];if(s.from!=i.from||s.to!=i.to||s.direction!=i.direction||!Pe(s.inner,i.inner))return!1}return!0}const Ae=[];function Re(e,t,n,s,i,r,o){let a=s%2?2:1;if(s%2==i%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==r.length||l<r[c].from){let e=Ae[l];e!=a&&(t=!1,u=16==e)}let h=t||1!=a?null:[],d=t?s:s+1,p=l;e:for(;;)if(c<r.length&&p==r[c].from){if(u)break e;let f=r[c];if(!t)for(let e=f.to,t=c+1;;){if(e==n)break e;if(!(t<r.length&&r[t].from==e)){if(Ae[e]==a)break e;break}e=r[t++].to}if(c++,h)h.push(f);else{f.from>l&&o.push(new De(l,f.from,d)),je(e,f.direction==we!=!(d%2)?s+1:s,i,f.inner,f.from,f.to,o),l=f.to}p=f.to}else{if(p==n||(t?Ae[p]!=a:Ae[p]==a))break;p++}h?Re(e,l,p,s+1,i,h,o):l<p&&o.push(new De(l,p,d)),l=p}else for(let l=n,c=r.length;l>t;){let n=!0,u=!1;if(!c||l>r[c-1].to){let e=Ae[l-1];e!=a&&(n=!1,u=16==e)}let h=n||1!=a?null:[],d=n?s:s+1,p=l;e:for(;;)if(c&&p==r[c-1].to){if(u)break e;let f=r[--c];if(!n)for(let e=f.from,n=c;;){if(e==t)break e;if(!n||r[n-1].to!=e){if(Ae[e-1]==a)break e;break}e=r[--n].from}if(h)h.push(f);else{f.to<l&&o.push(new De(f.to,l,d)),je(e,f.direction==we!=!(d%2)?s+1:s,i,f.inner,f.from,f.to,o),l=f.from}p=f.from}else{if(p==t||(n?Ae[p-1]!=a:Ae[p-1]==a))break;p--}h?Re(e,p,l,s+1,i,h,o):p<l&&o.push(new De(p,l,d)),l=p}}function je(e,t,n,s,i,r,o){let a=t%2?2:1;!function(e,t,n,s,i){for(let r=0;r<=s.length;r++){let o=r?s[r-1].to:t,a=r<s.length?s[r].from:n,l=r?256:i;for(let t=o,n=l,s=l;t<a;t++){let i=Me(e.charCodeAt(t));512==i?i=n:8==i&&4==s&&(i=16),Ae[t]=4==i?2:i,7&i&&(s=i),n=i}for(let e=o,t=l,s=l;e<a;e++){let i=Ae[e];if(128==i)e<a-1&&t==Ae[e+1]&&24&t?i=Ae[e]=t:Ae[e]=256;else if(64==i){let i=e+1;for(;i<a&&64==Ae[i];)i++;let r=e&&8==t||i<n&&8==Ae[i]?1==s?1:8:256;for(let t=e;t<i;t++)Ae[t]=r;e=i-1}else 8==i&&1==s&&(Ae[e]=1);t=i,7&i&&(s=i)}}}(e,i,r,s,a),function(e,t,n,s,i){let r=1==i?2:1;for(let o=0,a=0,l=0;o<=s.length;o++){let c=o?s[o-1].to:t,u=o<s.length?s[o].from:n;for(let t,n,s,o=c;o<u;o++)if(n=Ee[t=e.charCodeAt(o)])if(n<0){for(let e=a-3;e>=0;e-=3)if(Oe[e+1]==-n){let t=Oe[e+2],n=2&t?i:4&t?1&t?r:i:0;n&&(Ae[o]=Ae[Oe[e]]=n),a=e;break}}else{if(189==Oe.length)break;Oe[a++]=o,Oe[a++]=t,Oe[a++]=l}else if(2==(s=Ae[o])||1==s){let e=s==i;l=e?0:1;for(let t=a-3;t>=0;t-=3){let n=Oe[t+2];if(2&n)break;if(e)Oe[t+2]|=2;else{if(4&n)break;Oe[t+2]|=4}}}}}(e,i,r,s,a),function(e,t,n,s){for(let i=0,r=s;i<=n.length;i++){let o=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=o;l<a;){let o=Ae[l];if(256==o){let o=l+1;for(;;)if(o==a){if(i==n.length)break;o=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=Ae[o])break;o++}let c=1==r,u=c==(1==(o<t?Ae[o]:s))?c?1:2:s;for(let t=o,s=i,r=s?n[s-1].to:e;t>l;)t==r&&(t=n[--s].from,r=s?n[s-1].to:e),Ae[--t]=u;l=o}else r=o,l++}}}(i,r,s,a),Re(e,i,r,t,n,s,o)}function Ie(e,t,n){if(!e)return[new De(0,0,t==xe?1:0)];if(t==we&&!n.length&&!Te.test(e))return Ne(e.length);if(n.length)for(;e.length>Ae.length;)Ae[Ae.length]=256;let s=[],i=t==we?0:1;return je(e,i,i,n,0,e.length,s),s}function Ne(e){return[new De(0,e,0)]}let Le="";function Be(e,t,n,i,r){var o;let a=i.head-e.from,l=De.find(t,a,null!==(o=i.bidiLevel)&&void 0!==o?o:-1,i.assoc),c=t[l],u=c.side(r,n);if(a==u){let e=l+=r?1:-1;if(e<0||e>=t.length)return null;c=t[l=e],a=c.side(!r,n),u=c.side(r,n)}let h=(0,s.findClusterBreak)(e.text,a,c.forward(r,n));(h<c.from||h>c.to)&&(h=u),Le=e.text.slice(Math.min(a,h),Math.max(a,h));let d=l==(r?t.length-1:0)?null:t[l+(r?1:-1)];return d&&h==u&&d.level+(r?0:1)<c.level?s.EditorSelection.cursor(d.side(!r,n)+e.from,d.forward(r,n)?1:-1,d.level):s.EditorSelection.cursor(h+e.from,c.forward(r,n)?-1:1,c.level)}function $e(e,t,n){for(let s=t;s<n;s++){let t=Me(e.charCodeAt(s));if(1==t)return we;if(2==t||4==t)return xe}return we}const Fe=s.Facet.define(),Ue=s.Facet.define(),ze=s.Facet.define(),Ve=s.Facet.define(),qe=s.Facet.define(),He=s.Facet.define(),We=s.Facet.define(),Ke=s.Facet.define({combine:e=>e.some((e=>e))}),Ge=s.Facet.define({combine:e=>e.some((e=>e))});class Je{constructor(e,t="nearest",n="nearest",s=5,i=5,r=!1){this.range=e,this.y=t,this.x=n,this.yMargin=s,this.xMargin=i,this.isSnapshot=r}map(e){return e.empty?this:new Je(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Je(s.EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ye=s.StateEffect.define({map:(e,t)=>e.map(t)});function Xe(e,t,n){let s=e.facet(Ve);s.length?s[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const Ze=s.Facet.define({combine:e=>!e.length||e[0]});let Qe=0;const et=s.Facet.define();class tt{constructor(e,t,n,s,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=s,this.extension=i(this)}static define(e,t){const{eventHandlers:n,eventObservers:s,provide:i,decorations:r}=t||{};return new tt(Qe++,e,n,s,(e=>{let t=[et.of(e)];return r&&t.push(rt.of((t=>{let n=t.plugin(e);return n?r(n):he.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return tt.define((t=>new e(t)),t)}}class nt{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Xe(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(n){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Xe(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Xe(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const st=s.Facet.define(),it=s.Facet.define(),rt=s.Facet.define(),ot=s.Facet.define(),at=s.Facet.define(),lt=s.Facet.define();function ct(e,t){let n=e.state.facet(lt);if(!n.length)return n;let i=n.map((t=>t instanceof Function?t(e):t)),r=[];return s.RangeSet.spans(i,t.from,t.to,{point(){},span(e,n,s,i){let o=e-t.from,a=n-t.from,l=r;for(let r=s.length-1;r>=0;r--,i--){let e,n=s[r].spec.bidiIsolate;if(null==n&&(n=$e(t.text,o,a)),i>0&&l.length&&(e=l[l.length-1]).to==o&&e.direction==n)e.to=a,l=e.inner;else{let e={from:o,to:a,direction:n,inner:[]};l.push(e),l=e.inner}}}}),r}const ut=s.Facet.define();function ht(e){let t=0,n=0,s=0,i=0;for(let r of e.state.facet(ut)){let o=r(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(s=Math.max(s,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:t,right:n,top:s,bottom:i}}const dt=s.Facet.define();class pt{constructor(e,t,n,s){this.fromA=e,this.toA=t,this.fromB=n,this.toB=s}join(e){return new pt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let s=0,i=0,r=0,o=0;;s++){let a=s==e.length?null:e[s],l=r-o,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],s=t[i+1],r=Math.max(o,e),a=Math.min(c,s);if(r<=a&&new pt(r+l,a+l,r,a).addToSet(n),s>c)break;i+=2}if(!a)return n;new pt(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),r=a.toA,o=a.toB}}}class ft{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=s.ChangeSet.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges(((e,t,n,s)=>i.push(new pt(e,t,n,s)))),this.changedRanges=i}static create(e,t,n){return new ft(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class gt extends A{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ae],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new pt(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?i=this.domChanged.newSel.head:function(e,t){let n=!1;t&&e.iterChangedRanges(((e,s)=>{e<t.to&&s>t.from&&(n=!0)}));return n}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));let r=i>-1?function(e,t,n){let s=_t(e,n);if(!s)return null;let{node:i,from:r,to:o}=s,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(s.from,s.to)!=a)return null;let l=t.invertedDesc,c=new pt(l.mapPos(r),l.mapPos(o),r,o),u=[];for(let h=i.parentNode;;h=h.parentNode){let t=A.get(h);if(t instanceof Y)u.push({node:h,deco:t.mark});else{if(t instanceof ae||"DIV"==h.nodeName&&h.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:h};if(h==e.contentDOM)return null;u.push({node:h,deco:new de({inclusive:!0,attributes:oe(h),tagName:h.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:s}=this.hasComposition;n=new pt(t,s,e.changes.mapPos(t,-1),e.changes.mapPos(s,1)).addToSet(n.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(G.ie||G.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,n){let i=new bt;return s.RangeSet.compare(e,t,n,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return n=pt.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:s}=this.view;s.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=G.chrome||G.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||s.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let r of this.children)r instanceof le&&r.widget instanceof mt&&i.push(r.dom);s.updateGaps(i)}updateChildren(e,t,n){let s=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let r=s.length-1;;r--){let e=r>=0?s[r]:null;if(!e)break;let t,o,a,l,{fromA:c,toA:u,fromB:h,toB:d}=e;if(n&&n.range.fromB<d&&n.range.toB>h){let e=_e.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),s=_e.build(this.view.state.doc,n.range.toB,d,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,a=e.openStart,l=s.openEnd;let i=this.compositionView(n);s.breakAtStart?i.breakAfter=1:s.content.length&&i.merge(i.length,i.length,s.content[0],!1,s.openStart,0)&&(i.breakAfter=s.content[0].breakAfter,s.content.shift()),e.content.length&&i.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),t=e.content.concat(i).concat(s.content)}else({content:t,breakAtStart:o,openStart:a,openEnd:l}=_e.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:p,off:f}=i.findPos(u,1),{i:g,off:m}=i.findPos(c,-1);I(this,g,m,p,f,t,o,a,l)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new J(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Y(s,[t],t.length);let n=new ae;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=A.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),s=this.children[n.i];t(e.line,s);for(let i=e.marks.length-1;i>=-1;i--)n=s.childPos(n.off,1),s=s.children[n.i],t(i>=0?e.marks[i].node:e.text,s)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,s=n==this.dom,i=!s&&p(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(s||t||i))return;let r=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(o.anchor)),l=o.empty?a:this.moveToLine(this.domAtPos(o.head));if(G.gecko&&o.empty&&!this.hasComposition&&(1==(c=a).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(e,a.node.childNodes[a.offset]||null))),a=l=new D(e,0),r=!0}var c;let u=this.view.observer.selectionRange;!r&&u.focusNode&&(g(a.node,a.offset,u.anchorNode,u.anchorOffset)&&g(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,o))||(this.view.observer.ignore((()=>{G.android&&G.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=h(this.view.root);if(e)if(o.empty){if(G.gecko){let e=(t=a.node,s=a.offset,1!=t.nodeType?0:(s&&"false"==t.childNodes[s-1].contentEditable?1:0)|(s<t.childNodes.length&&"false"==t.childNodes[s].contentEditable?2:0));if(e&&3!=e){let t=vt(a.node,a.offset,1==e?1:-1);t&&(a=new D(t.node,t.offset))}}e.collapse(a.node,a.offset),null!=o.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=o.bidiLevel)}else if(e.extend){e.collapse(a.node,a.offset);try{e.extend(l.node,l.offset)}catch(r){}}else{let t=document.createRange();o.anchor>o.head&&([a,l]=[l,a]),t.setEnd(l.node,l.offset),t.setStart(a.node,a.offset),e.removeAllRanges(),e.addRange(t)}else;var t,s;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(a,l)),this.impreciseAnchor=a.precise?null:new D(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new D(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&g(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=h(e.root),{anchorNode:s,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let r=ae.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(s,i)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let s=e.offset;!t&&s<n.childNodes.length;s++){let e=A.get(n.childNodes[s]);e instanceof ae&&(t=e.domAtPos(0))}for(let s=e.offset-1;!t&&s>=0;s--){let e=A.get(n.childNodes[s]);e instanceof ae&&(t=e.domAtPos(e.length))}return t?new D(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=A.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof ae)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,s=0;for(let i=this.length,r=this.children.length-1;r>=0;r--){let o=this.children[r],a=i-o.breakAfter,l=a-o.length;if(a<e)break;l<=e&&(l<e||o.covers(-1))&&(a>e||o.covers(1))&&(!n||o instanceof ae&&!(n instanceof ae&&t>=0))&&(n=o,s=l),i=l}return n?n.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof ae))return null;for(;i.children.length;){let{i:e,off:t}=i.childPos(n,1);for(;;e++){if(e==i.children.length)return null;if((i=i.children[e]).length)break}n=t}if(!(i instanceof J))return null;let r=(0,s.findClusterBreak)(i.text,n);if(r==n)return null;let o=E(i.dom,n,r).getClientRects();for(let s=0;s<o.length;s++){let e=o[s];if(s==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:s}=e,i=this.view.contentDOM.clientWidth,r=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==ye.LTR;for(let l=0,c=0;c<this.children.length;c++){let e=this.children[c],u=l+e.length;if(u>s)break;if(l>=n){let n=e.dom.getBoundingClientRect();if(t.push(n.height),r){let t=e.dom.lastChild,s=t?f(t):[];if(s.length){let e=s[s.length-1],t=a?e.right-n.left:n.right-e.left;t>o&&(o=t,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=u)}}}l=u+e.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?ye.RTL:ye.LTR}measureTextSize(){for(let i of this.children)if(i instanceof ae){let e=i.measureTextSize();if(e)return e}let e,t,n,s=document.createElement("div");return s.className="cm-line",s.style.width="99999px",s.style.position="absolute",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(s);let i=f(s.firstChild)[0];e=s.getBoundingClientRect().height,t=i?i.width/27:7,n=i?i.height:e,s.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new j(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,s=0;;s++){let i=s==t.viewports.length?null:t.viewports[s],r=i?i.from-1:this.length;if(r>n){let s=(t.lineBlockAt(r).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(he.replace({widget:new mt(s),block:!0,inclusive:!0,isBlockGap:!0}).range(n,r))}if(!i)break;n=i.to+1}return he.set(e)}updateDeco(){let e=this.view.state.facet(rt).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e)),t=!1,n=this.view.state.facet(ot).map(((e,n)=>{let s="function"==typeof e;return s&&(t=!0),s?e(this.view):e}));n.length&&(this.dynamicDecorationMap[e.length]=t,e.push(s.RangeSet.join(n)));for(let s=e.length;s<e.length+3;s++)this.dynamicDecorationMap[s]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}let t,{range:n}=e,s=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!s)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(s={left:Math.min(s.left,t.left),top:Math.min(s.top,t.top),right:Math.max(s.right,t.right),bottom:Math.max(s.bottom,t.bottom)});let i=ht(this.view),r={left:s.left-i.left,top:s.top-i.top,right:s.right+i.right,bottom:s.bottom+i.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,s,i,r,o,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,h=!1;u&&!h;)if(1==u.nodeType){let e,d=u==l.body,p=1,f=1;if(d)e=y(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:p,scaleY:f}=w(u,t)),e={left:t.left,right:t.left+u.clientWidth*p,top:t.top,bottom:t.top+u.clientHeight*f}}let g=0,m=0;if("nearest"==i)t.top<e.top?(m=-(e.top-t.top+o),n>0&&t.bottom>e.bottom+m&&(m=t.bottom-e.bottom+m+o)):t.bottom>e.bottom&&(m=t.bottom-e.bottom+o,n<0&&t.top-m<e.top&&(m=-(e.top+m-t.top+o)));else{let s=t.bottom-t.top,r=e.bottom-e.top;m=("center"==i&&s<=r?t.top+s/2-r/2:"start"==i||"center"==i&&n<0?t.top-o:t.bottom-r+o)-e.top}if("nearest"==s?t.left<e.left?(g=-(e.left-t.left+r),n>0&&t.right>e.right+g&&(g=t.right-e.right+g+r)):t.right>e.right&&(g=t.right-e.right+r,n<0&&t.left<e.left+g&&(g=-(e.left+g-t.left+r))):g=("center"==s?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==s==a?t.left-r:t.right-(e.right-e.left)+r)-e.left,g||m)if(d)c.scrollBy(g,m);else{let e=0,n=0;if(m){let e=u.scrollTop;u.scrollTop+=m/f,n=(u.scrollTop-e)*f}if(g){let t=u.scrollLeft;u.scrollLeft+=g/p,e=(u.scrollLeft-t)*p}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-g)<1&&(s="nearest"),n&&Math.abs(n-m)<1&&(i="nearest")}if(d)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,r,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==ye.LTR)}}class mt extends ce{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function _t(e,t){let n=e.observer.selectionRange,s=n.focusNode&&vt(n.focusNode,n.focusOffset,0);if(!s)return null;let i=t-s.offset;return{from:i,to:i+s.node.nodeValue.length,node:s.node}}function vt(e,t,n){if(n<=0)for(let s=e,i=t;;){if(3==s.nodeType)return{node:s,offset:i};if(!(1==s.nodeType&&i>0))break;s=s.childNodes[i-1],i=v(s)}if(n>=0)for(let s=e,i=t;;){if(3==s.nodeType)return{node:s,offset:i};if(!(1==s.nodeType&&i<s.childNodes.length&&n>=0))break;s=s.childNodes[i],i=0}return null}let bt=class{constructor(){this.changes=[]}compareRange(e,t){me(e,t,this.changes)}comparePoint(e,t){me(e,t,this.changes)}};function yt(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function wt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function xt(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function St(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ct(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function kt(e,t,n){let s,i,r,o,a,l,c,u,h=!1;for(let p=e.firstChild;p;p=p.nextSibling){let e=f(p);for(let d=0;d<e.length;d++){let f=e[d];i&&xt(i,f)&&(f=St(Ct(f,i.bottom),i.top));let g=yt(t,f),m=wt(n,f);if(0==g&&0==m)return 3==p.nodeType?Et(p,t,n):kt(p,t,n);if(!s||o>m||o==m&&r>g){s=p,i=f,r=g,o=m;let a=m?n<f.top?-1:1:g?t<f.left?-1:1:0;h=!a||(a>0?d<e.length-1:d>0)}0==g?n>f.bottom&&(!c||c.bottom<f.bottom)?(a=p,c=f):n<f.top&&(!u||u.top>f.top)&&(l=p,u=f):c&&xt(c,f)?c=Ct(c,f.bottom):u&&xt(u,f)&&(u=St(u,f.top))}}if(c&&c.bottom>=n?(s=a,i=c):u&&u.top<=n&&(s=l,i=u),!s)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));return 3==s.nodeType?Et(s,d,n):h&&"false"!=s.contentEditable?kt(s,d,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,s)+(t>=(i.left+i.right)/2?1:0)}}function Et(e,t,n){let s=e.nodeValue.length,i=-1,r=1e9,o=0;for(let a=0;a<s;a++){let s=E(e,a,a+1).getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(c.top==c.bottom)continue;o||(o=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<r){let n=t>=(c.left+c.right)/2,s=n;if(G.chrome||G.gecko){E(e,a).getBoundingClientRect().left==c.right&&(s=!n)}if(u<=0)return{node:e,offset:a+(s?1:0)};i=a+(s?1:0),r=u}}}return{node:e,offset:i>-1?i:o>0?e.nodeValue.length:0}}function Ot(e,t,n,s=-1){var i,r;let o,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:h}=t,d=h-l;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let y=e.viewState.heightOracle.textHeight/2,w=!1;o=e.elementAtHeight(d),o.type!=ue.Text;)for(;d=s>0?o.bottom+y:o.top-y,!(d>=0&&d<=c);){if(w)return n?null:0;w=!0,s=-s}h=l+d;let p=o.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:Mt(e,a,o,u,h);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Mt(e,a,o,u,h);let f=e.dom.ownerDocument,g=e.root.elementFromPoint?e.root:f,m=g.elementFromPoint(u,h);m&&!e.contentDOM.contains(m)&&(m=null),m||(u=Math.max(a.left+1,Math.min(a.right-1,u)),m=g.elementFromPoint(u,h),m&&!e.contentDOM.contains(m)&&(m=null));let _,v=-1;if(m&&0!=(null===(i=e.docView.nearest(m))||void 0===i?void 0:i.isEditable))if(f.caretPositionFromPoint){let e=f.caretPositionFromPoint(u,h);e&&({offsetNode:_,offset:v}=e)}else if(f.caretRangeFromPoint){let t=f.caretRangeFromPoint(u,h);t&&(({startContainer:_,startOffset:v}=t),(!e.contentDOM.contains(_)||G.safari&&function(e,t,n){let s;if(3!=e.nodeType||t!=(s=e.nodeValue.length))return!1;for(let i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return E(e,s-1,s).getBoundingClientRect().left>n}(_,v,u)||G.chrome&&function(e,t,n){if(0!=t)return!1;for(let i=e;;){let e=i.parentNode;if(!e||1!=e.nodeType||e.firstChild!=i)return!1;if(e.classList.contains("cm-line"))break;i=e}let s=1==e.nodeType?e.getBoundingClientRect():E(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-s.left>5}(_,v,u))&&(_=void 0))}if(!_||!e.docView.dom.contains(_)){let t=ae.find(e.docView,p);if(!t)return d>o.top+o.height/2?o.to:o.from;({node:_,offset:v}=kt(t.dom,u,h))}let b=e.docView.nearest(_);if(!b)return null;if(b.isWidget&&1==(null===(r=b.dom)||void 0===r?void 0:r.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(_,v)+b.posAtStart}function Mt(e,t,n,i,r){let o=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((r-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+(0,s.findColumn)(a,o,e.state.tabSize)}function Tt(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let s of n.type)if(s.to>t||s.to==t&&(s.to==n.to||s.type==ue.Text))return s;return n}function Dt(e,t,n,s){let i=e.state.doc.lineAt(t.head),r=e.bidiSpans(i),o=e.textDirectionAt(i.from);for(let a=t,l=null;;){let t=Be(i,r,o,a,n),c=Le;if(!t){if(i.number==(n?e.state.doc.lines:1))return a;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),r=e.bidiSpans(i),t=e.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!s)return t;l=s(c)}a=t}}function Pt(e,t,n){for(;;){let s=0;for(let i of e)i.between(t-1,t+1,((e,i,r)=>{if(t>e&&t<i){let r=s||n||(t-e<i-t?-1:1);t=r<0?e:i,s=r}}));if(!s)return t}}function At(e,t,n){let i=Pt(e.state.facet(at).map((t=>t(e))),n.from,t.head>n.from?-1:1);return i==n.from?n:s.EditorSelection.cursor(i,i<n.from?1:-1)}class Rt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,G.safari&&e.contentDOM.addEventListener("input",(()=>null)),G.gecko&&function(e){an.has(e)||(an.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,s=t.target;s!=e.contentDOM;s=s.parentNode)if(!s||11==s.nodeType||(n=A.get(s))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=It(e),n=this.handlers,s=this.view.contentDOM;for(let i in t)if("scroll"!=i){let e=!t[i].handlers.length,r=n[i];r&&e!=!r.handlers.length&&(s.removeEventListener(i,this.handleEvent),r=null),r||s.addEventListener(i,this.handleEvent,{passive:e})}for(let i in n)"scroll"==i||t[i]||s.removeEventListener(i,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&Bt.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),G.android&&G.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!G.ios||e.synthetic||e.altKey||e.metaKey||!((t=Nt.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Lt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,O(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(G.safari&&!G.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function jt(e,t){return(n,s)=>{try{return t.call(e,s,n)}catch(i){Xe(n.state,i)}}}function It(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let s of e){let e=s.spec;if(e&&e.domEventHandlers)for(let t in e.domEventHandlers){let i=e.domEventHandlers[t];i&&n(t).handlers.push(jt(s.value,i))}if(e&&e.domEventObservers)for(let t in e.domEventObservers){let i=e.domEventObservers[t];i&&n(t).observers.push(jt(s.value,i))}}for(let s in Ut)n(s).handlers.push(Ut[s]);for(let s in zt)n(s).observers.push(zt[s]);return t}const Nt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Lt="dthko",Bt=[16,17,18,20,91,92,224,225];function $t(e){return.7*Math.max(0,e)+8}class Ft{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(e.contentDOM),this.atoms=e.state.facet(at).map((t=>t(e)));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(s.EditorState.allowMultipleSelections)&&function(e,t){let n=e.state.facet(Fe);return n.length?n[0](t):G.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let s=h(e.root);if(!s||0==s.rangeCount)return!0;let i=s.getRangeAt(0).getClientRects();for(let r=0;r<i.length;r++){let e=i[r];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=en(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t,n,s;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(n=this.startEvent,s=e,Math.max(Math.abs(n.clientX-s.clientX),Math.abs(n.clientY-s.clientY))<10))return;this.select(this.lastEvent=e);let i=0,r=0,o=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=ht(this.view);e.clientX-a.left<=o.left+6?i=-$t(o.left-e.clientX):e.clientX+a.right>=o.right-6&&(i=$t(e.clientX-o.right)),e.clientY-a.top<=o.top+6?r=-$t(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-6&&(r=$t(e.clientY-o.bottom)),this.setScrollSpeed(i,r)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],r=null;if(i.empty){let e=Pt(this.atoms,i.from,0);e!=i.from&&(r=s.EditorSelection.cursor(e,-1))}else{let e=Pt(this.atoms,i.from,-1),t=Pt(this.atoms,i.to,1);e==i.from&&t==i.to||(r=s.EditorSelection.range(i.from==i.anchor?e:t,i.from==i.head?e:t))}r&&(t||(t=e.ranges.slice()),t[n]=r)}return t?s.EditorSelection.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Ut=Object.create(null),zt=Object.create(null),Vt=G.ie&&G.ie_version<15||G.ios&&G.webkit_version<604;function qt(e,t){let n,{state:i}=e,r=1,o=i.toText(t),a=o.lines==i.selection.ranges.length;if(null!=nn&&i.selection.ranges.every((e=>e.empty))&&nn==o.toString()){let e=-1;n=i.changeByRange((n=>{let l=i.doc.lineAt(n.from);if(l.from==e)return{range:n};e=l.from;let c=i.toText((a?o.line(r++).text:t)+i.lineBreak);return{changes:{from:l.from,insert:c},range:s.EditorSelection.cursor(n.from+c.length)}}))}else n=a?i.changeByRange((e=>{let t=o.line(r++);return{changes:{from:e.from,to:e.to,insert:t.text},range:s.EditorSelection.cursor(e.from+t.length)}})):i.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Ht(e,t,n,i){if(1==i)return s.EditorSelection.cursor(t,n);if(2==i)return function(e,t,n=1){let i=e.charCategorizer(t),r=e.doc.lineAt(t),o=t-r.from;if(0==r.length)return s.EditorSelection.cursor(t);0==o?n=1:o==r.length&&(n=-1);let a=o,l=o;n<0?a=(0,s.findClusterBreak)(r.text,o,!1):l=(0,s.findClusterBreak)(r.text,o);let c=i(r.text.slice(a,l));for(;a>0;){let e=(0,s.findClusterBreak)(r.text,a,!1);if(i(r.text.slice(e,a))!=c)break;a=e}for(;l<r.length;){let e=(0,s.findClusterBreak)(r.text,l);if(i(r.text.slice(l,e))!=c)break;l=e}return s.EditorSelection.range(a+r.from,l+r.from)}(e.state,t,n);{let n=ae.find(e.docView,t),i=e.state.doc.lineAt(n?n.posAtEnd:t),r=n?n.posAtStart:i.from,o=n?n.posAtEnd:i.to;return o<e.state.doc.length&&o==i.to&&o++,s.EditorSelection.range(r,o)}}zt.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},Ut.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),zt.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},zt.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Ut.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let s of e.state.facet(ze))if(n=s(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=Jt(e,t),i=en(t),r=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),r=r.map(e.changes))},get(t,o,a){let l,c=Jt(e,t),u=Ht(e,c.pos,c.bias,i);if(n.pos!=c.pos&&!o){let t=Ht(e,n.pos,n.bias,i),r=Math.min(t.from,u.from),o=Math.max(t.to,u.to);u=r<u.from?s.EditorSelection.range(r,o):s.EditorSelection.range(o,r)}return o?r.replaceRange(r.main.extend(u.from,u.to)):a&&1==i&&r.ranges.length>1&&(l=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:i,to:r}=e.ranges[n];if(i<=t&&r>=t)return s.EditorSelection.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(r,c.pos))?l:a?r.addRange(u):s.EditorSelection.create([u])}}}(e,t)),n){let s=!e.hasFocus;e.inputState.startMouseSelection(new Ft(e,t,n,s)),s&&e.observer.ignore((()=>k(e.contentDOM)));let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}return!1};let Wt=(e,t)=>e>=t.top&&e<=t.bottom,Kt=(e,t,n)=>Wt(t,n)&&e>=n.left&&e<=n.right;function Gt(e,t,n,s){let i=ae.find(e.docView,t);if(!i)return 1;let r=t-i.posAtStart;if(0==r)return 1;if(r==i.length)return-1;let o=i.coordsAt(r,-1);if(o&&Kt(n,s,o))return-1;let a=i.coordsAt(r,1);return a&&Kt(n,s,a)?1:o&&Wt(s,o)?-1:1}function Jt(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Gt(e,n,t.clientX,t.clientY)}}const Yt=G.ie&&G.ie_version<=11;let Xt=null,Zt=0,Qt=0;function en(e){if(!Yt)return e.detail;let t=Xt,n=Qt;return Xt=e,Qt=Date.now(),Zt=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Zt+1)%3:1}function tn(e,t,n,s){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:r}=e.inputState,o=s&&r&&function(e,t){let n=e.state.facet(Ue);return n.length?n[0](t):G.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:r.from,to:r.to}:null,a={from:i,insert:n},l=e.state.changes(o?[o,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}Ut.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.nearest(t.target);if(i&&i.isWidget){let e=i.posAtStart,t=e+i.length;(e>=n.to||t<=n.from)&&(n=s.EditorSelection.range(e,t))}}let{inputState:i}=e;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},Ut.dragend=e=>(e.inputState.draggedContent=null,!1),Ut.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let s=Array(n.length),i=0,r=()=>{++i==n.length&&tn(e,t,s.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=r,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(s[e]=t.result),r()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return tn(e,t,n,!0),!0}return!1},Ut.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=Vt?null:t.clipboardData;return n?(qt(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),qt(e,n.value)}),50)}(e),!1)};let nn=null;Ut.copy=Ut.cut=(e,t)=>{let{text:n,ranges:s,linewise:i}=function(e){let t=[],n=[],s=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let i=-1;for(let{from:s}of e.selection.ranges){let r=e.doc.lineAt(s);r.number>i&&(t.push(r.text),n.push({from:r.from,to:Math.min(e.doc.length,r.to+1)})),i=r.number}s=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:s}}(e.state);if(!n&&!i)return!1;nn=i?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let r=Vt?null:t.clipboardData;return r?(r.clearData(),r.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let s=n.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=t,s.focus(),s.selectionEnd=t.length,s.selectionStart=0,setTimeout((()=>{s.remove(),e.focus()}),50)}(e,n),!1)};const sn=s.Annotation.define();function rn(e,t){let n=[];for(let s of e.facet(We)){let i=s(e,t);i&&n.push(i)}return n?e.update({effects:n,annotations:sn.of(!0)}):null}function on(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=rn(e.state,t);n?e.dispatch(n):e.update([])}}),10)}zt.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),on(e)},zt.blur=e=>{e.observer.clearSelectionRange(),on(e)},zt.compositionstart=zt.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},zt.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,G.chrome&&G.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},zt.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Ut.beforeinput=(e,t)=>{var n;let s;if(G.chrome&&G.android&&(s=Nt.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(s.key,s.keyCode),"Backspace"==s.key||"Delete"==s.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const an=new Set;const ln=["pre-wrap","normal","pre-line","break-spaces"];class cn{constructor(e){this.lineWrapping=e,this.doc=s.Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ln.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(10*s)]||(t=!0,this.heightSamples[Math.floor(10*s)]=!0)}return t}refresh(e,t,n,s,i,r){let o=ln.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.textHeight=s,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<r.length;e++){let t=r[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class un{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class hn{constructor(e,t,n,s,i){this.from=e,this.length=t,this.top=n,this.height=s,this._content=i}get type(){return"number"==typeof this._content?ue.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof fe?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new hn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var dn=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(dn||(dn={}));const pn=.001;class fn{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>pn&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return fn.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,s){let i=this,r=n.doc;for(let o=s.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:c,toB:u}=s[o],h=i.lineAt(a,dn.ByPosNoHeight,n.setDoc(t),0,0),d=h.to>=l?h:i.lineAt(l,dn.ByPosNoHeight,n,0,0);for(u+=d.to-l,l=d.to;o>0&&h.from<=s[o-1].toA;)a=s[o-1].fromA,c=s[o-1].fromB,o--,a<h.from&&(h=i.lineAt(a,dn.ByPosNoHeight,n,0,0));c+=h.from-a,a=h.from;let p=yn.build(n.setDoc(r),e,c,u);i=i.replace(a,l,p)}return i.updateHeight(n,0)}static empty(){return new mn(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,s=0,i=0;for(;;)if(t==n)if(s>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,s-=i.size}else{if(!(i>2*s))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(s<i){let n=e[t++];n&&(s+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let r=0;return null==e[t-1]?(r=1,t--):null==e[t]&&(r=1,n++),new vn(fn.of(e.slice(0,t)),r,fn.of(e.slice(n)))}}fn.prototype.size=1;class gn extends fn{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,s){return new hn(s,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,s,i){return this.blockAt(0,n,s,i)}forEachLine(e,t,n,s,i,r){e<=i+this.length&&t>=i&&r(this.blockAt(0,n,s,i))}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class mn extends gn{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,s){return new hn(s,this.length,n,this.height,this.breaks)}replace(e,t,n){let s=n[0];return 1==n.length&&(s instanceof mn||s instanceof _n&&4&s.flags)&&Math.abs(this.length-s.length)<10?(s instanceof _n?s=new mn(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):fn.of(n)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class _n extends fn{constructor(e){super(e,0)}heightMetrics(e,t){let n,s=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,r=i-s+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*r);n=t/r,this.length>r+1&&(o=(this.height-t)/(this.length-r-1))}else n=this.height/r;return{firstLine:s,lastLine:i,perLine:n,perChar:o}}blockAt(e,t,n,s){let{firstLine:i,lastLine:r,perLine:o,perChar:a}=this.heightMetrics(t,s);if(t.lineWrapping){let i=s+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),r=t.doc.lineAt(i),l=o+r.length*a,c=Math.max(n,e-l/2);return new hn(r.from,r.length,c,l,0)}{let s=Math.max(0,Math.min(r-i,Math.floor((e-n)/o))),{from:a,length:l}=t.doc.line(i+s);return new hn(a,l,n+o*s,o,0)}}lineAt(e,t,n,s,i){if(t==dn.ByHeight)return this.blockAt(e,n,s,i);if(t==dn.ByPosNoHeight){let{from:t,to:s}=n.doc.lineAt(e);return new hn(t,s-t,0,0,0)}let{firstLine:r,perLine:o,perChar:a}=this.heightMetrics(n,i),l=n.doc.lineAt(e),c=o+l.length*a,u=l.number-r,h=s+o*u+a*(l.from-i-u);return new hn(l.from,l.length,Math.max(s,Math.min(h,s+this.height-c)),c,0)}forEachLine(e,t,n,s,i,r){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);for(let c=e,u=s;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-o;u+=a*n+l*(e-i-n)}let s=a+l*t.length;r(new hn(t.from,t.length,u,s,0)),u+=s,c=t.to+1}}replace(e,t,n){let s=this.length-t;if(s>0){let e=n[n.length-1];e instanceof _n?n[n.length-1]=new _n(e.length+s):n.push(null,new _n(s-1))}if(e>0){let t=n[0];t instanceof _n?n[0]=new _n(e+t.length):n.unshift(new _n(e-1),null)}return fn.of(n)}decomposeLeft(e,t){t.push(new _n(e-1),null)}decomposeRight(e,t){t.push(null,new _n(this.length-e-1))}updateHeight(e,t=0,n=!1,s){let i=t+this.length;if(s&&s.from<=t+this.length&&s.more){let n=[],r=Math.max(t,s.from),o=-1;for(s.from>t&&n.push(new _n(s.from-t-1).updateHeight(e,t));r<=i&&s.more;){let t=e.doc.lineAt(r).length;n.length&&n.push(null);let i=s.heights[s.index++];-1==o?o=i:Math.abs(i-o)>=pn&&(o=-2);let a=new mn(t,i);a.outdated=!1,n.push(a),r+=t+1}r<=i&&n.push(null,new _n(i-r).updateHeight(e,r));let a=fn.of(n);return(o<0||Math.abs(a.height-this.height)>=pn||Math.abs(o-this.heightMetrics(e,t).perLine)>=pn)&&(e.heightChanged=!0),a}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class vn extends fn{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,s){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,s):this.right.blockAt(e,t,i,s+this.left.length+this.break)}lineAt(e,t,n,s,i){let r=s+this.left.height,o=i+this.left.length+this.break,a=t==dn.ByHeight?e<r:e<o,l=a?this.left.lineAt(e,t,n,s,i):this.right.lineAt(e,t,n,r,o);if(this.break||(a?l.to<o:l.from>o))return l;let c=t==dn.ByPosNoHeight?dn.ByPosNoHeight:dn.ByPos;return a?l.join(this.right.lineAt(o,c,n,r,o)):this.left.lineAt(o,c,n,s,i).join(l)}forEachLine(e,t,n,s,i,r){let o=s+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,s,i,r),t>=a&&this.right.forEachLine(e,t,n,o,a,r);else{let l=this.lineAt(a,dn.ByPos,n,s,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,s,i,r),l.to>=e&&l.from<=t&&r(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,o,a,r)}}replace(e,t,n){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,n));let i=[];e>0&&this.decomposeLeft(e,i);let r=i.length;for(let o of n)i.push(o);if(e>0&&bn(i,r-1),t<this.length){let e=i.length;this.decomposeRight(t,i),bn(i,e)}return fn.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?fn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,s){let{left:i,right:r}=this,o=t+i.length+this.break,a=null;return s&&s.from<=t+i.length&&s.more?a=i=i.updateHeight(e,t,n,s):i.updateHeight(e,t,n),s&&s.from<=o+r.length&&s.more?a=r=r.updateHeight(e,o,n,s):r.updateHeight(e,o,n),a?this.balanced(i,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bn(e,t){let n,s;null==e[t]&&(n=e[t-1])instanceof _n&&(s=e[t+1])instanceof _n&&e.splice(t-1,3,new _n(n.length+1+s.length))}class yn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof mn?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new mn(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let r=t-e;n.block?this.addBlock(new gn(r,s,n)):(r||i||s>=5)&&this.addLineDeco(s,i,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new mn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new _n(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof mn)return e;let t=new mn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof mn||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new mn(0,-1));let n=e;for(let s of this.nodes)s instanceof mn&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,t,n,i){let r=new yn(n,e);return s.RangeSet.spans(t,n,i,r,0),r.finish(n)}}class wn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,s){(e<t||n&&n.heightRelevant||s&&s.heightRelevant)&&me(e,t,this.changes,5)}}function xn(e,t){let n=e.getBoundingClientRect(),s=e.ownerDocument,i=s.defaultView||window,r=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=e.parentNode;c&&c!=s.body;)if(1==c.nodeType){let t=c,n=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=n.overflow){let n=t.getBoundingClientRect();r=Math.max(r,n.left),o=Math.min(o,n.right),a=Math.max(a,n.top),l=c==e.parentNode?n.bottom:Math.min(l,n.bottom)}c="absolute"==n.position||"fixed"==n.position?t.offsetParent:t.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:r-n.left,right:Math.max(r,o)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function Sn(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class Cn{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],i=t[n];if(s.from!=i.from||s.to!=i.to||s.size!=i.size)return!1}return!0}draw(e,t){return he.replace({widget:new kn(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class kn extends ce{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class En{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Pn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ye.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(it).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new cn(t),this.stateDeco=e.facet(rt).filter((e=>"function"!=typeof e)),this.heightMap=fn.empty().applyChanges(this.stateDeco,s.Text.empty,this.heightOracle.setDoc(e.doc),[new pt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let s=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>s>=e&&s<=t))){let{from:t,to:n}=this.lineBlockAt(s);e.push(new On(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?Pn:new An(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Rn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(rt).filter((e=>"function"!=typeof e));let i=e.changedRanges,r=pt.extendWithRanges(i,function(e,t,n){let i=new wn;return s.RangeSet.compare(e,t,n,i,0),i.changes}(n,this.stateDeco,e?e.changes:s.ChangeSet.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||2&e.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ge)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?ye.RTL:ye.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:e,scaleY:n}=w(t,a);this.scaleX==e&&this.scaleY==n||(this.scaleX=e,this.scaleY=n,c|=8,o=l=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==d||(this.paddingTop=h,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=T(e.scrollDOM);let f=(this.printing?Sn:xn)(t,this.paddingTop),g=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=a.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let t=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(t)&&(o=!0),o||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:s,textHeight:a}=e.docView.measureTextSize();o=n>0&&i.refresh(r,n,s,a,v/s,t),o&&(e.docView.minWidth=0,c|=8)}g>0&&m>0?u=Math.max(g,m):g<0&&m<0&&(u=Math.min(g,m)),i.heightChanged=!1;for(let n of this.viewports){let r=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(o?fn.empty().applyChanges(this.stateDeco,s.Text.empty,this.heightOracle,[new pt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new un(n.from,r))}i.heightChanged&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&c||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,i=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,a=new On(s.lineAt(r-1e3*n,dn.ByHeight,i,0,0).from,s.lineAt(o+1e3*(1-n),dn.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=s.lineAt(e,dn.ByPos,i,0,0);n="center"==t.y?(o.top+o.bottom)/2-r/2:"start"==t.y||"nearest"==t.y&&e<a.from?o.top:o.bottom-r,a=new On(s.lineAt(n-500,dn.ByHeight,i,0,0).from,s.lineAt(n+r+500,dn.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new On(this.heightMap.lineAt(n,dn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,dn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,dn.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,dn.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(0==e||s<=r-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&s>r-2e3&&i<o+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let s of e)t.touchesRange(s.from,s.to)||n.push(new Cn(t.mapPos(s.from),t.mapPos(s.to),s.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,r=i>>1,o=i<<1;if(this.defaultTextDirection!=ye.LTR&&!n)return[];let a=[],l=(i,o,c,u)=>{if(o-i<r)return;let h=this.state.selection.main,d=[h.from];h.empty||d.push(h.to);for(let e of d)if(e>i&&e<o)return l(i,e-10,c,u),void l(e+10,o,c,u);let p=function(e,t){for(let n of e)if(t(n))return n;return}(e,(e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-i)<r&&Math.abs(e.to-o)<r&&!d.some((t=>e.from<t&&e.to>t))));if(!p){if(o<c.to&&t&&n&&t.visibleRanges.some((e=>e.from<=o&&e.to>=o))){let e=t.moveToLineBoundary(s.EditorSelection.cursor(o),!1,!0).head;e>i&&(o=e)}p=new Cn(i,o,this.gapSize(c,i,o,u))}a.push(p)};for(let s of this.viewportLines){if(s.length<o)continue;let e=Mn(s.from,s.to,this.stateDeco);if(e.total<o)continue;let t,r,a=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,o,l=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let t=Dn(e,a),i=((this.visibleBottom-this.visibleTop)/2+l)/s.height;n=t-i,o=t+i}else n=(this.visibleTop-s.top-l)/s.height,o=(this.visibleBottom-s.top+l)/s.height;t=Tn(e,n),r=Tn(e,o)}else{let n,s,o=e.total*this.heightOracle.charWidth,l=i*this.heightOracle.charWidth;if(null!=a){let t=Dn(e,a),i=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/o;n=t-i,s=t+i}else n=(this.pixelViewport.left-l)/o,s=(this.pixelViewport.right+l)/o;t=Tn(e,n),r=Tn(e,s)}t>s.from&&l(s.from,t,s,e),r<s.to&&l(r,s.to,s,e)}return a}gapSize(e,t,n,s){let i=Dn(s,n)-Dn(s,t);return this.heightOracle.lineWrapping?e.height*i:s.total*this.heightOracle.charWidth*i}updateLineGaps(e){Cn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];s.RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Rn(this.heightMap.lineAt(e,dn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Rn(this.heightMap.lineAt(this.scaler.fromDOM(e),dn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Rn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class On{constructor(e,t){this.from=e,this.to=t}}function Mn(e,t,n){let i=[],r=e,o=0;return s.RangeSet.spans(n,e,t,{span(){},point(e,t){e>r&&(i.push({from:r,to:e}),o+=e-r),r=t}},20),r<t&&(i.push({from:r,to:t}),o+=t-r),{total:o,ranges:i}}function Tn({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let s=Math.floor(e*n);for(let i=0;;i++){let{from:e,to:n}=t[i],r=n-e;if(s<=r)return e+s;s-=r}}function Dn(e,t){let n=0;for(let{from:s,to:i}of e.ranges){if(t<=i){n+=t-s;break}n+=i-s}return n/e.total}const Pn={toDOM:e=>e,fromDOM:e=>e,scale:1};class An{constructor(e,t,n){let s=0,i=0,r=0;this.viewports=n.map((({from:n,to:i})=>{let r=t.lineAt(n,dn.ByPos,e,0,0).top,o=t.lineAt(i,dn.ByPos,e,0,0).bottom;return s+=o-r,{from:n,to:i,top:r,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=r+(o.top-i)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let t=0,n=0,s=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return s+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,s=i.domBottom}}fromDOM(e){for(let t=0,n=0,s=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-s)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,s=i.domBottom}}}function Rn(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),s=t.toDOM(e.bottom);return new hn(e.from,e.length,n,s-n,Array.isArray(e._content)?e._content.map((e=>Rn(e,t))):e._content)}const jn=s.Facet.define({combine:e=>e.join(" ")}),In=s.Facet.define({combine:e=>e.indexOf(!0)>-1}),Nn=i.StyleModule.newName(),Ln=i.StyleModule.newName(),Bn=i.StyleModule.newName(),$n={"&light":"."+Ln,"&dark":"."+Bn};function Fn(e,t,n){return new i.StyleModule(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const Un=Fn("."+Nn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},$n),zn="\uffff";class Vn{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(s.EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=zn}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let e=this.text.length;this.readNode(s);let i=s.nextSibling;if(i==t)break;let r=A.get(s),o=A.get(i);(r&&o?r.breakAfter:(r?r.breakAfter:Hn(s))||Hn(i)&&("BR"!=s.nodeName||s.cmIgnore)&&this.text.length>e)&&this.lineBreak(),s=i}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let i,r=-1,o=1;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=s.exec(t))&&(r=i.index,o=i[0].length),this.append(t.slice(n,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);n=r+o}}readNode(e){if(e.cmIgnore)return;let t=A.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(qn(e,n.node,n.offset)?t:0))}}function qn(e,t,n){for(;;){if(!t||n<v(t))return!1;if(t==e)return!0;n=m(t)+1,t=t.parentNode}}function Hn(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Wn{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Kn{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=r||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:r}=e.observer.selectionRange;n&&(t.push(new Wn(n,s)),i==n&&r==s||t.push(new Wn(i,r)));return t}(e),n=new Vn(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,i=2==e.length?e[1].pos:n;return n>-1&&i>-1?s.EditorSelection.single(n+t,i+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=r&&r.node==t.focusNode&&r.offset==t.focusOffset||!d(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),i=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!d(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),a=e.viewport;if(G.ios&&e.state.selection.main.empty&&n!=i&&(a.from>0||a.to<e.state.doc.length)){let t=a.from-Math.min(n,i),s=a.to-Math.max(n,i);0!=t&&1!=t||0!=s&&-1!=s||(n=0,i=e.state.doc.length)}this.newSel=s.EditorSelection.single(i,n)}}}function Gn(e,t){let n,{newSel:i}=t,r=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:i,to:a}=t.bounds,l=r.from,c=null;(8===o||G.android&&t.text.length<a-i)&&(l=r.to,c="end");let u=function(e,t,n,s){let i=Math.min(e.length,t.length),r=0;for(;r<i&&e.charCodeAt(r)==t.charCodeAt(r);)r++;if(r==i&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;if("end"==s){n-=o+Math.max(0,r-Math.min(o,a))-r}if(o<r&&e.length<t.length){r-=n<=r&&n>=o?r-n:0,a=r+(a-o),o=r}else if(a<r){r-=n<=r&&n>=a?r-n:0,o=r+(o-a),a=r}return{from:r,toA:o,toB:a}}(e.state.doc.sliceString(i,a,zn),t.text,l-i,c);u&&(G.chrome&&13==o&&u.toB==u.from+2&&t.text.slice(u.from,u.toB)==zn+zn&&u.toB--,n={from:i+u.from,to:i+u.toA,insert:s.Text.of(t.text.slice(u.from,u.toB).split(zn))})}else i&&(!e.hasFocus&&e.state.facet(Ze)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&t.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:e.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:e.state.doc.slice(r.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,r.to))}:(G.mac||G.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(i&&2==n.insert.length&&(i=s.EditorSelection.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:s.Text.of([" "])}):G.chrome&&n&&n.from==n.to&&n.from==r.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(i&&(i=s.EditorSelection.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:s.Text.of([" "])}),n){if(G.ios&&e.inputState.flushIOSKey())return!0;if(G.android&&(n.from==r.from&&n.to==r.to&&1==n.insert.length&&2==n.insert.lines&&O(e.contentDOM,"Enter",13)||(n.from==r.from-1&&n.to==r.to&&0==n.insert.length||8==o&&n.insert.length<n.to-n.from&&n.to>r.head)&&O(e.contentDOM,"Backspace",8)||n.from==r.from&&n.to==r.to+1&&0==n.insert.length&&O(e.contentDOM,"Delete",46)))return!0;let t,a=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let l=()=>t||(t=function(e,t,n){let i,r=e.state,o=r.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=o.from<t.from?r.sliceDoc(o.from,t.from):"",s=o.to>t.to?r.sliceDoc(t.to,o.to):"";i=r.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+s))}else{let a=r.changes(t),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c,u=e.state.sliceDoc(t.from,t.to),h=n&&_t(e,n.main.head);if(h){let e=t.insert.length-(t.to-t.from);c={from:h.from,to:h.to-e}}else c=e.state.doc.lineAt(o.head);let d=o.to-t.to,p=o.to-o.from;i=r.changeByRange((n=>{if(n.from==o.from&&n.to==o.to)return{changes:a,range:l||n.map(a)};let i=n.to-d,h=i-u.length;if(n.to-n.from!=p||e.state.sliceDoc(h,i)!=u||n.to>=c.from&&n.from<=c.to)return{range:n};let f=r.changes({from:h,to:i,insert:t.insert}),g=n.to-o.to;return{changes:f,range:l?s.EditorSelection.range(Math.max(0,l.anchor+g),Math.max(0,l.head+g)):n.map(f)}}))}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let a="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1));return r.update(i,{userEvent:a,scrollIntoView:!0})}(e,n,i));return e.state.facet(He).some((t=>t(e,n.from,n.to,a,l)))||e.dispatch(l()),!0}if(i&&!i.main.eq(r)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:n}),!0}return!1}const Jn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Yn=G.ie&&G.ie_version<=11;class Xn{constructor(e){this.view=e,this.active=!1,this.selectionRange=new x,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(G.ie&&G.ie_version<=11||G.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Yn&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet(Ze)?n.root.activeElement!=this.dom:!p(n.dom,s))return;let i=s.anchorNode&&n.docView.nearest(s.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(G.ie&&G.ie_version<=11||G.android&&G.chrome)&&!n.state.selection.main.empty&&s.focusNode&&g(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=G.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let s=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);g(a.node,a.offset,r,o)&&([s,i,r,o]=[r,o,s,i]);return{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:o}}(this.view)||h(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=p(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,s=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=s)return!1;for(s=Math.min(s,v(n));;)if(s){if(1!=n.nodeType)return!1;let e=n.childNodes[s-1];"false"==e.contentEditable?s--:(n=e,s=v(n))}else{if(n==e)return!0;s=m(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Jn),Yn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Yn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&O(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,s=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(s=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:s}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),s=this.selectionChanged&&p(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Kn(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,s=Gn(this.view,t);return this.view.state==n&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=Zn(t,e.previousSibling||e.target.previousSibling,-1),s=Zn(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Zn(e,t,n){for(;t;){let s=A.get(t);if(s&&s.parent==e)return s;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}class Qn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new En(e.state||s.EditorState.create(e)),e.scrollTo&&e.scrollTo.is(Ye)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(et).map((e=>new nt(e)));for(let n of this.plugins)n.update(this);this.observer=new Xn(this),this.inputState=new Rt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new gt(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=1==e.length&&e[0]instanceof s.Transaction?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,i=!1,r=this.state;for(let s of e){if(s.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=s.state}if(this.destroyed)return void(this.viewState.state=r);let o=this.hasFocus,a=0,l=null;e.some((e=>e.annotation(sn)))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=rn(r,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(u=null)):this.observer.clear(),r.facet(s.EditorState.phrases)!=this.state.facet(s.EditorState.phrases))return this.setState(r);t=ft.create(this,r,e),t.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(h&&(h=h.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;h=new Je(e.empty?e:s.EditorSelection.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Ye)&&(h=e.value.clip(this.state))}this.viewState.update(t,h),this.bidiCache=ns.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(dt)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(jn)!=t.state.facet(jn)&&(this.viewState.mustMeasureContent=!0),(n||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let s of this.state.facet(qe))try{s(t)}catch(d){Xe(this.state,d,"update listener")}(l||u)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!Gn(this,u)&&c.force&&O(this.contentDOM,c.key,c.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new En(e),this.plugins=e.facet(et).map((e=>new nt(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new gt(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(et),n=e.state.facet(et);if(t!=n){let s=[];for(let i of n){let n=t.indexOf(i);if(n<0)s.push(new nt(i));else{let t=this.plugins[n];t.mustUpdate=e,s.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,s=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:r}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(r=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(r<0)if(T(n))i=-1,r=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(s);i=e.from,r=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&a||([this.measureRequests,l]=[l,this.measureRequests]);let c=l.map((e=>{try{return e.read(this)}catch(t){return Xe(this.state,t),ts}})),u=ft.create(this,this.state,[]),h=!1;u.flags|=a,t?t.flags|=a:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),h=this.docView.update(u));for(let e=0;e<l.length;e++)if(c[e]!=ts)try{let t=l[e];t.write&&t.write(c[e],this)}catch(o){Xe(this.state,o)}if(h&&this.docView.updateSelection(!0),!u.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,r=-1;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-r;if(e>1||e<-1){s+=e,n.scrollTop=s/this.scaleY,r=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(qe))a(t)}get themeClasses(){return Nn+" "+(this.state.facet(In)?Bn:Ln)+" "+this.state.facet(jn)}updateAttrs(){let e=ss(this,st,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ze)?"true":"false",class:"cm-content",style:`${G.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ss(this,it,t);let n=this.observer.ignore((()=>{let n=re(this.contentDOM,this.contentAttrs,t),s=re(this.dom,this.editorAttrs,e);return n||s}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(Qn.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(dt);let e=this.state.facet(Qn.cspNonce);i.StyleModule.mount(this.root,this.styleModules.concat(Un).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return At(this,e,Dt(this,e,t,n))}moveByGroup(e,t){return At(this,e,Dt(this,e,t,(t=>function(e,t,n){let i=e.state.charCategorizer(t),r=i(n);return e=>{let t=i(e);return r==s.CharCategory.Space&&(r=t),r==t}}(this,e.head,t))))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),r=n[t?n.length-1:0];return s.EditorSelection.cursor(r.side(t,i)+e.from,r.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,i){let r=Tt(e,t.head),o=i&&r.type==ue.Text&&(e.lineWrapping||r.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),i=e.textDirectionAt(r.from),a=e.posAtCoords({x:n==(i==ye.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=a)return s.EditorSelection.cursor(a,n?-1:1)}return s.EditorSelection.cursor(n?r.to:r.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return At(this,e,function(e,t,n,i){let r=t.head,o=n?1:-1;if(r==(n?e.state.doc.length:0))return s.EditorSelection.cursor(r,t.assoc);let a,l=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(r,t.assoc||-1),h=e.documentTop;if(u)null==l&&(l=u.left-c.left),a=o<0?u.top:u.bottom;else{let t=e.viewState.lineBlockAt(r);null==l&&(l=Math.min(c.right-c.left,e.defaultCharacterWidth*(r-t.from))),a=(o<0?t.top:t.bottom)+h}let d=c.left+l,p=null!=i?i:e.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let t=a+(p+f)*o,n=Ot(e,{x:d,y:t},!1,o);if(t<c.top||t>c.bottom||(o<0?n<r:n>r)){let i=e.docView.coordsForChar(n),r=!i||t<i.top?-1:1;return s.EditorSelection.cursor(n,r,void 0,l)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Ot(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),i=this.bidiSpans(s);return b(n,i[De.find(i,e-s.from,-1,t)].dir==ye.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ke)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>es)return Ne(e.length);let t,n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n&&(i.fresh||Pe(i.isolates,t=ct(this,e))))return i.order;t||(t=ct(this,e));let s=Ie(e.text,n,t);return this.bidiCache.push(new ns(e.from,e.to,n,t,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||G.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{k(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ye.of(new Je("number"==typeof e?s.EditorSelection.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Ye.of(new Je(s.EditorSelection.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return tt.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return tt.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=i.StyleModule.newName(),s=[jn.of(n),dt.of(Fn(`.${n}`,e))];return t&&t.dark&&s.push(In.of(!0)),s}static baseTheme(e){return s.Prec.lowest(dt.of(Fn("."+Nn,e,$n)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),s=n&&A.get(n)||A.get(e);return(null===(t=null==s?void 0:s.rootView)||void 0===t?void 0:t.view)||null}}Qn.styleModule=dt,Qn.inputHandler=He,Qn.focusChangeEffect=We,Qn.perLineTextDirection=Ke,Qn.exceptionSink=Ve,Qn.updateListener=qe,Qn.editable=Ze,Qn.mouseSelectionStyle=ze,Qn.dragMovesSelection=Ue,Qn.clickAddsSelectionRange=Fe,Qn.decorations=rt,Qn.outerDecorations=ot,Qn.atomicRanges=at,Qn.bidiIsolatedRanges=lt,Qn.scrollMargins=ut,Qn.darkTheme=In,Qn.cspNonce=s.Facet.define({combine:e=>e.length?e[0]:""}),Qn.contentAttributes=it,Qn.editorAttributes=st,Qn.lineWrapping=Qn.contentAttributes.of({class:"cm-lineWrapping"}),Qn.announce=s.StateEffect.define();const es=4096,ts={};class ns{constructor(e,t,n,s,i,r){this.from=e,this.to=t,this.dir=n,this.isolates=s,this.fresh=i,this.order=r}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],s=e.length?e[e.length-1].dir:ye.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let r=e[i];r.dir!=s||t.touchesRange(r.from,r.to)||n.push(new ns(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.isolates,!1,r.order))}return n}}function ss(e,t,n){for(let s=e.state.facet(t),i=s.length-1;i>=0;i--){let t=s[i],r="function"==typeof t?t(e):t;r&&ne(r,n)}return n}const is=G.mac?"mac":G.windows?"win":G.linux?"linux":"key";function rs(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const os=s.Prec.default(Qn.domEventHandlers({keydown:(e,t)=>ps(cs(t.state),e,t,"editor")})),as=s.Facet.define({enables:os}),ls=new WeakMap;function cs(e){let t=e.facet(as),n=ls.get(t);return n||ls.set(t,n=function(e,t=is){let n=Object.create(null),s=Object.create(null),i=(e,t)=>{let n=s[e];if(null==n)s[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},r=(e,s,r,o,a)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),h=s.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let s,i,r,o,a=n[n.length-1];"Space"==a&&(a=" ");for(let l=0;l<n.length-1;++l){const e=n[l];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))s=!0;else if(/^(c|ctrl|control)$/i.test(e))i=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?o=!0:i=!0}}return s&&(a="Alt-"+a),i&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<h.length;t++){let n=h.slice(0,t).join(" ");i(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let s=hs={view:t,prefix:n,scope:e};return setTimeout((()=>{hs==s&&(hs=null)}),ds),!0}]})}let d=h.join(" ");i(d,!1);let p=u[d]||(u[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});r&&p.run.push(r),o&&(p.preventDefault=!0),a&&(p.stopPropagation=!0)};for(let o of e){let e=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let t in e)e[t].run.push(o.any)}let s=o[t]||o.key;if(s)for(let t of e)r(t,s,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(t,"Shift-"+s,o.shift,o.preventDefault,o.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}function us(e,t,n){return ps(cs(e.state),t,e,n)}let hs=null;const ds=4e3;function ps(e,t,n,i){let c=function(e){var t=!(a&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||l&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),u=(0,s.codePointAt)(c,0),h=(0,s.codePointSize)(u)==c.length&&" "!=c,d="",p=!1,f=!1,g=!1;hs&&hs.view==n&&hs.scope==i&&(d=hs.prefix+" ",Bt.indexOf(t.keyCode)<0&&(f=!0,hs=null));let m,_,v=new Set,b=e=>{if(e){for(let s of e.run)if(!v.has(s)&&(v.add(s),s(n,t)))return e.stopPropagation&&(g=!0),!0;e.preventDefault&&(e.stopPropagation&&(g=!0),f=!0)}return!1},y=e[i];return y&&(b(y[d+rs(c,t,!h)])?p=!0:h&&(t.altKey||t.metaKey||t.ctrlKey)&&!(G.windows&&t.ctrlKey&&t.altKey)&&(m=r[t.keyCode])&&m!=c?(b(y[d+rs(m,t,!0)])||t.shiftKey&&(_=o[t.keyCode])!=c&&_!=m&&b(y[d+rs(_,t,!1)]))&&(p=!0):h&&t.shiftKey&&b(y[d+rs(c,t,!0)])&&(p=!0),!p&&b(y._any)&&(p=!0)),f&&(p=!0),p&&g&&t.stopPropagation(),p}class fs{constructor(e,t,n,s,i){this.className=e,this.left=t,this.top=n,this.width=s,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let s=e.coordsAtPos(n.head,n.assoc||1);if(!s)return[];let i=gs(e);return[new fs(t,s.left-i.left,s.top-i.top,null,s.bottom-s.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let s=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),r=e.textDirection==ye.LTR,o=e.contentDOM,a=o.getBoundingClientRect(),l=gs(e),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),p=Tt(e,s),f=Tt(e,i),g=p.type==ue.Text?p:null,m=f.type==ue.Text?f:null;g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=ms(e,s,g));m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=ms(e,i,m));if(g&&m&&g.from==m.from)return v(b(n.from,n.to,g));{let t=g?b(n.from,null,g):y(p,!1),s=m?b(null,n.to,m):y(f,!0),i=[];return(g||p).to<(m||f).from-(g&&m?1:0)||p.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<s.top?i.push(_(h,t.bottom,d,s.top)):t.bottom<s.top&&e.elementAtHeight((t.bottom+s.top)/2).type==ue.Text&&(t.bottom=s.top=(t.bottom+s.top)/2),v(t).concat(i).concat(v(s))}function _(e,n,s,i){return new fs(t,e-l.left,n-l.top-.01,s-e,i-n+.01)}function v({top:e,bottom:t,horizontal:n}){let s=[];for(let i=0;i<n.length;i+=2)s.push(_(n[i],e,n[i+1],t));return s}function b(t,n,s){let i=1e9,o=-1e9,a=[];function l(t,n,l,c,u){let p=e.coordsAtPos(t,t==s.to?-2:2),f=e.coordsAtPos(l,l==s.from?2:-2);p&&f&&(i=Math.min(p.top,f.top,i),o=Math.max(p.bottom,f.bottom,o),u==ye.LTR?a.push(r&&n?h:p.left,r&&c?d:f.right):a.push(!r&&c?h:f.left,!r&&n?d:p.right))}let c=null!=t?t:s.from,u=null!=n?n:s.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<u)for(let s=Math.max(r.from,c),i=Math.min(r.to,u);;){let r=e.state.doc.lineAt(s);for(let o of e.bidiSpans(r)){let e=o.from+r.from,a=o.to+r.from;if(e>=i)break;a>s&&l(Math.max(e,s),null==t&&e<=c,Math.min(a,i),null==n&&a>=u,o.dir)}if(s=r.to+1,s>=i)break}return 0==a.length&&l(c,null==t,u,null==n,e.textDirection),{top:i,bottom:o,horizontal:a}}function y(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function gs(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ye.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function ms(e,t,n){let i=s.EditorSelection.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(i,!0,!0).from),type:ue.Text}}class _s{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(vs)!=e.state.facet(vs)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,n=e.facet(vs);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,s=this.drawn[t],!(n.constructor==s.constructor&&n.eq(s));var n,s}))){let t=this.dom.firstChild,n=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[n].constructor&&s.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(s.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const vs=s.Facet.define();function bs(e){return[tt.define((t=>new _s(t,e))),vs.of(e)]}const ys=!G.ios,ws=s.Facet.define({combine:e=>(0,s.combineConfig)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function xs(e={}){return[ws.of(e),ks,Os,Ts,Ge.of(!0)]}function Ss(e){return e.facet(ws)}function Cs(e){return e.startState.facet(ws)!=e.state.facet(ws)}const ks=bs({above:!0,markers(e){let{state:t}=e,n=t.facet(ws),i=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty?!o||ys:n.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=r.empty?r:s.EditorSelection.cursor(r.head,r.head>r.anchor?-1:1);for(let s of fs.forRange(e,t,n))i.push(s)}}return i},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=Cs(e);return n&&Es(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){Es(t.state,e)},class:"cm-cursorLayer"});function Es(e,t){t.style.animationDuration=e.facet(ws).cursorBlinkRate+"ms"}const Os=bs({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:fs.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||Cs(e),class:"cm-selectionLayer"}),Ms={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};ys&&(Ms[".cm-line"].caretColor="transparent !important",Ms[".cm-content"]={caretColor:"transparent !important"});const Ts=s.Prec.highest(Qn.theme(Ms)),Ds=s.StateEffect.define({map:(e,t)=>null==e?null:t.mapPos(e)}),Ps=s.StateField.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(Ds)?t.value:e),e))}),As=tt.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Ps);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Ps)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Ps),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let s=e.scrollDOM.getBoundingClientRect();return{left:n.left-s.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-s.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Ps)!=e&&this.view.dispatch({effects:Ds.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Rs(){return[Ps,As]}function js(e,t,n,s,i){t.lastIndex=0;for(let r,o=e.iterRange(n,s),a=n;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;r=t.exec(o.value);)i(a+r.index,r)}class Is{constructor(e){const{regexp:t,decoration:n,decorate:s,boundary:i,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(e,t,n,i)=>s(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,s,i)=>{let r=n(e,t,s);r&&i(s,s+e[0].length,r)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,s,i)=>i(s,s+e[0].length,n)}this.boundary=i,this.maxLength=r}createDeco(e){let t=new s.RangeSetBuilder,n=t.add.bind(t);for(let{from:s,to:i}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let s=[];for(let{from:i,to:r}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),r=Math.min(e.state.doc.lineAt(r).to,r+t),s.length&&s[s.length-1].to>=i?s[s.length-1].to=r:s.push({from:i,to:r});return s}(e,this.maxLength))js(e.state.doc,this.regexp,s,i,((t,s)=>this.addMatch(s,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges(((t,i,r,o)=>{o>e.view.viewport.from&&r<e.view.viewport.to&&(n=Math.min(r,n),s=Math.max(o,s))})),e.viewportChanged||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),n,s):t}updateRange(e,t,n,s){for(let i of e.visibleRanges){let r=Math.max(i.from,n),o=Math.min(i.to,s);if(o>r){let n=e.state.doc.lineAt(r),s=n.to<o?e.state.doc.lineAt(o):n,a=Math.max(i.from,n.from),l=Math.min(i.to,s.to);if(this.boundary){for(;r>n.from;r--)if(this.boundary.test(n.text[r-1-n.from])){a=r;break}for(;o<s.to;o++)if(this.boundary.test(s.text[o-s.from])){l=o;break}}let c,u=[],h=(e,t,n)=>u.push(n.range(e,t));if(n==s)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,h);else js(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,h)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const Ns=null!=/x/.unicode?"gu":"g",Ls=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Ns),Bs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let $s=null;const Fs=s.Facet.define({combine(e){let t=(0,s.combineConfig)(e,{render:null,specialChars:Ls,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==$s&&"undefined"!=typeof document&&document.body){let t=document.body.style;$s=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return $s||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Ns)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Ns)),t}});function Us(e={}){return[Fs.of(e),zs||(zs=tt.fromClass(class{constructor(e){this.view=e,this.decorations=he.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Fs)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Is({regexp:e.specialChars,decoration:(t,n,i)=>{let{doc:r}=n.state,o=(0,s.codePointAt)(t[0],0);if(9==o){let e=r.lineAt(i),t=n.state.tabSize,o=(0,s.countColumn)(e.text,t,i-e.from);return he.replace({widget:new qs((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=he.replace({widget:new Vs(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Fs);e.startState.facet(Fs)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let zs=null;class Vs extends ce{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Bs[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,t);if(s)return s;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class qs extends ce{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const Hs=tt.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(e){let{view:t}=e,n=t.viewState.editorHeight*t.scaleY-t.defaultLineHeight-t.documentPadding.top-.5;n>=0&&n!=this.height&&(this.height=n,this.attrs={style:`padding-bottom: ${n}px`})}});function Ws(){return[Hs,it.of((e=>{var t;return(null===(t=e.plugin(Hs))||void 0===t?void 0:t.attrs)||null}))]}function Ks(){return Js}const Gs=he.line({class:"cm-activeLine"}),Js=tt.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let s of e.state.selection.ranges){let i=e.lineBlockAt(s.head);i.from>t&&(n.push(Gs.range(i.from)),t=i.from)}return he.set(n)}},{decorations:e=>e.decorations});class Ys extends ce{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?f(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),s=b(t[0],"rtl"!=n.direction),i=parseInt(n.lineHeight);return s.bottom-s.top>1.5*i?{left:s.left,right:s.right,top:s.top,bottom:s.top+i}:s}ignoreEvent(){return!1}}function Xs(e){return tt.fromClass(class{constructor(t){this.view=t,this.placeholder=e?he.set([he.widget({widget:new Ys(e),side:1}).range(0)]):he.none}get decorations(){return this.view.state.doc.length?he.none:this.placeholder}},{decorations:e=>e.decorations})}const Zs=2e3;function Qs(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),i=e.state.doc.lineAt(n),r=n-i.from,o=r>Zs?-1:r==i.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,s.countColumn)(i.text,e.state.tabSize,n-i.from);return{line:i.number,col:o,off:r}}function ei(e,t){let n=Qs(e,t),i=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),s=e.state.doc.lineAt(t);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},i=i.map(e.changes)}},get(t,r,o){let a=Qs(e,t);if(!a)return i;let l=function(e,t,n){let i=Math.min(t.line,n.line),r=Math.max(t.line,n.line),o=[];if(t.off>Zs||n.off>Zs||t.col<0||n.col<0){let a=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let t=i;t<=r;t++){let n=e.doc.line(t);n.length<=l&&o.push(s.EditorSelection.range(n.from+a,n.to+l))}}else{let a=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let t=i;t<=r;t++){let n=e.doc.line(t),i=(0,s.findColumn)(n.text,a,e.tabSize,!0);if(i<0)o.push(s.EditorSelection.cursor(n.to));else{let t=(0,s.findColumn)(n.text,l,e.tabSize);o.push(s.EditorSelection.range(n.from+i,n.from+t))}}}return o}(e.state,n,a);return l.length?o?s.EditorSelection.create(l.concat(i.ranges)):s.EditorSelection.create(l):i}}:null}function ti(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Qn.mouseSelectionStyle.of(((e,n)=>t(n)?ei(e,n):null))}const ni={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},si={style:"cursor: crosshair"};function ii(e={}){let[t,n]=ni[e.key||"Alt"],s=tt.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[s,Qn.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(s))||void 0===t?void 0:t.isDown)?si:null}))]}const ri="-10000px";class oi{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e,t){var n;let s=e.state.facet(this.facet),i=s.filter((e=>e));if(s===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let r=[],o=t?[]:null;for(let a=0;a<i.length;a++){let n=i[a],s=-1;if(n){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==n.create&&(s=e)}if(s<0)r[a]=this.createTooltipView(n),o&&(o[a]=!!n.above);else{let n=r[a]=this.tooltipViews[s];o&&(o[a]=t[s]),n.update&&n.update(e)}}}for(let a of this.tooltipViews)r.indexOf(a)<0&&(a.dom.remove(),null===(n=a.destroy)||void 0===n||n.call(a));return t&&(o.forEach(((e,n)=>t[n]=e)),t.length=o.length),this.input=s,this.tooltips=i,this.tooltipViews=r,!0}}function ai(e={}){return ci.of(e)}function li(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const ci=s.Facet.define({combine:e=>{var t,n,s;return{position:G.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(s=e.find((e=>e.tooltipSpace)))||void 0===s?void 0:s.tooltipSpace)||li}}}),ui=new WeakMap,hi=tt.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(ci);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new oi(e,fi,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,s=e.state.facet(ci);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=ri,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),null===(e=n.destroy)||void 0===e||e.call(n);this.parent&&this.container.remove(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,n=1,s=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(G.gecko)s=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==ri&&"0px"==e.style.left){let t=e.getBoundingClientRect();s=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(s||"absolute"==this.position)if(this.parent){let e=this.parent.getBoundingClientRect();e.width&&e.height&&(t=e.width/this.parent.offsetWidth,n=e.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(ci).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:s}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{editor:n,space:s,scaleX:i,scaleY:r}=e,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=e.pos[a],d=e.size[a];if(!h||h.bottom<=Math.max(n.top,s.top)||h.top>=Math.min(n.bottom,s.bottom)||h.right<Math.max(n.left,s.left)-.1||h.left>Math.min(n.right,s.right)+.1){u.style.top=ri;continue}let p=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,f=p?7:0,g=d.right-d.left,m=null!==(t=ui.get(c))&&void 0!==t?t:d.bottom-d.top,_=c.offset||pi,v=this.view.textDirection==ye.LTR,b=d.width>s.right-s.left?v?s.left:s.right-d.width:v?Math.min(h.left-(p?14:0)+_.x,s.right-g):Math.max(s.left,h.left-g+(p?14:0)-_.x),y=this.above[a];!l.strictSide&&(y?h.top-(d.bottom-d.top)-_.y<s.top:h.bottom+(d.bottom-d.top)+_.y>s.bottom)&&y==s.bottom-h.bottom>h.top-s.top&&(y=this.above[a]=!y);let w=(y?h.top-s.top:s.bottom-h.bottom)-f;if(w<m&&!1!==c.resize){if(w<this.view.defaultLineHeight){u.style.top=ri;continue}ui.set(c,m),u.style.height=(m=w)/r+"px"}else u.style.height&&(u.style.height="");let x=y?h.top-m-f-_.y:h.bottom+f+_.y,S=b+g;if(!0!==c.overlap)for(let e of o)e.left<S&&e.right>b&&e.top<x+m&&e.bottom>x&&(x=y?e.top-m-2-f:e.bottom+f+2);if("absolute"==this.position?(u.style.top=(x-e.parent.top)/r+"px",u.style.left=(b-e.parent.left)/i+"px"):(u.style.top=x/r+"px",u.style.left=b/i+"px"),p){let e=h.left+(v?_.x:-_.x)-(b+14-7);p.style.left=e/i+"px"}!0!==c.overlap&&o.push({left:b,top:x,right:S,bottom:x+m}),u.classList.toggle("cm-tooltip-above",y),u.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=ri}},{eventObservers:{scroll(){this.maybeMeasure()}}}),di=Qn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),pi={x:0,y:0},fi=s.Facet.define({enables:[hi,di]}),gi=s.Facet.define();class mi{static create(e){return new mi(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new oi(e,gi,(e=>this.createHostedView(e)))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let s=n[e];if(void 0!==s)if(void 0===t)t=s;else if(t!==s)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const _i=fi.compute([gi],(e=>{let t=e.facet(gi).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.map((e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos}))),create:mi.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class vi{constructor(e,t,n,s,i){this.view=e,this.source=t,this.field=n,this.setHover=s,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let s,i=1;if(n instanceof X)s=n.posAtStart;else{if(s=e.posAtCoords(t),null==s)return;let n=e.coordsAtPos(s);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let r=e.bidiSpans(e.state.doc.lineAt(s)).find((e=>e.from<=s&&e.to>=s)),o=r&&r.dir==ye.RTL?-1:1;i=t.x<n.left?-o:o}let r=this.source(e,s,i);if(null==r?void 0:r.then){let t=this.pending={pos:s};r.then((n=>{this.pending==t&&(this.pending=null,n&&e.dispatch({effects:this.setHover.of(n)}))}),(t=>Xe(e.state,t,"hover tooltip")))}else r&&e.dispatch({effects:this.setHover.of(r)})}get tooltip(){let e=this.view.plugin(hi),t=e?e.manager.tooltips.findIndex((e=>e.create==mi.create)):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:s}=this;if(n&&s&&!function(e,t){let n=e.getBoundingClientRect();return t.clientX>=n.left-bi&&t.clientX<=n.right+bi&&t.clientY>=n.top-bi&&t.clientY<=n.bottom+bi}(s.dom,e)||this.pending){let{pos:s}=n||this.pending,i=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:s;(s==i?this.view.posAtCoords(this.lastMove)==s:function(e,t,n,s,i,r){let o=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>s||o.right<s||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=e.posAtCoords({x:s,y:i},!1);return l>=t&&l<=n}(this.view,s,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const bi=4;function yi(e,t={}){let n=s.StateEffect.define(),i=s.StateField.define({create:()=>null,update(e,i){if(e&&(t.hideOnChange&&(i.docChanged||i.selection)||t.hideOn&&t.hideOn(i,e)))return null;if(e&&i.docChanged){let t=i.changes.mapPos(e.pos,-1,s.MapMode.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);n.pos=t,null!=e.end&&(n.end=i.changes.mapPos(e.end)),e=n}for(let t of i.effects)t.is(n)&&(e=t.value),t.is(Si)&&(e=null);return e},provide:e=>gi.from(e)});return[i,tt.define((s=>new vi(s,e,i,n,t.hoverTime||300))),_i]}function wi(e,t){let n=e.plugin(hi);if(!n)return null;let s=n.manager.tooltips.indexOf(t);return s<0?null:n.manager.tooltipViews[s]}function xi(e){return e.facet(gi).some((e=>e))}const Si=s.StateEffect.define(),Ci=Si.of(null);function ki(e){let t=e.plugin(hi);t&&t.maybeMeasure()}const Ei=s.Facet.define({combine(e){let t,n;for(let s of e)t=t||s.topContainer,n=n||s.bottomContainer;return{topContainer:t,bottomContainer:n}}});function Oi(e){return e?[Ei.of(e)]:[]}function Mi(e,t){let n=e.plugin(Ti),s=n?n.specs.indexOf(t):-1;return s>-1?n.panels[s]:null}const Ti=tt.fromClass(class{constructor(e){this.input=e.state.facet(Ai),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Ei);this.top=new Di(e,!0,t.topContainer),this.bottom=new Di(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(Ei);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Di(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Di(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Ai);if(n!=this.input){let t=n.filter((e=>e)),s=[],i=[],r=[],o=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),o.push(t)):(t=this.panels[a],t.update&&t.update(e)),s.push(t),(t.top?i:r).push(t)}this.specs=t,this.panels=s,this.top.sync(i),this.bottom.sync(r);for(let e of o)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let s of this.panels)s.update&&s.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Qn.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class Di{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Pi(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Pi(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Pi(e){let t=e.nextSibling;return e.remove(),t}const Ai=s.Facet.define({enables:Ti});class Ri extends s.RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ri.prototype.elementClass="",Ri.prototype.toDOM=void 0,Ri.prototype.mapMode=s.MapMode.TrackBefore,Ri.prototype.startSide=Ri.prototype.endSide=-1,Ri.prototype.point=!0;const ji=s.Facet.define(),Ii={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>s.RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ni=s.Facet.define();function Li(e){return[$i(),Ni.of(Object.assign(Object.assign({},Ii),e))]}const Bi=s.Facet.define({combine:e=>e.some((e=>e))});function $i(e){let t=[Fi];return e&&!1===e.fixed&&t.push(Bi.of(!0)),t}const Fi=tt.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(Ni).map((t=>new qi(e,t)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(Bi),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,s=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(s<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Bi)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=s.RangeSet.iter(this.view.state.facet(ji),this.view.viewport.from),i=[],r=this.gutters.map((e=>new Vi(e,this.view.viewport,-this.view.documentPadding.top)));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let e=!0;for(let t of s.type)if(t.type==ue.Text&&e){zi(n,i,t.from);for(let e of r)e.line(this.view,t,i);e=!1}else if(t.widget)for(let e of r)e.widget(this.view,t)}else if(s.type==ue.Text){zi(n,i,s.from);for(let e of r)e.line(this.view,s,i)}else if(s.widget)for(let e of r)e.widget(this.view,s);for(let s of r)s.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Ni),n=e.state.facet(Ni),i=e.docChanged||e.heightChanged||e.viewportChanged||!s.RangeSet.eq(e.startState.facet(ji),e.state.facet(ji),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let s of this.gutters)s.update(e)&&(i=!0);else{i=!0;let s=[];for(let i of n){let n=t.indexOf(i);n<0?s.push(new qi(this.view,i)):(this.gutters[n].update(e),s.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),s.indexOf(e)<0&&e.destroy();for(let e of s)this.dom.appendChild(e.dom);this.gutters=s}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Qn.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==ye.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function Ui(e){return Array.isArray(e)?e:[e]}function zi(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Vi{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=s.RangeSet.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:s}=this,i=(t.top-this.height)/e.scaleY,r=t.height/e.scaleY;if(this.i==s.elements.length){let t=new Hi(e,r,i,n);s.elements.push(t),s.dom.appendChild(t.dom)}else s.elements[this.i].update(e,r,i,n);this.height=t.bottom,this.i++}line(e,t,n){let s=[];zi(this.cursor,s,t.from),n.length&&(s=s.concat(n));let i=this.gutter.config.lineMarker(e,t,s);i&&s.unshift(i);let r=this.gutter;(0!=s.length||r.config.renderEmptyElements)&&this.addElement(e,t,s)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class qi{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(s=>{let i,r=s.target;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let e=r.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=s.clientY;let o=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[n](e,o,s)&&s.preventDefault()}));this.markers=Ui(t.markers(e)),t.initialSpacer&&(this.spacer=new Hi(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ui(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!s.RangeSet.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Hi{constructor(e,t,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,s)}update(e,t,n,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let n="cm-gutterElement",s=this.dom.firstChild;for(let i=0,r=0;;){let o=r,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let t=r;t<this.markers.length;t++)if(this.markers[t].compare(a)){o=t,l=!0;break}}else o=this.markers.length;for(;r<o;){let e=this.markers[r++];if(e.toDOM){e.destroy(s);let t=s.nextSibling;s.remove(),s=t}}if(!a)break;a.toDOM&&(l?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),l&&r++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Wi=s.Facet.define(),Ki=s.Facet.define({combine:e=>(0,s.combineConfig)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let s in t){let e=n[s],i=t[s];n[s]=e?(t,n,s)=>e(t,n,s)||i(t,n,s):i}return n}})});class Gi extends Ri{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ji(e,t){return e.state.facet(Ki).formatNumber(t,e.state)}const Yi=Ni.compute([Ki],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Wi),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Gi(Ji(e,e.state.doc.lineAt(t.from).number)),widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer:e=>new Gi(Ji(e,Zi(e.state.doc.lines))),updateSpacer(e,t){let n=Ji(t.view,Zi(t.view.state.doc.lines));return n==e.number?e:new Gi(n)},domEventHandlers:e.facet(Ki).domEventHandlers})));function Xi(e={}){return[Ki.of(e),$i(),Yi]}function Zi(e){let t=9;for(;t<e;)t=10*t+9;return t}const Qi=new class extends Ri{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},er=ji.compute(["selection"],(e=>{let t=[],n=-1;for(let s of e.selection.ranges){let i=e.doc.lineAt(s.head).from;i>n&&(n=i,t.push(Qi.range(i)))}return s.RangeSet.of(t)}));function tr(){return er}const nr=new Map;function sr(e){return tt.define((t=>({decorations:e.createDeco(t),update(t){this.decorations=e.updateDeco(t,this.decorations)}})),{decorations:e=>e.decorations})}const ir=sr(new Is({regexp:/\t| +/g,decoration:e=>function(e){let t=nr.get(e);return t||nr.set(e,t=he.mark({attributes:"\t"===e?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":e.replace(/ /g,"\xb7")}})),t}(e[0]),boundary:/\S/}));function rr(){return ir}const or=sr(new Is({regexp:/\s+$/g,decoration:he.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function ar(){return or}const lr={HeightMap:fn,HeightOracle:cn,MeasuredHeights:un,QueryType:dn,ChangedRange:pt,computeOrder:Ie,moveVisually:Be}},41113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultBufferLength:()=>s,IterMode:()=>p,MountedTree:()=>a,NodeProp:()=>o,NodeSet:()=>u,NodeType:()=>c,NodeWeakMap:()=>A,Parser:()=>j,Tree:()=>f,TreeBuffer:()=>m,TreeCursor:()=>O,TreeFragment:()=>R,parseMixed:()=>N});const s=1024;let i=0;class r{constructor(e,t){this.from=e,this.to=t}}class o{constructor(e={}){this.id=i++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=c.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}o.closedBy=new o({deserialize:e=>e.split(" ")}),o.openedBy=new o({deserialize:e=>e.split(" ")}),o.group=new o({deserialize:e=>e.split(" ")}),o.isolate=new o({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class a{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[o.mounted.id]}}const l=Object.create(null);class c{constructor(e,t,n,s=0){this.name=e,this.props=t,this.id=n,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):l,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),s=new c(e.name||"",t,e.id,n);if(e.props)for(let i of e.props)if(Array.isArray(i)||(i=i(s)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}return s}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(o.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let s of n.split(" "))t[s]=e[n];return e=>{for(let n=e.prop(o.group),s=-1;s<(n?n.length:0);s++){let i=t[s<0?e.name:n[s]];if(i)return i}}}}c.none=new c("",Object.create(null),0,8);class u{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let s=null;for(let t of e){let e=t(n);e&&(s||(s=Object.assign({},n.props)),s[e[0].id]=e[1])}t.push(s?new c(n.name,s,n.id,n.flags):n)}return new u(t)}}const h=new WeakMap,d=new WeakMap;var p;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class f{constructor(e,t,n,s,i){if(this.type=e,this.children=t,this.positions=n,this.length=s,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=a.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let e=n.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new O(this.topNode,e)}cursorAt(e,t=0,n=0){let s=h.get(this)||this.topNode,i=new O(s);return i.moveTo(e,t),h.set(this,i._tree),i}get topNode(){return new y(this,0,0,null)}resolve(e,t=0){let n=v(h.get(this)||this.topNode,e,t,!1);return h.set(this,n),n}resolveInner(e,t=0){let n=v(d.get(this)||this.topNode,e,t,!0);return d.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let s=e.resolveInner(t,n),i=null;for(let r=s instanceof y?s:s.context.parent;r;r=r.parent)if(r.index<0){let e=r.parent;(i||(i=[s])).push(e.resolve(t,n)),r=e}else{let e=a.get(r.tree);if(e&&e.overlay&&e.overlay[0].from<=t&&e.overlay[e.overlay.length-1].to>=t){let o=new y(e.tree,e.overlay[0].from+r.from,-1,r);(i||(i=[s])).push(v(o,t,n,!1))}}return i?k(i):s}(this,e,t)}iterate(e){let{enter:t,leave:n,from:s=0,to:i=this.length}=e,r=e.mode||0,o=(r&p.IncludeAnonymous)>0;for(let a=this.cursor(r|p.IncludeAnonymous);;){let e=!1;if(a.from<=i&&a.to>=s&&(!o&&a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;e=!0}for(;e&&n&&(o||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:P(c.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new f(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new f(c.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:r=s,reused:a=[],minRepeatType:l=i.types.length}=e,c=Array.isArray(n)?new g(n,n.length):n,u=i.types,h=0,d=0;function p(e,t,n,s,o,f){let{id:g,start:S,end:C,size:k}=c,E=d;for(;k<0;){if(c.next(),-1==k){let t=a[g];return n.push(t),void s.push(S-e)}if(-3==k)return void(h=g);if(-4==k)return void(d=g);throw new RangeError(`Unrecognized record size: ${k}`)}let O,M,T=u[g],D=S-e;if(C-S<=r&&(M=w(c.pos-t,o))){let t=new Uint16Array(M.size-M.skip),n=c.pos-M.size,s=t.length;for(;c.pos>n;)s=x(M.start,t,s);O=new m(t,C-M.start,i),D=M.start-e}else{let e=c.pos-k;c.next();let t=[],n=[],s=g>=l?g:-1,i=0,o=C;for(;c.pos>e;)s>=0&&c.id==s&&c.size>=0?(c.end<=o-r&&(b(t,n,S,i,c.end,o,s,E),i=t.length,o=c.end),c.next()):f>2500?_(S,e,t,n):p(S,e,t,n,s,f+1);if(s>=0&&i>0&&i<t.length&&b(t,n,S,i,S,o,s,E),t.reverse(),n.reverse(),s>-1&&i>0){let e=v(T);O=P(T,t,n,0,t.length,0,C-S,e,e)}else O=y(T,t,n,C-S,E-C)}n.push(O),s.push(D)}function _(e,t,n,s){let o=[],a=0,l=-1;for(;c.pos>t;){let{id:e,start:t,end:n,size:s}=c;if(s>4)c.next();else{if(l>-1&&t<l)break;l<0&&(l=n-r),o.push(e,t,n),a++,c.next()}}if(a){let t=new Uint16Array(4*a),r=o[o.length-2];for(let e=o.length-3,n=0;e>=0;e-=3)t[n++]=o[e],t[n++]=o[e+1]-r,t[n++]=o[e+2]-r,t[n++]=n;n.push(new m(t,o[2]-r,i)),s.push(r-e)}}function v(e){return(t,n,s)=>{let i,r,a=0,l=t.length-1;if(l>=0&&(i=t[l])instanceof f){if(!l&&i.type==e&&i.length==s)return i;(r=i.prop(o.lookAhead))&&(a=n[l]+i.length+r)}return y(e,t,n,s,a)}}function b(e,t,n,s,r,o,a,l){let c=[],u=[];for(;e.length>s;)c.push(e.pop()),u.push(t.pop()+n-r);e.push(y(i.types[a],c,u,o-r,l-o)),t.push(r-n)}function y(e,t,n,s,i=0,r){if(h){let e=[o.contextHash,h];r=r?[e].concat(r):[e]}if(i>25){let e=[o.lookAhead,i];r=r?[e].concat(r):[e]}return new f(e,t,n,s,r)}function w(e,t){let n=c.fork(),s=0,i=0,o=0,a=n.end-r,u={size:0,start:0,skip:0};e:for(let r=n.pos-e;n.pos>r;){let e=n.size;if(n.id==t&&e>=0){u.size=s,u.start=i,u.skip=o,o+=4,s+=4,n.next();continue}let c=n.pos-e;if(e<0||c<r||n.start<a)break;let h=n.id>=l?4:0,d=n.start;for(n.next();n.pos>c;){if(n.size<0){if(-3!=n.size)break e;h+=4}else n.id>=l&&(h+=4);n.next()}i=d,s+=e,o+=h}return(t<0||s==e)&&(u.size=s,u.start=i,u.skip=o),u.size>4?u:void 0}function x(e,t,n){let{id:s,start:i,end:r,size:o}=c;if(c.next(),o>=0&&s<l){let a=n;if(o>4){let s=c.pos-(o-4);for(;c.pos>s;)n=x(e,t,n)}t[--n]=a,t[--n]=r-e,t[--n]=i-e,t[--n]=s}else-3==o?h=s:-4==o&&(d=s);return n}let S=[],C=[];for(;c.pos>0;)p(e.start||0,e.bufferStart||0,S,C,-1,0);let k=null!==(t=e.length)&&void 0!==t?t:S.length?C[0]+S[0].length:0;return new f(u[e.topID],S.reverse(),C.reverse(),k)}(e)}}f.empty=new f(c.none,[],[],0);class g{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new g(this.buffer,this.index)}}class m{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return c.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],s=this.set.types[t],i=s.name;if(/\W/.test(i)&&!s.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let r=[];for(;e<n;)r.push(this.childString(e)),e=this.buffer[e+3];return i+"("+r.join(",")+")"}findChild(e,t,n,s,i){let{buffer:r}=this,o=-1;for(let a=e;a!=t&&!(_(i,s,r[a+1],r[a+2])&&(o=a,n>0));a=r[a+3]);return o}slice(e,t,n){let s=this.buffer,i=new Uint16Array(t-e),r=0;for(let o=e,a=0;o<t;){i[a++]=s[o++],i[a++]=s[o++]-n;let t=i[a++]=s[o++]-n;i[a++]=s[o++]-e,r=Math.max(r,t)}return new m(i,r,this.set)}}function _(e,t,n,s){switch(e){case-2:return n<t;case-1:return s>=t&&n<t;case 0:return n<t&&s>t;case 1:return n<=t&&s>t;case 2:return s>t;case 4:return!0}}function v(e,t,n,s){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!s&&e instanceof y&&e.index<0?null:e.parent;if(!t)return e;e=t}let r=s?0:p.IgnoreOverlays;if(s)for(let o=e,a=o.parent;a;o=a,a=o.parent)o instanceof y&&o.index<0&&(null===(i=a.enter(t,n,r))||void 0===i?void 0:i.from)!=o.from&&(e=a);for(;;){let s=e.enter(t,n,r);if(!s)return e;e=s}}class b{cursor(e=0){return new O(this,e)}getChild(e,t=null,n=null){let s=w(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return w(this,e,t,n)}resolve(e,t=0){return v(this,e,t,!1)}resolveInner(e,t=0){return v(this,e,t,!0)}matchContext(e){return x(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class y extends b{constructor(e,t,n,s){super(),this._tree=e,this.from=t,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,s,i=0){for(let r=this;;){for(let{children:o,positions:l}=r._tree,c=t>0?o.length:-1;e!=c;e+=t){let c=o[e],u=l[e]+r.from;if(_(s,n,u,u+c.length))if(c instanceof m){if(i&p.ExcludeBuffers)continue;let o=c.findChild(0,c.buffer.length,t,n-u,s);if(o>-1)return new C(new S(r,c,e,u),null,o)}else if(i&p.IncludeAnonymous||!c.type.isAnonymous||M(c)){let o;if(!(i&p.IgnoreMounts)&&(o=a.get(c))&&!o.overlay)return new y(o.tree,u,e,r);let l=new y(c,u,e,r);return i&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?c.children.length-1:0,t,n,s)}}if(i&p.IncludeAnonymous||!r.type.isAnonymous)return null;if(e=r.index>=0?r.index+t:t<0?-1:r._parent._tree.children.length,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let s;if(!(n&p.IgnoreOverlays)&&(s=a.get(this._tree))&&s.overlay){let n=e-this.from;for(let{from:e,to:i}of s.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new y(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function w(e,t,n,s){let i=e.cursor(),r=[];if(!i.firstChild())return r;if(null!=n)for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return r;for(;;){if(null!=s&&i.type.is(s))return r;if(i.type.is(t)&&r.push(i.node),!i.nextSibling())return null==s?r:[]}}function x(e,t,n=t.length-1){for(let s=e.parent;n>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(t[n]&&t[n]!=s.name)return!1;n--}}return!0}class S{constructor(e,t,n,s){this.parent=e,this.buffer=t,this.index=n,this.start=s}}class C extends b{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new C(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new C(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new C(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new C(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,s=this.index+4,i=n.buffer[this.index+3];if(i>s){let r=n.buffer[this.index+1];e.push(n.slice(s,i,r)),t.push(0)}return new f(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function k(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let s=e[r];(s.from>n.from||s.to<n.to)&&(n=s,t=r)}let s=n instanceof y&&n.index<0?null:n.parent,i=e.slice();return s?i[t]=s:i.splice(t,1),new E(i,n)}class E{constructor(e,t){this.heads=e,this.node=t}get next(){return k(this.heads)}}class O{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof y)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return!!e&&(e instanceof y?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:s}=this.buffer,i=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(s.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=s)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let s=t+e,i=e<0?-1:n._tree.children.length;s!=i;s+=e){let e=n._tree.children[s];if(this.mode&p.IncludeAnonymous||e instanceof m||!e.type.isAnonymous||M(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,i=this.stack.length;i>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,n=i+1;break e}s=this.stack[--i]}for(let s=n;s<this.stack.length;s++)t=new C(this.buffer,t,this.stack[s]);return this.bufferNode=new C(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let s=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return x(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let s=e.length-1,i=this.stack.length-1;s>=0;i--){if(i<0)return x(this.node,e,s);let r=n[t.buffer[this.stack[i]]];if(!r.isAnonymous){if(e[s]&&e[s]!=r.name)return!1;s--}}return!0}}function M(e){return e.children.some((e=>e instanceof m||!e.type.isAnonymous||M(e)))}const T=new WeakMap;function D(e,t){if(!e.isAnonymous||t instanceof m||t.type!=e)return 1;let n=T.get(t);if(null==n){n=1;for(let s of t.children){if(s.type!=e||!(s instanceof f)){n=1;break}n+=D(e,s)}T.set(t,n)}return n}function P(e,t,n,s,i,r,o,a,l){let c=0;for(let p=s;p<i;p++)c+=D(e,t[p]);let u=Math.ceil(1.5*c/8),h=[],d=[];return function t(n,s,i,o,a){for(let c=i;c<o;){let i=c,p=s[c],f=D(e,n[c]);for(c++;c<o;c++){let t=D(e,n[c]);if(f+t>=u)break;f+=t}if(c==i+1){if(f>u){let e=n[i];t(e.children,e.positions,0,e.children.length,s[i]+a);continue}h.push(n[i])}else{let t=s[c-1]+n[c-1].length-p;h.push(P(e,n,s,i,c,p,t,null,l))}d.push(p+a-r)}}(t,n,s,i,0),(a||l)(h,d,o)}class A{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof C?this.setBuffer(e.context.buffer,e.index,t):e instanceof y&&this.map.set(e.tree,t)}get(e){return e instanceof C?this.getBuffer(e.context.buffer,e.index):e instanceof y?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class R{constructor(e,t,n,s,i=!1,r=!1){this.from=e,this.to=t,this.tree=n,this.offset=s,this.open=(i?1:0)|(r?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let s=[new R(0,e.length,e,0,!1,n)];for(let i of t)i.to>e.length&&s.push(i);return s}static applyChanges(e,t,n=128){if(!t.length)return e;let s=[],i=1,r=e.length?e[0]:null;for(let o=0,a=0,l=0;;o++){let c=o<t.length?t[o]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;r&&r.from<u;){let t=r;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new R(e,n,t.tree,t.offset+l,o>0,!!c)}if(t&&s.push(t),r.to>u)break;r=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return s}}class j{startParse(e,t,n){return"string"==typeof e&&(e=new I(e)),n=n?n.length?n.map((e=>new r(e.from,e.to))):[new r(0,0)]:[new r(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let s=this.startParse(e,t,n);for(;;){let e=s.advance();if(e)return e}}}class I{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function N(e){return(t,n,s,i)=>new U(t,e,n,s,i)}class L{constructor(e,t,n,s,i){this.parser=e,this.parse=t,this.overlay=n,this.target=s,this.from=i}}function B(e){if(!e.length||e.some((e=>e.from>=e.to)))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class ${constructor(e,t,n,s,i,r,o){this.parser=e,this.predicate=t,this.mounts=n,this.index=s,this.start=i,this.target=r,this.prev=o,this.depth=0,this.ranges=[]}}const F=new o({perNode:!0});class U{constructor(e,t,n,s,i){this.nest=t,this.input=n,this.fragments=s,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new f(e.type,e.children,e.positions,e.length,e.propValues.concat([[F,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[o.mounted.id]=new a(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new W(this.fragments),t=null,n=null,s=new O(new y(this.baseTree,this.ranges[0].from,0,null),p.IncludeAnonymous|p.IgnoreMounts);e:for(let i,o;;){let a,l=!0;if(null!=this.stoppedAt&&s.from>=this.stoppedAt)l=!1;else if(e.hasNode(s)){if(t){let e=t.mounts.find((e=>e.frag.from<=s.from&&e.frag.to>=s.to&&e.mount.overlay));if(e)for(let n of e.mount.overlay){let i=n.from+e.pos,r=n.to+e.pos;i>=s.from&&r<=s.to&&!t.ranges.some((e=>e.from<r&&e.to>i))&&t.ranges.push({from:i,to:r})}}l=!1}else if(n&&(o=z(n.ranges,s.from,s.to)))l=2!=o;else if(!s.type.isAnonymous&&(i=this.nest(s,this.input))&&(s.from<s.to||!i.overlay)){s.tree||q(s);let o=e.findMounts(s.from,i.parser);if("function"==typeof i.overlay)t=new $(i.parser,i.overlay,o,this.inner.length,s.from,s.tree,t);else{let e=K(this.ranges,i.overlay||(s.from<s.to?[new r(s.from,s.to)]:[]));e.length&&B(e),!e.length&&i.overlay||this.inner.push(new L(i.parser,e.length?i.parser.startParse(this.input,J(o,e),e):i.parser.startParse(""),i.overlay?i.overlay.map((e=>new r(e.from-s.from,e.to-s.from))):null,s.tree,e.length?e[0].from:s.from)),i.overlay?e.length&&(n={ranges:e,depth:0,prev:n}):l=!1}}else t&&(a=t.predicate(s))&&(!0===a&&(a=new r(s.from,s.to)),a.from<a.to&&t.ranges.push(a));if(l&&s.firstChild())t&&t.depth++,n&&n.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(t&&! --t.depth){let e=K(this.ranges,t.ranges);e.length&&(B(e),this.inner.splice(t.index,0,new L(t.parser,t.parser.startParse(this.input,J(t.mounts,e),e),t.ranges.map((e=>new r(e.from-t.start,e.to-t.start))),t.target,e[0].from))),t=t.prev}n&&! --n.depth&&(n=n.prev)}}}}function z(e,t,n){for(let s of e){if(s.from>=n)break;if(s.to>t)return s.from<=t&&s.to>=n?2:1}return 0}function V(e,t,n,s,i,r){if(t<n){let o=e.buffer[t+1];s.push(e.slice(t,n,o)),i.push(o-r)}}function q(e){let{node:t}=e,n=[],s=t.context.buffer;do{n.push(e.index),e.parent()}while(!e.tree);let i=e.tree,r=i.children.indexOf(s),o=i.children[r],a=o.buffer,l=[r];i.children[r]=function e(s,i,r,c,u,h){let d=n[h],p=[],g=[];V(o,s,d,p,g,c);let m=a[d+1],_=a[d+2];l.push(p.length);let v=h?e(d+4,a[d+3],o.set.types[a[d]],m,_-m,h-1):t.toTree();return p.push(v),g.push(m-c),V(o,a[d+3],i,p,g,c),new f(r,p,g,u)}(0,a.length,c.none,0,o.length,n.length-1);for(let c of l){let t=e.tree.children[c],n=e.tree.positions[c];e.yield(new y(t,n+e.from,c,e._tree))}}class H{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(p.IncludeAnonymous|p.IgnoreMounts)}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,p.IgnoreOverlays|p.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof f))break;t=t.children[0]}return!1}}class W{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(F))&&void 0!==t?t:n.to,this.inner=new H(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(F))&&void 0!==e?e:t.to,this.inner=new H(t.tree,-t.offset)}}findMounts(e,t){var n;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let i=null===(n=e.tree)||void 0===n?void 0:n.prop(o.mounted);if(i&&i.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&s.push({frag:n,pos:e.from-n.offset,mount:i})}}}return s}}function K(e,t){let n=null,s=t;for(let i=1,o=0;i<e.length;i++){let a=e[i-1].to,l=e[i].from;for(;o<s.length;o++){let e=s[o];if(e.from>=l)break;e.to<=a||(n||(s=n=t.slice()),e.from<a?(n[o]=new r(e.from,a),e.to>l&&n.splice(o+1,0,new r(l,e.to))):e.to>l?n[o--]=new r(l,e.to):n.splice(o--,1))}}return s}function G(e,t,n,s){let i=0,o=0,a=!1,l=!1,c=-1e9,u=[];for(;;){let h=i==e.length?1e9:a?e[i].to:e[i].from,d=o==t.length?1e9:l?t[o].to:t[o].from;if(a!=l){let e=Math.max(c,n),t=Math.min(h,d,s);e<t&&u.push(new r(e,t))}if(c=Math.min(h,d),1e9==c)break;h==c&&(a?(a=!1,i++):a=!0),d==c&&(l?(l=!1,o++):l=!0)}return u}function J(e,t){let n=[];for(let{pos:s,mount:i,frag:o}of e){let e=s+(i.overlay?i.overlay[0].from:0),a=e+i.tree.length,l=Math.max(o.from,e),c=Math.min(o.to,a);if(i.overlay){let a=G(t,i.overlay.map((e=>new r(e.from+s,e.to+s))),l,c);for(let t=0,s=l;;t++){let r=t==a.length,l=r?c:a[t].from;if(l>s&&n.push(new R(s,l,i.tree,-e,o.from>=s||o.openStart,o.to<=l||o.openEnd)),r)break;s=a[t].to}}else n.push(new R(l,c,i.tree,-e,o.from>=e||o.openStart,o.to<=a||o.openEnd))}return n}},35524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Tag:()=>r,classHighlighter:()=>A,getStyleTags:()=>g,highlightCode:()=>p,highlightTree:()=>d,styleTags:()=>l,tagHighlighter:()=>h,tags:()=>P});var s=n(41113);let i=0;class r{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=i++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new r([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new a;return t=>t.modified.indexOf(e)>-1?t:a.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let o=0;class a{constructor(){this.instances=[],this.id=o++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(s=t,i=n.modified,s.length==i.length&&s.every(((e,t)=>e==i[t])));var s,i}));if(n)return n;let s=[],i=new r(s,e,t);for(let r of t)r.instances.push(i);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let s=0,i=t.length;s<i;s++)t.push(t[s].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let r of e.set)if(!r.modified.length)for(let e of o)s.push(a.get(r,e));return i}}function l(e){let t=Object.create(null);for(let n in e){let s=e[n];Array.isArray(s)||(s=[s]);for(let e of n.split(" "))if(e){let n=[],i=2,r=e;for(let t=0;;){if("..."==r&&t>0&&t+3==e.length){i=1;break}let s=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(r);if(!s)throw new RangeError("Invalid path: "+e);if(n.push("*"==s[0]?"":'"'==s[0][0]?JSON.parse(s[0]):s[0]),t+=s[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);r=e.slice(t)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new u(s,i,o>0?n.slice(0,o):null);t[a]=l.sort(t[a])}}return c.add(t)}const c=new s.NodeProp;class u{constructor(e,t,n,s){this.tags=e,this.mode=t,this.context=n,this.next=s}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function h(e,t){let n=Object.create(null);for(let r of e)if(Array.isArray(r.tag))for(let e of r.tag)n[e.id]=r.class;else n[r.tag.id]=r.class;let{scope:s,all:i=null}=t||{};return{style:e=>{let t=i;for(let s of e)for(let e of s.set){let s=n[e.id];if(s){t=t?t+" "+s:s;break}}return t},scope:s}}function d(e,t,n,s=0,i=e.length){let r=new f(s,Array.isArray(t)?t:[t],n);r.highlightRange(e.cursor(),s,i,"",r.highlighters),r.flush(i)}function p(e,t,n,s,i,r=0,o=e.length){let a=r;function l(t,n){if(!(t<=a)){for(let r=e.slice(a,t),o=0;;){let e=r.indexOf("\n",o),t=e<0?r.length:e;if(t>o&&s(r.slice(o,t),n),e<0)break;i(),o=e+1}a=t}}d(t,n,((e,t,n)=>{l(e,""),l(t,n)}),r,o),l(o,"")}u.empty=new u([],2,null);class f{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,r){let{type:o,from:a,to:l}=e;if(a>=n||l<=t)return;o.isTop&&(r=this.highlighters.filter((e=>!e.scope||e.scope(o))));let c=i,h=g(e)||u.empty,d=function(e,t){let n=null;for(let s of e){let e=s.style(t);e&&(n=n?n+" "+e:e)}return n}(r,h.tags);if(d&&(c&&(c+=" "),c+=d,1==h.mode&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,a),c),h.opaque)return;let p=e.tree&&e.tree.prop(s.NodeProp.mounted);if(p&&p.overlay){let s=e.node.enter(p.overlay[0].from+a,1),o=this.highlighters.filter((e=>!e.scope||e.scope(p.tree.type))),u=e.firstChild();for(let h=0,d=a;;h++){let f=h<p.overlay.length?p.overlay[h]:null,g=f?f.from+a:l,m=Math.max(t,d),_=Math.min(n,g);if(m<_&&u)for(;e.from<_&&(this.highlightRange(e,m,_,i,r),this.startSpan(Math.min(_,e.to),c),!(e.to>=g)&&e.nextSibling()););if(!f||g>n)break;d=f.to+a,d>t&&(this.highlightRange(s.cursor(),Math.max(t,f.from+a),Math.min(n,d),"",o),this.startSpan(Math.min(n,d),c))}u&&e.parent()}else if(e.firstChild()){p&&(i="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,r),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}function g(e){let t=e.type.prop(c);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const m=r.define,_=m(),v=m(),b=m(v),y=m(v),w=m(),x=m(w),S=m(w),C=m(),k=m(C),E=m(),O=m(),M=m(),T=m(M),D=m(),P={comment:_,lineComment:m(_),blockComment:m(_),docComment:m(_),name:v,variableName:m(v),typeName:b,tagName:m(b),propertyName:y,attributeName:m(y),className:m(v),labelName:m(v),namespace:m(v),macroName:m(v),literal:w,string:x,docString:m(x),character:m(x),attributeValue:m(x),number:S,integer:m(S),float:m(S),bool:m(w),regexp:m(w),escape:m(w),color:m(w),url:m(w),keyword:E,self:m(E),null:m(E),atom:m(E),unit:m(E),modifier:m(E),operatorKeyword:m(E),controlKeyword:m(E),definitionKeyword:m(E),moduleKeyword:m(E),operator:O,derefOperator:m(O),arithmeticOperator:m(O),logicOperator:m(O),bitwiseOperator:m(O),compareOperator:m(O),updateOperator:m(O),definitionOperator:m(O),typeOperator:m(O),controlOperator:m(O),punctuation:M,separator:m(M),bracket:T,angleBracket:m(T),squareBracket:m(T),paren:m(T),brace:m(T),content:C,heading:k,heading1:m(k),heading2:m(k),heading3:m(k),heading4:m(k),heading5:m(k),heading6:m(k),contentSeparator:m(C),list:m(C),quote:m(C),emphasis:m(C),strong:m(C),link:m(C),monospace:m(C),strikethrough:m(C),inserted:m(),deleted:m(),changed:m(),invalid:m(),meta:D,documentMeta:m(D),annotation:m(D),processingInstruction:m(D),definition:r.defineModifier(),constant:r.defineModifier(),function:r.defineModifier(),standard:r.defineModifier(),local:r.defineModifier(),special:r.defineModifier()},A=h([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}])},53105:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContextTracker:()=>O,ExternalTokenizer:()=>f,InputStream:()=>h,LRParser:()=>M,LocalTokenGroup:()=>p,Stack:()=>i});var s=n(41113);class i{constructor(e,t,n,s,i,r,o,a,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=s,this.pos=i,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let s=e.parser.context;return new i(e,[],t,n,n,0,[],0,s?new r(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,s=65535&e,{parser:i}=this.p,r=i.dynamicPrecedence(s);if(r&&(this.score+=r),0==n)return this.pushState(i.getGoto(this.state,s,!0),this.reducePos),s<i.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),void this.reduceContext(s,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&e?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(t=this.p.parser.nodeSet.types[s])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let c=o?this.stack[o-1]:0,u=this.bufferBase+this.buffer.length-c;if(s<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,a,e,u+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=i.getGoto(e,s,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(s,a)}storeNode(e,t,n,s=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,s=this.buffer.length;if(0==s&&e.parent&&(s=e.bufferBase-e.parent.bufferBase,e=e.parent),s>0&&0==e.buffer[s-4]&&e.buffer[s-1]>-1){if(t==n)return;if(e.buffer[s-2]>=t)return void(e.buffer[s-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,s>4&&(s-=4);this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=s}else this.buffer.push(e,t,n,s)}shift(e,t,n,s){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:r}=this.p;(s>this.pos||t<=r.maxNode)&&(this.pos=s,r.stateFlag(i,1)||(this.reducePos=s)),this.pushState(i,n),this.shiftContext(t,n),t<=r.maxNode&&this.buffer.push(t,n,s,4)}else this.pos=s,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,s,4)}apply(e,t,n,s){65536&e?this.reduce(e):this.shift(e,t,n,s)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new i(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new o(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s,i=0;i<t.length;i+=2)(s=t[i+1])!=this.state&&this.p.parser.hasAction(s,e)&&n.push(t[i],s);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let s=t[e+1];n.some(((e,t)=>1&t&&e==s))||n.push(t[e],s)}t=n}let n=[];for(let s=0;s<t.length&&n.length<4;s+=2){let e=t[s+1];if(e==this.state)continue;let i=this.split();i.pushState(e,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[s],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,s=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],s,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(s,i)=>{if(!t.includes(s))return t.push(s),e.allActions(s,(t=>{if(393216&t);else if(65536&t){let n=(t>>19)-i;if(n>1){let s=65535&t,i=this.stack.length-3*n;if(i>=0&&e.getGoto(this.stack[i],s,!1)>=0)return n<<19|65536|s}}else{let e=n(t,i+1);if(null!=e)return e}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new r(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class r{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class o{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class a{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new a(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}function l(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let s=0,i=0;s<e.length;){let r=0;for(;;){let t=e.charCodeAt(s++),n=!1;if(126==t){r=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),r+=i,n)break;r*=46}n?n[i++]=r:n=new t(r)}return n}class c{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const u=new c;class h{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=u,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,s=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!s)return null;let e=this.ranges[--s];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(s==this.ranges.length-1)return null;let e=this.ranges[++s];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,s=this.chunkOff+e;if(s>=0&&s<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(s);else{let s=this.resolveOffset(e,1);if(null==s)return-1;if(t=s,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,s=this.range;for(;s.to<=t;)s=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=u,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return n}}class d{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;g(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class p{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?l(e):e}token(e,t){let n=e.pos,s=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(g(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||s++,null==i)break;e.reset(i,e.token)}s&&(e.reset(n,e.token),e.acceptToken(this.elseToken,s))}}p.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class f{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function g(e,t,n,s,i,r){let o=0,a=1<<s,{dialect:l}=n.p.parser;e:for(;0!=(a&e[o]);){let n=e[o+1];for(let h=o+3;h<n;h+=2)if((e[h+1]&a)>0){let n=e[h];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||_(n,t.token.value,i,r))){t.acceptToken(n);break}}let s=t.next,c=0,u=e[o+2];if(!(t.next<0&&u>c&&65535==e[n+3*u-3])){for(;c<u;){let i=c+u>>1,r=n+i+(i<<1),a=e[r],l=e[r+1]||65536;if(s<a)u=i;else{if(!(s>=l)){o=e[r+2],t.advance();continue e}c=i+1}}break}o=e[n+3*u-1]}}function m(e,t,n){for(let s,i=t;65535!=(s=e[i]);i++)if(s==n)return i-t;return-1}function _(e,t,n,s){let i=m(n,s,t);return i<0||m(n,s,e)<i}const v="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let b=null;function y(e,t,n){let i=e.cursor(s.IterMode.IncludeAnonymous);for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}class w{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?y(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?y(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(r instanceof s.Tree){if(o==e){if(o<this.safeFrom)return null;let e=o+r.length;if(e<=this.safeTo){let t=r.prop(s.NodeProp.lookAhead);if(!t||e+t<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class x{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new c))}getActions(e){let t=0,n=null,{parser:s}=e.p,{tokenizers:i}=s,r=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let l=0;l<i.length;l++){if(0==(1<<l&r))continue;let s=i[l],c=this.tokens[l];if((!n||s.fallback)&&((s.contextual||c.start!=e.pos||c.mask!=r||c.context!=o)&&(this.updateCachedToken(c,s,e),c.mask=r,c.context=o),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let i=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!s.extend&&(n=c,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new c,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new c,{pos:n,p:s}=e;return t.start=n,t.end=Math.min(n+1,s.stream.end),t.value=n==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,n){let s=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(s,e),n),e.value>-1){let{parser:t}=n.p;for(let s=0;s<t.specialized.length;s++)if(t.specialized[s]==e.value){let i=t.specializers[s](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,n,s){for(let i=0;i<s;i+=3)if(this.actions[i]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=n,s}addActions(e,t,n,s){let{state:i}=e,{parser:r}=e.p,{data:o}=r;for(let a=0;a<2;a++)for(let e=r.stateSlot(i,a?2:1);;e+=3){if(65535==o[e]){if(1!=o[e+1]){0==s&&2==o[e+1]&&(s=this.putAction(T(o,e+2),t,n,s));break}e=T(o,e+2)}o[e]==t&&(s=this.putAction(T(o,e+1),t,n,s))}return s}}class S{constructor(e,t,n,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new h(t,s),this.tokens=new x(e,this.stream),this.topTerm=e.top[1];let{from:r}=s[0];this.stacks=[i.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>4*e.bufferLength?new w(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,s=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<n.length;r++){let o=n[r];for(;;){if(this.tokens.mainToken=null,o.pos>s)i.push(o);else{if(this.advanceStack(o,i,n))continue;{e||(e=[],t=[]),e.push(o);let n=this.tokens.getMainToken(o);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return v&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw v&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+s);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return v&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>s))&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let s=i[n];if(t.sameState(s)||t.buffer.length>500&&s.buffer.length>500){if(!((t.score-s.score||t.buffer.length-s.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let r=1;r<i.length;r++)i[r].pos<this.minStackPos&&(this.minStackPos=i[r].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:r}=this,o=v?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?r.getGoto(e.state,a.type.id):-1;if(i>-1&&a.length&&(!t||(a.prop(s.NodeProp.contextHash)||0)==n))return e.useNode(a,i),v&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(a.type.id)})`),!0;if(!(a instanceof s.Tree)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof s.Tree&&0==a.positions[0]))break;a=l}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),v&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(65535&a)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let s=0;s<l.length;){let a=l[s++],c=l[s++],u=l[s++],h=s==l.length||!n,d=h?e:e.split(),p=this.tokens.mainToken;if(d.apply(a,c,p?p.start:d.pos,u),v&&console.log(o+this.stackID(d)+` (via ${0==(65536&a)?"shift":`reduce of ${r.getName(65535&a)}`} for ${r.getName(c)} @ ${i}${d==e?"":", split"})`),h)return!0;d.pos>i?t.push(d):n.push(d)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return C(e,t),!0}}runRecovery(e,t,n){let s=null,i=!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r<<1],l=t[1+(r<<1)],c=v?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),v&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let u=o.split(),h=c;for(let e=0;u.forceReduce()&&e<10;e++){if(v&&console.log(h+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;v&&(h=this.stackID(u)+" -> ")}for(let e of o.recoverByInsert(a))v&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),v&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),C(o,n)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),s.Tree.build({buffer:a.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(b||(b=new WeakMap)).get(e);return t||b.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function C(e,t){for(let n=0;n<t.length;n++){let s=t[n];if(s.pos==e.pos&&s.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class k{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const E=e=>e;class O{constructor(e){this.start=e.start,this.shift=e.shift||E,this.reduce=e.reduce||E,this.reuse=e.reuse||E,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}class M extends s.Parser{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let s=0;s<e.repeatNodeCount;s++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let s=0;s<t.length;s++)i.push([]);function r(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let a of e.nodeProps){let e=a[0];"string"==typeof e&&(e=s.NodeProp[e]);for(let t=1;t<a.length;){let n=a[t++];if(n>=0)r(n,e,a[t++]);else{let s=a[t+-n];for(let i=-n;i>0;i--)r(a[t++],e,s);t++}}}this.nodeSet=new s.NodeSet(t.map(((t,r)=>s.NodeType.define({name:r>=this.minRepeatTerm?void 0:t,id:r,props:i[r],top:n.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=s.DefaultBufferLength;let o=l(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map(D),this.states=l(e.states,Uint32Array),this.data=l(e.stateData),this.goto=l(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new d(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let s=new S(this,e,t,n);for(let i of this.wrappers)s=i(s,e,t,n);return s}getGoto(e,t,n=!1){let s=this.goto;if(t>=s[0])return-1;for(let i=s[t+1];;){let t=s[i++],r=1&t,o=s[i++];if(r&&n)return o;for(let n=i+(t>>1);i<n;i++)if(s[i]==e)return o;if(r)return-1}}hasAction(e,t){let n=this.data;for(let s=0;s<2;s++)for(let i,r=this.stateSlot(e,s?2:1);;r+=3){if(65535==(i=n[r])){if(1!=n[r+1]){if(2==n[r+1])return T(n,r+2);break}i=n[r=T(n,r+2)]}if(i==t||0==i)return T(n,r+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let n=this.stateSlot(e,4),s=n?t(n):void 0;for(let i=this.stateSlot(e,1);null==s;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=T(this.data,i+2)}s=t(T(this.data,i+1))}return s}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=T(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(M.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((n,s)=>{let i=e.specializers.find((e=>e.from==n.external));if(!i)return n;let r=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[s]=D(r),r}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(n[e]=!0)}let s=null;for(let i=0;i<t.length;i++)if(!n[i])for(let e,n=this.dialects[t[i]];65535!=(e=this.data[n++]);)(s||(s=new Uint8Array(this.maxTerm+1)))[e]=1;return new k(e,n,s)}static deserialize(e){return new M(e)}}function T(e,t){return e[t]|e[t+1]<<16}function D(e){if(e.external){let t=e.extend?1:0;return(n,s)=>e.external(n,s)<<1|t}return e.get}},28699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StyleModule:()=>o});const s="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(e,t){this.rules=[];let{finish:n}=t||{};function s(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,r,o){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return r.push(e[0]+";");for(let n in t){let o=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),o,r);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(s(n),o,a,c)}else null!=o&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+o+";")}(a.length||c)&&r.push((!n||l||o?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let r in e)i(s(r),e[r],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=r[s]||1;return r[s]=e+1,"\u037c"+e.toString(36)}static mount(e,t,n){let s=e[i],r=n&&n.nonce;s?r&&s.setNonce(r):s=new l(e,r),s.mount(Array.isArray(t)?t:[t])}}let a=new Map;class l{constructor(e,t){let n=e.ownerDocument||e,s=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let t=a.get(n);if(t)return e.adoptedStyleSheets=[t.sheet,...e.adoptedStyleSheets],e[i]=t;this.sheet=new s.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],a.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[i]=this}mount(e){let t=this.sheet,n=0,s=0;for(let i=0;i<e.length;i++){let r=e[i],o=this.modules.indexOf(r);if(o<s&&o>-1&&(this.modules.splice(o,1),s--,o=-1),-1==o){if(this.modules.splice(s++,0,r),t)for(let e=0;e<r.rules.length;e++)t.insertRule(r.rules[e],n++)}else{for(;s<o;)n+=this.modules[s++].rules.length;n+=r.rules.length,s++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}},36005:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>i,after:()=>jt,all:()=>en,allKeys:()=>me,any:()=>tn,assign:()=>je,before:()=>It,bind:()=>xt,bindAll:()=>kt,chain:()=>vt,chunk:()=>Bn,clone:()=>Be,collect:()=>Gt,compact:()=>On,compose:()=>Rt,constant:()=>Z,contains:()=>nn,countBy:()=>_n,create:()=>Le,debounce:()=>Dt,default:()=>Vn,defaults:()=>Ie,defer:()=>Mt,delay:()=>Ot,detect:()=>Ht,difference:()=>Tn,drop:()=>kn,each:()=>Kt,escape:()=>ot,every:()=>en,extend:()=>Re,extendOwn:()=>je,filter:()=>Zt,find:()=>Ht,findIndex:()=>$t,findKey:()=>Lt,findLastIndex:()=>Ft,findWhere:()=>Wt,first:()=>Cn,flatten:()=>Mn,foldl:()=>Yt,foldr:()=>Xt,forEach:()=>Kt,functions:()=>Pe,get:()=>Ve,groupBy:()=>gn,has:()=>qe,head:()=>Cn,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>mn,indexOf:()=>Vt,initial:()=>Sn,inject:()=>Yt,intersection:()=>Rn,invert:()=>De,invoke:()=>sn,isArguments:()=>J,isArray:()=>W,isArrayBuffer:()=>L,isBoolean:()=>M,isDataView:()=>H,isDate:()=>R,isElement:()=>T,isEmpty:()=>le,isEqual:()=>ge,isError:()=>I,isFinite:()=>Y,isFunction:()=>F,isMap:()=>Ce,isMatch:()=>ce,isNaN:()=>X,isNull:()=>E,isNumber:()=>A,isObject:()=>k,isRegExp:()=>j,isSet:()=>Ee,isString:()=>P,isSymbol:()=>N,isTypedArray:()=>ie,isUndefined:()=>O,isWeakMap:()=>ke,isWeakSet:()=>Oe,iteratee:()=>Ye,keys:()=>ae,last:()=>En,lastIndexOf:()=>qt,map:()=>Gt,mapObject:()=>Ze,matcher:()=>We,matches:()=>We,max:()=>an,memoize:()=>Et,methods:()=>Pe,min:()=>ln,mixin:()=>Fn,negate:()=>At,noop:()=>Qe,now:()=>st,object:()=>Nn,omit:()=>xn,once:()=>Nt,pairs:()=>Te,partial:()=>wt,partition:()=>vn,pick:()=>wn,pluck:()=>rn,property:()=>Ke,propertyOf:()=>et,random:()=>nt,range:()=>Ln,reduce:()=>Yt,reduceRight:()=>Xt,reject:()=>Qt,rest:()=>kn,restArguments:()=>C,result:()=>gt,sample:()=>hn,select:()=>Zt,shuffle:()=>dn,size:()=>bn,some:()=>tn,sortBy:()=>pn,sortedIndex:()=>Ut,tail:()=>kn,take:()=>Cn,tap:()=>$e,template:()=>ft,templateSettings:()=>lt,throttle:()=>Tt,times:()=>tt,toArray:()=>un,toPath:()=>Fe,transpose:()=>jn,unescape:()=>at,union:()=>An,uniq:()=>Pn,unique:()=>Pn,uniqueId:()=>_t,unzip:()=>jn,values:()=>Me,where:()=>on,without:()=>Dn,wrap:()=>Pt,zip:()=>In});var s={};n.r(s),n.d(s,{VERSION:()=>i,after:()=>jt,all:()=>en,allKeys:()=>me,any:()=>tn,assign:()=>je,before:()=>It,bind:()=>xt,bindAll:()=>kt,chain:()=>vt,chunk:()=>Bn,clone:()=>Be,collect:()=>Gt,compact:()=>On,compose:()=>Rt,constant:()=>Z,contains:()=>nn,countBy:()=>_n,create:()=>Le,debounce:()=>Dt,default:()=>Un,defaults:()=>Ie,defer:()=>Mt,delay:()=>Ot,detect:()=>Ht,difference:()=>Tn,drop:()=>kn,each:()=>Kt,escape:()=>ot,every:()=>en,extend:()=>Re,extendOwn:()=>je,filter:()=>Zt,find:()=>Ht,findIndex:()=>$t,findKey:()=>Lt,findLastIndex:()=>Ft,findWhere:()=>Wt,first:()=>Cn,flatten:()=>Mn,foldl:()=>Yt,foldr:()=>Xt,forEach:()=>Kt,functions:()=>Pe,get:()=>Ve,groupBy:()=>gn,has:()=>qe,head:()=>Cn,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>mn,indexOf:()=>Vt,initial:()=>Sn,inject:()=>Yt,intersection:()=>Rn,invert:()=>De,invoke:()=>sn,isArguments:()=>J,isArray:()=>W,isArrayBuffer:()=>L,isBoolean:()=>M,isDataView:()=>H,isDate:()=>R,isElement:()=>T,isEmpty:()=>le,isEqual:()=>ge,isError:()=>I,isFinite:()=>Y,isFunction:()=>F,isMap:()=>Ce,isMatch:()=>ce,isNaN:()=>X,isNull:()=>E,isNumber:()=>A,isObject:()=>k,isRegExp:()=>j,isSet:()=>Ee,isString:()=>P,isSymbol:()=>N,isTypedArray:()=>ie,isUndefined:()=>O,isWeakMap:()=>ke,isWeakSet:()=>Oe,iteratee:()=>Ye,keys:()=>ae,last:()=>En,lastIndexOf:()=>qt,map:()=>Gt,mapObject:()=>Ze,matcher:()=>We,matches:()=>We,max:()=>an,memoize:()=>Et,methods:()=>Pe,min:()=>ln,mixin:()=>Fn,negate:()=>At,noop:()=>Qe,now:()=>st,object:()=>Nn,omit:()=>xn,once:()=>Nt,pairs:()=>Te,partial:()=>wt,partition:()=>vn,pick:()=>wn,pluck:()=>rn,property:()=>Ke,propertyOf:()=>et,random:()=>nt,range:()=>Ln,reduce:()=>Yt,reduceRight:()=>Xt,reject:()=>Qt,rest:()=>kn,restArguments:()=>C,result:()=>gt,sample:()=>hn,select:()=>Zt,shuffle:()=>dn,size:()=>bn,some:()=>tn,sortBy:()=>pn,sortedIndex:()=>Ut,tail:()=>kn,take:()=>Cn,tap:()=>$e,template:()=>ft,templateSettings:()=>lt,throttle:()=>Tt,times:()=>tt,toArray:()=>un,toPath:()=>Fe,transpose:()=>jn,unescape:()=>at,union:()=>An,uniq:()=>Pn,unique:()=>Pn,uniqueId:()=>_t,unzip:()=>jn,values:()=>Me,where:()=>on,without:()=>Dn,wrap:()=>Pt,zip:()=>In});var i="1.13.6",r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},o=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=o.push,u=o.slice,h=a.toString,d=a.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,g=Array.isArray,m=Object.keys,_=Object.create,v=p&&ArrayBuffer.isView,b=isNaN,y=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function C(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),s=Array(n),i=0;i<n;i++)s[i]=arguments[i+t];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,arguments[0],s);case 2:return e.call(this,arguments[0],arguments[1],s)}var r=Array(t+1);for(i=0;i<t;i++)r[i]=arguments[i];return r[t]=s,e.apply(this,r)}}function k(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function E(e){return null===e}function O(e){return void 0===e}function M(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)}function T(e){return!(!e||1!==e.nodeType)}function D(e){var t="[object "+e+"]";return function(e){return h.call(e)===t}}const P=D("String"),A=D("Number"),R=D("Date"),j=D("RegExp"),I=D("Error"),N=D("Symbol"),L=D("ArrayBuffer");var B=D("Function"),$=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof $&&(B=function(e){return"function"==typeof e||!1});const F=B,U=D("Object");var z=f&&U(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&U(new Map),q=D("DataView");const H=z?function(e){return null!=e&&F(e.getInt8)&&L(e.buffer)}:q,W=g||D("Array");function K(e,t){return null!=e&&d.call(e,t)}var G=D("Arguments");!function(){G(arguments)||(G=function(e){return K(e,"callee")})}();const J=G;function Y(e){return!N(e)&&y(e)&&!isNaN(parseFloat(e))}function X(e){return A(e)&&b(e)}function Z(e){return function(){return e}}function Q(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=S}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),ne=Q(te);var se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ie=p?function(e){return v?v(e)&&!H(e):ne(e)&&se.test(h.call(e))}:Z(!1),re=ee("length");function oe(e,t){t=function(e){for(var t={},n=e.length,s=0;s<n;++s)t[e[s]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=x.length,s=e.constructor,i=F(s)&&s.prototype||a,r="constructor";for(K(e,r)&&!t.contains(r)&&t.push(r);n--;)(r=x[n])in e&&e[r]!==i[r]&&!t.contains(r)&&t.push(r)}function ae(e){if(!k(e))return[];if(m)return m(e);var t=[];for(var n in e)K(e,n)&&t.push(n);return w&&oe(e,t),t}function le(e){if(null==e)return!0;var t=re(e);return"number"==typeof t&&(W(e)||P(e)||J(e))?0===t:0===re(ae(e))}function ce(e,t){var n=ae(t),s=n.length;if(null==e)return!s;for(var i=Object(e),r=0;r<s;r++){var o=n[r];if(t[o]!==i[o]||!(o in i))return!1}return!0}function ue(e){return e instanceof ue?e:this instanceof ue?void(this._wrapped=e):new ue(e)}function he(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ue.VERSION=i,ue.prototype.value=function(){return this._wrapped},ue.prototype.valueOf=ue.prototype.toJSON=ue.prototype.value,ue.prototype.toString=function(){return String(this._wrapped)};var de="[object DataView]";function pe(e,t,n,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&fe(e,t,n,s)}function fe(e,t,n,s){e instanceof ue&&(e=e._wrapped),t instanceof ue&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;if(z&&"[object Object]"==i&&H(e)){if(!H(t))return!1;i=de}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);case"[object ArrayBuffer]":case de:return fe(he(e),he(t),n,s)}var r="[object Array]"===i;if(!r&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;r=!0}if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(F(o)&&o instanceof o&&F(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}s=s||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return s[c]===t;if(n.push(e),s.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!pe(e[c],t[c],n,s))return!1}else{var u,d=ae(e);if(c=d.length,ae(t).length!==c)return!1;for(;c--;)if(!K(t,u=d[c])||!pe(e[u],t[u],n,s))return!1}return n.pop(),s.pop(),!0}function ge(e,t){return pe(e,t)}function me(e){if(!k(e))return[];var t=[];for(var n in e)t.push(n);return w&&oe(e,t),t}function _e(e){var t=re(e);return function(n){if(null==n)return!1;var s=me(n);if(re(s))return!1;for(var i=0;i<t;i++)if(!F(n[e[i]]))return!1;return e!==xe||!F(n[ve])}}var ve="forEach",be=["clear","delete"],ye=["get","has","set"],we=be.concat(ve,ye),xe=be.concat(ye),Se=["add"].concat(be,ve,"has");const Ce=V?_e(we):D("Map"),ke=V?_e(xe):D("WeakMap"),Ee=V?_e(Se):D("Set"),Oe=D("WeakSet");function Me(e){for(var t=ae(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=e[t[i]];return s}function Te(e){for(var t=ae(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=[t[i],e[t[i]]];return s}function De(e){for(var t={},n=ae(e),s=0,i=n.length;s<i;s++)t[e[n[s]]]=n[s];return t}function Pe(e){var t=[];for(var n in e)F(e[n])&&t.push(n);return t.sort()}function Ae(e,t){return function(n){var s=arguments.length;if(t&&(n=Object(n)),s<2||null==n)return n;for(var i=1;i<s;i++)for(var r=arguments[i],o=e(r),a=o.length,l=0;l<a;l++){var c=o[l];t&&void 0!==n[c]||(n[c]=r[c])}return n}}const Re=Ae(me),je=Ae(ae),Ie=Ae(me,!0);function Ne(e){if(!k(e))return{};if(_)return _(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Le(e,t){var n=Ne(e);return t&&je(n,t),n}function Be(e){return k(e)?W(e)?e.slice():Re({},e):e}function $e(e,t){return t(e),e}function Fe(e){return W(e)?e:[e]}function Ue(e){return ue.toPath(e)}function ze(e,t){for(var n=t.length,s=0;s<n;s++){if(null==e)return;e=e[t[s]]}return n?e:void 0}function Ve(e,t,n){var s=ze(e,Ue(t));return O(s)?n:s}function qe(e,t){for(var n=(t=Ue(t)).length,s=0;s<n;s++){var i=t[s];if(!K(e,i))return!1;e=e[i]}return!!n}function He(e){return e}function We(e){return e=je({},e),function(t){return ce(t,e)}}function Ke(e){return e=Ue(e),function(t){return ze(t,e)}}function Ge(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,s,i){return e.call(t,n,s,i)};case 4:return function(n,s,i,r){return e.call(t,n,s,i,r)}}return function(){return e.apply(t,arguments)}}function Je(e,t,n){return null==e?He:F(e)?Ge(e,t,n):k(e)&&!W(e)?We(e):Ke(e)}function Ye(e,t){return Je(e,t,1/0)}function Xe(e,t,n){return ue.iteratee!==Ye?ue.iteratee(e,t):Je(e,t,n)}function Ze(e,t,n){t=Xe(t,n);for(var s=ae(e),i=s.length,r={},o=0;o<i;o++){var a=s[o];r[a]=t(e[a],a,e)}return r}function Qe(){}function et(e){return null==e?Qe:function(t){return Ve(e,t)}}function tt(e,t,n){var s=Array(Math.max(0,e));t=Ge(t,n,1);for(var i=0;i<e;i++)s[i]=t(i);return s}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ue.toPath=Fe,ue.iteratee=Ye;const st=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},n="(?:"+ae(e).join("|")+")",s=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(i,t):e}}const rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ot=it(rt),at=it(De(rt)),lt=ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ct=/(.)^/,ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ht=/\\|'|\r|\n|\u2028|\u2029/g;function dt(e){return"\\"+ut[e]}var pt=/^\s*(\w|\$)+\s*$/;function ft(e,t,n){!t&&n&&(t=n),t=Ie({},t,ue.templateSettings);var s=RegExp([(t.escape||ct).source,(t.interpolate||ct).source,(t.evaluate||ct).source].join("|")+"|$","g"),i=0,r="__p+='";e.replace(s,(function(t,n,s,o,a){return r+=e.slice(i,a).replace(ht,dt),i=a+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":s?r+="'+\n((__t=("+s+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t})),r+="';\n";var o,a=t.variable;if(a){if(!pt.test(a))throw new Error("variable is not a bare identifier: "+a)}else r="with(obj||{}){\n"+r+"}\n",a="obj";r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{o=new Function(a,"_",r)}catch(c){throw c.source=r,c}var l=function(e){return o.call(this,e,ue)};return l.source="function("+a+"){\n"+r+"}",l}function gt(e,t,n){var s=(t=Ue(t)).length;if(!s)return F(n)?n.call(e):n;for(var i=0;i<s;i++){var r=null==e?void 0:e[t[i]];void 0===r&&(r=n,i=s),e=F(r)?r.call(e):r}return e}var mt=0;function _t(e){var t=++mt+"";return e?e+t:t}function vt(e){var t=ue(e);return t._chain=!0,t}function bt(e,t,n,s,i){if(!(s instanceof t))return e.apply(n,i);var r=Ne(e.prototype),o=e.apply(r,i);return k(o)?o:r}var yt=C((function(e,t){var n=yt.placeholder,s=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return bt(e,s,this,this,o)};return s}));yt.placeholder=ue;const wt=yt,xt=C((function(e,t,n){if(!F(e))throw new TypeError("Bind must be called on a function");var s=C((function(i){return bt(e,s,t,this,n.concat(i))}));return s})),St=Q(re);function Ct(e,t,n,s){if(s=s||[],t||0===t){if(t<=0)return s.concat(e)}else t=1/0;for(var i=s.length,r=0,o=re(e);r<o;r++){var a=e[r];if(St(a)&&(W(a)||J(a)))if(t>1)Ct(a,t-1,n,s),i=s.length;else for(var l=0,c=a.length;l<c;)s[i++]=a[l++];else n||(s[i++]=a)}return s}const kt=C((function(e,t){var n=(t=Ct(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var s=t[n];e[s]=xt(e[s],e)}return e}));function Et(e,t){var n=function(s){var i=n.cache,r=""+(t?t.apply(this,arguments):s);return K(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n}const Ot=C((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Mt=wt(Ot,ue,1);function Tt(e,t,n){var s,i,r,o,a=0;n||(n={});var l=function(){a=!1===n.leading?0:st(),s=null,o=e.apply(i,r),s||(i=r=null)},c=function(){var c=st();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(s),a=0,s=i=r=null},c}function Dt(e,t,n){var s,i,r,o,a,l=function(){var c=st()-i;t>c?s=setTimeout(l,t-c):(s=null,n||(o=e.apply(a,r)),s||(r=a=null))},c=C((function(c){return a=this,r=c,i=st(),s||(s=setTimeout(l,t),n&&(o=e.apply(a,r))),o}));return c.cancel=function(){clearTimeout(s),s=r=a=null},c}function Pt(e,t){return wt(t,e)}function At(e){return function(){return!e.apply(this,arguments)}}function Rt(){var e=arguments,t=e.length-1;return function(){for(var n=t,s=e[t].apply(this,arguments);n--;)s=e[n].call(this,s);return s}}function jt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function It(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Nt=wt(It,2);function Lt(e,t,n){t=Xe(t,n);for(var s,i=ae(e),r=0,o=i.length;r<o;r++)if(t(e[s=i[r]],s,e))return s}function Bt(e){return function(t,n,s){n=Xe(n,s);for(var i=re(t),r=e>0?0:i-1;r>=0&&r<i;r+=e)if(n(t[r],r,t))return r;return-1}}const $t=Bt(1),Ft=Bt(-1);function Ut(e,t,n,s){for(var i=(n=Xe(n,s,1))(t),r=0,o=re(e);r<o;){var a=Math.floor((r+o)/2);n(e[a])<i?r=a+1:o=a}return r}function zt(e,t,n){return function(s,i,r){var o=0,a=re(s);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+a,o):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return s[r=n(s,i)]===i?r:-1;if(i!=i)return(r=t(u.call(s,o,a),X))>=0?r+o:-1;for(r=e>0?o:a-1;r>=0&&r<a;r+=e)if(s[r]===i)return r;return-1}}const Vt=zt(1,$t,Ut),qt=zt(-1,Ft);function Ht(e,t,n){var s=(St(e)?$t:Lt)(e,t,n);if(void 0!==s&&-1!==s)return e[s]}function Wt(e,t){return Ht(e,We(t))}function Kt(e,t,n){var s,i;if(t=Ge(t,n),St(e))for(s=0,i=e.length;s<i;s++)t(e[s],s,e);else{var r=ae(e);for(s=0,i=r.length;s<i;s++)t(e[r[s]],r[s],e)}return e}function Gt(e,t,n){t=Xe(t,n);for(var s=!St(e)&&ae(e),i=(s||e).length,r=Array(i),o=0;o<i;o++){var a=s?s[o]:o;r[o]=t(e[a],a,e)}return r}function Jt(e){return function(t,n,s,i){var r=arguments.length>=3;return function(t,n,s,i){var r=!St(t)&&ae(t),o=(r||t).length,a=e>0?0:o-1;for(i||(s=t[r?r[a]:a],a+=e);a>=0&&a<o;a+=e){var l=r?r[a]:a;s=n(s,t[l],l,t)}return s}(t,Ge(n,i,4),s,r)}}const Yt=Jt(1),Xt=Jt(-1);function Zt(e,t,n){var s=[];return t=Xe(t,n),Kt(e,(function(e,n,i){t(e,n,i)&&s.push(e)})),s}function Qt(e,t,n){return Zt(e,At(Xe(t)),n)}function en(e,t,n){t=Xe(t,n);for(var s=!St(e)&&ae(e),i=(s||e).length,r=0;r<i;r++){var o=s?s[r]:r;if(!t(e[o],o,e))return!1}return!0}function tn(e,t,n){t=Xe(t,n);for(var s=!St(e)&&ae(e),i=(s||e).length,r=0;r<i;r++){var o=s?s[r]:r;if(t(e[o],o,e))return!0}return!1}function nn(e,t,n,s){return St(e)||(e=Me(e)),("number"!=typeof n||s)&&(n=0),Vt(e,t,n)>=0}const sn=C((function(e,t,n){var s,i;return F(t)?i=t:(t=Ue(t),s=t.slice(0,-1),t=t[t.length-1]),Gt(e,(function(e){var r=i;if(!r){if(s&&s.length&&(e=ze(e,s)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)}))}));function rn(e,t){return Gt(e,Ke(t))}function on(e,t){return Zt(e,We(t))}function an(e,t,n){var s,i,r=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:Me(e)).length;a<l;a++)null!=(s=e[a])&&s>r&&(r=s);else t=Xe(t,n),Kt(e,(function(e,n,s){((i=t(e,n,s))>o||i===-1/0&&r===-1/0)&&(r=e,o=i)}));return r}function ln(e,t,n){var s,i,r=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:Me(e)).length;a<l;a++)null!=(s=e[a])&&s<r&&(r=s);else t=Xe(t,n),Kt(e,(function(e,n,s){((i=t(e,n,s))<o||i===1/0&&r===1/0)&&(r=e,o=i)}));return r}var cn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function un(e){return e?W(e)?u.call(e):P(e)?e.match(cn):St(e)?Gt(e,He):Me(e):[]}function hn(e,t,n){if(null==t||n)return St(e)||(e=Me(e)),e[nt(e.length-1)];var s=un(e),i=re(s);t=Math.max(Math.min(t,i),0);for(var r=i-1,o=0;o<t;o++){var a=nt(o,r),l=s[o];s[o]=s[a],s[a]=l}return s.slice(0,t)}function dn(e){return hn(e,1/0)}function pn(e,t,n){var s=0;return t=Xe(t,n),rn(Gt(e,(function(e,n,i){return{value:e,index:s++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,s=t.criteria;if(n!==s){if(n>s||void 0===n)return 1;if(n<s||void 0===s)return-1}return e.index-t.index})),"value")}function fn(e,t){return function(n,s,i){var r=t?[[],[]]:{};return s=Xe(s,i),Kt(n,(function(t,i){var o=s(t,i,n);e(r,t,o)})),r}}const gn=fn((function(e,t,n){K(e,n)?e[n].push(t):e[n]=[t]})),mn=fn((function(e,t,n){e[n]=t})),_n=fn((function(e,t,n){K(e,n)?e[n]++:e[n]=1})),vn=fn((function(e,t,n){e[n?0:1].push(t)}),!0);function bn(e){return null==e?0:St(e)?e.length:ae(e).length}function yn(e,t,n){return t in n}const wn=C((function(e,t){var n={},s=t[0];if(null==e)return n;F(s)?(t.length>1&&(s=Ge(s,t[1])),t=me(e)):(s=yn,t=Ct(t,!1,!1),e=Object(e));for(var i=0,r=t.length;i<r;i++){var o=t[i],a=e[o];s(a,o,e)&&(n[o]=a)}return n})),xn=C((function(e,t){var n,s=t[0];return F(s)?(s=At(s),t.length>1&&(n=t[1])):(t=Gt(Ct(t,!1,!1),String),s=function(e,n){return!nn(t,n)}),wn(e,s,n)}));function Sn(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Cn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Sn(e,e.length-t)}function kn(e,t,n){return u.call(e,null==t||n?1:t)}function En(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:kn(e,Math.max(0,e.length-t))}function On(e){return Zt(e,Boolean)}function Mn(e,t){return Ct(e,t,!1)}const Tn=C((function(e,t){return t=Ct(t,!0,!0),Zt(e,(function(e){return!nn(t,e)}))})),Dn=C((function(e,t){return Tn(e,t)}));function Pn(e,t,n,s){M(t)||(s=n,n=t,t=!1),null!=n&&(n=Xe(n,s));for(var i=[],r=[],o=0,a=re(e);o<a;o++){var l=e[o],c=n?n(l,o,e):l;t&&!n?(o&&r===c||i.push(l),r=c):n?nn(r,c)||(r.push(c),i.push(l)):nn(i,l)||i.push(l)}return i}const An=C((function(e){return Pn(Ct(e,!0,!0))}));function Rn(e){for(var t=[],n=arguments.length,s=0,i=re(e);s<i;s++){var r=e[s];if(!nn(t,r)){var o;for(o=1;o<n&&nn(arguments[o],r);o++);o===n&&t.push(r)}}return t}function jn(e){for(var t=e&&an(e,re).length||0,n=Array(t),s=0;s<t;s++)n[s]=rn(e,s);return n}const In=C(jn);function Nn(e,t){for(var n={},s=0,i=re(e);s<i;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n}function Ln(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var s=Math.max(Math.ceil((t-e)/n),0),i=Array(s),r=0;r<s;r++,e+=n)i[r]=e;return i}function Bn(e,t){if(null==t||t<1)return[];for(var n=[],s=0,i=e.length;s<i;)n.push(u.call(e,s,s+=t));return n}function $n(e,t){return e._chain?ue(t).chain():t}function Fn(e){return Kt(Pe(e),(function(t){var n=ue[t]=e[t];ue.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),$n(this,n.apply(ue,e))}})),ue}Kt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];ue.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),$n(this,n)}})),Kt(["concat","join","slice"],(function(e){var t=o[e];ue.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),$n(this,e)}}));const Un=ue;var zn=Fn(s);zn._=zn;const Vn=zn},39681:e=>{"use strict";e.exports=JSON.parse('{"name":"@jupyter-widgets/controls","version":"5.0.6","description":"Jupyter interactive widgets","repository":{"type":"git","url":"https://github.com/jupyter-widgets/ipywidgets.git"},"license":"BSD-3-Clause","author":"Project Jupyter","main":"lib/index.js","typings":"lib/index.d.ts","files":["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],"scripts":{"build":"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js","clean":"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo","prepublish":"npm run clean && npm run build","test":"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},"dependencies":{"@jupyter-widgets/base":"^6.0.5","@lumino/algorithm":"^1.9.1 || ^2.1","@lumino/domutils":"^1.8.1 || ^2.1","@lumino/messaging":"^1.10.1 || ^2.1","@lumino/signaling":"^1.10.1 || ^2.1","@lumino/widgets":"^1.30.0 || ^2.1","d3-color":"^3.0.1","d3-format":"^3.0.1","jquery":"^3.1.1","nouislider":"15.4.0"},"devDependencies":{"@jupyterlab/services":"^6.0.0 || ^7.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/jquery":"^3.5.16","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2","chai":"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1","karma":"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0","less":"^4.1.2","mocha":"^9.0.0","npm-run-all":"^4.1.5","postcss":"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0","rimraf":"^3.0.2","sinon":"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1","typescript":"~4.9.4","webpack":"^5.65.0"},"gitHead":"5e86a96c0138b837a1b0e609f02dd79de71f5bd6"}')},56070:e=>{"use strict";e.exports=JSON.parse('{"name":"@jupyter-widgets/controls","version":"5.0.7","description":"Jupyter interactive widgets","repository":{"type":"git","url":"https://github.com/jupyter-widgets/ipywidgets.git"},"license":"BSD-3-Clause","author":"Project Jupyter","main":"lib/index.js","typings":"lib/index.d.ts","files":["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],"scripts":{"build":"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js","clean":"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo","prepublish":"npm run clean && npm run build","test":"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},"dependencies":{"@jupyter-widgets/base":"^6.0.6","@lumino/algorithm":"^1.9.1 || ^2.1","@lumino/domutils":"^1.8.1 || ^2.1","@lumino/messaging":"^1.10.1 || ^2.1","@lumino/signaling":"^1.10.1 || ^2.1","@lumino/widgets":"^1.30.0 || ^2.1","d3-color":"^3.0.1","d3-format":"^3.0.1","jquery":"^3.1.1","nouislider":"15.4.0"},"devDependencies":{"@jupyterlab/services":"^6.0.0 || ^7.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/jquery":"^3.5.16","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2","chai":"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1","karma":"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0","less":"^4.1.2","mocha":"^9.0.0","npm-run-all":"^4.1.5","postcss":"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0","rimraf":"^3.0.2","sinon":"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1","typescript":"~4.9.4","webpack":"^5.65.0"},"gitHead":"17f68ed1b50f1c8b6843cb33f6b08161be89d3ea"}')},86801:e=>{"use strict";e.exports=JSON.parse('{"name":"@jupyter-widgets/html-manager","version":"1.0.8","description":"Standalone package for rendering Jupyter widgets outside notebooks","homepage":"https://github.com/jupyter-widgets/ipywidgets#readme","bugs":{"url":"https://github.com/jupyter-widgets/ipywidgets/issues"},"repository":{"type":"git","url":"https://github.com/jupyter-widgets/ipywidgets.git"},"license":"BSD-3-Clause","author":"Jupyter Project","main":"lib/index.js","typings":"lib/index.d.ts","files":["lib/**/*.d.ts","lib/**/*.js","dist/","css/*.css"],"scripts":{"build":"npm run build:src && webpack && npm run build:embed-amd","build:embed-amd":"node scripts/concat-amd-build.js && rimraf dist/amd","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js","clean":"rimraf lib && rimraf tsconfig.tsbuildinfo && rimraf dist","prepublish":"npm run clean && npm run build","test":"npm run test:unit","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug --browsers=Firefox","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless"},"dependencies":{"@fortawesome/fontawesome-free":"^5.12.0","@jupyter-widgets/base":"^6.0.5","@jupyter-widgets/base-manager":"^1.0.6","@jupyter-widgets/controls":"^5.0.6","@jupyter-widgets/output":"^6.0.5","@jupyter-widgets/schema":"^0.5.3","@jupyterlab/outputarea":"^3.0.0 || ^4.0.0","@jupyterlab/rendermime":"^3.0.0 || ^4.0.0","@jupyterlab/rendermime-interfaces":"^3.0.0 || ^4.0.0","@lumino/messaging":"^1.10.1 || ^2.1","@lumino/widgets":"^1.30.0 || ^2.1","ajv":"^8.6.0","jquery":"^3.1.1"},"devDependencies":{"@types/jquery":"^3.5.16","@types/mocha":"^9.0.0","@types/node":"^17.0.2","@types/sanitize-html":"^2.6.0","chai":"^4.0.0","css-loader":"^6.5.1","karma":"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","mocha":"^9.0.0","postcss":"^8.3.2","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0","rimraf":"^3.0.2","style-loader":"^3.3.1","typescript":"~4.9.4","webpack":"^5.65.0","webpack-cli":"^4.7.2"},"gitHead":"5e86a96c0138b837a1b0e609f02dd79de71f5bd6"}')},64263:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","description":"Jupyter Interactive Widget State JSON schema.","type":"object","properties":{"version_major":{"description":"Format version (major)","type":"number","minimum":1,"maximum":1},"version_minor":{"description":"Format version (minor)","type":"number"},"state":{"description":"Model State for All Widget Models","type":"object","additionalProperties":{"type":"object","properties":{"model_name":{"description":"Name of the JavaScript class holding the model implementation","type":"string"},"model_module":{"description":"Name of the JavaScript module holding the model implementation","type":"string"},"model_module_version":{"description":"Semver range for the JavaScript module holding the model implementation","type":"string"},"state":{"description":"Serialized state of the model","type":"object","additional_properties":true}},"required":["model_name","model_module","state"],"additionalProperties":false}}},"required":["version_major","version_minor","state"],"additionalProperties":false}')},12034:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","description":"Jupyter Interactive Widget View JSON schema.","type":"object","properties":{"version_major":{"description":"Format version (major)","type":"number","minimum":1,"maximum":1},"version_minor":{"description":"Format version (minor)","type":"number"},"model_id":{"description":"Unique identifier of the widget model to be displayed","type":"string"}},"required":["model_id"],"additionalProperties":false}')},90823:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","description":"Jupyter Interactive Widget State JSON schema.","type":"object","properties":{"version_major":{"description":"Format version (major)","type":"number","minimum":2,"maximum":2},"version_minor":{"description":"Format version (minor)","type":"number","minimum":0,"maximum":0},"state":{"description":"Model State for All Widget Models - keys are model ids, values are model state","type":"object","additionalProperties":{"type":"object","properties":{"model_name":{"description":"Name of the JavaScript class holding the model implementation","type":"string"},"model_module":{"description":"Name of the JavaScript module holding the model implementation","type":"string"},"model_module_version":{"description":"Semver range for the JavaScript module holding the model implementation","type":"string"},"state":{"description":"Serialized state of the model","type":"object"},"buffers":{"description":"Binary buffers in the state","type":"array","items":{"type":"object","properties":{"path":{"description":"A path for a binary buffer value.","type":"array","items":{"description":"An object key or array index","type":["string","number"]}},"data":{"description":"A binary buffer encoded as specified in the \'encoding\' property","type":"string"},"encoding":{"description":"The encoding of the buffer data","type":"string","oneOf":[{"const":"hex","description":"Base 16 encoding, as specified in RFC 4648, section 8 (https://tools.ietf.org/html/rfc4648#section-8)"},{"const":"base64","description":"Base 64 encoding, as specified in RFC 4648, section 4 (https://tools.ietf.org/html/rfc4648#section-4)"}]}},"required":["path","data","encoding"]}}},"required":["model_name","model_module","state"]}}},"required":["version_major","version_minor","state"]}')},92860:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","description":"Jupyter Interactive Widget View JSON schema.","type":"object","properties":{"version_major":{"description":"Format version (major)","type":"number","minimum":2,"maximum":2},"version_minor":{"description":"Format version (minor)","type":"number"},"model_id":{"description":"Unique identifier of the widget model to be displayed","type":"string"}},"required":["model_id"]}')},64775:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},7607:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},24168:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},27272:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},50729:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}}]);